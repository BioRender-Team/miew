{"version":3,"file":"Miew.module.js","sources":["../../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../../node_modules/@babel/runtime/helpers/nonIterableRest.js","../../node_modules/@babel/runtime/helpers/slicedToArray.js","../../node_modules/spin.js/spin.js","../../node_modules/@babel/runtime/helpers/classCallCheck.js","../../node_modules/@babel/runtime/helpers/createClass.js","../../src/Timer.js","../../src/gfx/Stats.js","../../node_modules/@babel/runtime/helpers/typeof.js","../../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/inherits.js","../../node_modules/@babel/runtime/helpers/isNativeFunction.js","../../node_modules/@babel/runtime/helpers/construct.js","../../node_modules/@babel/runtime/helpers/wrapNativeSuper.js","../../src/utils/EventDispatcher.js","../../src/utils/logger.js","../../src/utils.js","../../src/utils/JobHandle.js","../../src/settings.js","../../src/options.js","../../node_modules/@babel/runtime/helpers/defineProperty.js","../../src/chem/Atom.js","../../src/chem/Element.js","../../src/chem/Bond.js","../../src/chem/Residue.js","../../src/chem/ResidueType.js","../../src/chem/Chain.js","../../src/chem/StructuralElement.js","../../src/chem/Helix.js","../../node_modules/@babel/runtime/helpers/superPropBase.js","../../node_modules/@babel/runtime/helpers/get.js","../../src/chem/Strand.js","../../src/chem/Sheet.js","../../src/chem/SGroup.js","../../src/utils/SelectionParser.js","../../src/chem/selectors/selectArgs.js","../../src/chem/selectors/selectorsBase.js","../../src/chem/selectors/selectOps.js","../../src/chem/selectors.js","../../src/chem/BiologicalUnit.js","../../src/chem/Assembly.js","../../src/chem/Component.js","../../src/chem/AtomPairs.js","../../src/chem/AutoBond.js","../../src/chem/AromaticLoopsMarker.js","../../src/chem/VoxelWorld.js","../../src/chem/HBondInfo.js","../../src/chem/SecondaryStructureMap.js","../../src/chem/Complex.js","../../src/chem/Volume.js","../../src/chem/Molecule.js","../../src/chem.js","../../src/gfx/CSS2DObject.js","../../src/gfx/RCGroup.js","../../src/gfx/capabilities.js","../../src/gfx/noiseTexture.js","../../src/gfx/shaders/UberMaterial.js","../../src/gfx/gfxutils.js","../../src/Visual.js","../../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../../node_modules/@babel/runtime/helpers/iterableToArray.js","../../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../../node_modules/@babel/runtime/helpers/toConsumableArray.js","../../src/utils/EntityList.js","../../src/utils/makeContextDependent.js","../../src/gfx/geometries/SphereCollisionGeo.js","../../src/gfx/geometries/InstancedSpheresGeometry.js","../../src/gfx/geometries/RaycastableBufferGeometry.js","../../src/gfx/geometries/ChunkedObjectsGeometry.js","../../src/gfx/geometries/SimpleSpheresGeometry.js","../../src/gfx/geometries/Simple2CCylindersGeometry.js","../../src/gfx/geometries/CylinderBufferGeometry.js","../../src/gfx/geometries/Instanced2CCylindersGeometry.js","../../src/gfx/geometries/ExtrudedObjectsGeometry.js","../../src/gfx/geometries/ThickLinesGeometry.js","../../src/gfx/geometries/LinesGeometry.js","../../src/gfx/geometries/CylinderCollisionGeo.js","../../src/gfx/geometries/ChunkedLinesGeometry.js","../../src/gfx/geometries/TwoColorLinesGeometry.js","../../src/gfx/geometries/CrossGeometry.js","../../src/gfx/geometries/IsoSurfaceGeometry.js","../../src/gfx/geometries/IsoSurfaceMarchCube.js","../../src/gfx/geometries/IsoSurface.js","../../src/gfx/geometries/VolumeSurfaceGeometry.js","../../src/gfx/geometries/QuickSurfGeometry.js","../../src/gfx/geometries/ContactSurface.js","../../src/gfx/geometries/ContactSurfaceGeometry.js","../../src/gfx/geometries/IsoSurfaceAtomColored.js","../../src/gfx/geometries/IsosurfaceBuildNormals.js","../../src/gfx/geometries/IsoSurfaceGeo.js","../../src/gfx/geometries/SSIsosurfaceGeometry.js","../../src/gfx/geometries/LabelsGeometry.js","../../src/gfx/geometries/geometries.js","../../src/gfx/meshes/UberObject.js","../../src/gfx/meshes/ZSpriteMesh.js","../../src/gfx/meshes/ZClippedMesh.js","../../src/gfx/meshes/TextMesh.js","../../src/gfx/meshes/SimpleMesh.js","../../src/gfx/meshes/ThickLineMesh.js","../../src/gfx/meshes/InstancedMesh.js","../../src/gfx/meshes/meshes.js","../../src/gfx/meshes/MeshCreator.js","../../src/gfx/meshes/TransformGroup.js","../../src/gfx/modes/groups/ChemGroup.js","../../src/gfx/modes/groups/AtomsGroup.js","../../src/gfx/modes/groups/AtomsSphereGroup.js","../../src/gfx/modes/groups/AtomsSurfaceGroup.js","../../src/gfx/modes/groups/AtomsSASSESGroupStub.js","../../src/gfx/modes/groups/AtomsTextGroup.js","../../src/gfx/modes/groups/AromaticGroup.js","../../src/gfx/modes/groups/AromaticTorusGroup.js","../../src/gfx/modes/groups/AromaticLinesGroup.js","../../src/gfx/modes/groups/ResiduesGroup.js","../../src/gfx/modes/groups/NucleicItemGroup.js","../../src/gfx/modes/groups/NucleicCylindersGroup.js","../../src/gfx/modes/groups/NucleicSpheresGroup.js","../../vendor/js/Smooth.js","../../src/gfx/modes/groups/CartoonHelper.js","../../src/gfx/modes/groups/ResiduesSubseqGroup.js","../../src/gfx/modes/groups/ResiduesTraceGroup.js","../../src/gfx/modes/groups/BondsGroup.js","../../src/gfx/modes/groups/BondsCylinderGroup.js","../../src/gfx/modes/groups/BondsLinesGroup.js","../../src/gfx/modes/groups/groups.js","../../src/gfx/modes/processors/AtomsProcessor.js","../../src/gfx/modes/processors/OrphanAtomsProcessor.js","../../src/gfx/modes/processors/ResiduesProcessor.js","../../src/gfx/modes/processors/NucleicProcessor.js","../../src/gfx/modes/processors/SubseqsProcessor.js","../../src/gfx/modes/processors/BondsProcessor.js","../../src/gfx/modes/processors/AromaticProcessor.js","../../src/gfx/modes/processors/processors.js","../../src/gfx/modes/groups/GroupsFactory.js","../../src/gfx/modes/Mode.js","../../src/gfx/modes/LinesMode.js","../../src/gfx/modes/LicoriceMode.js","../../src/gfx/modes/BallsAndSticksMode.js","../../src/gfx/modes/VanDerWaalsMode.js","../../src/gfx/modes/TraceMode.js","../../src/gfx/modes/TubeMode.js","../../src/gfx/modes/CartoonMode.js","../../src/gfx/modes/SurfaceMode.js","../../src/gfx/modes/QuickSurfaceMode.js","../../src/gfx/modes/IsoSurfaceMode.js","../../src/gfx/modes/IsoSurfaceSASMode.js","../../src/gfx/modes/IsoSurfaceSESMode.js","../../src/gfx/modes/ContactSurfaceMode.js","../../src/gfx/modes/TextMode.js","../../src/gfx/modes.js","../../src/gfx/palettes/Palette.js","../../src/gfx/palettes/cpkPalette.js","../../src/gfx/palettes/jmolPalette.js","../../src/gfx/palettes/vmdPalette.js","../../src/gfx/palettes.js","../../src/gfx/colorers/Colorer.js","../../src/gfx/colorers/ElementColorer.js","../../src/gfx/colorers/ResidueTypeColorer.js","../../src/gfx/colorers/SequenceColorer.js","../../src/gfx/colorers/ChainColorer.js","../../src/gfx/colorers/SecondaryStructureColorer.js","../../src/gfx/colorers/UniformColorer.js","../../src/gfx/colorers/ConditionalColorer.js","../../src/gfx/colorers/ConformationColorer.js","../../src/gfx/colorers/TemperatureColorer.js","../../src/gfx/colorers/OccupancyColorer.js","../../src/gfx/colorers/HydrophobicityColorer.js","../../src/gfx/colorers/MoleculeColorer.js","../../src/gfx/colorers/CarbonColorer.js","../../src/gfx/colorers.js","../../src/gfx/materials.js","../../src/gfx/Representation.js","../../src/ComplexVisualEdit.js","../../src/ComplexVisual.js","../../src/gfx/shaders/VolumeMaterial.js","../../src/gfx/VolumeMesh.js","../../src/gfx/VolumeBounds.js","../../src/gfx/VolumeFarPlane.js","../../src/VolumeVisual.js","../../src/Profiler.js","../../src/gfx/GfxProfiler.js","../../src/io/loaders/LoaderList.js","../../src/io/loaders/Loader.js","../../src/io/loaders/FileLoader.js","../../src/io/loaders/XHRLoader.js","../../src/io/loaders/ImmediateLoader.js","../../src/io/loaders.js","../../src/io/parsers/ParserList.js","../../src/io/parsers/Parser.js","../../src/io/parsers/pdb/Remark290.js","../../src/io/parsers/pdb/Remark350.js","../../src/io/parsers/PDBStream.js","../../src/io/parsers/PDBParser.js","../../src/io/parsers/CMLParser.js","../../vendor/js/mmtf.js","../../src/io/parsers/MMTFParser.js","../../src/io/parsers/ParsingError.js","../../src/io/parsers/readCIF.js","../../src/io/parsers/CIFParser.js","../../src/io/parsers/VolumeModel.js","../../src/io/parsers/CCP4Parser.js","../../src/io/parsers/XYZParser.js","../../src/io/parsers/PubChemParser.js","../../src/io/parsers/SDFStream.js","../../src/io/parsers/SDFParser.js","../../src/io/parsers/DSN6Parser.js","../../src/io/parsers/GROReader.js","../../src/io/parsers/GROParser.js","../../src/io/parsers/MOL2Parser.js","../../src/io/parsers.js","../../src/io/exporters/ExporterList.js","../../src/io/exporters/Exporter.js","../../src/io/exporters/PDBResult.js","../../src/io/exporters/PDBExporter.js","../../src/io/exporters/fbx/FBXModel.js","../../src/io/exporters/fbx/FBXGeometry.js","../../src/io/exporters/fbx/FBX1CGeometry.js","../../src/io/exporters/fbx/FBX2CCylinder.js","../../src/io/exporters/fbx/FBXInfoExtractor.js","../../src/io/exporters/fbx/FBXResult.js","../../src/io/exporters/FBXExporter.js","../../src/io/exporters.js","../../src/io/io.js","../../src/gfx/CSS2DRenderer.js","../../src/ui/ObjectControls.js","../../src/ui/Picker.js","../../src/gfx/Axes.js","../../src/gfx/FrameInfo.js","../../src/gfx/objects/SceneObject.js","../../src/gfx/objects/LinesObj.js","../../src/gfx/shaders/OutlineMaterial.js","../../src/gfx/shaders/FXAAMaterial.js","../../src/gfx/shaders/AOMaterial.js","../../src/gfx/shaders/AOHorBlurMaterial.js","../../src/gfx/shaders/AOVertBlurWithBlendMaterial.js","../../src/gfx/shaders/AnaglyphMaterial.js","../../src/gfx/ViewInterpolator.js","../../src/utils/Cookies.js","../../src/gfx/vr/createWebVRButton.js","../../src/gfx/vr/WebVRPoC.js","../../src/Miew.js","../../src/utils/MiewCLIParser.js","../../src/utils/MiewCLIHelp.js","../../src/Miew-cli.js"],"sourcesContent":["function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar defaults = {\r\n    lines: 12,\r\n    length: 7,\r\n    width: 5,\r\n    radius: 10,\r\n    scale: 1.0,\r\n    corners: 1,\r\n    color: '#000',\r\n    fadeColor: 'transparent',\r\n    animation: 'spinner-line-fade-default',\r\n    rotate: 0,\r\n    direction: 1,\r\n    speed: 1,\r\n    zIndex: 2e9,\r\n    className: 'spinner',\r\n    top: '50%',\r\n    left: '50%',\r\n    shadow: '0 0 1px transparent',\r\n    position: 'absolute',\r\n};\r\nvar Spinner = /** @class */ (function () {\r\n    function Spinner(opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        this.opts = __assign(__assign({}, defaults), opts);\r\n    }\r\n    /**\r\n     * Adds the spinner to the given target element. If this instance is already\r\n     * spinning, it is automatically removed from its previous target by calling\r\n     * stop() internally.\r\n     */\r\n    Spinner.prototype.spin = function (target) {\r\n        this.stop();\r\n        this.el = document.createElement('div');\r\n        this.el.className = this.opts.className;\r\n        this.el.setAttribute('role', 'progressbar');\r\n        css(this.el, {\r\n            position: this.opts.position,\r\n            width: 0,\r\n            zIndex: this.opts.zIndex,\r\n            left: this.opts.left,\r\n            top: this.opts.top,\r\n            transform: \"scale(\" + this.opts.scale + \")\",\r\n        });\r\n        if (target) {\r\n            target.insertBefore(this.el, target.firstChild || null);\r\n        }\r\n        drawLines(this.el, this.opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops and removes the Spinner.\r\n     * Stopped spinners may be reused by calling spin() again.\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        if (this.el) {\r\n            if (typeof requestAnimationFrame !== 'undefined') {\r\n                cancelAnimationFrame(this.animateId);\r\n            }\r\n            else {\r\n                clearTimeout(this.animateId);\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n            this.el = undefined;\r\n        }\r\n        return this;\r\n    };\r\n    return Spinner;\r\n}());\r\nexport { Spinner };\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, props) {\r\n    for (var prop in props) {\r\n        el.style[prop] = props[prop];\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Returns the line color from the given string or array.\r\n */\r\nfunction getColor(color, idx) {\r\n    return typeof color == 'string' ? color : color[idx % color.length];\r\n}\r\n/**\r\n * Internal method that draws the individual lines.\r\n */\r\nfunction drawLines(el, opts) {\r\n    var borderRadius = (Math.round(opts.corners * opts.width * 500) / 1000) + 'px';\r\n    var shadow = 'none';\r\n    if (opts.shadow === true) {\r\n        shadow = '0 2px 4px #000'; // default shadow\r\n    }\r\n    else if (typeof opts.shadow === 'string') {\r\n        shadow = opts.shadow;\r\n    }\r\n    var shadows = parseBoxShadow(shadow);\r\n    for (var i = 0; i < opts.lines; i++) {\r\n        var degrees = ~~(360 / opts.lines * i + opts.rotate);\r\n        var backgroundLine = css(document.createElement('div'), {\r\n            position: 'absolute',\r\n            top: -opts.width / 2 + \"px\",\r\n            width: (opts.length + opts.width) + 'px',\r\n            height: opts.width + 'px',\r\n            background: getColor(opts.fadeColor, i),\r\n            borderRadius: borderRadius,\r\n            transformOrigin: 'left',\r\n            transform: \"rotate(\" + degrees + \"deg) translateX(\" + opts.radius + \"px)\",\r\n        });\r\n        var delay = i * opts.direction / opts.lines / opts.speed;\r\n        delay -= 1 / opts.speed; // so initial animation state will include trail\r\n        var line = css(document.createElement('div'), {\r\n            width: '100%',\r\n            height: '100%',\r\n            background: getColor(opts.color, i),\r\n            borderRadius: borderRadius,\r\n            boxShadow: normalizeShadow(shadows, degrees),\r\n            animation: 1 / opts.speed + \"s linear \" + delay + \"s infinite \" + opts.animation,\r\n        });\r\n        backgroundLine.appendChild(line);\r\n        el.appendChild(backgroundLine);\r\n    }\r\n}\r\nfunction parseBoxShadow(boxShadow) {\r\n    var regex = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/;\r\n    var shadows = [];\r\n    for (var _i = 0, _a = boxShadow.split(','); _i < _a.length; _i++) {\r\n        var shadow = _a[_i];\r\n        var matches = shadow.match(regex);\r\n        if (matches === null) {\r\n            continue; // invalid syntax\r\n        }\r\n        var x = +matches[2];\r\n        var y = +matches[5];\r\n        var xUnits = matches[4];\r\n        var yUnits = matches[7];\r\n        if (x === 0 && !xUnits) {\r\n            xUnits = yUnits;\r\n        }\r\n        if (y === 0 && !yUnits) {\r\n            yUnits = xUnits;\r\n        }\r\n        if (xUnits !== yUnits) {\r\n            continue; // units must match to use as coordinates\r\n        }\r\n        shadows.push({\r\n            prefix: matches[1] || '',\r\n            x: x,\r\n            y: y,\r\n            xUnits: xUnits,\r\n            yUnits: yUnits,\r\n            end: matches[8],\r\n        });\r\n    }\r\n    return shadows;\r\n}\r\n/**\r\n * Modify box-shadow x/y offsets to counteract rotation\r\n */\r\nfunction normalizeShadow(shadows, degrees) {\r\n    var normalized = [];\r\n    for (var _i = 0, shadows_1 = shadows; _i < shadows_1.length; _i++) {\r\n        var shadow = shadows_1[_i];\r\n        var xy = convertOffset(shadow.x, shadow.y, degrees);\r\n        normalized.push(shadow.prefix + xy[0] + shadow.xUnits + ' ' + xy[1] + shadow.yUnits + shadow.end);\r\n    }\r\n    return normalized.join(', ');\r\n}\r\nfunction convertOffset(x, y, degrees) {\r\n    var radians = degrees * Math.PI / 180;\r\n    var sin = Math.sin(radians);\r\n    var cos = Math.cos(radians);\r\n    return [\r\n        Math.round((x * cos + y * sin) * 1000) / 1000,\r\n        Math.round((-x * sin + y * cos) * 1000) / 1000,\r\n    ];\r\n}\r\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","//----------------------------------------------------------------------------\n// Timer\n\nclass Timer {\n  constructor() {\n    this.startTime = 0;\n    this.oldTime = 0;\n    this.elapsedTime = 0;\n    this.running = false;\n  }\n\n  start() {\n    this.startTime = Timer.now();\n    this.oldTime = this.startTime;\n    this.running = true;\n  }\n\n  stop() {\n    this.getElapsedTime();\n    this.running = false;\n  }\n\n  getElapsedTime() {\n    this.update();\n    return this.elapsedTime;\n  }\n\n  update() {\n    let delta = 0;\n    if (this.running) {\n      const newTime = Timer.now();\n      delta = 0.001 * (newTime - this.oldTime);\n      this.oldTime = newTime;\n      this.elapsedTime += delta;\n    }\n\n    return delta;\n  }\n}\n\nTimer.now = (function () {\n  const p = typeof window !== 'undefined' && window.performance;\n  return (p && p.now) ? p.now.bind(p) : Date.now;\n}());\n\nexport default Timer;\n","import Timer from '../Timer';\n\nconst { now } = Timer;\n\nfunction createElement(tag, id, css) {\n  const element = document.createElement(tag);\n  element.id = id;\n  element.style.cssText = css;\n  return element;\n}\n\nclass Stats {\n  constructor() {\n    this.domElement = createElement('div', 'stats', 'padding:8px');\n    this._text = createElement('p', 'fps', 'margin:0;color:silver;font-size:large');\n    this.domElement.appendChild(this._text);\n\n    this._startTime = now();\n    this._prevTime = this._startTime;\n\n    this._deltas = new Array(20);\n    this._index = 0;\n    this._total = 0.0;\n    this._count = 0;\n  }\n\n  end() {\n    const time = now();\n    const delta = time - this._startTime;\n\n    if (this._count < this._deltas.length) {\n      this._count++;\n    } else {\n      this._total -= this._deltas[this._index];\n    }\n    this._total += delta;\n    this._deltas[this._index] = delta;\n    this._index = (this._index + 1) % this._deltas.length;\n\n    this.ms = this._total / this._count;\n    this.fps = 1000 / this.ms;\n\n    if (time > this._prevTime + 1000) {\n      this._text.textContent = this.fps.toPrecision(2);\n      this._prevTime = time;\n    }\n\n    return time;\n  }\n\n  update() {\n    this._startTime = this.end();\n  }\n\n  show(on) {\n    if (on === undefined) {\n      on = true;\n    }\n    this.domElement.style.display = on ? 'block' : 'none';\n  }\n}\n\nexport default Stats;\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","/**\n * This class introduces the simplest event system.\n */\n\nimport _ from 'lodash';\n\nfunction isUndefOrEqual(param, value) {\n  return !param || param === value;\n}\n\n/**\n * Creates empty dispatcher.\n *\n * @exports EventDispatcher\n * @constructor\n */\nfunction EventDispatcher() {\n  this._handlers = {};\n}\n\n/**\n * Binds callback on specific event type. Optional `context` parameter\n * could be used as 'this' for the `callback`.\n * @param {string}   type       Event name.\n * @param {function} callback   Callback function.\n * @param {Object}   [context] 'This' object for the callback.\n */\nEventDispatcher.prototype.addEventListener = function (type, callback, context) {\n  let handlers = this._handlers[type];\n\n  if (!handlers) {\n    this._handlers[type] = [];\n    handlers = this._handlers[type];\n  }\n\n  const params = [callback, context];\n  function _checkPar(par) {\n    return par[0] === params[0] && par[1] === params[1];\n  }\n\n  if (_.find(handlers, _checkPar) === undefined) {\n    handlers.push(params);\n  }\n};\n\n/**\n * Removes a previously-bound callback function from an object.\n * If no `context` is specified, all versions of the `callback` with different\n * contexts will be removed.\n * If no `callback` is specified, all callbacks of the `type` will be removed.\n * If no `type` is specified, callbacks for all events will be removed.\n * @param {?string}  [type]      Event type.\n * @param {function} [callback]  Callback function.\n * @param {Object}   [context]  'This' object for the callback.\n */\nEventDispatcher.prototype.removeEventListener = function (type, callback, context) {\n  const self = this;\n  _.forEach(self._handlers, (handler, ev) => {\n    _.remove(handler, (values) => isUndefOrEqual(type, ev)\n          && isUndefOrEqual(callback, values[0])\n          && isUndefOrEqual(context, values[1] || self));\n  });\n\n  this._handlers = _.omitBy(self._handlers, (handler) => handler.length === 0);\n};\n\n/**\n * Makes all the callbacks for the specific `event` to trigger.\n * @param {Object} event      Event.\n * @param {string} event.type Type of the event.\n */\nEventDispatcher.prototype.dispatchEvent = function (event) {\n  const self = this;\n\n  _.forEach(this._handlers[event.type], (callback) => {\n    const context = callback[1] || self;\n    callback[0].apply(context, [event]);\n  });\n};\n\nexport default EventDispatcher;\n","/**\n * This module contains class for logging.\n * Returns an instance of a logger that have already been created.\n * Allows users to log messages for five different levels,\n * enable console output and catch signal on each message.\n */\nimport _ from 'lodash';\nimport EventDispatcher from './EventDispatcher';\n\nconst priorities = {\n  debug: 0,\n  info: 1,\n  report: 2,\n  warn: 3,\n  error: 4,\n};\n\n/**\n * Create new Logger.\n *\n * @exports Logger\n * @extends EventDispatcher\n * @constructor\n */\nfunction Logger() {\n  EventDispatcher.call(this);\n  /** Boolean flag that toggles output to browser console.\n   * @type {boolean}\n   */\n  this.console = false;\n  this._priority = priorities.warn;\n}\n\nLogger.prototype = Object.create(EventDispatcher.prototype);\nLogger.prototype.constructor = Logger;\n\n/**\n * Create new clean instance of the logger.\n * @returns {Logger}\n */\nLogger.prototype.instantiate = function () {\n  return new Logger();\n};\n\nfunction verify(number) {\n  if (!_.isNumber(number)) {\n    throw new Error('Wrong log level specified!');\n  }\n  return number;\n}\n\n/**\n * @property {string} current threshold for signals and console output.\n * @name Logger#level\n */\nObject.defineProperty(Logger.prototype, 'level', {\n  get() {\n    return _.findKey(priorities, (value) => value === this._priority);\n  },\n  set(level) {\n    this._priority = verify(priorities[level]);\n  },\n});\n\n/**\n * Returns the list of all possible level values.\n * @returns {Array}\n */\nLogger.prototype.levels = function () {\n  return Object.keys(priorities);\n};\n\n/**\n * Add new message with specified level.\n * @param {string} level - level of the message, must be one of the\n * {'debug' | 'info' | 'report' | 'warn' | 'error'}\n * @param {string} message\n */\nLogger.prototype.message = function (level, message) {\n  const priority = verify(priorities[level]);\n  this._message(priority, message);\n};\n\n/**\n * Shortcut for message('debug', ...);\n * @param message\n */\nLogger.prototype.debug = function (message) {\n  this._message(priorities.debug, message);\n};\n\n/**\n * Shortcut for message('info', ...);\n * @param message\n */\nLogger.prototype.info = function (message) {\n  this._message(priorities.info, message);\n};\n\n/**\n * Shortcut for message('report', ...);\n * @param message\n */\nLogger.prototype.report = function (message) {\n  this._message(priorities.report, message);\n};\n\n/**\n * Shortcut for message('warn', ...);\n * @param message\n */\nLogger.prototype.warn = function (message) {\n  this._message(priorities.warn, message);\n};\n\n/**\n * Shortcut for message('error', ...);\n * @param message\n */\nLogger.prototype.error = function (message) {\n  this._message(priorities.error, message);\n};\n\n/**\n * Add new message with specified priority.\n * @param {number} priority - priority of the message\n * @param {string} message\n * @private\n */\nLogger.prototype._message = function (priority, message) {\n  if (priority < this._priority) {\n    return;\n  }\n  const level = _.findKey(priorities, (value) => value === priority);\n  message = String(message);\n  if (this.console) {\n    const output = `miew:${level}: ${message}`;\n    if (level === 'error') {\n      console.error(output); // NOSONAR\n    } else if (level === 'warn') {\n      console.warn(output); // NOSONAR\n    } else {\n      console.log(output); // NOSONAR\n    }\n  }\n  this.dispatchEvent({ type: 'message', level, message });\n};\n\nexport default new Logger();\n","import _ from 'lodash';\nimport logger from './utils/logger';\n\n\nconst browserType = {\n  DEFAULT: 0,\n  SAFARI: 1,\n};\n//----------------------------------------------------------------------------\n// Query string\n\n/**\n * Escape only dangerous chars in a query string component, use a plus instead of a space.\n *\n * [RFC 3986](https://tools.ietf.org/html/rfc3986) allows the following chars in the query (see 3.4):\n *\n *       A-Z a-z 0-9 - _ . ~ ! $ & ' ( ) * + , ; = : @ / ?\n *\n * For query string elements we need to escape ampersand, equal sign, and plus,\n * but encodeURIComponent() function encodes anything except for the following:\n *\n *       A-Z a-z 0-9 - _ . ~ ! ' ( ) *\n *\n * @param {string} text - key or value to encode\n * @param {string} excludeExp - regexp for symbols to exclude from encoding\n * @returns {string} encoded string\n */\nfunction encodeQueryComponent(text, excludeExp) {\n  const encode = (code) => String.fromCharCode(parseInt(code.substr(1), 16));\n  return encodeURIComponent(text).replace(excludeExp, encode).replace(/%20/g, '+');\n}\n\n/**\n * Unescape dangerous chars in a query string component.\n *\n * @param {string} text - encoded key or value\n * @returns {string} decoded string\n * @see {@link encodeQueryComponent}\n */\nfunction decodeQueryComponent(text) {\n  return decodeURIComponent(text.replace(/\\+/g, ' '));\n}\n\n/**\n * Parse URL and extract an array of parameters.\n * @param {string?} url - URL or query string to parse\n * @returns {Array} array of (key, value) pairs.\n */\nfunction getUrlParameters(url) {\n  url = url || window.location.search;\n\n  const query = url.substring(url.indexOf('?') + 1);\n  const search = /([^&=]+)=?([^&]*)/g;\n  const result = [];\n  let match;\n\n  while ((match = search.exec(query)) !== null) { // eslint-disable-line no-cond-assign\n    result.push([decodeQueryComponent(match[1]), decodeQueryComponent(match[2])]);\n  }\n\n  return result;\n}\n\n/**\n * Parse URL and extract an array of parameters as a hash.\n * @param {string?} url - URL or query string to parse\n * @returns {Object}\n */\nfunction getUrlParametersAsDict(url) {\n  const result = {};\n  const a = getUrlParameters(url);\n  for (let i = 0; i < a.length; ++i) {\n    const [key, value] = a[i];\n    result[key] = value;\n  }\n  return result;\n}\n\nfunction resolveURL(str) {\n  if (typeof URL !== 'undefined') {\n    try {\n      if (typeof window !== 'undefined') {\n        return new URL(str, window.location).href;\n      }\n      return new URL(str).href;\n    } catch (error) {\n      // IE 11 has a URL object with no constructor available so just try a different approach instead\n    }\n  }\n  if (typeof document !== 'undefined') {\n    const anchor = document.createElement('a');\n    anchor.href = str;\n    return anchor.href;\n  }\n  return str;\n}\n\n/**\n * Generates regular expression object that includes all symbols\n * listed in the argument\n * @param symbolStr {string} - String containing characters list.\n * @returns {RegExp} - Regular expression.\n */\nfunction generateRegExp(symbolStr) {\n  const symbolList = [];\n\n  for (let i = 0, n = symbolStr.length; i < n; ++i) {\n    symbolList[symbolList.length] = symbolStr[i].charCodeAt(0).toString(16);\n  }\n\n  const listStr = symbolList.join('|');\n\n  return new RegExp(`%(?:${listStr})`, 'gi');\n}\n\n//----------------------------------------------------------------------------\n// Create HTML element\n\nfunction createElement(tag, attrs, content) {\n  const element = document.createElement(tag);\n  let i;\n  let n;\n  if (attrs) {\n    const keys = Object.keys(attrs);\n    for (i = 0, n = keys.length; i < n; ++i) {\n      const key = keys[i];\n      element.setAttribute(key, attrs[key]);\n    }\n  }\n  if (content) {\n    if (!(content instanceof Array)) {\n      content = [content];\n    }\n    for (i = 0, n = content.length; i < n; ++i) {\n      const child = content[i];\n      if (typeof child === 'string') {\n        element.appendChild(document.createTextNode(child));\n      } else if (child instanceof HTMLElement) {\n        element.appendChild(child);\n      }\n    }\n  }\n  return element;\n}\n\n//----------------------------------------------------------------------------\n// Easy inheritance\n\n/**\n * Derive the class from the base.\n * @param cls {function} - Class (constructor) to derive.\n * @param base {function} - Class (constructor) to derive from.\n * @param members {object=} - Optional instance members to add.\n * @param statics {object=} - Optional static class members to add.\n * @returns {function} Original class.\n */\nfunction deriveClass(cls, base, members, statics) {\n  cls.prototype = _.assign(Object.create(base.prototype), { constructor: cls }, members);\n  if (statics) {\n    _.assign(cls, statics);\n  }\n  return cls;\n}\n\n//----------------------------------------------------------------------------\n// Deep prototyping\n\nfunction deriveDeep(obj, needZeroOwnProperties) {\n  let res = obj;\n  let i;\n  let n;\n  if (obj instanceof Array) {\n    res = new Array(obj.length);\n    for (i = 0, n = obj.length; i < n; ++i) {\n      res[i] = deriveDeep(obj[i]);\n    }\n  } else if (obj instanceof Object) {\n    res = Object.create(obj);\n    const keys = Object.keys(obj);\n    for (i = 0, n = keys.length; i < n; ++i) {\n      const key = keys[i];\n      const value = obj[key];\n      const copy = deriveDeep(value);\n      if (copy !== value) {\n        res[key] = copy;\n      }\n    }\n    if (needZeroOwnProperties && Object.keys(res).length > 0) {\n      res = Object.create(res);\n    }\n  }\n  return res;\n}\n\n//----------------------------------------------------------------------------\n// Colors\n\nfunction hexColor(color) {\n  const hex = (`0000000${color.toString(16)}`).substr(-6);\n  return `#${hex}`;\n}\n\n//----------------------------------------------------------------------------\n// Debug tracing\n\nfunction DebugTracer(namespace) {\n  let enabled = false;\n\n  this.enable = function (on) {\n    enabled = on;\n  };\n\n  let indent = 0;\n  const methods = Object.keys(namespace);\n\n  function wrap(method_, name_) {\n    return function (...args) {\n      const spaces = DebugTracer.spaces.substr(0, indent * 2);\n      if (enabled) {\n        logger.debug(`${spaces + name_} {`);\n      }\n      indent++;\n      const result = method_.apply(this, args); // eslint-disable-line no-invalid-this\n      indent--;\n      if (enabled) {\n        logger.debug(`${spaces}} // ${name_}`);\n      }\n      return result;\n    };\n  }\n\n  for (let i = 0, n = methods.length; i < n; ++i) {\n    const name = methods[i];\n    const method = namespace[name];\n    if (method instanceof Function && name !== 'constructor') {\n      namespace[name] = wrap(method, name);\n    }\n  }\n}\n\nDebugTracer.spaces = '                                                                                          ';\n\nclass OutOfMemoryError extends Error {\n  constructor(message) {\n    super();\n    this.name = 'OutOfMemoryError';\n    this.message = message;\n  }\n}\n\nfunction allocateTyped(TypedArrayName, size) {\n  let result = null;\n  try {\n    result = new TypedArrayName(size);\n  } catch (e) {\n    if (e instanceof RangeError) {\n      throw new OutOfMemoryError(e.message);\n    } else {\n      throw e;\n    }\n  }\n  return result;\n}\n\n//----------------------------------------------------------------------------\n// Float array conversion\n\nfunction bytesToBase64(/** ArrayBuffer */ buffer) {\n  const bytes = new Uint8Array(buffer);\n  let binary = '';\n  for (let i = 0; i < bytes.byteLength; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return window.btoa(binary);\n}\n\nfunction bytesFromBase64(/** string */ str) {\n  const binary = window.atob(str);\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < bytes.length; ++i) {\n    bytes[i] = binary[i].charCodeAt(0);\n  }\n  return bytes.buffer;\n}\n\nfunction arrayToBase64(/** number[] */ array, /** function */ TypedArrayClass) {\n  return bytesToBase64(new TypedArrayClass(array).buffer);\n}\n\nfunction arrayFromBase64(/** string */ str, /** function */ TypedArrayClass) {\n  return Array.prototype.slice.call(new TypedArrayClass(bytesFromBase64(str)));\n}\n\n// NOTE: this is 1-level comparison\nfunction compareOptionsWithDefaults(opts, defOpts) {\n  const optsStr = [];\n  if (defOpts && opts) {\n    const keys = Object.keys(opts);\n    for (let p = 0; p < keys.length; ++p) {\n      const key = keys[p];\n      const value = opts[key];\n      // TODO add processing for tree structure\n      if (!(value instanceof Object) && typeof defOpts[key] !== 'undefined' && defOpts[key] !== value) {\n        optsStr.push(`${key}:${value}`);\n      }\n    }\n    if (optsStr.length > 0) {\n      return `!${optsStr.join()}`;\n    }\n  }\n  return '';\n}\n\nfunction isAlmostPlainObject(o) {\n  if (_.isPlainObject(o)) {\n    return true;\n  }\n  const proto = o && Object.getPrototypeOf(o);\n  return !!proto && !proto.hasOwnProperty('constructor') && isAlmostPlainObject(proto);\n}\n\n/**\n * Build an object that contains properties (and subproperties) of `src` different from those\n * in `dst`. Objects are parsed recursively, other values (including arrays) are compared for\n * equality using `_.isEqual()`.\n * @param {!object} src - a new object to compare, may contain changed or new properties\n * @param {!object} dst - an old reference object\n */\nfunction objectsDiff(src, dst) {\n  const diff = {};\n  _.forIn(src, (srcValue, key) => {\n    const dstValue = dst[key];\n    if (isAlmostPlainObject(srcValue) && isAlmostPlainObject(dstValue)) {\n      const deepDiff = objectsDiff(srcValue, dstValue);\n      if (!_.isEmpty(deepDiff)) {\n        diff[key] = deepDiff;\n      }\n    } else if (!_.isEqual(srcValue, dstValue)) {\n      diff[key] = srcValue;\n    }\n  });\n  return diff;\n}\n\nfunction forInRecursive(object, callback) {\n  function iterateThrough(obj, prefix) {\n    _.forIn(obj, (value, key) => {\n      const newPref = prefix + (prefix.length > 0 ? '.' : '');\n      if (value instanceof Object) {\n        iterateThrough(value, newPref + key);\n      } else if (value !== undefined) {\n        callback(value, newPref + key);\n      }\n    });\n  }\n  iterateThrough(object, '');\n}\n\nfunction enquoteString(value) {\n  if (_.isString(value)) {\n    return `\"${value.replace(/\"/g, '\\\\\"')}\"`;\n  }\n  return value;\n}\n\nfunction unquoteString(value) {\n  if (!_.isString(value)) {\n    return value;\n  }\n  if (value[0] === '\"' && value[value.length - 1] === '\"') {\n    value = value.slice(1, value.length - 1);\n    return value.replace(/\\\\\"/g, '\"');\n  }\n  if (value[0] === \"'\" && value[value.length - 1] === \"'\") {\n    value = value.slice(1, value.length - 1);\n    return value.replace(/\\\\'/g, \"'\");\n  }\n  throw new SyntaxError('Incorrect string format, can\\'t unqute it');\n}\n\nfunction getFileExtension(fileName) {\n  return fileName.slice((Math.max(0, fileName.lastIndexOf('.')) || Infinity));\n}\n\nfunction splitFileName(fileName) {\n  const ext = getFileExtension(fileName);\n  const name = fileName.slice(0, fileName.length - ext.length);\n  return [name, ext];\n}\n\nfunction dataUrlToBlob(url) {\n  const parts = url.split(/[:;,]/);\n  const partsCount = parts.length;\n  if (partsCount >= 3 && parts[partsCount - 2] === 'base64') {\n    return new Blob([bytesFromBase64(parts[partsCount - 1])]);\n  }\n  return null;\n}\n\nfunction getBrowser() {\n  if (navigator.vendor && navigator.vendor.indexOf('Apple') > -1\n    && navigator.userAgent\n    && navigator.userAgent.indexOf('CriOS') === -1\n    && navigator.userAgent.indexOf('FxiOS') === -1) {\n    return browserType.SAFARI;\n  }\n  return browserType.DEFAULT;\n}\n\nfunction shotOpen(url) {\n  if (typeof window !== 'undefined') {\n    window.open().document.write(`<body style=\"margin:0\"><img src=\"${url}\" /></body>`);\n  }\n}\n\nfunction shotDownload(dataUrl, filename) {\n  if (!dataUrl || dataUrl.substr(0, 5) !== 'data:') {\n    return;\n  }\n  if (!filename) {\n    filename = ['screenshot-', +new Date(), '.png'].join('');\n  }\n  if (typeof window !== 'undefined' && window.navigator && window.navigator.msSaveBlob) {\n    window.navigator.msSaveBlob(dataUrlToBlob(dataUrl), filename);\n  } else if (typeof document !== 'undefined') {\n    const link = document.createElement('a');\n    link.download = filename;\n    link.innerHTML = 'download';\n    link.href = window.URL.createObjectURL(dataUrlToBlob(dataUrl));\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n}\n\nfunction download(data, filename, type) {\n  const blobData = new Blob([data]);\n\n  if (!filename) {\n    filename = ['data', +new Date()].join('');\n  }\n\n  if (!type) {\n    filename += blobData.type || '.bin';\n  } else {\n    filename += `.${type}`;\n  }\n\n  if (typeof window !== 'undefined' && window.navigator && window.navigator.msSaveBlob) {\n    window.navigator.msSaveBlob(blobData, filename);\n  } else if (typeof document !== 'undefined') {\n    const link = document.createElement('a');\n    link.download = filename;\n    link.innerHTML = 'download';\n    link.href = window.URL.createObjectURL(blobData);\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n}\n\nfunction copySubArrays(src, dst, indices, itemSize) {\n  for (let i = 0, n = indices.length; i < n; ++i) {\n    for (let j = 0; j < itemSize; ++j) {\n      dst[i * itemSize + j] = src[indices[i] * itemSize + j];\n    }\n  }\n}\n\nfunction shallowCloneNode(node) {\n  const newNode = node.cloneNode(true);\n  newNode.worldPos = node.worldPos;\n  // .style property is readonly, so \"newNode.style = node.style;\" won't work (and we don't need it, right?)\n  return newNode;\n}\n\nconst unquotedStringRE = /^[a-zA-Z0-9_]*$/;\nconst enquoteHelper = ['\"', '', '\"'];\n\n// verify and correct if needed selctor identifier\nfunction correctSelectorIdentifier(value) {\n  if (unquotedStringRE.test(value)) {\n    return value;\n  }\n  // quote incorrect identifier\n  enquoteHelper[1] = value;\n  return enquoteHelper.join('');\n}\n\n/**\n * Concatenates two TypedArray. Doesn't check null refs o type equality\n * Attention! It must be use very rarely because requires memory reallocation every time. Use MergeTypedArraysUnsafe to\n * unite array of subarrays.\n * @param{TypedArray} first  - destination array\n * @param{TypedArray} second - source array\n * @returns{TypedArray} resulting concatenated array\n */\nfunction concatTypedArraysUnsafe(first, second) {\n  const result = new first.constructor(first.length + second.length);\n  result.set(first);\n  result.set(second, first.length);\n  return result;\n}\n\n/**\n * Merges array of TypedArray into TypedArray. Doesn't check null refs o type equality\n * @param{array} array  - source array of subarrays\n * @returns{TypedArray} resulting merged array\n */\nfunction mergeTypedArraysUnsafe(array) {\n  if (array.length <= 0) {\n    return null;\n  }\n  // count the size\n  const size = array.reduce((acc, cur) => acc + cur.length, 0);\n  // create combined array\n  const result = new array[0].constructor(size);\n  for (let i = 0, start = 0; i < array.length; i++) {\n    const count = array[i].length;\n    result.set(array[i], start);\n    start += count;\n  }\n  return result;\n}\n\n//----------------------------------------------------------------------------\n// Exports\n\nexport default {\n  browserType,\n  encodeQueryComponent,\n  decodeQueryComponent,\n  getUrlParameters,\n  getUrlParametersAsDict,\n  resolveURL,\n  generateRegExp,\n  createElement,\n  deriveClass,\n  deriveDeep,\n  hexColor,\n  DebugTracer,\n  OutOfMemoryError,\n  allocateTyped,\n  bytesFromBase64,\n  bytesToBase64,\n  arrayFromBase64,\n  arrayToBase64,\n  compareOptionsWithDefaults,\n  objectsDiff,\n  forInRecursive,\n  enquoteString,\n  unquoteString,\n  getBrowser,\n  shotOpen,\n  shotDownload,\n  copySubArrays,\n  shallowCloneNode,\n  correctSelectorIdentifier,\n  getFileExtension,\n  splitFileName,\n  download,\n  concatTypedArraysUnsafe,\n  mergeTypedArraysUnsafe,\n};\n","import EventDispatcher from './EventDispatcher';\n\nexport default class JobHandle extends EventDispatcher {\n  constructor() {\n    super();\n    this._shouldCancel = false;\n  }\n\n  cancel() {\n    this._shouldCancel = true;\n    this.dispatchEvent({ type: 'cancel' });\n  }\n\n  shouldCancel() {\n    return this._shouldCancel;\n  }\n\n  // slaves use this to notify master about their events\n  // master routes these notifications to a single event slot\n  notify(event) {\n    this.dispatchEvent({ type: 'notification', slaveEvent: event });\n  }\n}\n","import _ from 'lodash';\nimport utils from './utils';\nimport EventDispatcher from './utils/EventDispatcher';\n\nconst VERSION = 0;\n\n//----------------------------------------------------------------------------\n// DEFAULT SETTINGS\n//----------------------------------------------------------------------------\n\n/**\n * Polygonal complexity settings.\n *\n * @typedef PolyComplexity\n * @property {number} poor\n * @property {number} low\n * @property {number} medium\n * @property {number} high\n * @property {number} ultra\n */\n\n/**\n * @alias SettingsObject\n * @namespace\n */\nconst defaults = {\n  /**\n   * Default options for all available modes.\n   * Use {@link Mode.id} as a dictionary key to access mode options.\n   *\n   * Usually you don't need to override these settings. You may specify mode options as a parameter during\n   * {@link Mode} construction.\n   *\n   * @memberof SettingsObject#\n   * @type {Object.<string, object>}\n   *\n   * @property {LinesModeOptions} LN - Lines mode options.\n   * @property {LicoriceModeOptions} LC - Licorice mode options.\n   * @property {BallsAndSticksModeOptions} BS - Balls and Sticks mode options.\n   * @property {VanDerWaalsModeOptions} VW - Van der Waals mode options.\n   * @property {TraceModeOptions} TR - Trace mode options.\n   * @property {TubeModeOptions} TU - Tube mode options.\n   * @property {CartoonModeOptions} CA - Cartoon mode options.\n   * @property {QuickSurfaceModeOptions} QS - Contact Surface mode options.\n   * @property {IsoSurfaceSASModeOptions} SA - Solvent Accessible Surface mode options.\n   * @property {IsoSurfaceSESModeOptions} SE - Solvent Excluded Surface mode options.\n   * @property {ContactSurfaceModeOptions} CS - Contact Surface mode options.\n   * @property {TextModeOptions} TX - Text mode options.\n   * @property {VolumeDensityModeOptions} VD - Volume Density mode options.\n   */\n  modes: {\n    //----------------------------------------------------------------------------\n    // BALLS AND STICKS\n    //----------------------------------------------------------------------------\n\n    /**\n     * Balls and Sticks mode options.\n     *\n     * @typedef BallsAndSticksModeOptions\n     *\n     * @property {number} atom - Sphere radius as a fraction of Van der Waals atom radius.\n     * @property {number} bond - Cylinder radius in angstroms.\n     * @property {number} space - Fraction of the space around one cylinder. Zero means that cylinder fills all\n     *   available space.\n     * @property {boolean} multibond - Toggles rendering of multiple ordered bonds.\n     * @property {number} aromrad - Minor radius of a torus for aromatic loops.\n     * @property {boolean} showarom - Toggles rendering of aromatic loops.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    BS: {\n      atom: 0.23,\n      bond: 0.15,\n      space: 0.5,\n      multibond: true,\n      aromrad: 0.1,\n      showarom: true,\n      polyComplexity: {\n        poor: 3,\n        low: 4,\n        medium: 6,\n        high: 12,\n        ultra: 32,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // VAN DER WAALS\n    //----------------------------------------------------------------------------\n\n    /**\n     * Van der Waals mode options.\n     *\n     * @typedef VanDerWaalsModeOptions\n     *\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    VW: {\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 8,\n        high: 16,\n        ultra: 32,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // LINES\n    //----------------------------------------------------------------------------\n\n    /**\n     * Lines mode options.\n     *\n     * @typedef LinesModeOptions\n     *\n     * @property {boolean} multibond - Flag, that toggles rendering of multiple ordered bonds.\n     * @property {boolean} showarom - Flag, that toggles rendering of aromatic loops.\n     * @property {number} offsarom - Offset between bonds and aromatic cycle.\n     * @property {number} chunkarom - Number of pieces in a-loop arc, corresponding to atom.\n     * @property {number} atom - Collision radius for atoms picking.\n     * @property {number} lineWidth - Line width in pixels (not used in thin lines).\n     */\n    LN: {\n      multibond: true,\n      showarom: true,\n      offsarom: 0.2,\n      chunkarom: 10,\n      atom: 0.23,\n      lineWidth: 2,\n    },\n\n    //----------------------------------------------------------------------------\n    // LICORICE\n    //----------------------------------------------------------------------------\n\n    /**\n     * Licorice mode options.\n     *\n     * @typedef LicoriceModeOptions\n     *\n     * @property {number} bond - Bond cylinder radius.\n     * @property {number} space - Fraction of the space around one cylinder. Zero means that cylinder fills all\n     *   available space.\n     * @property {boolean} multibond - Flag, that toggles rendering of multiple ordered bonds.\n     * @property {number} aromrad - Minor radius of a torus for aromatic loops.\n     * @property {boolean} showarom - Flag, that toggles rendering of aromatic loops.\n     * @property {PolyComplexity} polyComplexity - Poly complexity values for render modes.\n     */\n    LC: {\n      bond: 0.20,\n      space: 0.0,\n      multibond: true,\n      aromrad: 0.1,\n      showarom: true,\n      polyComplexity: {\n        poor: 3,\n        low: 4,\n        medium: 6,\n        high: 12,\n        ultra: 32,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // SURFACE SAS\n    //----------------------------------------------------------------------------\n\n    /**\n     * Solvent Accessible Surface mode options.\n     *\n     * @typedef IsoSurfaceSASModeOptions\n     *\n     * @property {boolean} zClip - Flag, that toggles z-clipping.\n     * @property {number} probeRadius - Radius of the probe.\n     * @property {string} subset - Only parts of surface close to selected atoms will be visible.\n     *   Empty string means whole surface is visible.\n     * @property {boolean} wireframe - Flag that specifies whether or not surface rendered in wireframe mode.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    SA: {\n      zClip: false,\n      probeRadius: 1.5,\n      subset: '',\n      wireframe: false,\n      polyComplexity: {\n        poor: 6,\n        low: 8,\n        medium: 16,\n        high: 30,\n        ultra: 60,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // SURFACE SES\n    //----------------------------------------------------------------------------\n\n    /**\n     * Solvent Excluded Surface mode options.\n     *\n     * @typedef IsoSurfaceSESModeOptions\n     *\n     * @property {boolean} zClip - Flag, that toggles z-clipping.\n     * @property {number} probeRadius - Radius of the probe.\n     * @property {string} subset - Only parts of surface close to selected atoms will be visible.\n     *   Empty string means whole surface is visible.\n     * @property {boolean} wireframe - Flag that specifies whether or not surface rendered in wireframe mode.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    SE: {\n      zClip: false,\n      probeRadius: 1.5,\n      subset: '',\n      wireframe: false,\n      polyComplexity: {\n        poor: 6,\n        low: 8,\n        medium: 16,\n        high: 30,\n        ultra: 60,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // QUICK SURFACE\n    //----------------------------------------------------------------------------\n\n    /**\n     * Quick Surface mode options.\n     *\n     * @typedef QuickSurfaceModeOptions\n     *\n     * @property {number} isoValue - Isovalue of the surface to extract.\n     * @property {number} scale - Radius scale for the surface being built.\n     * @property {boolean} zClip - Flag, that toggles z-clipping.\n     * @property {string} subset - Only parts of surface close to selected atoms will be visible.\n     *   Empty string means whole surface is visible.\n     * @property {boolean} wireframe - Flag that specifies whether or not surface rendered in wireframe mode.\n     * @property {PolyComplexity} gaussLim - Gauss lim for coloring the bigger the value, the smoother our colors are.\n     * @property {PolyComplexity} gridSpacing - Poly complexity values for render modes. In this case the value\n     *   corresponds to the grid density.\n     */\n    QS: {\n      isoValue: 0.5,\n      gaussLim: {\n        poor: 1.5,\n        low: 2.0,\n        medium: 2.5,\n        high: 3.0,\n        ultra: 4.0,\n      },\n      scale: 1.0,\n      wireframe: false,\n      gridSpacing: {\n        poor: 2,\n        low: 1.5,\n        medium: 1,\n        high: 0.5,\n        ultra: 0.25,\n      },\n      subset: '',\n      zClip: false,\n    },\n\n    //----------------------------------------------------------------------------\n    // CONTACT SURFACE\n    //----------------------------------------------------------------------------\n\n    /**\n     * Contact Surface mode options.\n     *\n     * @typedef ContactSurfaceModeOptions\n     *\n     * @property {number} isoValue - Isovalue of the surface to extract.\n     * @property {number} probeRadius - Probe radius.\n     * @property {number} probePositions\n     * @property {boolean} zClip - Flag, that toggles z-clipping.\n     * @property {string} subset - Only parts of surface close to selected atoms will be visible.\n     *   Empty string means whole surface is visible.\n     * @property {boolean} wireframe - Flag that specifies whether or not surface rendered in wireframe mode.\n     * @property {PolyComplexity} polyComplexity - Radius scale for the surface being built.\n     *   Poly complexity values for render modes. In this case the value corresponds to the grid density.\n     */\n    CS: {\n      probeRadius: 1.4,\n      isoValue: 1.5,\n      wireframe: false,\n      probePositions: 30,\n      polyComplexity: {\n        poor: 0.5,\n        low: 1.0,\n        medium: 1.5,\n        high: 1.75,\n        ultra: 2.0,\n      },\n      subset: '',\n      zClip: false,\n    },\n\n    //----------------------------------------------------------------------------\n    // TRACE\n    //----------------------------------------------------------------------------\n\n    /**\n     * Trace mode options.\n     *\n     * @typedef TraceModeOptions\n     *\n     * @property {number} radius - Cylinder radius.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    TR: {\n      radius: 0.30,\n      polyComplexity: {\n        poor: 12,\n        low: 16,\n        medium: 32,\n        high: 64,\n        ultra: 64,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // TUBE\n    //----------------------------------------------------------------------------\n\n    /**\n     * Tube mode options.\n     *\n     * @typedef TubeModeOptions\n     *\n     * @property {number} radius - Cylinder radius.\n     * @property {number} tension - Tension for interpolation.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     * @property {number} heightSegmentsRatio - Poly complexity multiplier for height segments.\n     */\n    TU: {\n      radius: 0.30,\n      heightSegmentsRatio: 1.5,\n      tension: -0.7,\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 10,\n        high: 18,\n        ultra: 34,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // CARTOON\n    //----------------------------------------------------------------------------\n\n    /**\n     * Cartoon mode options.\n     *\n     * @typedef CartoonModeOptions\n     *\n     * @property {number} radius - Standard tube radius.\n     * @property {number} depth - Height of the secondary structure ribbon.\n     * @property {number} tension - Tension for interpolation.\n     * @proprety {object} ss - Secondary structure parameters.\n     * @proprety {object} ss.helix - Options for helices render.\n     * @proprety {number} ss.helix.width - Width of the secondary structure ribbon.\n     * @proprety {number} ss.helix.arrow - Secondary structure's arrow width.\n     * @proprety {object} ss.strand - Options for strands render.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     * polyComplexity must be even for producing symmetric arrows.\n     * @property {number} heightSegmentsRatio - Poly complexity multiplier for height segments.\n     */\n    CA: {\n      radius: 0.30,\n      depth: 0.25,\n      ss: {\n        helix: {\n          width: 1.0,\n          arrow: 2.0,\n        },\n        strand: {\n          width: 1.0,\n          arrow: 2.0,\n        },\n      },\n      heightSegmentsRatio: 1.5,\n      tension: -0.7,\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 10,\n        high: 18,\n        ultra: 34,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // TEXT\n    //----------------------------------------------------------------------------\n\n    /**\n     * Text mode options.\n     *\n     * @typedef TextModeOptions\n     *\n     * @property {string} template - Format string for building output text.\n     * @property {string} horizontalAlign - Text alignment ('left', 'right', 'center').\n     * @property {string} verticalAlign - Vertical text box alignment ('top', 'bottom', 'middle').\n     * @property {number} dx - Text offset x in angstroms.\n     * @property {number} dy - Text offset y in angstroms.\n     * @property {number} dz - Text offset z in angstroms.\n     * @property {string} fg - Color rule for foreground.\n     * @property {string} bg - Color rule for background.\n     * @property {boolean} showBg - Flag, that toggles background rendering.\n     *\n     */\n    TX: {\n      template: '{{Chain}}.{{Residue}}{{Sequence}}.{{Name}}',\n      horizontalAlign: 'center',\n      verticalAlign: 'middle',\n      dx: 0,\n      dy: 0,\n      dz: 1,\n      fg: 'none',\n      bg: '0x202020',\n      showBg: true,\n    },\n\n    //----------------------------------------------------------------------------\n    // VOLUME DENSITY\n    //----------------------------------------------------------------------------\n\n    /**\n     * Volume density mode options.\n     *\n     * @typedef VolumeDensityModeOptions\n     *\n     * @property {number} kSigma - Noise threshold coefficient.\n     * @property {boolean} frame - flag, that turns on box frame painting.\n     * @property {boolean} isoMode - flag, that turns on IsoSurface mode instead of Volume Rendering.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    VD: {\n      kSigma: 1.0,\n      kSigmaMed: 2.0,\n      kSigmaMax: 4.0,\n      frame: true,\n      isoMode: false,\n      polyComplexity: {\n        poor: 2,\n        low: 3,\n        medium: 4,\n        high: 8,\n        ultra: 10,\n      },\n    },\n  },\n\n  /**\n   * Default options for all available colorers.\n   * Use {@link Colorer.id} as a dictionary key to access colorer options.\n   *\n   * Usually you don't need to override these settings. You may specify colorer options as a parameter during\n   * {@link Colorer} construction.\n   *\n   * Not all colorers have options.\n   *\n   * @memberof SettingsObject#\n   * @type {Object.<string, object>}\n   *\n   * @property {ElementColorerOptions} EL - Element colorer options.\n   * @property {SequenceColorerOptions} SQ - Sequence colorer options.\n   * @property {MoleculeColorerOptions} MO - Molecule colorer options.\n   * @property {UniformColorerOptions} UN - Uniform colorer options.\n   * @property {ConditionalColorerOptions} CO - Conditional colorer options.\n   * @property {TemperatureColorerOptions} TM - Temperature colorer options.\n   * @property {OccupancyColorerOptions} OC - Occupancy colorer options.\n   * @property {HydrophobicityColorerOptions} HY - Hydrophobicity colorer options.\n   */\n  colorers: {\n    /**\n     * Element colorer options.\n     *\n     * @typedef ElementColorerOptions\n     *\n     * @property {number} carbon - Carbon color or -1 to use default.\n     */\n    EL: {\n      carbon: -1,\n    },\n\n    /**\n     * Uniform colorer options.\n     *\n     * @typedef UniformColorerOptions\n     *\n     * @property {number} color - Single color to paint with.\n     */\n    UN: {\n      color: 0xFFFFFF,\n    },\n\n    /**\n     * Conditional colorer options.\n     *\n     * @typedef ConditionalColorerOptions\n     *\n     * @property {string} subset - Selector string.\n     * @property {number} color - Color of selected atoms.\n     * @property {number} baseColor - Color of other atoms.\n     */\n    CO: {\n      subset: 'charged',\n      color: 0xFF0000,\n      baseColor: 0xFFFFFF,\n    },\n\n    /**\n     * Carbon colorer options.\n     *\n     * @typedef CarbonColorerOptions\n     *\n     * @property {number} color - Single color to paint carbons\n     * @property {number} factor - Color factor for not carbon atoms.\n     */\n    CB: {\n      color: 0x909090,\n      factor: 0.6,\n    },\n\n    /**\n     * Sequence colorer options.\n     *\n     * @typedef SequenceColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     */\n    SQ: {\n      gradient: 'rainbow',\n    },\n\n    /**\n     * Temperature colorer options.\n     *\n     * @typedef TemperatureColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     * @property {number} min - Minimal temperature.\n     * @property {number} max - Maximal temperature.\n     */\n    TM: {\n      gradient: 'temp',\n      min: 5,\n      max: 40,\n    },\n\n    /**\n     * Occupancy colorer options.\n     *\n     * @typedef OccupancyColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     */\n    OC: {\n      gradient: 'reds',\n    },\n\n    /**\n     * Hydrophobicity colorer options.\n     *\n     * @typedef HydrophobicityColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     */\n    HY: {\n      gradient: 'blue-red',\n    },\n\n    /**\n     * Molecule colorer options.\n     *\n     * @typedef MoleculeColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     */\n    MO: {\n      gradient: 'rainbow',\n    },\n  },\n\n  /*\n   * Use antialiasing in WebGL.\n   * @type {boolean}\n   */\n  antialias: true,\n\n  /*\n   * Camera field of view in degrees.\n   * @type {number}\n   */\n  camFov: 45.0,\n\n  /*\n   * Camera near plane distance.\n   * @type {number}\n   */\n  camNear: 0.5,\n\n  /*\n   * Camera far plane distance.\n   * @type {number}\n   */\n  camFar: 100.0,\n\n  camDistance: 2.5,\n\n  radiusToFit: 1.0,\n\n  /**\n   * @type {number}\n   * @instance\n   */\n  fogNearFactor: 0.5, // [0, 1]\n\n  /**\n   * @type {number}\n   * @instance\n   */\n  fogFarFactor: 1, // [0, 1]\n  fogAlpha: 1.0,\n  fogColor: 0x000000,\n  fogColorEnable: false,\n\n  /**\n   * Palette used for molecule coloring.\n   * @type {string}\n   */\n  palette: 'JM',\n\n  /*\n   * Geometry resolution.\n   * @type {string}\n   */\n  resolution: 'medium',\n\n  autoResolution: false/* true */,\n\n  autoPreset: true,\n\n  preset: 'default', // TODO: remove 'preset' from settings, implement autodetection\n\n  presets: {\n    // Default\n    default: [{\n      mode: 'BS',\n      colorer: 'EL',\n      selector: 'all',\n      material: 'SF',\n    }],\n\n    empty: [],\n\n    // Wireframe\n    wire: [{\n      mode: 'LN',\n      colorer: 'EL',\n      selector: 'all',\n      material: 'SF',\n    }],\n\n    // Small molecules\n    small: [{\n      mode: 'BS',\n      colorer: 'EL',\n      selector: 'all',\n      material: 'SF',\n    }],\n\n    // Proteins, nucleic acids etc.\n    macro: [{\n      mode: 'CA',\n      colorer: 'SS',\n      selector: 'not hetatm',\n      material: 'SF',\n    }, {\n      mode: 'BS',\n      colorer: 'EL',\n      selector: 'hetatm and not water',\n      material: 'SF',\n    }],\n  },\n\n  objects: {\n    line: {\n      color: 0xFFFFFFFF,\n      dashSize: 0.3,\n      gapSize: 0.05,\n    },\n  },\n\n  //----------------------------------------------------------------------------\n\n  bg: {\n    color: 0x202020,\n    transparent: false,\n  },\n\n  draft: {\n    clipPlane: false,\n    clipPlaneFactor: 0.5,\n    clipPlaneSpeed: 0.00003,\n  },\n\n  /*\n     * Separate group for plugins.\n     * Each plugin handles its field by itself.\n     */\n  plugins: {\n\n  },\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  axes: true,\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  fog: true,\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  fps: true,\n\n  /**\n   * Switch using of z-sprites for sphere and cylinder geometry\n   * @type {boolean}\n   * @instance\n   */\n  zSprites: true,\n\n  isoSurfaceFakeOpacity: true,\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  suspendRender: true,\n\n  nowater: false,\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  autobuild: true,\n\n  /**\n   * Anti-aliasing.\n   * @type {boolean}\n   * @instance\n   */\n  fxaa: true,\n  /**\n   * Outline depths\n   * @type {boolean}\n   * @instance\n   */\n  outline: {\n    on: false,\n    color: 0x000000,\n    threshold: 0.1,\n    thickness: 1,\n  },\n\n  /**\n   * Ambient Occlusion special effect.\n   * @type {boolean}\n   * @instance\n   */\n  ao: false,\n\n  /**\n   * Shadows options.\n   *\n   * @property {boolean} shadowMap - enable/disable.\n   * @property {string} basic/percentage-closer filtering/non-uniform randomizing pcf.\n   * @property {number} radius for percentage-closer filtering.\n   */\n  shadow: {\n    on: false,\n    type: 'random'/* basic, pcf, random */,\n    radius: 1.0,\n  },\n\n  /**\n   * Auto-rotation with constant speed.\n   * @type {number}\n   * @instance\n   */\n  autoRotation: 0.0,\n\n  /**\n   * Set maximum fps for animation.\n   * @type {number}\n   * @instance\n   */\n  maxfps: 30,\n\n  /**\n   * Set fbx output precision.\n   * @type {number}\n   * @instance\n   */\n  fbxprec: 4,\n\n  /**\n   * Auto-rotation axis.\n   *\n   * - true:  complex auto-rotation is about vertical axis\n   * - false: rotation axis is defined by last user rotation\n   *\n   * @type {boolean}\n   * @instance\n   */\n  autoRotationAxisFixed: true,\n\n  /**\n   * Enable zooming with mouse wheel or pinch gesture.\n   * @type {boolean}\n   * @instance\n   */\n  zooming: true,\n\n  /**\n   * Enable picking atoms & residues with left mouse button or touch.\n   * @type {boolean}\n   * @instance\n   */\n  picking: true,\n\n  /**\n   * Set picking mode ('atom', 'residue', 'chain', 'molecule').\n   * @type {string}\n   * @instance\n   */\n  pick: 'atom',\n\n  /**\n   * Make \"component\" and \"fragment\" editing modes available.\n   * @type {boolean}\n   * @instance\n   */\n  editing: false,\n\n  /**\n   * Detect aromatic loops.\n   * @type {boolean}\n   * @instance\n   */\n  aromatic: false,\n\n  /**\n   * Load only one biological unit from all those described in PDB file.\n   * @type {boolean}\n   * @instance\n   */\n  singleUnit: true,\n\n  /**\n   * Set stereo mode ('NONE', 'SIMPLE', 'DISTORTED', 'ANAGLYPH', 'WEBVR').\n   * @type {string}\n   * @instance\n   */\n  stereo: 'NONE',\n\n  /**\n   * Enable smooth transition between views\n   * @type {boolean}\n   * @instance\n   */\n  interpolateViews: true,\n\n  /**\n   * Set transparency mode ('standard', 'prepass').\n   * @type {string}\n   * @instance\n   */\n  transparency: 'prepass',\n\n  /**\n   * Mouse translation speed.\n   * @type {number}\n   * @instance\n   */\n  translationSpeed: 2,\n\n  /**\n   * If the loading spinner should be shown\n   * @type {boolean}\n   * @instance\n   */\n  spinner: true,\n\n  debug: {\n    example: 3.5,\n    text: 'hello!',\n    good: true,\n    ssaoKernelRadius: 0.7,\n    ssaoFactor: 0.7,\n    stereoBarrel: 0.25,\n  },\n  use: {\n    multiFile: false,\n  },\n};\n\n//----------------------------------------------------------------------------\n// SETTINGS CLASS\n//----------------------------------------------------------------------------\n\nfunction Settings() {\n  EventDispatcher.call(this);\n\n  this.old = null;\n  this.now = {};\n  this._changed = {};\n\n  this.reset();\n}\n\nutils.deriveClass(Settings, EventDispatcher, {\n  defaults,\n\n  set(path, value) {\n    if (_.isString(path)) {\n      const oldValue = _.get(this.now, path);\n      if (oldValue !== value) {\n        _.set(this.now, path, value);\n        this._notifyChange(path, value);\n      }\n    } else {\n      const diff = utils.objectsDiff(path, this.now);\n      if (!_.isEmpty(diff)) {\n        _.merge(this.now, diff);\n        this._notifyChanges(diff);\n      }\n    }\n  },\n\n  get(path, defaultValue) {\n    return _.get(this.now, path, defaultValue);\n  },\n\n  reset() {\n    const diff = utils.objectsDiff(defaults, this.now);\n    this.now = _.cloneDeep(defaults);\n    this.old = null;\n    this._notifyChanges(diff);\n    this._changed = {};\n  },\n\n  checkpoint() {\n    this.old = _.cloneDeep(this.now);\n    this._changed = {};\n  },\n\n  _notifyChange(path, value) {\n    this._changed[path] = true;\n    this.dispatchEvent({ type: `change:${path}`, value });\n  },\n\n  _notifyChanges(diff) {\n    utils.forInRecursive(diff, (deepValue, deepPath) => {\n      this._notifyChange(deepPath, deepValue);\n    });\n  },\n\n  changed() {\n    if (!this.old) {\n      return [];\n    }\n    const { old, now } = this;\n    const keys = _.filter(Object.keys(this._changed), (key) => _.get(old, key) !== _.get(now, key));\n    return keys;\n  },\n\n  applyDiffs(diffs) {\n    if (diffs.hasOwnProperty('VERSION') && diffs.VERSION !== VERSION) {\n      throw new Error('Settings version does not match!');\n    }\n    // VERSION shouldn't be presented inside settings structure\n    delete diffs.VERSION;\n    this.reset();\n    this.set(diffs);\n  },\n\n  getDiffs(versioned) {\n    const diffs = utils.objectsDiff(this.now, defaults);\n    if (versioned) {\n      diffs.VERSION = VERSION;\n    }\n    return diffs;\n  },\n\n  setPluginOpts(plugin, opts) {\n    defaults.plugins[plugin] = _.cloneDeep(opts);\n    this.now.plugins[plugin] = _.cloneDeep(opts);\n  },\n});\n\n\nexport default new Settings();\n","import _ from 'lodash';\nimport settings from './settings';\nimport utils from './utils';\nimport logger from './utils/logger';\n\nlet repIndex = 0;\n\nfunction asBoolean(value) {\n  return !(!value || value === '0' || (_.isString(value) && value.toLowerCase() === 'false'));\n}\n\nconst adapters = {\n  string: String,\n  number: Number,\n  boolean: asBoolean,\n};\n\n// Level 1 assignment symbol\nconst cL1Ass = '=';\n\nconst cOptsSep = '!';\n// Level 2 (options) assignment symbol\nconst cL2Ass = ':';\n// Level 2 (options) separator symbol\nconst cLSep = ',';\n\nconst cCommonIgnoreSymbols = '$;@/?';\n/**\n * We may (and should) leave as is for better readability:\n *\n *        $ , ; : @ / ?\n */\n/**\n * Generate regular expression for symbols excluded for first level encryption\n */\nfunction getLevel1ExcludedExpr() {\n  const cLevel1Ignores = ':,';\n  return utils.generateRegExp(cCommonIgnoreSymbols + cLevel1Ignores);\n}\n\n/**\n * Generate regular expression for symbols excluded for first level encryption\n * (options, etc, ..)\n */\nfunction getLevel2ExcludedExpr() {\n  const cLevel2Ignores = ' ';\n  return utils.generateRegExp(cCommonIgnoreSymbols + cLevel2Ignores);\n}\n\nconst cL1ExclExpr = getLevel1ExcludedExpr();\nfunction encodeQueryComponentL1(value) {\n  return utils.encodeQueryComponent(value, cL1ExclExpr);\n}\n\nconst cL2ExclExpr = getLevel2ExcludedExpr();\nfunction encodeQueryComponentL2(value) {\n  return utils.encodeQueryComponent(value, cL2ExclExpr);\n}\n\nfunction ensureRepList(opts) {\n  let { reps } = opts;\n  if (!reps) {\n    const { presets } = settings.now;\n    let preset = opts.preset || settings.now.preset;\n    reps = presets[preset];\n    if (!reps) {\n      logger.warn(`Unknown preset \"${preset}\"`);\n      [preset] = Object.keys(presets);\n      reps = presets[preset]; // fall back to any preset\n    }\n    opts.preset = preset;\n    opts.reps = utils.deriveDeep(reps, true);\n  }\n}\n\nfunction ensureRepAssign(opts, prop, value) {\n  ensureRepList(opts);\n  const rep = opts.reps[repIndex];\n  // prop specified twice therefore start new rep by cloning the current\n  if (rep.hasOwnProperty(prop)) {\n    repIndex = opts.reps.length;\n    opts.reps[repIndex] = utils.deriveDeep(rep, true);\n  }\n  if (value !== undefined) {\n    opts.reps[repIndex][prop] = value;\n  }\n}\n\nfunction addObject(opts, params, options) {\n  if (opts._objects === undefined) {\n    opts._objects = [];\n  }\n\n  const [type, newOpts] = options;\n  const newObj = {\n    type,\n    params,\n  };\n\n  if (newOpts !== undefined) {\n    newObj.opts = newOpts;\n  }\n\n  opts._objects[opts._objects.length] = newObj;\n}\n\nfunction parseParams(str, params) {\n  const sep = str.indexOf(',');\n  if (sep >= 0) {\n    params.push(str.substr(sep + 1).split(','));\n    return str.substr(0, sep);\n  }\n  // keep this untouched if no params were extracted\n  return str;\n}\n\nfunction extractArgs(input, defaultsDict, params) {\n  if (input) {\n    const bang = input.indexOf(cOptsSep);\n    const inputVal = parseParams(input.substr(0, bang >= 0 ? bang : undefined), params);\n    if (bang >= 0) {\n      const args = input.substr(bang + 1).split(cLSep);\n      input = inputVal;\n      if (defaultsDict) {\n        const defaults = defaultsDict[input];\n        const opts = utils.deriveDeep(defaults, true);\n        args.forEach((arg) => {\n          const pair = arg.split(cL2Ass, 2);\n          const key = decodeURIComponent(pair[0]);\n          const value = decodeURIComponent(pair[1]);\n          const adapter = adapters[typeof _.get(defaults, key)];\n          if (adapter) {\n            _.set(opts, key, adapter(value));\n          } else {\n            logger.warn(`Unknown argument \"${key}\" for option \"${input}\"`);\n          }\n        });\n        if (Object.keys(opts).length > 0) {\n          input = [input, opts];\n        }\n      }\n    } else {\n      input = inputVal;\n    }\n  }\n  return input;\n}\n\nconst actions = {\n\n  l: 'load',\n  load: String,\n  t: 'type',\n  type: String,\n  v: 'view',\n  view: String,\n  u: 'unit',\n  unit: Number,\n  menu: asBoolean,\n\n  // Commands\n\n  o: 'object',\n  object(value, opts) {\n    const params = [];\n    let options = extractArgs(value, settings.defaults.objects, params);\n    if (!Array.isArray(options)) {\n      options = [options];\n    }\n    addObject(opts, params[0], options);\n  },\n\n  p: 'preset',\n  preset(value, opts) {\n    opts.preset = value;\n    opts.reps = null;\n    ensureRepList(opts);\n  },\n\n  r: 'rep',\n  rep(value, opts) {\n    ensureRepList(opts);\n    repIndex = Number(value);\n    // clamp the index to one greater than the last\n    repIndex = repIndex <= opts.reps.length ? (repIndex < 0 ? 0 : repIndex) : opts.reps.length;\n    // create a new rep if it is adjacent to the existing ones\n    if (repIndex === opts.reps.length) {\n      // if there is no rep to derive from, derive from the first rep of the default\n      opts.reps[repIndex] = repIndex > 0 ? utils.deriveDeep(opts.reps[repIndex - 1], true)\n        : utils.deriveDeep(settings.defaults.presets.default[0], true);\n    }\n  },\n\n  s: 'select',\n  select(value, opts) {\n    ensureRepAssign(opts, 'selector', value);\n  },\n\n  m: 'mode',\n  mode(value, opts) {\n    ensureRepAssign(opts, 'mode', extractArgs(value, settings.defaults.modes));\n  },\n\n  c: 'color',\n  color(value, opts) {\n    ensureRepAssign(opts, 'colorer', extractArgs(value, settings.defaults.colorers));\n  },\n\n  mt: 'material',\n  material(value, opts) {\n    ensureRepAssign(opts, 'material', extractArgs(value, settings.defaults.materials));\n  },\n\n  dup(value, opts) {\n    ensureRepList(opts);\n    const { reps } = opts;\n    const rep = reps[repIndex];\n    repIndex = reps.length;\n    reps[repIndex] = utils.deriveDeep(rep, true);\n  },\n\n  // Settings shortcuts\n\n  ar: 'autoResolution',\n};\n\nfunction _fromArray(entries) {\n  repIndex = 0;\n\n  const opts = {};\n  for (let i = 0, n = entries.length; i < n; ++i) {\n    const /** string[] */ entry = entries[i];\n    let /** string? */ key = entry[0];\n    const /** string? */ value = entry[1];\n    let /** function|string? */ action = actions[key];\n\n    // unwind shortcuts and aliases\n    while (_.isString(action)) {\n      key = action;\n      action = actions[key];\n    }\n\n    // either set a property or use specialized parser\n    if (!action) {\n      const adapter = adapters[typeof _.get(settings.defaults, key)];\n      if (adapter) {\n        _.set(opts, `settings.${key}`, adapter(value));\n      } else {\n        logger.warn(`Unknown option \"${key}\"`);\n      }\n    } else if (_.isFunction(action)) {\n      const result = action(value, opts);\n      if (result !== undefined) {\n        opts[key] = result;\n      }\n    }\n  }\n\n  return opts;\n}\n\nfunction fromAttr(attr) {\n  return _fromArray(utils.getUrlParameters(`?${attr || ''}`));\n}\n\nfunction fromURL(url) {\n  return _fromArray(utils.getUrlParameters(url));\n}\n\nfunction _processOptsForURL(opts) {\n  const str = [];\n  let i = 0;\n  utils.forInRecursive(opts, (value, key) => {\n    str[i++] = encodeQueryComponentL2(key) + cL2Ass + encodeQueryComponentL2(value);\n  });\n  return str.join(cLSep);\n}\n\nfunction _processArgsForURL(args) {\n  if (!_.isArray(args)) {\n    return args;\n  }\n  if (args.length < 2) {\n    return args[0];\n  }\n  return `${args[0]}${cOptsSep}${_processOptsForURL(args[1])}`;\n}\n\nfunction _processObjForURL(objOpts) {\n  if (!objOpts || !objOpts.type) {\n    return undefined;\n  }\n  let res = objOpts.type;\n  if (_.isArray(objOpts.params) && objOpts.params.length > 0) {\n    res += `,${objOpts.params.join(',')}`;\n  }\n  if (objOpts.opts) {\n    res += cOptsSep + _processOptsForURL(objOpts.opts);\n  }\n  return res;\n}\n\nfunction toURL(opts) {\n  const stringList = [];\n  let idx = 0;\n\n  function checkAndAdd(prefix, value) {\n    if (value !== null && value !== undefined) {\n      stringList[idx++] = encodeQueryComponentL1(prefix)\n                            + cL1Ass + encodeQueryComponentL1(value);\n    }\n  }\n\n  function addReps(repList) {\n    if (!repList) {\n      return;\n    }\n    for (let i = 0, n = repList.length; i < n; ++i) {\n      if (_.isEmpty(repList[i])) {\n        continue;\n      }\n      checkAndAdd('r', i);\n      checkAndAdd('s', repList[i].selector);\n      checkAndAdd('m', _processArgsForURL(repList[i].mode));\n      checkAndAdd('c', _processArgsForURL(repList[i].colorer));\n      checkAndAdd('mt', _processArgsForURL(repList[i].material));\n    }\n  }\n\n  function addObjects(objList) {\n    if (!objList) {\n      return;\n    }\n    for (let i = 0, n = objList.length; i < n; ++i) {\n      checkAndAdd('o', _processObjForURL(objList[i]));\n    }\n  }\n\n  checkAndAdd('l', opts.load);\n  checkAndAdd('u', opts.unit);\n  checkAndAdd('p', opts.preset);\n  addReps(opts.reps);\n  addObjects(opts._objects);\n\n  checkAndAdd('v', opts.view);\n\n  utils.forInRecursive(opts.settings, (value, key) => {\n    // I heard these lines in the whispers of the Gods\n    // Handle preset setting in reps\n    if (key === 'preset') {\n      return;\n    }\n    checkAndAdd(key, value);\n  });\n\n  let url = '';\n  if (typeof window !== 'undefined') {\n    const { location } = window;\n    url = `${location.protocol}//${location.host}${location.pathname}`;\n  }\n  if (stringList.length > 0) {\n    url += `?${stringList.join('&')}`;\n  }\n\n  return url;\n}\n\nfunction _processOptsForScript(opts) {\n  const str = [];\n  let i = 0;\n  utils.forInRecursive(opts, (value, key) => {\n    str[i++] = `${key}=${utils.enquoteString(value)}`;\n  });\n  return str.join(' ');\n}\n\nfunction _processArgsForScript(args) {\n  if (!_.isArray(args)) {\n    return args;\n  }\n  if (args.length < 2) {\n    return args[0];\n  }\n  return `${args[0]} ${_processOptsForScript(args[1])}`;\n}\n\nfunction _processObjForScript(objOpts) {\n  if (!objOpts || !objOpts.type) {\n    return undefined;\n  }\n  let res = objOpts.type;\n  if (_.isArray(objOpts.params) && objOpts.params.length > 0) {\n    res += ` ${objOpts.params.map(utils.enquoteString).join(' ')}`;\n  }\n  if (objOpts.opts) {\n    res += ` ${_processOptsForScript(objOpts.opts)}`;\n  }\n  return res;\n}\n\nfunction _processRepsForScript(rep, index) {\n  const repString = [];\n  let strIdx = 0;\n  function localAdd(prefix, value) {\n    if (value !== null && value !== undefined) {\n      repString[strIdx++] = prefix + value;\n    }\n  }\n  if (_.isEmpty(rep)) {\n    return null;\n  }\n  localAdd('', index);\n  localAdd('s=', utils.enquoteString(rep.selector));\n  localAdd('m=', _processArgsForScript(rep.mode));\n  localAdd('c=', _processArgsForScript(rep.colorer));\n  localAdd('mt=', _processArgsForScript(rep.material));\n  return repString.join(' ');\n}\n\nfunction toScript(opts) {\n  const commandsList = [];\n  let idx = 0;\n  function checkAndAdd(command, value, saveQuotes) {\n    if (value !== null && value !== undefined) {\n      const quote = (typeof value === 'string' && saveQuotes) ? '\"' : '';\n      commandsList[idx++] = `${command} ${quote}${value}${quote}`.trim();\n    }\n  }\n\n  function addReps(repList) {\n    if (!repList) {\n      return;\n    }\n\n    for (let i = 0, n = repList.length; i < n; ++i) {\n      checkAndAdd('rep', _processRepsForScript(repList[i], i));\n    }\n  }\n\n  function addObjects(objList) {\n    if (!objList) {\n      return;\n    }\n    for (let i = 0, n = objList.length; i < n; ++i) {\n      checkAndAdd('', _processObjForScript(objList[i]));\n    }\n  }\n\n  checkAndAdd('set', 'autobuild false');\n  checkAndAdd('load', opts.load, true);\n  checkAndAdd('unit', opts.unit);\n  checkAndAdd('preset', opts.preset);\n  addReps(opts.reps);\n  addObjects(opts._objects);\n\n  utils.forInRecursive(opts.settings, (value, key) => {\n    // I heard these lines in the whispers of the Gods\n    // Handle preset setting in reps\n    if (key === 'preset') {\n      return;\n    }\n    checkAndAdd(`set ${key}`, value, true);\n  });\n  checkAndAdd('view', opts.view);\n  checkAndAdd('set', 'autobuild true');\n  return commandsList.join('\\n');\n}\n\nexport default {\n  fromURL,\n  fromAttr,\n  adapters,\n  toURL,\n  toScript,\n};\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","/**\n * Atom measurements.\n *\n * @param {Residue} residue    - (required) Residue containing the atom\n * @param {string} name        - (required) Name, unique in the residue\n * @param {Element} type       - (required) Chemical element reference\n * @param {THREE.Vector3} position - Registered coordinates\n *\n * @param {number} role        - Role of atom inside monomer: Lead and wing are particularity interesting\n * @param {boolean} het        - Non-standard residue indicator\n *\n * @param {number} serial      - Serial number, unique in the model\n * @param {string} location    - Alternative location indicator (usually space or A-Z)\n * @param {number} occupancy   - Occupancy percentage, from 0 to 1\n * @param {number} temperature - Temperature\n * @param {number} charge      - Charge\n *\n * @exports Atom\n * @constructor\n */\n\nclass Atom {\n  constructor(residue, name, type, position, role, het, serial, location, occupancy, temperature, charge) {\n    this.index = -1;\n    this.residue = residue;\n    this.name = name;\n    this.element = type;\n    this.position = position;\n    this.role = role;\n    this.mask = 1 | 0;\n\n    this.het = het;\n\n    this.serial = serial;\n    this.location = (location || ' ').charCodeAt(0);\n    this.occupancy = occupancy || 1;\n    this.temperature = temperature;\n    this.charge = charge;\n    this.hydrogenCount = -1; // explicitly invalid\n    this.radicalCount = 0;\n    this.valence = -1; // explicitly invalid\n\n    this.bonds = [];\n\n    this.flags = 0x0000;\n    if (type.name === 'H') {\n      this.flags |= Atom.Flags.HYDROGEN;\n    } else if (type.name === 'C') {\n      this.flags |= Atom.Flags.CARBON;\n    }\n  }\n\n  isHet() {\n    return this.het;\n  }\n\n  isHydrogen() {\n    return this.element.number === 1;\n  }\n\n  getVisualName() {\n    const { name } = this;\n    if (name.length > 0) {\n      return name;\n    }\n    return this.element.name.trim();\n  }\n\n  forEachBond(process) {\n    const { bonds } = this;\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      process(bonds[i]);\n    }\n  }\n\n  getFullName() {\n    let name = '';\n    if (this.residue !== null) {\n      if (this.residue._chain !== null) {\n        name += `${this.residue._chain.getName()}.`;\n      }\n      name += `${this.residue._sequence}.`;\n    }\n    name += this.name;\n    return name;\n  }\n\n  /**\n   * Enumeration of atom flag values.\n   *\n   * @enum {number}\n   * @readonly\n   */\n  static Flags = {\n    CARBON: 0x0001,\n    // OXYGEN: 0x0002,\n    // NITROGEN: 0x0004,\n    HYDROGEN: 0x0008,\n    /** Non-polar hydrogen (it is also a HYDROGEN) */\n    NONPOLARH: 0x1008,\n  };\n}\n\nexport default Atom;\n","class Element {\n  constructor(number, name, fullName, weight, radius, radiusBonding, hValency) {\n    this.number = number;\n    this.name = name;\n    this.fullName = fullName;\n    this.weight = weight;\n    this.radius = radius;\n    this.radiusBonding = radiusBonding;\n    this.hydrogenValency = hValency;\n  }\n\n  static Constants = {\n    /* eslint-disable no-magic-numbers */\n    U1: 1,\n    Lead: 2,\n    U2: 3,\n    Wing: 4,\n    U18: 18,\n    /* eslint-enable no-magic-numbers */\n  };\n\n  static Role = {\n    /* eslint-disable no-magic-numbers */\n    N: Element.Constants.U1,\n    CA: Element.Constants.Lead,\n    C: Element.Constants.U2,\n    O: Element.Constants.Wing,\n    SG: Element.Constants.U18,\n    /* eslint-enable no-magic-numbers */\n  };\n\n  // DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\n  static ByAtomicNumber = [\n    /* eslint-disable no-magic-numbers */\n    null,\n    new Element(1, 'H', 'Hydrogen', 1.008, 1.2, 0.23, [1]),\n    new Element(2, 'HE', 'Helium', 4.003, 1.4, 0.93, [0]),\n    new Element(3, 'LI', 'Lithium', 6.941, 1.82, 0.68, [1]),\n    new Element(4, 'BE', 'Beryllium', 9.012, 1.7, 0.35, [2]),\n    new Element(5, 'B', 'Boron', 10.81, 2.08, 0.83, [3]),\n    new Element(6, 'C', 'Carbon', 12.011, 1.95, 0.68, [4]),\n    new Element(7, 'N', 'Nitrogen', 14.007, 1.85, 0.68, [3, 5]),\n    new Element(8, 'O', 'Oxygen', 15.999, 1.7, 0.68, [2, 4]),\n    new Element(9, 'F', 'Fluorine', 18.998, 1.73, 0.64, [1]),\n    new Element(10, 'NE', 'Neon', 20.18, 1.54, 1.12, [0]),\n    new Element(11, 'NA', 'Sodium', 22.99, 2.27, 0.97, [1]),\n    new Element(12, 'MG', 'Magnesium', 24.305, 1.73, 1.1, [2]),\n    new Element(13, 'AL', 'Aluminum', 26.981, 2.05, 1.35, [3]),\n    new Element(14, 'SI', 'Silicon', 28.086, 2.1, 1.2, [4]),\n    new Element(15, 'P', 'Phosphorus', 30.974, 2.08, 0.75, [3, 5]),\n    new Element(16, 'S', 'Sulfur', 32.07, 2, 1.02, [2, 4, 6]),\n    new Element(17, 'CL', 'Chlorine', 35.453, 1.97, 0.99, [1, 3, 5, 7]),\n    new Element(18, 'AR', 'Argon', 39.948, 1.88, 1.57, [0]),\n    new Element(19, 'K', 'Potassium', 39.1, 2.75, 1.33, [1]),\n    new Element(20, 'CA', 'Calcium', 40.08, 1.973, 0.99, [2]),\n    new Element(21, 'SC', 'Scandium', 44.956, 1.7, 1.44, [0]),\n    new Element(22, 'TI', 'Titanium', 47.88, 1.7, 1.47, [0]),\n    new Element(23, 'V', 'Vanadium', 50.941, 1.7, 1.33, [0]),\n    new Element(24, 'CR', 'Chromium', 52, 1.7, 1.35, [0]),\n    new Element(25, 'MN', 'Manganese', 54.938, 1.7, 1.35, [0]),\n    new Element(26, 'FE', 'Iron', 55.847, 1.7, 1.34, [0]),\n    new Element(27, 'CO', 'Cobalt', 58.93, 1.7, 1.33, [0]),\n    new Element(28, 'NI', 'Nickel', 58.69, 1.63, 1.5, [0]),\n    new Element(29, 'CU', 'Copper', 63.55, 1.4, 1.52, [0]),\n    new Element(30, 'ZN', 'Zinc', 65.39, 1.39, 1.45, [0]),\n    new Element(31, 'GA', 'Gallium', 69.72, 1.87, 1.22, [3]),\n    new Element(32, 'GE', 'Germanium', 72.61, 1.7, 1.17, [4]),\n    new Element(33, 'AS', 'Arsenic', 74.92, 1.85, 1.21, [3, 5]),\n    new Element(34, 'SE', 'Selenium', 78.96, 1.9, 1.22, [2, 4, 6]),\n    new Element(35, 'BR', 'Bromine', 79.9, 2.1, 1.21, [1, 3, 5, 7]),\n    new Element(36, 'KR', 'Krypton', 83.8, 2.02, 1.91, [0]),\n    new Element(37, 'RB', 'Rubidium', 85.47, 1.7, 1.47, [1]),\n    new Element(38, 'SR', 'Strontium', 87.62, 1.7, 1.12, [2]),\n    new Element(39, 'Y', 'Yttrium', 88.91, 1.7, 1.78, [0]),\n    new Element(40, 'ZR', 'Zirconium', 91.22, 1.7, 1.56, [0]),\n    new Element(41, 'NB', 'Niobium', 92.91, 1.7, 1.48, [0]),\n    new Element(42, 'MO', 'Molybdenum', 95.94, 1.7, 1.47, [0]),\n    new Element(43, 'TC', 'Technetium', 98.91, 1.7, 1.35, [0]),\n    new Element(44, 'RU', 'Ruthenium', 101.07, 1.7, 1.4, [0]),\n    new Element(45, 'RH', 'Rhodium', 102.91, 1.7, 1.45, [0]),\n    new Element(46, 'PD', 'Palladium', 106.42, 1.63, 1.5, [0]),\n    new Element(47, 'AG', 'Silver', 107.87, 1.72, 1.59, [0]),\n    new Element(48, 'CD', 'Cadmium', 112.41, 1.58, 1.69, [0]),\n    new Element(49, 'IN', 'Indium', 114.82, 1.93, 1.63, [3]),\n    new Element(50, 'SN', 'Tin', 118.71, 2.17, 1.46, [2, 4]),\n    new Element(51, 'SB', 'Antimony', 121.75, 2.2, 1.46, [3, 5]),\n    new Element(52, 'TE', 'Tellurium', 127.6, 2.06, 1.47, [2, 4, 6]),\n    new Element(53, 'I', 'Iodine', 126.91, 2.15, 1.4, [1, 3, 5, 7]),\n    new Element(54, 'XE', 'Xenon', 131.29, 2.16, 1.98, [0]),\n    new Element(55, 'CS', 'Cesium', 132.91, 1.7, 1.67, [1]),\n    new Element(56, 'BA', 'Barium', 137.33, 1.7, 1.34, [2]),\n    new Element(57, 'LA', 'Lanthanum', 138.91, 1.7, 1.87, [0]),\n    new Element(58, 'CE', 'Cerium', 140.12, 1.7, 1.83, [0]),\n    new Element(59, 'PR', 'Praseodymium', 140.91, 1.7, 1.82, [0]),\n    new Element(60, 'ND', 'Neodymium', 144.24, 1.7, 1.81, [0]),\n    new Element(61, 'PM', 'Promethium', 144.9, 1.7, 1.8, [0]),\n    new Element(62, 'SM', 'Samarium', 150.36, 1.7, 1.8, [0]),\n    new Element(63, 'EU', 'Europium', 151.96, 1.7, 1.99, [0]),\n    new Element(64, 'GD', 'Gadolinium', 157.25, 1.7, 1.79, [0]),\n    new Element(65, 'TB', 'Terbium', 158.93, 1.7, 1.76, [0]),\n    new Element(66, 'DY', 'Dysprosium', 162.5, 1.7, 1.75, [0]),\n    new Element(67, 'HO', 'Holmium', 164.93, 1.7, 1.74, [0]),\n    new Element(68, 'ER', 'Erbium', 167.26, 1.7, 1.73, [0]),\n    new Element(69, 'TM', 'Thulium', 168.93, 1.7, 1.72, [0]),\n    new Element(70, 'YB', 'Ytterbium', 173.04, 1.7, 1.94, [0]),\n    new Element(71, 'LU', 'Lutetium', 174.97, 1.7, 1.72, [0]),\n    new Element(72, 'HF', 'Hafnium', 178.49, 1.7, 1.57, [0]),\n    new Element(73, 'TA', 'Tantalum', 180.95, 1.7, 1.43, [0]),\n    new Element(74, 'W', 'Tungsten', 183.85, 1.7, 1.37, [0]),\n    new Element(75, 'RE', 'Rhenium', 186.21, 1.7, 1.35, [0]),\n    new Element(76, 'OS', 'Osmium', 190.2, 1.7, 1.37, [0]),\n    new Element(77, 'IR', 'Iridium', 192.22, 1.7, 1.32, [0]),\n    new Element(78, 'PT', 'Platinum', 195.08, 1.72, 1.5, [0]),\n    new Element(79, 'AU', 'Gold', 196.97, 1.66, 1.5, [0]),\n    new Element(80, 'HG', 'Mercury', 200.59, 1.55, 1.7, [0]),\n    new Element(81, 'TL', 'Thallium', 204.38, 1.96, 1.55, [1, 3]),\n    new Element(82, 'PB', 'Lead', 207.2, 2.02, 1.54, [2, 4]),\n    new Element(83, 'BI', 'Bismuth', 208.98, 1.7, 1.54, [3, 5]),\n    new Element(84, 'PO', 'Polonium', 210, 1.7, 1.68, [2, 4, 6]),\n    new Element(85, 'AT', 'Astatine', 210, 1.7, 1.7, [1, 3, 5, 7]),\n    new Element(86, 'RN', 'Radon', 222, 1.7, 2.4, [0]),\n    new Element(87, 'FR', 'Francium', 223, 1.7, 2, [1]),\n    new Element(88, 'RA', 'Radium', 226.03, 1.7, 1.9, [2]),\n    new Element(89, 'AC', 'Actinium', 227.03, 1.7, 1.88, [0]),\n    new Element(90, 'TH', 'Thorium', 232.04, 1.7, 1.79, [0]),\n    new Element(91, 'PA', 'Protactinium', 231.04, 1.7, 1.61, [0]),\n    new Element(92, 'U', 'Uranium', 238.03, 1.86, 1.58, [0]),\n    new Element(93, 'NP', 'Neptunium', 237.05, 1.7, 1.55, [0]),\n    new Element(94, 'PU', 'Plutonium', 239.1, 1.7, 1.53, [0]),\n    new Element(95, 'AM', 'Americium', 243.1, 1.7, 1.51, [0]),\n    new Element(96, 'CM', 'Curium', 247.1, 1.7, 1.5, [0]),\n    new Element(97, 'BK', 'Berkelium', 247.1, 1.7, 1.5, [0]),\n    new Element(98, 'CF', 'Californium', 252.1, 1.7, 1.5, [0]),\n    new Element(99, 'ES', 'Einsteinium', 252.1, 1.7, 1.5, [0]),\n    new Element(100, 'FM', 'Fermium', 257.1, 1.7, 1.5, [0]),\n    new Element(101, 'MD', 'Mendelevium', 256.1, 1.7, 1.5, [0]),\n    new Element(102, 'NO', 'Nobelium', 259.1, 1.7, 1.5, [0]),\n    new Element(103, 'LR', 'Lawrencium', 260.1, 1.7, 1.5, [0]),\n    new Element(104, 'RF', 'Rutherfordium', 261, 1.7, 1.6, [0]),\n    new Element(105, 'DB', 'Dubnium', 262, 1.7, 1.6, [0]),\n    new Element(106, 'SG', 'Seaborgium', 263, 1.7, 1.6, [0]),\n    new Element(107, 'BH', 'Bohrium', 262, 1.7, 1.6, [0]),\n    new Element(108, 'HS', 'Hassium', 265, 1.7, 1.6, [0]),\n    new Element(109, 'MT', 'Meitnerium', 268, 1.7, 1.6, [0]),\n    /* eslint-enable no-magic-numbers */\n  ];\n\n  // DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\n  static ByName = {\n    // Duplicate atomic numbers (isotopes)\n    /* eslint-disable no-magic-numbers */\n    D: new Element(1, 'D', 'Deuterium', 2.014, 1.2, 0.23, [1]),\n    T: new Element(1, 'T', 'Tritium', 3.016, 1.2, 0.23, [1]),\n    /* eslint-enable no-magic-numbers */\n\n    // All regular elements will be added later, automatically\n  };\n}\n\n(function () {\n  const byAtomicNumber = Element.ByAtomicNumber;\n  const byName = Element.ByName;\n  for (let i = 0, n = byAtomicNumber.length; i < n; ++i) {\n    const element = byAtomicNumber[i];\n    if (element) {\n      byName[element.name] = element;\n    }\n  }\n}());\n\n// find atom type by chemical element (or create if missing)\nElement.getByName = function (element) {\n  let type = Element.ByName[element];\n  if (!type) {\n    type = Element.ByName[element] = new Element(0, element, 'Unknown', 0, 1.0, 0.01, [0]);\n  }\n  return type;\n};\n\nexport default Element;\n","const cBondTypes = {\n  /** Was generated manually */\n  UNKNOWN: 0,\n  /** Simple covalent bond */\n  COVALENT: 1,\n  /** Aromatic bond */\n  AROMATIC: 2,\n};\n\nfunction getAtomPos(atom) {\n  return atom.position;\n}\n\n/**\n * Bond between atoms.\n *\n * @param {Atom} left     - The first atom.\n * @param {Atom} right    - The second atom.\n * @param {number} order - Order of current bond.\n * @param {number} type - Bond type.\n * @param {boolean} fixed - Indicator of a pre-specified connection (in contrast with guessed one).\n *\n * @exports Bond\n * @constructor\n */\nclass Bond {\n  constructor(left, right, order, type, fixed) {\n    this._left = left;\n    this._right = right;\n    this._fixed = fixed;\n    this._index = -1;\n    if (left > right) {\n      throw new Error('In a bond atom indices must be in increasing order');\n    }\n    this._order = order;\n    this._type = type;\n  }\n\n  getLeft() {\n    return this._left;\n  }\n\n  getRight() {\n    return this._right;\n  }\n\n  getOrder() {\n    return this._order;\n  }\n\n  calcLength() {\n    return this._left.position.distanceTo(this._right.position);\n  }\n\n  _forEachNeighbour(currAtom, process) {\n    const { bonds } = currAtom;\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      process(bonds[i]._left !== currAtom ? bonds[i]._left : bonds[i]._right);\n    }\n  }\n\n  forEachLevelOne(process) {\n    const left = this._left;\n    const right = this._right;\n    this._forEachNeighbour(left, (atom) => {\n      if (atom === right) {\n        return;\n      }\n      process(atom);\n    });\n    this._forEachNeighbour(right, (atom) => {\n      if (atom === left) {\n        return;\n      }\n      process(atom);\n    });\n  }\n\n  forEachLevelTwo(process) {\n    // TODO refactor this piece of an art?\n    const left = this._left;\n    const right = this._right;\n    const self = this;\n    self._forEachNeighbour(left, (atom) => {\n      if (atom === right) {\n        return;\n      }\n      self._forEachNeighbour(atom, (l2Atom) => {\n        if (l2Atom === left) {\n          return;\n        }\n        process(l2Atom);\n      });\n    });\n    self._forEachNeighbour(right, (atom) => {\n      if (atom === left) {\n        return;\n      }\n      self._forEachNeighbour(atom, (l2Atom) => {\n        if (l2Atom === right) {\n          return;\n        }\n        process(l2Atom);\n      });\n    });\n  }\n\n  _fixDir(refPoint, currDir, posGetter) {\n    // count atoms to the right and to the left of the current plane\n    let rightCount = 0;\n    let leftCount = 0;\n    const tmpVec = refPoint.clone();\n    function checkDir(atom) {\n      tmpVec.copy(posGetter(atom));\n      tmpVec.sub(refPoint);\n      const dotProd = currDir.dot(tmpVec);\n      if (dotProd > 0) {\n        ++rightCount;\n      } else {\n        ++leftCount;\n      }\n    }\n    function checkCarbon(atom) {\n      if (atom.element.name === 'C') {\n        checkDir(atom);\n      }\n    }\n    // count all atoms to the left and right of our plane, start from level 1 and carbons\n    const stages = [\n      [this.forEachLevelOne, checkCarbon],\n      [this.forEachLevelOne, checkDir],\n      [this.forEachLevelTwo, checkCarbon],\n      [this.forEachLevelTwo, checkDir],\n    ];\n\n    for (let stageId = 0; stageId < stages.length; ++stageId) {\n      stages[stageId][0].call(this, stages[stageId][1]);\n      if (leftCount > rightCount) {\n        return currDir.multiplyScalar(-1);\n      }\n      if (leftCount < rightCount) {\n        return currDir;\n      }\n    }\n    return currDir;\n  }\n\n  calcNormalDir(posGetter) {\n    const left = this._left;\n    const right = this._right;\n    let first = left;\n    let second = right;\n    posGetter = posGetter === undefined ? getAtomPos : posGetter;\n    if (left.bonds.length > right.bonds.length) {\n      first = right;\n      second = left;\n    }\n    let third = first;\n    let maxNeibs = 0;\n    const { bonds } = second;\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      let another = bonds[i]._left;\n      if (bonds[i]._left === second) {\n        another = bonds[i]._right;\n      }\n      if (another.bonds.length > maxNeibs && another !== first) {\n        third = another;\n        maxNeibs = another.bonds.length;\n      }\n    }\n    const secondPos = posGetter(second);\n    const firstV = posGetter(first).clone().sub(secondPos);\n    const secondV = posGetter(third).clone().sub(secondPos);\n    secondV.crossVectors(firstV, secondV);\n    if (secondV.lengthSq() < 0.0001) {\n      secondV.set(0, 1, 0);\n    }\n    firstV.normalize();\n    secondV.normalize();\n    firstV.crossVectors(secondV, firstV);\n    if (firstV.lengthSq() < 0.0001) {\n      firstV.set(0, 1, 0);\n    }\n    firstV.normalize();\n    return this._fixDir(secondPos, firstV, posGetter);\n  }\n\n  static BondType = cBondTypes;\n}\n\nBond.prototype.BondType = cBondTypes;\n\nexport default Bond;\n","import * as THREE from 'three';\nimport Atom from './Atom';\nimport Element from './Element';\n\nconst cNucleicControlNames = ['C3\\'', 'C3*', 'P', 'H5T', 'H3T'];\nconst cNucleicWing1Names = ['OP1', 'O1P'];\nconst cNucleicWing2Names = ['OP2', 'O2P'];\n\nconst cCylinderSource = ['C3\\'', 'C3*', 'C1', 'C1\\'', 'C1*', 'P'];\nconst cCylinderTarget = [{\n  types: ['A', 'DA', 'G', 'DG'],\n  atoms: ['N1'],\n}, {\n  types: ['C', 'DC'],\n  atoms: ['N3'],\n}, {\n  types: ['T', 'DT', 'U', 'DU'],\n  atoms: ['O4'],\n}];\n\n/**\n * Residue instance.\n *\n * @param {Chain} chain      - Chain this residue belongs to.\n * @param {ResidueType} type - Generic residue instance type.\n * @param {number} sequence  - Sequence ID.\n * @param {string} icode     - One character insertion code (usually space or A-Z).\n *\n * @exports Residue\n * @constructor\n */\nclass Residue {\n  constructor(chain, type, sequence, icode) {\n    this._chain = chain;\n    this._component = null;\n    this._type = type;\n    this._sequence = sequence;\n    this._icode = icode;\n    this._mask = 1 | 0;\n    this._index = -1;\n\n    this._atoms = [];\n    this._secondary = null;\n    this._firstAtom = null;\n    this._leadAtom = null;\n    this._wingAtom = null;\n    this._lastAtom = null;\n    this._controlPoint = null;\n    this._midPoint = null;\n    this._wingVector = null;\n    this._cylinders = null;\n    this._isValid = true;\n    this._het = false;\n    this._molecule = null;\n    this.temperature = null;\n    this.occupancy = null;\n  }\n\n  // Getters and setters\n  getChain() {\n    return this._chain;\n  }\n\n  getMolecule() {\n    return this._molecule;\n  }\n\n  getType() {\n    return this._type;\n  }\n\n  getSequence() {\n    return this._sequence;\n  }\n\n  getSecondary() {\n    return this._secondary;\n  }\n\n  getICode() {\n    return this._icode;\n  }\n\n  // Other methods\n\n  addAtom(name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge) {\n    const atom = new Atom(this, name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge);\n    const complex = this._chain.getComplex();\n    complex.addAtom(atom);\n    this._atoms.push(atom);\n    this._het = this._het || het;\n    return atom;\n  }\n\n  getAtomCount() {\n    return this._atoms.length;\n  }\n\n  forEachAtom(process) {\n    const atoms = this._atoms;\n    for (let i = 0, n = atoms.length; i < n; ++i) {\n      if (process(atoms[i])) {\n        break;\n      }\n    }\n  }\n\n  _findAtomByName(name) {\n    let res = null;\n    this.forEachAtom((atom) => {\n      if (atom.name === name) {\n        res = atom;\n        return true;\n      }\n      return false;\n    });\n    return res;\n  }\n\n  _findFirstAtomInList(names) {\n    let res = null;\n    for (let i = 0; i < names.length; ++i) {\n      res = this._findAtomByName(names[i]);\n      if (res !== null) {\n        return res;\n      }\n    }\n    return res;\n  }\n\n  collectMask() {\n    let mask = 0xffffffff;\n    const atoms = this._atoms;\n    for (let i = 0, n = atoms.length; i < n; ++i) {\n      mask &= atoms[i].mask;\n    }\n    this._mask = mask;\n  }\n\n  getCylinderTargetList() {\n    const type = this._type._name;\n    for (let i = 0, n = cCylinderTarget.length; i < n; ++i) {\n      for (let j = 0, m = cCylinderTarget[i].types.length; j < m; ++j) {\n        if (type === cCylinderTarget[i].types[j]) {\n          return cCylinderTarget[i].atoms;\n        }\n      }\n    }\n    return null;\n  }\n\n  _detectLeadWing(dst, next, getAtomPosition) {\n    const leadAtom = this._findFirstAtomInList(cNucleicControlNames);\n    let wingStart = this._findFirstAtomInList(cNucleicWing1Names);\n    let wingEnd = this._findFirstAtomInList(cNucleicWing2Names);\n\n    if (wingStart === null && next !== null) {\n      wingStart = next._findFirstAtomInList(cNucleicWing1Names);\n    }\n\n    if (wingEnd === null && next !== null) {\n      wingEnd = next._findFirstAtomInList(cNucleicWing2Names);\n    }\n\n    if (leadAtom === null || wingStart === null || wingEnd === null) {\n      return;\n    }\n\n    dst._leadAtom = leadAtom;\n    dst._controlPoint = getAtomPosition(leadAtom);\n    dst._wingVector = getAtomPosition(wingEnd).clone().sub(getAtomPosition(wingStart));\n    dst._isValid = true;\n\n    const cylSource = this._findFirstAtomInList(cCylinderSource);\n    const targetList = this.getCylinderTargetList();\n    const cylTarget = targetList !== null ? this._findFirstAtomInList(targetList) : null;\n    if (cylSource === null || cylTarget === null) {\n      return;\n    }\n    dst._cylinders = [getAtomPosition(cylSource), getAtomPosition(cylTarget)];\n  }\n\n  calcWing(prevLeadPos, currLeadPos, prevWingPos, prevWing) {\n    const vectorA = currLeadPos.clone().sub(prevLeadPos);\n    const vectorB = prevLeadPos.clone().sub(prevWingPos);\n    vectorB.crossVectors(vectorA, vectorB);\n    vectorB.crossVectors(vectorA, vectorB).normalize();\n    if (prevWing !== null && prevWing.length() > 0.0001) {\n      const needToNegate = vectorB.length() > 0.0001 && Math.abs(prevWing.angleTo(vectorB)) > Math.PI / 2;\n      if (needToNegate) {\n        vectorB.negate();\n      }\n    }\n    return vectorB;\n  }\n\n  _innerFinalize(prevRes, prev, nextRes, dst, chainAsNucleic, getAtomPosition) {\n    const bFirstInChain = prev === null;\n\n    const lp = getAtomPosition(this._leadAtom);\n    const currLeadPos = new THREE.Vector3(lp.x, lp.y, lp.z);\n    if (chainAsNucleic) {\n      this._detectLeadWing(dst, nextRes, getAtomPosition);\n      return;\n    }\n\n    if (bFirstInChain) { // for first one in chain\n      dst._midPoint = getAtomPosition(this._firstAtom).clone();\n    } else {\n      const prevLeadPos = prev._controlPoint; // lead point of previous monomer\n      dst._midPoint = prevLeadPos.clone().lerp(currLeadPos, 0.5);\n      dst._wingVector = this.calcWing(prevLeadPos, currLeadPos, getAtomPosition(prevRes._wingAtom), prev._wingVector);\n    }\n    dst._controlPoint = currLeadPos;\n  }\n\n  _finalize2(prev, next, asNucleic) {\n    // Should be called AFTER first finalize\n    this._innerFinalize(prev, prev, next, this, asNucleic, (atom) => atom.position);\n  }\n\n  isConnected(anotherResidue) {\n    if (this._chain !== anotherResidue._chain) {\n      return false;\n    }\n    if (this === anotherResidue) {\n      return true;\n    }\n    let res = false;\n    this.forEachAtom((atom) => {\n      const { bonds } = atom;\n      for (let i = 0, n = bonds.length; i < n; ++i) {\n        const bond = bonds[i];\n        if (bond._left.residue === anotherResidue || bond._right.residue === anotherResidue) {\n          res = true;\n          return true;\n        }\n      }\n      return false;\n    });\n    return res;\n  }\n\n  _finalize() {\n    const self = this;\n    [this._firstAtom] = this._atoms;\n    this._lastAtom = this._atoms[this._atoms.length - 1];\n\n    this._leadAtom = null;\n    this._wingAtom = null;\n\n    let tempCount = 0;\n    let temperature = 0; // average temperature\n    let occupCount = 0;\n    let occupancy = 0; // average occupancy\n    this.forEachAtom((a) => {\n      if (self._leadAtom === null) {\n        if (a.role === Element.Constants.Lead) {\n          self._leadAtom = a;\n        }\n      }\n      if (self._wingAtom === null) {\n        if (a.role === Element.Constants.Wing) {\n          self._wingAtom = a;\n        }\n      }\n      if (a.temperature) {\n        temperature += a.temperature;\n        tempCount++;\n      }\n      if (a.occupancy) {\n        occupancy += a.occupancy;\n        occupCount++;\n      }\n      return (self._leadAtom !== null && self._wingAtom !== null);\n    });\n\n    if (tempCount > 0) {\n      this.temperature = temperature / tempCount;\n    }\n    if (occupCount > 0) {\n      this.occupancy = occupancy / occupCount;\n    }\n\n    // Still try to make monomer look valid\n    if (this._leadAtom === null || this._wingAtom === null) {\n      this._isValid = false;\n    }\n    if (this._leadAtom === null) {\n      this._leadAtom = this._firstAtom;\n    }\n    if (this._wingAtom === null) {\n      this._wingAtom = this._lastAtom;\n    }\n  }\n}\n\nexport default Residue;\n","/**\n * Residue type.\n *\n * Predefined acid or created with HET, HETNAM, etc.\n *\n * @param {string} name            - Short name, either standard (ALA, MET, etc.) or non-standard one.\n * @param {string} fullName        - Full residue name.\n * @param {string} letterCode      - 1-letter symbol.\n *\n * @exports ResidueType\n * @constructor\n */\nclass ResidueType {\n  constructor(name, fullName, letterCode) {\n    this._name = name;\n    this._fullName = fullName;\n    this.letterCode = letterCode;\n    this.flags = 0x0000;\n  }\n\n  getName() {\n    return this._name;\n  }\n\n  // DO NOT EDIT MANUALLY! Autogenerated from residue_types.csv by residue_types.py.\n  static StandardTypes = {\n    /* eslint-disable no-magic-numbers */\n    ALA: new ResidueType('ALA', 'Alanine', 'A'),\n    ARG: new ResidueType('ARG', 'Arginine', 'R'),\n    ASN: new ResidueType('ASN', 'Asparagine', 'N'),\n    ASP: new ResidueType('ASP', 'Aspartic Acid', 'D'),\n    CYS: new ResidueType('CYS', 'Cysteine', 'C'),\n    GLN: new ResidueType('GLN', 'Glutamine', 'Q'),\n    GLU: new ResidueType('GLU', 'Glutamic Acid', 'E'),\n    GLY: new ResidueType('GLY', 'Glycine', 'G'),\n    HIS: new ResidueType('HIS', 'Histidine', 'H'),\n    ILE: new ResidueType('ILE', 'Isoleucine', 'I'),\n    LEU: new ResidueType('LEU', 'Leucine', 'L'),\n    LYS: new ResidueType('LYS', 'Lysine', 'K'),\n    MET: new ResidueType('MET', 'Methionine', 'M'),\n    PHE: new ResidueType('PHE', 'Phenylalanine', 'F'),\n    PRO: new ResidueType('PRO', 'Proline', 'P'),\n    PYL: new ResidueType('PYL', 'Pyrrolysine', 'O'),\n    SEC: new ResidueType('SEC', 'Selenocysteine', 'U'),\n    SER: new ResidueType('SER', 'Serine', 'S'),\n    THR: new ResidueType('THR', 'Threonine', 'T'),\n    TRP: new ResidueType('TRP', 'Tryptophan', 'W'),\n    TYR: new ResidueType('TYR', 'Tyrosine', 'Y'),\n    VAL: new ResidueType('VAL', 'Valine', 'V'),\n    A: new ResidueType('A', 'Adenine', 'A'),\n    C: new ResidueType('C', 'Cytosine', 'C'),\n    G: new ResidueType('G', 'Guanine', 'G'),\n    I: new ResidueType('I', 'Inosine', 'I'),\n    T: new ResidueType('T', 'Thymine', 'T'),\n    U: new ResidueType('U', 'Uracil', 'U'),\n    DA: new ResidueType('DA', 'Adenine', 'A'),\n    DC: new ResidueType('DC', 'Cytosine', 'C'),\n    DG: new ResidueType('DG', 'Guanine', 'G'),\n    DI: new ResidueType('DI', 'Inosine', 'I'),\n    DT: new ResidueType('DT', 'Thymine', 'T'),\n    DU: new ResidueType('DU', 'Uracil', 'U'),\n    '+A': new ResidueType('+A', 'Adenine', 'A'),\n    '+C': new ResidueType('+C', 'Cytosine', 'C'),\n    '+G': new ResidueType('+G', 'Guanine', 'G'),\n    '+I': new ResidueType('+I', 'Inosine', 'I'),\n    '+T': new ResidueType('+T', 'Thymine', 'T'),\n    '+U': new ResidueType('+U', 'Uracil', 'U'),\n    WAT: new ResidueType('WAT', 'Water', ''),\n    H2O: new ResidueType('H2O', 'Water', ''),\n    HOH: new ResidueType('HOH', 'Water', ''),\n    DOD: new ResidueType('DOD', 'Water', ''),\n    UNK: new ResidueType('UNK', 'Unknown', ''),\n    UNL: new ResidueType('UNL', 'Unknown Ligand', ''),\n    /* eslint-enable no-magic-numbers */\n  };\n\n  /**\n   * Enumeration of residue flag values.\n   *\n   * @enum {number}\n   * @readonly\n   */\n  static Flags = {\n    // Amino acids\n    /** Amino acid residue */\n    PROTEIN: 0x0001,\n    /** Basic amino acid residue */\n    BASIC: 0x0002,\n    /** Acidic amino acid residue */\n    ACIDIC: 0x0004,\n    /** Polar uncharged side chain amino acid residue */\n    POLAR: 0x0008,\n    /** Non-polar hydrophobic side chain amino acid residue */\n    NONPOLAR: 0x0010,\n    /** Aromatic amino acid residue */\n    AROMATIC: 0x0020,\n\n    // Nucleic acids\n\n    /** Nucleic residue */\n    NUCLEIC: 0x0100,\n    /** Purine nucleic residue */\n    PURINE: 0x0200,\n    /** Pyrimidine nucleic residue */\n    PYRIMIDINE: 0x0400,\n    /** DNA */\n    DNA: 0x0800,\n    /** RNA */\n    RNA: 0x1000,\n\n    /** Water */\n    WATER: 0x10000,\n  };\n}\n\n// Flag combinations\nfunction _addFlag(flag, list) {\n  for (let i = 0, n = list.length; i < n; ++i) {\n    const res = ResidueType.StandardTypes[list[i]];\n    if (res) {\n      res.flags |= flag;\n    }\n  }\n}\n\nconst { Flags } = ResidueType;\n_addFlag(Flags.WATER, ['WAT', 'H2O', 'HOH', 'DOD']);\n\n_addFlag(Flags.PROTEIN, [\n  'ALA', 'ARG', 'ASN', 'ASP', 'CYS', 'GLY', 'GLU', 'GLN', 'HIS', 'ILE',\n  'LEU', 'LYS', 'MET', 'PHE', 'PRO', 'PYL', 'SEC', 'SER', 'THR', 'TRP',\n  'TYR', 'VAL',\n]);\n_addFlag(Flags.BASIC, ['ARG', 'HIS', 'LYS']);\n_addFlag(Flags.ACIDIC, ['ASP', 'GLU']);\n_addFlag(Flags.POLAR, ['ASN', 'CYS', 'GLN', 'SER', 'THR', 'TYR']);\n_addFlag(Flags.NONPOLAR, ['ALA', 'ILE', 'LEU', 'MET', 'PHE', 'PRO', 'TRP', 'VAL', 'GLY']);\n_addFlag(Flags.AROMATIC, ['PHE', 'TRP', 'TYR']);\n\n_addFlag(Flags.NUCLEIC, [\n  'A', 'G', 'I', 'DA', 'DG', 'DI', '+A', '+G', '+I',\n  'C', 'T', 'U', 'DC', 'DT', 'DU', '+C', '+T', '+U',\n]);\n_addFlag(Flags.PURINE, ['A', 'G', 'I', 'DA', 'DG', 'DI', '+A', '+G', '+I']);\n_addFlag(Flags.PYRIMIDINE, ['C', 'T', 'U', 'DC', 'DT', 'DU', '+C', '+T', '+U']);\n_addFlag(Flags.DNA, ['DA', 'DG', 'DI', 'DC', 'DT', 'DU']);\n_addFlag(Flags.RNA, ['A', 'G', 'I', 'C', 'T', 'U']);\n// Table of kdHydrophobicity\nconst hydro = {\n  ILE: 4.5,\n  VAL: 4.2,\n  LEU: 3.8,\n  PHE: 2.8,\n  CYS: 2.5,\n  MET: 1.9,\n  ALA: 1.8,\n  GLY: -0.4,\n  THR: -0.7,\n  SER: -0.8,\n  TRP: -0.9,\n  TYR: -1.3,\n  PRO: -1.6,\n  HIS: -3.2,\n  GLU: -3.5,\n  GLN: -3.5,\n  ASP: -3.5,\n  ASN: -3.5,\n  LYS: -3.9,\n  ARG: -4.5,\n};\n\nfunction _addParam(param, list) {\n  const keys = Object.keys(list);\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const key = keys[i];\n    const value = list[key];\n    ResidueType.StandardTypes[key][param] = value;\n  }\n}\n\n_addParam('hydrophobicity', hydro);\n\nexport default ResidueType;\n","import * as THREE from 'three';\nimport Residue from './Residue';\nimport ResidueType from './ResidueType';\n\n/**\n * Residues in chain are either amino acid either nucleic acid (and water)\n * There might be some modified/mutated residues, which type could not be determined by their name (nucleic or amino); In this\n * case firstly program definites the chain type (by well-known residues) and then definites modified/mutated residues\n */\nconst ChainType = {\n  UNKNOWN: 0,\n  PROTEIN: 1,\n  NUCLEIC: 2,\n};\n\n/**\n * Residue chain.\n *\n * @param {Complex} complex - Molecular complex this chain belongs to.\n * @param {string} name - One character identifier (usually space, A-Z, 0-9, or a-z).\n *\n * @exports Chain\n * @constructor\n */\nclass Chain {\n  constructor(complex, name) {\n    this._complex = complex;\n    this._name = name;\n    this._mask = 1 | 0;\n    this._index = -1;\n    this._residues = [];\n\n    this.minSequence = Number.POSITIVE_INFINITY;\n    this.maxSequence = Number.NEGATIVE_INFINITY;\n  }\n\n  getComplex() {\n    return this._complex;\n  }\n\n  getName() {\n    return this._name;\n  }\n\n  getResidues() {\n    return this._residues;\n  }\n\n  _determineType() {\n    const residues = this._residues;\n\n    const { PROTEIN, NUCLEIC } = ResidueType.Flags;\n\n    this.type = ChainType.UNKNOWN;\n\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      const { flags } = residues[i]._type;\n\n      if ((flags & NUCLEIC) !== 0) {\n        this.type = ChainType.NUCLEIC;\n        break;\n      } else if ((flags & PROTEIN) !== 0) {\n        this.type = ChainType.PROTEIN;\n        break;\n      }\n    }\n  }\n\n  /**\n   * Finds thre residue with specified sequence number and inserion code\n   * @param {Number} seqNum sequence number\n   * @param {string} iCode insertion code\n   * @returns {*} Residue or null if not found\n   */\n  findResidue(seqNum, iCode) {\n    const residues = this._residues;\n\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      const res = residues[i];\n      if (res._sequence === seqNum && res._icode === iCode) {\n        return [res, i];\n      }\n    }\n\n    return null;\n  }\n\n  _finalize() {\n    this._determineType();\n\n    const residues = this._residues;\n\n    let prev = null;\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      const next = (i + 1 < n) ? residues[i + 1] : null;\n      const curr = residues[i];\n      // TODO: skip invalid residues\n      if (1 /* curr._isValid */) { // eslint-disable-line no-constant-condition\n        curr._finalize2(prev, next, this.type === ChainType.NUCLEIC);\n        prev = curr;\n      }\n    }\n\n    // fix very first wing\n    if (residues.length > 1 && residues[1]._wingVector) {\n      const p = residues[1]._wingVector;\n      residues[0]._wingVector = new THREE.Vector3(p.x, p.y, p.z);\n    } else if (residues.length > 0) {\n      residues[0]._wingVector = new THREE.Vector3(1, 0, 0);\n    }\n  }\n\n  updateToFrame(frameData) {\n    const residues = this._residues;\n    let prev = null;\n    let prevData = null;\n    const frameRes = frameData._residues;\n    const n = residues.length;\n    function getAtomPos(atom) {\n      return frameData.getAtomPos(atom.index);\n    }\n\n    for (let i = 0; i < n; ++i) {\n      const curr = residues[i];\n      const currData = frameRes[curr._index];\n      const nextRes = (i + 1 < n) ? residues[i + 1] : null;\n      curr._innerFinalize(prev, prevData, nextRes, currData, this.type === ChainType.NUCLEIC, getAtomPos);\n      prev = curr;\n      prevData = currData;\n    }\n\n    frameRes[residues[0]._index]._wingVector = n > 1\n      ? frameRes[residues[1]._index]._wingVector\n      : new THREE.Vector3(1, 0, 0);\n  }\n\n  /**\n   * Create a new residue.\n   *\n   * @param {string} name - Residue name.\n   * @param {number} sequence - Residue sequence number.\n   * @param {string} iCode - Insertion code.\n   * @returns {Residue} - Newly created residue instance.\n   */\n  addResidue(name, sequence, iCode) {\n    let type = this._complex.getResidueType(name);\n    if (type === null) {\n      type = this._complex.addResidueType(name);\n    }\n    const residue = new Residue(this, type, sequence, iCode);\n    this._complex.addResidue(residue);\n    this._residues.push(residue);\n\n    if (type.flags & (ResidueType.Flags.NUCLEIC | ResidueType.Flags.PROTEIN)) {\n      if (this.maxSequence < sequence) {\n        this.maxSequence = sequence;\n      }\n      if (this.minSequence > sequence) {\n        this.minSequence = sequence;\n      }\n    }\n\n    return residue;\n  }\n\n  getResidueCount() {\n    return this._residues.length;\n  }\n\n  forEachResidue(process) {\n    const residues = this._residues;\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      process(residues[i]);\n    }\n  }\n\n  collectMask() {\n    let mask = 0xffffffff;\n    const residues = this._residues;\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      mask &= residues[i]._mask;\n    }\n    this._mask = mask;\n  }\n}\n\nexport default Chain;\n","import Residue from './Residue';\n\n/** An element of protein secondary structure. */\nclass StructuralElement {\n  /**\n   * Create a secondary structural element of the specified type.\n   *\n   * @param {StructuralElement.Type} type Secondary structure type.\n   * @param {Residue} init Initial residue.\n   * @param {Residue} term Terminal residue.\n   */\n  constructor(type, init, term) {\n    /**\n     * Secondary structure type.\n     * @type {StructuralElement.Type}\n     */\n    this.type = type;\n    /**\n     * Generic secondary structure type.\n     * @type {StructuralElement.Generic}\n     */\n    this.generic = StructuralElement.genericByType[this.type] || 'loop';\n    /**\n     * Initial residue.\n     * @type Residue\n     */\n    this.init = init;\n    /**\n     * Terminal residue.\n     * @type Residue\n     */\n    this.term = term;\n  }\n\n  /**\n   * An internal method for making a final pass over the complex to set all required references.\n   *\n   * **NOTE:** I'm sorry. It's a legacy code waiting for refactoring.\n   * Just copying it as-is right now and hoping for the best.\n   *\n   * @param {object} serialAtomMap A dictionary of atoms\n   * @param {object} residueHash A dictionary of hashed residues to check.\n   * @param {Complex} complex The molecular complex this element belongs to.\n   */\n  _finalize(serialAtomMap, residueHash, complex) {\n    if (this.init instanceof Residue && this.term instanceof Residue) {\n      return;\n    }\n\n    // Link all intermediate residues to this structural element\n    const start = complex.splitUnifiedSerial(this.init);\n    const end = complex.splitUnifiedSerial(this.term);\n    for (let chainId = start.chain; chainId <= end.chain; chainId++) {\n      for (let serialId = start.serial; serialId <= end.serial; serialId++) {\n        for (let { iCode } = start; iCode <= end.iCode; iCode++) {\n          const hashCode = complex.getUnifiedSerial(chainId, serialId, iCode);\n          if (residueHash[hashCode]) {\n            residueHash[hashCode]._secondary = this;\n          }\n        }\n      }\n    }\n\n    // Replace unfined serials by objects\n    this.init = residueHash[this.init];\n    this.term = residueHash[this.term];\n  }\n}\n\n/**\n * Specific type of a secondary structural element.\n * @enum {string}\n * @see StructuralElement.Generic\n */\nStructuralElement.Type = {\n  /** A strand of a [beta-sheet](https://en.wikipedia.org/wiki/Beta_sheet). */\n  STRAND: 'E',\n  /** An isolated beta-bridge (too small for a beta-sheet). */\n  BRIDGE: 'B',\n\n  /** A [3/10 helix](https://en.wikipedia.org/wiki/310_helix) (hydrogen bonding is 3 residues apart). */\n  HELIX_310: 'G',\n  /** An [alpha-helix](https://en.wikipedia.org/wiki/Alpha_helix) (hydrogen bonding is 4 residues apart). */\n  HELIX_ALPHA: 'H',\n  /** A [pi-helix](https://en.wikipedia.org/wiki/Pi_helix) (hydrogen bonding is 5 residues apart). */\n  HELIX_PI: 'I',\n  /** A generic helix of unspecified bonding distance. */\n  HELIX: 'X',\n\n  /** An isolated 3/10-like helical turn. */\n  TURN_310: '3',\n  /** An isolated alpha-like helical turn. */\n  TURN_ALPHA: '4',\n  /** An isolated pi-like helical turn. */\n  TURN_PI: '5',\n  /** An isolated helical [turn](https://en.wikipedia.org/wiki/Turn_(biochemistry)) of unspecified bonding distance. */\n  TURN: 'T',\n\n  /** A bend (a region of high curvature). */\n  BEND: 'S',\n  /** Just a protein section with no particular conformation. */\n  COIL: 'C',\n};\n\n/**\n * Generic type of a secondary structural element.\n * @enum {string}\n * @see StructuralElement.Type\n */\nStructuralElement.Generic = {\n  /** A strand of a sheet. */\n  STRAND: 'strand',\n  /** A helix. */\n  HELIX: 'helix',\n  /** Just a protein section with no particular conformation. */\n  LOOP: 'loop',\n};\n\nconst StructuralElementType = StructuralElement.Type;\nconst StructuralElementGeneric = StructuralElement.Generic;\n\n/**\n * A mapping from specific types to generic ones.\n * @type {Object<StructuralElement.Type, StructuralElement.Generic>}\n */\nStructuralElement.genericByType = {\n  [StructuralElementType.STRAND]: StructuralElementGeneric.STRAND,\n  [StructuralElementType.HELIX_310]: StructuralElementGeneric.HELIX,\n  [StructuralElementType.HELIX_ALPHA]: StructuralElementGeneric.HELIX,\n  [StructuralElementType.HELIX_PI]: StructuralElementGeneric.HELIX,\n  [StructuralElementType.HELIX]: StructuralElementGeneric.HELIX,\n};\n\nexport default StructuralElement;\n","import StructuralElement from './StructuralElement';\n\nconst StructuralElementType = StructuralElement.Type;\n\nexport const typeByPDBHelixClass = {\n  1: StructuralElementType.HELIX_ALPHA,\n  3: StructuralElementType.HELIX_PI,\n  5: StructuralElementType.HELIX_310,\n};\n\n/**\n * Helical secondary structure of a protein.\n * @extends StructuralElement\n */\nclass Helix extends StructuralElement {\n  /**\n   * Create a helix.\n   *\n   * @param {number} helixClass A helix class according to the\n   *   [PDB Format](http://www.wwpdb.org/documentation/file-format-content/format33/sect5.html#HELIX).\n   * @param {Residue} init Initial residue.\n   * @param {Residue} term Terminal residue.\n   * @param {number} serial Serial number of the helix (see PDB Format).\n   * @param {string} name Helix identifier (see PDB Format).\n   * @param {string} comment Comment about this helix (see PDB Format).\n   * @param {number} length Length of this helix, in residues (see PDB Format).\n   */\n  constructor(helixClass, init, term, serial, name, comment, length) {\n    super(typeByPDBHelixClass[helixClass] || StructuralElement.Type.HELIX, init, term);\n\n    /**\n     * Serial number of the helix (see PDB Format).\n     * @type {number}\n     */\n    this.serial = serial;\n    /**\n     * Helix identifier (see PDB Format).\n     * @type {string}\n     */\n    this.name = name;\n    /**\n     * Comment about this helix (see PDB Format).\n     * @type {string}\n     */\n    this.comment = comment;\n    /**\n     * Length of this helix, in residues (see PDB Format).\n     * @type {number}\n     */\n    this.length = length;\n  }\n}\n\nexport default Helix;\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","import StructuralElement from './StructuralElement';\n\n/**\n * A single strand of a sheet in a protein secondary structure.\n * @extends StructuralElement\n */\nclass Strand extends StructuralElement {\n  /**\n   * Create a strand.\n   *\n   * @param {Sheet} sheet Parent sheet this strand belongs to.\n   * @param {Residue} init Initial residue.\n   * @param {Residue} term Terminal residue.\n   * @param {number} sense Sense of strand with respect to previous strand in the sheet.\n   *   - 0 if the first strand,\n   *   - 1 if parallel, and\n   *   - -1 if anti-parallel.\n   * @param {Atom} atomCur Atom in current strand (see PDB Format).\n   * @param {Atom} atomPrev Atom in previous strand (see PDB Format).\n   */\n  constructor(sheet, init, term, sense, atomCur, atomPrev) {\n    super(StructuralElement.Type.STRAND, init, term);\n\n    /**\n     * Parent sheet this strand belongs to.\n     * @type {Sheet}\n     */\n    this.sheet = sheet;\n    /**\n     * Sense of strand with respect to previous strand in the sheet.\n     * - 0 if the first strand,\n     * - 1 if parallel, and\n     * - -1 if anti-parallel.\n     * @type {number}\n     */\n    this.sense = sense;\n    /**\n     * Atom in current strand (see PDB Format).\n     * @type {Atom}\n     */\n    this.atomCur = atomCur;\n    /**\n     * Atom in previous strand (see PDB Format).\n     * @type {Atom}\n     */\n    this.atomPrev = atomPrev;\n  }\n\n  /**\n   * An internal method for making a final pass over the complex to set all required references.\n   *\n   * **NOTE:** I'm sorry. It's a legacy code waiting for refactoring.\n   * Just copying it as-is right now and hoping for the best.\n   *\n   * @param {object} serialAtomMap A dictionary of atoms\n   * @param {object} residueHash A dictionary of hashed residues to check.\n   * @param {Complex} complex The molecular complex this element belongs to.\n   *\n   * @override\n   */\n  _finalize(serialAtomMap, residueHash, complex) {\n    super._finalize(serialAtomMap, residueHash, complex);\n\n    let as = this.atomCur;\n    if (as !== null && !Number.isNaN(as)) {\n      this.atomCur = serialAtomMap[as];\n    }\n    as = this.atomPrev;\n    if (as !== null && !Number.isNaN(as)) {\n      this.atomPrev = serialAtomMap[as];\n    }\n  }\n}\n\nexport default Strand;\n","import Strand from './Strand';\n\n/**\n * Sheet secondary structure of a protein.\n *\n * @param {string} name -\n * @param {number} width -\n *\n * @exports Sheet\n * @constructor\n */\nclass Sheet {\n  constructor(name, width) {\n    this._name = name;\n    this._width = width;\n\n    this._strands = [];\n  }\n\n  // Getters and setters\n  getName() {\n    return this._name;\n  }\n\n  getWidth() {\n    return this._width;\n  }\n\n  addStrand(strand) {\n    this._strands.push(strand);\n    this._width = this._strands.length;\n  }\n\n  addEmptyStrand() {\n    this._strands.push(new Strand(null, null, null, null, null, null));\n  }\n\n  _finalize(serialAtomMap, residueHash, complex) {\n    const s = this._strands;\n    for (let i = 0, n = s.length; i < n; ++i) {\n      s[i]._finalize(serialAtomMap, residueHash, complex);\n    }\n    if (!this._width) {\n      this._width = s.length;\n    }\n    if (s.length !== this._width) {\n      throw new Error(`Sheet ${this._name} is inconsistent.`);\n    }\n  }\n}\n\nexport default Sheet;\n","import * as THREE from 'three';\n\n/**\n * Atom measurements.\n *\n * @param {string} id              - SGroup id\n * @param {string} name            - Name of the group\n * @param {THREE.Vector3} position - Registered coordinates\n * @param {array} atoms            - Atoms group consists of\n * @param {object} saveNode        - XML node from file for saving\n *\n * @exports SGroup\n * @constructor\n */\nclass SGroup {\n  constructor(id, name, position, atoms, saveNode) {\n    this._id = id;\n    this._name = name;\n    this._position = position || new THREE.Vector3();\n    this._atoms = atoms || [];\n    this._charge = 0; // default group charge\n    this._repeat = 1; // how many times group repeated: always > 0\n    this._center = null;\n    this.xmlNodeRef = saveNode || null;\n  }\n\n  /**\n   * Get atom full name.\n   * @returns {string} Atom full name.\n   */\n  getName() {\n    return this._name;\n  }\n\n  getPosition() {\n    return this._position;\n  }\n\n  getCentralPoint() {\n    return this._center;\n  }\n\n  _rebuildSGroupOnAtomChange() {\n    const nLimon = 100000000;\n    if (this._center === null) {\n      return; // nothing to do if we are not relative\n    }\n\n    const bLow = new THREE.Vector3(nLimon, nLimon, nLimon);\n    const bHight = new THREE.Vector3(-nLimon, -nLimon, -nLimon);\n    for (let j = 0, n = this._atoms.length; j < n; j++) {\n      const aPos = this._atoms[j].position;\n      bLow.set(Math.min(bLow.x, aPos.x), Math.min(bLow.y, aPos.y), Math.min(bLow.z, aPos.z));\n      bHight.set(Math.max(bHight.x, aPos.x), Math.max(bHight.y, aPos.y), Math.max(bHight.z, aPos.z));\n    }\n    this._center.addVectors(bLow, bHight);\n    this._center.multiplyScalar(0.5);\n  }\n}\n\nexport default SGroup;\n","/* eslint-disable */\n// DO NOT EDIT! Automatically generated from .jison\n/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,4],$V1=[1,5],$V2=[1,6],$V3=[1,7],$V4=[1,8],$V5=[1,9],$V6=[1,11],$V7=[1,12],$V8=[5,7,8,11],$V9=[1,17],$Va=[1,22],$Vb=[1,20],$Vc=[1,21],$Vd=[5,7,8,11,19];\nvar parser = {trace: function trace() { },\nyy: {},\nsymbols_: {\"error\":2,\"Program\":3,\"Expression\":4,\"EOF\":5,\"Selector\":6,\"OR\":7,\"AND\":8,\"NOT\":9,\"(\":10,\")\":11,\"SELECTOR\":12,\"NAMED_SELECTOR\":13,\"SELECTOR_RANGED\":14,\"RangeList\":15,\"SELECTOR_NAMED\":16,\"NameList\":17,\"Range\":18,\",\":19,\"NUMBER\":20,\":\":21,\"Name\":22,\"IDENTIFIER\":23,\"STRING\":24,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",5:\"EOF\",7:\"OR\",8:\"AND\",9:\"NOT\",10:\"(\",11:\")\",12:\"SELECTOR\",13:\"NAMED_SELECTOR\",14:\"SELECTOR_RANGED\",16:\"SELECTOR_NAMED\",19:\",\",20:\"NUMBER\",21:\":\",23:\"IDENTIFIER\",24:\"STRING\"},\nproductions_: [0,[3,2],[4,1],[4,3],[4,3],[4,2],[4,3],[6,1],[6,1],[6,2],[6,2],[15,1],[15,3],[18,1],[18,3],[17,1],[17,3],[22,1],[22,1],[22,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\n return $$[$0-1]; \nbreak;\ncase 3:\nthis.$ = yy.keyword('or')($$[$0-2], $$[$0]);\nbreak;\ncase 4:\nthis.$ = yy.keyword('and')($$[$0-2], $$[$0]);\nbreak;\ncase 5:\nthis.$ = yy.keyword('not')($$[$0]);\nbreak;\ncase 6:\nthis.$ = $$[$0-1];\nbreak;\ncase 7:\nthis.$ = yy.keyword($$[$0])();\nbreak;\ncase 8:\nthis.$ = yy.GetSelector($$[$0].toLowerCase().slice(1, $$[$0].length));\nbreak;\ncase 9: case 10:\nthis.$ = yy.keyword($$[$0-1])($$[$0]);\nbreak;\ncase 11:\nthis.$ = new yy.RangeList($$[$0]);\nbreak;\ncase 12: case 16:\nthis.$ = $$[$0-2].append($$[$0]);\nbreak;\ncase 13:\nthis.$ = new yy.Range(Number($$[$0]));\nbreak;\ncase 14:\nthis.$ = new yy.Range(Number($$[$0-2]), Number($$[$0]));\nbreak;\ncase 15:\nthis.$ = new yy.ValueList($$[$0]);\nbreak;\n}\n},\ntable: [{3:1,4:2,6:3,9:$V0,10:$V1,12:$V2,13:$V3,14:$V4,16:$V5},{1:[3]},{5:[1,10],7:$V6,8:$V7},o($V8,[2,2]),{4:13,6:3,9:$V0,10:$V1,12:$V2,13:$V3,14:$V4,16:$V5},{4:14,6:3,9:$V0,10:$V1,12:$V2,13:$V3,14:$V4,16:$V5},o($V8,[2,7]),o($V8,[2,8]),{15:15,18:16,20:$V9},{17:18,20:$Va,22:19,23:$Vb,24:$Vc},{1:[2,1]},{4:23,6:3,9:$V0,10:$V1,12:$V2,13:$V3,14:$V4,16:$V5},{4:24,6:3,9:$V0,10:$V1,12:$V2,13:$V3,14:$V4,16:$V5},o($V8,[2,5]),{7:$V6,8:$V7,11:[1,25]},o($V8,[2,9],{19:[1,26]}),o($Vd,[2,11]),o($Vd,[2,13],{21:[1,27]}),o($V8,[2,10],{19:[1,28]}),o($Vd,[2,15]),o($Vd,[2,17]),o($Vd,[2,18]),o($Vd,[2,19]),o([5,7,11],[2,3],{8:$V7}),o($V8,[2,4]),o($V8,[2,6]),{18:29,20:$V9},{20:[1,30]},{20:$Va,22:31,23:$Vb,24:$Vc},o($Vd,[2,12]),o($Vd,[2,14]),o($Vd,[2,16])],\ndefaultActions: {10:[2,1]},\nparseError: function parseError(str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\n\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function (match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex() {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin(condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState(condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0:/* skip whitespace */\nbreak;\ncase 1:return 20;\nbreak;\ncase 2:return 7;\nbreak;\ncase 3:return 8;\nbreak;\ncase 4:return 9;\nbreak;\ncase 5:return 12;\nbreak;\ncase 6:return 16;\nbreak;\ncase 7:return 14;\nbreak;\ncase 8:return 10;\nbreak;\ncase 9:return 11;\nbreak;\ncase 10:return 19;\nbreak;\ncase 11:return 21;\nbreak;\ncase 12:return '<=';\nbreak;\ncase 13:return '>=';\nbreak;\ncase 14:return '<';\nbreak;\ncase 15:return '>';\nbreak;\ncase 16:yy_.yytext = yy_.yytext.substr(1,yy_.yyleng-2); return 24;\nbreak;\ncase 17:return 13;\nbreak;\ncase 18:return 23;\nbreak;\ncase 19:return 5;\nbreak;\ncase 20:return 'INVALID';\nbreak;\n}\n},\nrules: [/^(?:\\s+)/i,/^(?:(-?(?:[1-9][0-9]+|[0-9]))\\b)/i,/^(?:OR\\b)/i,/^(?:AND\\b)/i,/^(?:NOT\\b)/i,/^(?:((ALL|NONE|HETATM|PROTEIN|BASIC|ACIDIC|CHARGED|POLAR|NONPOLAR|AROMATIC|NUCLEIC|PURINE|PYRIMIDINE|WATER|POLARH|NONPOLARH))\\b)/i,/^(?:((NAME|ELEM|TYPE|RESIDUE|ICODE|CHAIN|ALTLOC))\\b)/i,/^(?:((SERIAL|SEQUENCE|RESIDX))\\b)/i,/^(?:\\()/i,/^(?:\\))/i,/^(?:,)/i,/^(?::)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:((?:\"(?:\\\\.|[^\\\\\"])*\"|'(?:\\\\.|[^\\\\'])*')))/i,/^(?:(@[_A-Z0-9]+))/i,/^(?:([_A-Z0-9]+))/i,/^(?:$)/i,/^(?:.)/i],\nconditions: {\"INITIAL\":{\"rules\":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\nmodule.exports = {parser: parser};\n","import utils from '../../utils';\n\n//----------------------------------------------------------------------------\nclass Range {\n  constructor(min, max) {\n    this.min = min;\n    this.max = typeof max === 'undefined' ? min : max;\n  }\n\n  includes(value) {\n    return this.min <= value && value <= this.max;\n  }\n\n  toString() {\n    const { min, max } = this;\n    return min === max ? String(min) : [min, max].join(':');\n  }\n\n  toJSON() {\n    return [this.min, this.max];\n  }\n}\n\n// ////////////////////////////////////////////////////////////////////////////\n\nclass List {\n  constructor(arg) {\n    if (arg instanceof this.constructor) {\n      return arg;\n    }\n    if (arg instanceof Array) {\n      this._values = arg.slice(0);\n    } else if (arg) {\n      this._values = [arg];\n    } else {\n      this._values = [];\n    }\n  }\n\n  append(value) {\n    const values = this._values;\n    values[values.length] = value;\n    return this;\n  }\n\n  remove(value) {\n    const values = this._values;\n    const index = values.indexOf(value);\n    if (index >= 0) {\n      values.splice(index, 1);\n    }\n    return this;\n  }\n\n  toString() {\n    return this._values.join(',');\n  }\n\n  toJSON() {\n    const values = this._values;\n    const result = [];\n    for (let i = 0, n = values.length; i < n; ++i) {\n      const value = values[i];\n      result[i] = value.toJSON ? value.toJSON() : value;\n    }\n    return result;\n  }\n}\n\n//----------------------------------------------------------------------------\n\nclass RangeList extends List {\n  includes(value) {\n    const list = this._values;\n    for (let i = 0, n = list.length; i < n; ++i) {\n      if (list[i].includes(value)) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\n//----------------------------------------------------------------------------\n\nconst valuesArray = [];\n\nclass ValueList extends List {\n  constructor(arg, upperOnly) {\n    const list = super(arg);\n    if (upperOnly) {\n      this.upperOnly = true;\n      const values = list._values;\n      for (let i = 0, n = values.length; i < n; ++i) {\n        const value = values[i];\n        if (typeof value === 'string') {\n          values[i] = value.toUpperCase();\n        }\n      }\n    } else {\n      this.upperOnly = false;\n    }\n    return list;\n  }\n\n  includes(value) {\n    // we do not convert to upper case here for perfomance reasons\n    // if list is upper case only, value must be converted before it is sent up to  here\n    return this._values.indexOf(value) !== -1;\n  }\n\n  toString() {\n    // Quote values that are not correct identifiers\n    const values = this._values;\n    valuesArray.length = 0;\n    for (let i = 0, n = values.length; i < n; ++i) {\n      valuesArray[i] = utils.correctSelectorIdentifier(String(values[i]));\n    }\n    return valuesArray.join(',');\n  }\n\n  _validate(value) {\n    return (this.upperOnly && typeof value === 'string') ? value.toUpperCase() : value;\n  }\n\n  append(value) {\n    super.append(this._validate(value));\n    return this;\n  }\n\n  remove(value) {\n    super.remove(this._validate(value));\n    return this;\n  }\n}\n\nexport {\n  Range,\n  List,\n  RangeList,\n  ValueList,\n};\n","import { RangeList, ValueList } from './selectArgs';\n\n/** Base class for atom selectors. */\nclass Selector {\n  toString() {\n    return this.keyword;\n  }\n\n  toJSON() {\n    return [this.name];\n  }\n}\n\nSelector.prototype.name = 'Error';\nSelector.prototype.keyword = 'error';\n\n/** Base class for list-based atom selectors. */\nclass ListSelector extends Selector {\n  constructor(list) {\n    super();\n    this.list = list;\n  }\n\n  toString() {\n    return `${this.keyword} ${this.list}`;\n  }\n\n  toJSON() {\n    return [this.name, this.list.toJSON()];\n  }\n}\n\nclass RangeListSelector extends ListSelector {\n  constructor(arg) {\n    super(new RangeList(arg));\n  }\n}\n\nclass ValueListSelector extends ListSelector {\n  constructor(arg, caseSensitive) {\n    super(new ValueList(arg, !caseSensitive));\n  }\n}\n\nclass NoneSelector extends Selector {\n  includesAtom(_atom) {\n    return false;\n  }\n}\n\nNoneSelector.prototype.name = 'None';\nNoneSelector.prototype.keyword = 'none';\n\nclass AllSelector extends Selector {\n  includesAtom(_atom) {\n    return true;\n  }\n}\n\nAllSelector.prototype.name = 'All';\nAllSelector.prototype.keyword = 'all';\n\nexport {\n  Selector,\n  ListSelector,\n  RangeListSelector,\n  ValueListSelector,\n  NoneSelector,\n  AllSelector,\n};\n","import { Selector, NoneSelector } from './selectorsBase';\n\n//----------------------------------------------------------------------------\n// Operators\n//----------------------------------------------------------------------------\nconst none = new NoneSelector();\n\nclass PrefixOperator extends Selector {\n  constructor(rhs) {\n    super();\n    this.rhs = rhs || none;\n  }\n\n  toString() {\n    const rhs = this.rhs.priority && this.rhs.priority > this.priority ? `(${this.rhs})` : this.rhs;\n    return `${this.keyword} ${rhs}`;\n  }\n\n  toJSON() {\n    return [this.name, this.rhs.toJSON()];\n  }\n}\n\nPrefixOperator.prototype.priority = 1;\n\nclass InfixOperator extends Selector {\n  constructor(lhs, rhs) {\n    super();\n    this.lhs = lhs || none;\n    this.rhs = rhs || none;\n  }\n\n  toString() {\n    const lhs = this.lhs.priority && this.lhs.priority > this.priority ? `(${this.lhs})` : this.lhs;\n    const rhs = this.rhs.priority && this.rhs.priority > this.priority ? `(${this.rhs})` : this.rhs;\n    return `${lhs} ${this.keyword} ${rhs}`;\n  }\n\n  toJSON() {\n    return [this.name, this.lhs.toJSON(), this.rhs.toJSON()];\n  }\n}\n\nInfixOperator.prototype.priority = 1000;\n\nexport { PrefixOperator, InfixOperator };\n","import Atom from './Atom';\nimport ResidueType from './ResidueType';\nimport { parser } from '../utils/SelectionParser';\nimport { Range, RangeList, ValueList } from './selectors/selectArgs';\nimport { PrefixOperator, InfixOperator } from './selectors/selectOps';\nimport {\n  Selector,\n  RangeListSelector,\n  ValueListSelector,\n  NoneSelector,\n  AllSelector,\n} from './selectors/selectorsBase';\n\nconst keywords = {};\n\n//----------------------------------------------------------------------------\n// Named selectors\n//----------------------------------------------------------------------------\n\nfunction defineSelector(name, SelectorClass) {\n  const keyword = name.toLowerCase();\n  SelectorClass.prototype.keyword = keyword;\n  SelectorClass.prototype.name = name;\n\n  const factory = ((...args) => new SelectorClass(...args));\n  factory.SelectorClass = SelectorClass;\n  keywords[keyword] = factory;\n\n  return SelectorClass;\n}\n\ndefineSelector('Serial', class SerialSelector extends RangeListSelector {\n  includesAtom(atom) {\n    return this.list.includes(atom.serial);\n  }\n});\n\ndefineSelector('Name', class NameSelector extends ValueListSelector {\n  includesAtom(atom) {\n    return this.list.includes(atom.name);\n  }\n});\n\ndefineSelector('AltLoc', class AltLocSelector extends ValueListSelector {\n  includesAtom(atom) {\n    return this.list.includes(String.fromCharCode(atom.location));\n  }\n});\n\ndefineSelector('Elem', class ElemSelector extends ValueListSelector {\n  includesAtom(atom) {\n    return this.list.includes(atom.element.name);\n  }\n});\n\ndefineSelector('Residue', class ResidueSelector extends ValueListSelector {\n  includesAtom(atom) {\n    return this.list.includes(atom.residue._type._name);\n  }\n});\n\ndefineSelector('Sequence', class SequenceSelector extends RangeListSelector {\n  includesAtom(atom) {\n    return this.list.includes(atom.residue._sequence);\n  }\n});\n\ndefineSelector('ICode', class ICodeSelector extends ValueListSelector {\n  constructor(arg) {\n    super(arg, true);\n  }\n\n  includesAtom(atom) {\n    return this.list.includes(atom.residue._icode);\n  }\n});\n\ndefineSelector('ResIdx', class ResIdxSelector extends RangeListSelector {\n  includesAtom(atom) {\n    return this.list.includes(atom.residue._index);\n  }\n});\n\ndefineSelector('Chain', class ChainSelector extends ValueListSelector {\n  constructor(arg) {\n    super(arg, true);\n  }\n\n  includesAtom(atom) {\n    return this.list.includes(atom.residue._chain._name);\n  }\n});\n\ndefineSelector('Hetatm', class HetatmSelector extends Selector {\n  includesAtom(atom) {\n    return atom.het;\n  }\n});\n\ndefineSelector('PolarH', class PolarHSelector extends Selector {\n  includesAtom(atom) {\n    return (atom.flags & Atom.Flags.NONPOLARH) === Atom.Flags.HYDROGEN;\n  }\n});\n\ndefineSelector('NonPolarH', class NonPolarHSelector extends Selector {\n  includesAtom(atom) {\n    return (atom.flags & Atom.Flags.NONPOLARH) === Atom.Flags.NONPOLARH;\n  }\n});\n\ndefineSelector('All', AllSelector);\n\ndefineSelector('None', NoneSelector);\n\nconst NULL_SELECTOR = keywords.none();\n\n//----------------------------------------------------------------------------\n// Named operators\n//----------------------------------------------------------------------------\n\nfunction defineOperator(name, priority, OperatorClass) {\n  OperatorClass.prototype.priority = priority;\n  return defineSelector(name, OperatorClass);\n}\ndefineOperator('Not', 1, class NotOperator extends PrefixOperator {\n  includesAtom(atom) {\n    return !this.rhs.includesAtom(atom);\n  }\n});\n\ndefineOperator('And', 2, class AndOperator extends InfixOperator {\n  includesAtom(atom) {\n    return this.lhs.includesAtom(atom) && this.rhs.includesAtom(atom);\n  }\n});\n\ndefineOperator('Or', 3, class OrOperator extends InfixOperator {\n  includesAtom(atom) {\n    return this.lhs.includesAtom(atom) || this.rhs.includesAtom(atom);\n  }\n});\n\n//----------------------------------------------------------------------------\n// Flag selectors\n//----------------------------------------------------------------------------\n\nfunction byResidueTypeFlag(flag, name) {\n  return defineSelector(name, class extends Selector {\n    includesAtom(atom) {\n      return (atom.residue._type.flags & flag) !== 0;\n    }\n  });\n}\n\nbyResidueTypeFlag(ResidueType.Flags.PROTEIN, 'Protein');\nbyResidueTypeFlag(ResidueType.Flags.BASIC, 'Basic');\nbyResidueTypeFlag(ResidueType.Flags.ACIDIC, 'Acidic');\nbyResidueTypeFlag(ResidueType.Flags.BASIC | ResidueType.Flags.ACIDIC, 'Charged');\nbyResidueTypeFlag(ResidueType.Flags.POLAR, 'Polar');\nbyResidueTypeFlag(ResidueType.Flags.NONPOLAR, 'NonPolar');\nbyResidueTypeFlag(ResidueType.Flags.AROMATIC, 'Aromatic');\nbyResidueTypeFlag(ResidueType.Flags.NUCLEIC, 'Nucleic');\nbyResidueTypeFlag(ResidueType.Flags.PURINE, 'Purine');\nbyResidueTypeFlag(ResidueType.Flags.PYRIMIDINE, 'Pyrimidine');\nbyResidueTypeFlag(ResidueType.Flags.WATER, 'Water');\n\n//----------------------------------------------------------------------------\nconst selectors = Object.create(keywords);\n\nselectors.Selector = Selector;\nselectors.RangeListSelector = RangeListSelector;\nselectors.ValueListSelector = ValueListSelector;\nselectors.Range = Range;\nselectors.RangeList = RangeList;\nselectors.ValueList = ValueList;\nselectors.PrefixOperator = PrefixOperator;\nselectors.InfixOperator = InfixOperator;\nselectors.Context = Object.create({});\n\nselectors.GetSelector = function (key) {\n  if (!selectors.Context.hasOwnProperty(key)) {\n    const exc = { message: `selector ${key} is not registered` };\n    throw exc;\n  }\n  return selectors.Context[key] || NULL_SELECTOR;\n};\n\nselectors.ClearContext = function () {\n  Object.keys(selectors.Context).forEach((k) => { delete selectors.Context[k]; });\n};\n\nselectors.keyword = function (key) {\n  return keywords[key.toLowerCase()] || keywords.none;\n};\n\nselectors.parse = function (str) {\n  const res = {};\n  try {\n    res.selector = parser.parse(str);\n  } catch (e) {\n    res.selector = NULL_SELECTOR;\n    res.error = e.message;\n  }\n  return res;\n};\n\nparser.yy = selectors;\nparser.yy.parseError = parser.parseError; // workaround for incorrect JISON parser generator for AMD module\n\nexport default selectors;\n","import * as THREE from 'three';\nimport selectors from './selectors';\n\n/**\n * Basic biological unit class.\n *\n * @exports BiologicalUnit\n * @constructor\n */\nclass BiologicalUnit {\n  constructor(complex) {\n    this._complex = complex;\n    this._selector = selectors.keyword('All')();\n    this._boundaries = {\n      boundingBox: new THREE.Box3(),\n      boundingSphere: new THREE.Sphere(),\n    };\n  }\n\n  computeBoundaries() {\n    const atoms = this._complex._atoms;\n    const n = atoms.length;\n    const selector = this._selector;\n\n    const { boundingBox } = this._boundaries;\n    boundingBox.makeEmpty();\n    if (n === 1) {\n      boundingBox.expandByPoint(atoms[0].position);\n      const bbc = new THREE.Vector3();\n      boundingBox.getCenter(bbc);\n      const s = 2 * atoms[0].element.radius;\n      boundingBox.setFromCenterAndSize(bbc, new THREE.Vector3(s, s, s));\n    } else {\n      for (let i = 0; i < n; ++i) {\n        if (selector.includesAtom(atoms[i])) {\n          boundingBox.expandByPoint(atoms[i].position);\n        }\n      }\n    }\n\n    // Build bounding sphere\n    let radiusSquared = 0.0;\n    const center = new THREE.Vector3();\n    boundingBox.getCenter(center);\n    if (n === 1) {\n      this._boundaries.boundingSphere.set(center, atoms[0].element.radius);\n    } else {\n      for (let i = 0; i < n; ++i) {\n        if (!selector.includesAtom(atoms[i])) {\n          continue;\n        }\n        const pos = atoms[i].position;\n        const lengthSquared = center.distanceToSquared(pos);\n        if (radiusSquared < lengthSquared) {\n          radiusSquared = lengthSquared;\n        }\n      }\n      this._boundaries.boundingSphere.set(center, Math.sqrt(radiusSquared));\n    }\n  }\n\n  getTransforms() {\n    return [];\n  }\n\n  getSelector() {\n    return this._selector;\n  }\n\n  getBoundaries() {\n    return this._boundaries;\n  }\n\n  finalize() {\n  }\n}\n\nexport default BiologicalUnit;\n","import * as THREE from 'three';\nimport selectors from './selectors';\nimport BiologicalUnit from './BiologicalUnit';\n\n/**\n * Biological assembly.\n *\n * @exports Assembly\n * @constructor\n */\n\nclass Assembly extends BiologicalUnit {\n  constructor(complex) {\n    super(complex);\n    this.chains = [];\n    this.matrices = [];\n  }\n\n  computeBoundaries() {\n    super.computeBoundaries();\n    // fix up the boundaries\n    const { matrices } = this;\n    const oldCenter = this._boundaries.boundingSphere.center;\n    const oldRad = this._boundaries.boundingSphere.radius;\n    const boundingBox = this._boundaries.boundingBox = new THREE.Box3();\n    boundingBox.makeEmpty();\n    for (let i = 0, n = matrices.length; i < n; ++i) {\n      boundingBox.expandByPoint(oldCenter.clone().applyMatrix4(matrices[i]));\n    }\n\n    const newRad = boundingBox.max.distanceTo(boundingBox.min) / 2 + oldRad;\n    const center = new THREE.Vector3();\n    boundingBox.getCenter(center);\n    this._boundaries.boundingSphere = new THREE.Sphere().set(center, newRad);\n    boundingBox.max.addScalar(oldRad);\n    boundingBox.min.subScalar(oldRad);\n  }\n\n  /**\n   * Mark a chain as belonging to this biological assembly.\n   * @param {string} chain - chain identifier, usually a single letter\n   */\n  addChain(chain) {\n    this.chains[this.chains.length] = chain;\n  }\n\n  /**\n   * Add a transformation matrix.\n   * @param {THREE.Matrix4} matrix - transformation matrix\n   */\n  addMatrix(matrix) {\n    this.matrices[this.matrices.length] = matrix;\n  }\n\n  getTransforms() {\n    return this.matrices;\n  }\n\n  finalize() {\n    if (this.chains.length > 0) {\n      this._selector = selectors.keyword('Chain')(this.chains);\n    } else {\n      this._selector = selectors.keyword('None')();\n    }\n  }\n}\n\nexport default Assembly;\n","/**\n * This class represents connected component as a part of a complex.\n * WARNING! The whole component entity is build under the assumption that residues\n * are placed in the chains and complex in ascending order of indices\n *\n * @param {Complex} complex - Molecular complex this chain belongs to.\n *\n * @exports Component\n * @constructor\n */\nclass Component {\n  constructor(complex) {\n    this._complex = complex;\n    this._index = -1;\n    this._residueIndices = [];\n    this._cycles = [];\n    this._subDivs = [];\n    this._residueCount = 0;\n  }\n\n  getResidues() {\n    return this._complex._residues;\n  }\n\n  getResidueCount() {\n    return this._residueCount;\n  }\n\n  forEachResidue(process) {\n    const residues = this._complex._residues;\n    const resIdc = this._residueIndices;\n    for (let idIdc = 0, idCount = resIdc.length; idIdc < idCount; ++idIdc) {\n      for (let idx = resIdc[idIdc].start, last = resIdc[idIdc].end; idx <= last; ++idx) {\n        process(residues[idx]);\n      }\n    }\n  }\n\n  setSubDivs(subDivs) {\n    this._subDivs = subDivs;\n    let curr = 0;\n    const resIdc = [];\n    let resCnt = 0;\n    for (let i = 0, n = subDivs.length; i < n; ++i) {\n      if (i === n - 1 || subDivs[i].end + 1 !== subDivs[i + 1].start) {\n        const { start } = subDivs[curr];\n        const { end } = subDivs[i];\n        resIdc[resIdc.length] = {\n          start,\n          end,\n        };\n        resCnt += end - start + 1;\n        curr = i + 1;\n      }\n    }\n\n    this._residueIndices = resIdc;\n    this._residueCount = resCnt;\n  }\n\n  getComplex() {\n    return this._complex;\n  }\n\n  forEachBond(process) {\n    const bonds = this._complex._bonds;\n\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      const bond = bonds[i];\n      if (bond._left.residue._component === this) {\n        process(bond);\n      }\n    }\n  }\n\n  update() {\n    this.forEachCycle((cycle) => {\n      cycle.update();\n    });\n  }\n\n  forEachAtom(process) {\n    this.forEachResidue((residue) => {\n      residue.forEachAtom(process);\n    });\n  }\n\n  addCycle(cycle) {\n    this._cycles.push(cycle);\n  }\n\n  forEachCycle(process) {\n    const cycles = this._cycles;\n    for (let i = 0, n = cycles.length; i < n; ++i) {\n      process(cycles[i]);\n    }\n  }\n\n  markResidues() {\n    const self = this;\n    self.forEachResidue((residue) => {\n      residue._component = self;\n    });\n  }\n\n  _forEachSubChain(mask, process) {\n    const residues = this._complex._residues;\n    const subs = this._subDivs;\n    for (let i = 0, n = subs.length; i < n; ++i) {\n      for (let idx = subs[i].start, last = subs[i].end; idx <= last; ++idx) {\n        const currRes = residues[idx];\n        if (mask & currRes._mask && currRes._isValid) {\n          let end = idx + 1;\n          for (; end <= last; ++end) {\n            const endRes = residues[end];\n            if (!(mask & endRes._mask && endRes._isValid)) {\n              break;\n            }\n          }\n          process(i, idx, end - 1);\n          idx = end;\n        }\n      }\n    }\n  }\n\n  getMaskedSequences(mask) {\n    const subs = [];\n    let idx = 0;\n    this._forEachSubChain(mask, (_subIdx, start, end) => {\n      subs[idx++] = { start, end };\n    });\n\n    return subs;\n  }\n\n  getMaskedSubdivSequences(mask) {\n    const subs = [];\n    let currIdx = -1;\n    let lastSubIdx = -1;\n    const subDivs = this._subDivs;\n\n    this._forEachSubChain(mask, (subIdx, start, end) => {\n      if (lastSubIdx !== subIdx) {\n        ++currIdx;\n        subs[currIdx] = {\n          arr: [],\n          boundaries: subDivs[subIdx],\n        };\n        lastSubIdx = subIdx;\n      }\n      subs[currIdx].arr[subs[currIdx].arr.length] = { start, end };\n    });\n\n    return subs;\n  }\n}\n\nexport default Component;\n","import utils from '../utils';\n\nconst cMaxPairsForHashCode = 32;\nconst cHashTableSize = 1024 * 1024;\nconst cNumbersPerPair = 4;\nconst cMaxNeighbours = 14;\nconst cInvalidVal = -1;\n// 89237 is a large simple number, can be used for pseudo random hash code create\nconst cBigPrime = 89237;\n\nclass AtomPairs {\n  constructor(maxPairsEstimate) {\n    this.numPairs = 0;\n    this.numMaxPairs = maxPairsEstimate;\n    this.intBuffer = utils.allocateTyped(Int32Array, maxPairsEstimate * cNumbersPerPair);\n    for (let i = 0; i < maxPairsEstimate * cNumbersPerPair; i++) {\n      this.intBuffer[i] = cInvalidVal;\n    }\n    this.hashBuffer = utils.allocateTyped(Int32Array, cHashTableSize * cMaxPairsForHashCode);\n    for (let i = 0; i < cHashTableSize * cMaxPairsForHashCode; i++) {\n      this.hashBuffer[i] = cInvalidVal;\n    }\n  }\n\n  /**\n   * Destroy all pairs memory\n   */\n  destroy() {\n    this.intBuffer = null;\n    this.hashBuffer = null;\n  }\n\n  /**\n   * Add pair of atoms to collection\n   * @param {number} indexA - Index of the 1st vertex.\n   * @param {number} indexB - Index of the 2nd vertex.\n   */\n  addPair(indexA, indexB) {\n    const ia = (indexA < indexB) ? indexA : indexB;\n    const ib = (indexA > indexB) ? indexA : indexB;\n    const codeToAdd = ia + (ib << cMaxNeighbours);\n\n    const hashCode = (ia + (ib * cBigPrime)) & (cHashTableSize - 1);\n    let j = hashCode * cMaxPairsForHashCode;\n    let apI = 0;\n    for (; apI < cMaxPairsForHashCode; apI++) {\n      const code = this.hashBuffer[j + apI];\n      if (code === cInvalidVal) {\n        break;\n      }\n      if (code === codeToAdd) {\n        return false;\n      }\n    }\n    // add this new hash code\n    if (apI >= cMaxPairsForHashCode) {\n      throw new Error('addPair: increase cMaxPairsForHashCode');\n    }\n    this.hashBuffer[j + apI] = codeToAdd;\n\n    // actually add\n    if (this.numPairs >= this.numMaxPairs) {\n      throw new Error('addPair: increase num pairs');\n    }\n    j = this.numPairs * cNumbersPerPair;\n    this.intBuffer[j] = ia;\n    this.intBuffer[j + 1] = ib;\n    this.intBuffer[j + 2] = codeToAdd;\n    this.numPairs++;\n    return true;\n  }\n}\n\nexport default AtomPairs;\n","import AtomPairs from './AtomPairs';\nimport Bond from './Bond';\n\nconst cProfileBondBuilder = false;\nconst cEstBondsMultiplier = 4;\nconst cSpaceCode = 32;\nconst cBondTolerance = 0.45;\nconst cVMDTolerance = 0.6;\nconst cBondRadInJMOL = true;\nconst cEpsilon = 0.001;\n\n/**\n * Get radius used for building bonds.\n *\n * @param {Atom} atom - Atom object.\n * @returns {number} special value for bonding radius for this atom\n */\nfunction _getBondingRadius(atom) {\n  const { element } = atom;\n  if (element) {\n    return element.radiusBonding;\n  }\n  throw new Error('_getBondingRadius: Logic error.');\n}\n\nfunction _isAtomEligible(atom) {\n  // build for all non-hetatm and for hetatm without bonds\n  return !atom.isHet() || (atom.bonds && atom.bonds.length === 0);\n}\n\n/**\n * Bond between atoms.\n *\n * @param {Complex} complex molecular complex\n\n * @exports AutoBond\n * @constructor\n */\nclass AutoBond {\n  constructor(complex) {\n    this._complex = complex;\n    this._maxRad = 1.8;\n    const bBox = this._complex.getDefaultBoundaries().boundingBox;\n    this._vBoxMin = bBox.min.clone();\n    this._vBoxMax = bBox.max.clone();\n\n    this._pairCollection = null;\n  }\n\n  /**\n   * Add existing pairs of connectors (from pdb file after its reading)\n   * @returns {number} 0\n   */\n  _addExistingPairs() {\n    const atoms = this._complex.getAtoms();\n    const numAtoms = atoms.length;\n    let aInd = 0;\n    const collection = this._pairCollection;\n\n    for (; aInd < numAtoms; aInd++) {\n      const { bonds } = atoms[aInd];\n      const numBondsForAtom = bonds.length;\n      for (let bInd = 0; bInd < numBondsForAtom; bInd++) {\n        const bond = bonds[bInd];\n        const indTo = bond._left.index;\n        if (indTo === aInd) {\n          collection.addPair(aInd, bond._right.index);\n        }\n      } // for (b) all bonds in atom\n    } // for (a)\n    return 0;\n  }\n\n  _findPairs() {\n    const vw = this._complex.getVoxelWorld();\n    if (vw === null) {\n      return;\n    }\n\n    const atoms = this._complex._atoms;\n    const atomsNum = atoms.length;\n    const self = this;\n\n    let rA;\n    let isHydrogenA;\n    let posA;\n    let locationA;\n    let atomA;\n\n    const processAtom = function (atomB) {\n      if (isHydrogenA && atomB.isHydrogen()) {\n        return;\n      }\n\n      const locationB = atomB.location;\n      if ((locationA !== cSpaceCode)\n        && (locationB !== cSpaceCode)\n        && (locationA !== locationB)) {\n        return;\n      }\n\n      const dist2 = posA.distanceToSquared(atomB.position);\n      const rB = atomB.element.radiusBonding;\n      const maxAcceptable = cBondRadInJMOL ? rA + rB + cBondTolerance : cVMDTolerance * (rA + rB);\n\n      if (dist2 > (maxAcceptable * maxAcceptable)) {\n        return;\n      }\n\n      if (dist2 < cEpsilon) {\n        return;\n      }\n\n      self._pairCollection.addPair(atomA.index, atomB.index);\n    };\n\n    for (let i = 0; i < atomsNum; ++i) {\n      atomA = atoms[i];\n      if (!_isAtomEligible(atomA)) {\n        continue;\n      }\n\n      rA = atomA.element.radiusBonding;\n      isHydrogenA = atomA.isHydrogen();\n      posA = atomA.position;\n      locationA = atomA.location;\n\n      vw.forEachAtomWithinRadius(posA, 2 * this._maxRad + cBondTolerance, processAtom);\n    }\n  }\n\n  _addPairs() {\n    const atoms = this._complex._atoms;\n\n    for (let i = 0, k = 0; i < this._pairCollection.numPairs; i++, k += 4) {\n      const iA = this._pairCollection.intBuffer[k];\n      const iB = this._pairCollection.intBuffer[k + 1];\n      this._addPair(atoms[iA], atoms[iB]);\n    }\n  }\n\n  _addPair(atomA, atomB) {\n    const bondsA = atomA.bonds;\n    const indexA = atomA.index;\n    const indexB = atomB.index;\n    for (let j = 0, numBonds = bondsA.length; j < numBonds; ++j) {\n      const bond = bondsA[j];\n      if (bond._left.index === indexB || bond._right.index === indexB) {\n        return;\n      }\n    }\n    const left = indexA < indexB ? atomA : atomB;\n    const right = indexA < indexB ? atomB : atomA;\n    const newBond = this._complex.addBond(left, right, 0, Bond.BondType.UNKNOWN, false);\n    bondsA.push(newBond);\n    atomB.bonds.push(newBond);\n  }\n\n  build() {\n    if (cProfileBondBuilder) {\n      console.time('Bonds Builder');\n    }\n    this._buildInner();\n\n    if (cProfileBondBuilder) {\n      console.timeEnd('Bonds Builder');\n    }\n  }\n\n  _buildInner() {\n    const atoms = this._complex._atoms;\n    if (atoms.length < 2) {\n      return;\n    }\n    if (atoms[0].index < 0) {\n      throw new Error('AutoBond: Atoms in complex were not indexed.');\n    }\n\n    this._calcBoundingBox();\n    this._pairCollection = new AtomPairs(atoms.length * cEstBondsMultiplier);\n    this._addExistingPairs();\n    this._findPairs();\n    this._addPairs();\n  }\n\n  _calcBoundingBox() {\n    const atoms = this._complex._atoms;\n    const nAtoms = atoms.length;\n    let maxRad = _getBondingRadius(atoms[0]);\n    for (let i = 1; i < nAtoms; ++i) {\n      maxRad = Math.max(maxRad, _getBondingRadius(atoms[i]));\n    }\n    this._vBoxMax.addScalar(maxRad);\n    this._vBoxMin.addScalar(-maxRad);\n    this._maxRad = maxRad * 1.2;\n  }\n\n  destroy() {\n    if (this._pairCollection) {\n      this._pairCollection.destroy();\n    }\n  }\n}\n\nexport default AutoBond;\n","import * as THREE from 'three';\nimport Bond from './Bond';\nimport Element from './Element';\n\nconst cCrossThresh = 0.1;\nconst cAromaticType = Bond.BondType.AROMATIC;\nconst cAromaticAtoms = [\n  Element.ByName.C.number,\n  Element.ByName.N.number,\n  // Element.ByName.O.number,\n  // Element.ByName.S.number,\n];\n\n\n/** Conditions for bonds:\n   *   - Cross product with each subsequent bond to add is collinear and point to the same direction\n   *   - Each pair of a adjacent bonds belong to not more than one cycle\n   *   - If there is more than one candidates we try them in ascending order of angle values\n   */\n\nconst _coDirVectors = (function () {\n  const v1Tmp = new THREE.Vector3();\n  const v2Tmp = new THREE.Vector3();\n  const cp = new THREE.Vector3();\n  return function (v1, v2) {\n    v1Tmp.copy(v1).normalize();\n    v2Tmp.copy(v2).normalize();\n    cp.crossVectors(v1Tmp, v2Tmp);\n    if (cp.length() > cCrossThresh) {\n      return false;\n    }\n    // zero vector in out terms must be collinear to any\n    return v1Tmp.dot(v2Tmp) >= 0;\n  };\n}());\n\nfunction _insertAscending(arr, val) {\n  let idx = 0;\n  while (idx < arr.length && arr[idx] < val) {\n    ++idx;\n  }\n  arr.splice(idx, 0, val);\n}\n\nfunction _anotherAtom(bond, currAtom) {\n  return bond._left === currAtom ? bond._right : bond._left;\n}\n\nfunction _cosBetween(v1, v2) {\n  const theta = v1.dot(v2) / (Math.sqrt(v1.lengthSq() * v2.lengthSq()));\n  return THREE.Math.clamp(theta, -1, 1);\n}\n\nfunction _markAromatic(bond) {\n  bond._type = cAromaticType;\n}\n\nclass Cycle {\n  constructor(atomsList) {\n    this.atoms = atomsList;\n    this.update();\n  }\n\n  update() {\n    const { atoms } = this;\n    const center = new THREE.Vector3();\n    const nA = atoms.length;\n    for (let j = 0; j < nA; ++j) {\n      center.add(atoms[j].position);\n    }\n    center.multiplyScalar(1.0 / nA);\n    this.center = center;\n    this.radius = center.distanceTo(atoms[0].position.clone().lerp(atoms[1].position, 0.5));\n  }\n\n  forEachBond(process) {\n    const { atoms } = this;\n    const nA = atoms.length;\n    let currAtom = atoms[0];\n    let nextAtom;\n\n    function checkBond(bond) {\n      if (bond._left === nextAtom || bond._right === nextAtom) {\n        process(bond);\n      }\n    }\n\n    for (let i = 0; i < nA; ++i) {\n      nextAtom = atoms[(i + 1) % nA];\n      currAtom.forEachBond(checkBond);\n      currAtom = nextAtom;\n    }\n  }\n}\n\nfunction _isAromatic(bond) {\n  return bond._type === cAromaticType;\n}\n\nfunction _isPossibleAromatic(bond) {\n  if (bond.type === cAromaticType) {\n    return true;\n  }\n  const rightIdx = cAromaticAtoms.indexOf(bond._right.element.number);\n  const leftIdx = cAromaticAtoms.indexOf(bond._left.element.number);\n  return rightIdx !== -1 && leftIdx !== -1;\n}\n\nfunction _checkCycleSimple(cycle) {\n  return cycle.length > 3;\n}\n\nfunction _checkCycleComplex(cycle) {\n  console.assert(cycle.length > 2);\n  return true;\n}\n\nclass AromaticLoopsMarker {\n  constructor(complex) {\n    this._complex = complex;\n    const bondsData = new Array(complex._bonds.length);\n    const bondMarks = new Array(complex._bonds.length);\n    for (let i = 0, n = bondsData.length; i < n; ++i) {\n      bondsData[i] = [];\n      bondMarks[i] = false;\n    }\n    this._bondsData = bondsData;\n    this._bondMarks = bondMarks;\n    this._resetCycles();\n  }\n\n  _resetCycles() {\n    this._cycles = [];\n    this._currIdx = -1;\n  }\n\n  _haveSameCycle(bondsData, bond1, bond2) {\n    const arr1 = bondsData[bond1._index];\n    const arr2 = bondsData[bond2._index];\n    const n1 = arr1.length;\n    const n2 = arr2.length;\n    let i1 = 0;\n    let i2 = 0;\n    while (i1 < n1 && i2 < n2) {\n      if (arr1[i1] === arr2[i2]) {\n        return true;\n      }\n      if (arr1[i1] > arr2[i2]) {\n        ++i2;\n      } else {\n        ++i1;\n      }\n    }\n    return false;\n  }\n\n  _tryBond(prevBond, currRight, currDir) {\n    const bondsOrder = [];\n    const bondsData = this._bondsData;\n    const currLeft = _anotherAtom(prevBond, currRight);\n    const currVec = currRight.position.clone().sub(currLeft.position);\n    const startAtomRef = this._currStart;\n    const self = this;\n    const bondMarks = this._bondMarks;\n    let checkAromatic = this._checkBond;\n    bondMarks[prevBond._index] = true;\n    checkAromatic = checkAromatic === undefined ? _isAromatic : checkAromatic;\n    currRight.forEachBond((newBond) => {\n      if (!checkAromatic(newBond)\n        || newBond === prevBond\n        || bondMarks[newBond._index]\n        || self._haveSameCycle(bondsData, prevBond, newBond)) {\n        return;\n      }\n      const anotherAtom = _anotherAtom(newBond, currRight);\n      const anotherVec = anotherAtom.position.clone().sub(currRight.position);\n      const val = anotherAtom === startAtomRef ? -2.0 : 1 - _cosBetween(currVec, anotherVec);\n      const newDir = anotherVec.cross(currVec);\n      if (!_coDirVectors(newDir, currDir)) {\n        return;\n      }\n      let idx = 0;\n      while (idx < bondsOrder.length && bondsOrder[idx].val < val) {\n        ++idx;\n      }\n      bondsOrder.splice(idx, 0, { bond: newBond, val, dir: newDir });\n    });\n\n    for (let i = 0, n = bondsOrder.length; i < n; ++i) {\n      const { bond } = bondsOrder[i];\n      const newRight = bond._left === currRight ? bond._right : bond._left;\n      if (newRight === startAtomRef) {\n        ++this._currIdx;\n        this._cycles.push([currRight]);\n        bondMarks[prevBond._index] = false;\n        return true;\n      }\n      if (this._tryBond(bond, newRight, bondsOrder[i].dir)) {\n        _insertAscending(bondsData[bond._index], this._currIdx);\n        this._cycles[this._currIdx].push(currRight);\n        bondMarks[prevBond._index] = false;\n        return true;\n      }\n    }\n    bondMarks[prevBond._index] = false;\n    return false;\n  }\n\n  _startCycle(bond) {\n    // start from left to right\n    this._currStart = bond._left;\n    if (this._tryBond(bond, bond._right, new THREE.Vector3())) {\n      _insertAscending(this._bondsData[bond._index], this._currIdx);\n      this._cycles[this._currIdx].push(bond._left);\n    }\n  }\n\n  _findLoops(checkBond, checkCycle) {\n    this._checkBond = checkBond;\n    const complex = this._complex;\n    const self = this;\n\n    complex.forEachComponent((component) => {\n      self._resetCycles();\n      component.forEachBond((bond) => {\n        if (checkBond(bond)) {\n          self._startCycle(bond);\n        }\n      });\n      const cycles = self._cycles;\n      for (let i = 0, n = cycles.length; i < n; ++i) {\n        const cycle = cycles[i];\n        if (!checkCycle(cycle)) {\n          continue;\n        }\n        const newCycle = new Cycle(cycle);\n        newCycle.forEachBond(_markAromatic);\n        component.addCycle(newCycle);\n      }\n    });\n  }\n\n  markCycles() {\n    this._findLoops(_isAromatic, _checkCycleSimple);\n  }\n\n  detectCycles() {\n    this._findLoops(_isPossibleAromatic, _checkCycleComplex);\n  }\n}\n\nexport default AromaticLoopsMarker;\n","import * as THREE from 'three';\nimport utils from '../utils';\n\n/**\n * Calculate min & max radius of a sphere slice between zMin & zMax\n *\n * @param {Vector3} center - center of the sphere\n * @param {number} radius  - sphere radius\n * @param {number} zMin - lower bound of the slice\n * @param {number} zMax - upper bound of the slice\n */\nfunction _getSphereSliceRadiusRange(center, radius, zMin, zMax) {\n  const dzMin = zMin - center.z;\n  const dzMax = zMax - center.z;\n  const rzMin = Math.sqrt(Math.max(radius * radius - dzMin * dzMin, 0.0));\n  const rzMax = Math.sqrt(Math.max(radius * radius - dzMax * dzMax, 0.0));\n\n  const rMin = Math.min(rzMin, rzMax);\n  let rMax;\n\n  if (zMin <= center.z && zMax >= center.z) {\n    // sphere's main diameter is inside slice\n    rMax = radius;\n  } else {\n    rMax = Math.max(rzMin, rzMax);\n  }\n\n  return [rMin, rMax];\n}\n\n/**\n * Calculate min & max radius of a circle slice between yMin & yMax.\n *\n * To maintain analogy with _getSphereSliceRadiusRange we call radius what in fact is\n * half-width (along X axis) of the slice, i.e. 1D-sphere radius.\n *\n * @param {Vector3} center - center of the circle (z can be ignored)\n * @param {number} radius  - circle radius\n * @param {number} yMin - lower bound of the slice\n * @param {number} yMax - upper bound of the slice\n * @returns {Array} - array of two numbers (min & max radius, or half-width)\n */\nfunction _getCircleSliceRadiusRange(center, radius, yMin, yMax) {\n  const dyMin = yMin - center.y;\n  const dyMax = yMax - center.y;\n  const ryMin = Math.sqrt(Math.max(radius * radius - dyMin * dyMin, 0.0));\n  const ryMax = Math.sqrt(Math.max(radius * radius - dyMax * dyMax, 0.0));\n\n  const rMin = Math.min(ryMin, ryMax);\n  let rMax;\n\n  if (yMin <= center.y && yMax >= center.y) {\n    // slice's main diameter is inside slice\n    rMax = radius;\n  } else {\n    rMax = Math.max(ryMin, ryMax);\n  }\n\n  return [rMin, rMax];\n}\n\n/**\n * VoxelWorld constructor\n *\n * @param {Box3} box - bounding box of the volume to be partitioned\n * @param {Vector3} vCellSizeHint - target voxel size (actual voxel size may differ from this)\n */\nclass VoxelWorld {\n  constructor(box, vCellSizeHint) {\n    this._box = box.clone();\n    const size = new THREE.Vector3();\n    box.getSize(size);\n    this._count = size.clone().divide(vCellSizeHint).floor().max(new THREE.Vector3(1, 1, 1));\n    this._last = this._count.clone().subScalar(1);\n    this._cellSize = size.clone().divide(this._count);\n    this._cellInnerR = 0.5 * Math.min(Math.min(this._cellSize.x, this._cellSize.y), this._cellSize.z);\n    this._cellOuterR = 0.5 * Math.sqrt(this._cellSize.dot(this._cellSize));\n\n    // array of voxels, each element contains index of first atom in voxel\n    const numVoxels = this._count.x * this._count.y * this._count.z;\n    this._voxels = utils.allocateTyped(Int32Array, numVoxels);\n    for (let i = 0; i < numVoxels; ++i) {\n      this._voxels[i] = -1;\n    }\n\n    // array of atoms that stores multiple single-linked lists\n    // two elements for each atom: Atom ref, index of next atom (in this array\n    this._atoms = [];\n  }\n\n  /**\n   * Add all atoms from a complex to voxel world\n   *\n   * @param {Complex} complex - complex\n   */\n  addAtoms(complex) {\n    const self = this;\n\n    let idx = this._atoms.length;\n\n    // resize array of atoms\n    this._atoms.length += 2 * complex.getAtomCount();\n\n    complex.forEachAtom((atom) => {\n      // find which voxel contains this atom\n      const voxelIdx = self._findVoxel(atom.position);\n\n      // push current atom to the head of voxel's atom list\n      self._atoms[idx] = atom;\n      self._atoms[idx + 1] = self._voxels[voxelIdx];\n      self._voxels[voxelIdx] = idx;\n\n      idx += 2;\n    });\n  }\n\n  /**\n   * Get voxel that contains specified 3D point (we use clamp at the edges)\n   *\n   * @param {Vector3} point - a point in 3D\n   * @returns {number} - index of voxel\n   */\n  static _zero = new THREE.Vector3(0, 0, 0);\n\n  static _voxel = new THREE.Vector3();\n\n  _findVoxel(point) {\n    const zero = VoxelWorld._zero;\n    const voxel = VoxelWorld._voxel;\n    voxel.copy(point)\n      .sub(this._box.min)\n      .divide(this._cellSize)\n      .floor()\n      .clamp(zero, this._last);\n    return voxel.x + this._count.x * (voxel.y + this._count.y * voxel.z);\n  }\n\n  /**\n   * Call a function for each atom in voxel\n   *\n   * @param {number} voxel - index of voxel\n   * @param {function(Atom)} process - function to call\n   */\n  _forEachAtomInVoxel(voxel, process) {\n    for (let i = this._voxels[voxel]; i >= 0; i = this._atoms[i + 1]) {\n      process(this._atoms[i]);\n    }\n  }\n\n  /**\n   * Call a function for each voxel that is touched by given sphere. Callback also takes flag\n   * isInside specifying whether voxel lies inside the sphere entirely.\n   *\n   * @param {Vector3} center - center of the sphere\n   * @param {number} radius  - sphere radius\n   * @param {function(number,bool)} process - function to call that takes voxel index and boolean isInside\n   */\n\n  static _xRange = new THREE.Vector2();\n\n  static _yRange = new THREE.Vector2();\n\n  static _zRange = new THREE.Vector2();\n\n  _forEachVoxelWithinRadius(center, radius, process) {\n    const xRange = VoxelWorld._xRange;\n    const yRange = VoxelWorld._yRange;\n    const zRange = VoxelWorld._zRange;\n\n    // switch to a faster method unless cell size is much smaller than sphere radius\n    if (radius / this._cellInnerR < 10) {\n      this._forEachVoxelWithinRadiusSimple(center, radius, process);\n      return;\n    }\n\n    let rRangeXY;\n    let rRangeX;\n    let xVal;\n    let yVal;\n    let zVal;\n    let isInsideX;\n    let isInsideY;\n    let isInsideZ;\n\n    zRange.set(center.z - radius, center.z + radius);\n    zRange.subScalar(this._box.min.z)\n      .divideScalar(this._cellSize.z)\n      .floor()\n      .clampScalar(0, this._count.z - 1);\n\n    for (let z = zRange.x; z <= zRange.y; ++z) {\n      zVal = [this._box.min.z + z * this._cellSize.z,\n        this._box.min.z + (z + 1) * this._cellSize.z];\n\n      isInsideZ = (center.z - radius <= zVal[0]) && (zVal[1] <= center.z + radius);\n\n      rRangeXY = _getSphereSliceRadiusRange(center, radius, zVal[0], zVal[1]);\n\n      yRange.set(center.y - rRangeXY[1], center.y + rRangeXY[1]);\n      yRange.subScalar(this._box.min.y)\n        .divideScalar(this._cellSize.y)\n        .floor()\n        .clampScalar(0, this._count.y - 1);\n\n      for (let y = yRange.x; y <= yRange.y; ++y) {\n        yVal = [this._box.min.y + y * this._cellSize.y,\n          this._box.min.y + (y + 1) * this._cellSize.y];\n\n        isInsideY = (center.y - rRangeXY[0] <= yVal[0]) && (yVal[1] <= center.y + rRangeXY[0]);\n\n        rRangeX = _getCircleSliceRadiusRange(center, rRangeXY[1], yVal[0], yVal[1]);\n\n        xRange.set(center.x - rRangeX[1], center.x + rRangeX[1]);\n        xRange.subScalar(this._box.min.x)\n          .divideScalar(this._cellSize.x)\n          .floor()\n          .clampScalar(0, this._count.x - 1);\n\n        for (let { x } = xRange; x <= xRange.y; ++x) {\n          xVal = [this._box.min.x + x * this._cellSize.x,\n            this._box.min.x + (x + 1) * this._cellSize.x];\n          isInsideX = (center.x - rRangeX[0] <= xVal[0]) && (xVal[1] <= center.x + rRangeX[0]);\n\n          process(x + this._count.x * (y + this._count.y * z), isInsideX && isInsideY && isInsideZ);\n        }\n      }\n    }\n  }\n\n  /**\n   * Call a function for each voxel that is touched by given sphere. Callback also takes flag\n   * isInside specifying whether voxel lies inside the sphere entirely.\n   * This is a version of method that doesn't try to \"calculate\" what voxels fall inside radius\n   * but instead just checks all voxels inside sphere's bounding box. This should be faster\n   * unless cell size is much smaller than sphere radius.\n   *\n   * @param {Vector3} center - center of the sphere\n   * @param {number} radius  - sphere radius\n   * @param {function(number,bool)} process - function to call that takes voxel index and boolean isInside\n   */\n\n  static _vCenter = new THREE.Vector3();\n\n  _forEachVoxelWithinRadiusSimple(center, radius, process) {\n    const xRange = VoxelWorld._xRange;\n    const yRange = VoxelWorld._yRange;\n    const zRange = VoxelWorld._zRange;\n    const vCenter = VoxelWorld._vCenter;\n\n    const distTouch2 = (radius + this._cellOuterR) * (radius + this._cellOuterR);\n    let distInside2 = -1.0;\n    if (radius > this._cellOuterR) {\n      distInside2 = (radius - this._cellOuterR) * (radius - this._cellOuterR);\n    }\n\n    // calculate bounding box for the sphere\n    xRange.set(center.x - radius, center.x + radius);\n    xRange.subScalar(this._box.min.x)\n      .divideScalar(this._cellSize.x)\n      .floor();\n    xRange.x = Math.min(Math.max(xRange.x, 0), this._count.x - 1);\n    xRange.y = Math.min(Math.max(xRange.y, 0), this._count.x - 1);\n\n    yRange.set(center.y - radius, center.y + radius);\n    yRange.subScalar(this._box.min.y)\n      .divideScalar(this._cellSize.y)\n      .floor();\n    yRange.x = Math.min(Math.max(yRange.x, 0), this._count.y - 1);\n    yRange.y = Math.min(Math.max(yRange.y, 0), this._count.y - 1);\n\n    zRange.set(center.z - radius, center.z + radius);\n    zRange.subScalar(this._box.min.z)\n      .divideScalar(this._cellSize.z)\n      .floor();\n    zRange.x = Math.min(Math.max(zRange.x, 0), this._count.z - 1);\n    zRange.y = Math.min(Math.max(zRange.y, 0), this._count.z - 1);\n\n    for (let z = zRange.x; z <= zRange.y; ++z) {\n      const zVal = [this._box.min.z + z * this._cellSize.z,\n        this._box.min.z + (z + 1) * this._cellSize.z];\n      vCenter.z = 0.5 * (zVal[0] + zVal[1]);\n\n      for (let y = yRange.x; y <= yRange.y; ++y) {\n        const yVal = [this._box.min.y + y * this._cellSize.y,\n          this._box.min.y + (y + 1) * this._cellSize.y];\n        vCenter.y = 0.5 * (yVal[0] + yVal[1]);\n\n        for (let { x } = xRange; x <= xRange.y; ++x) {\n          const xVal = [this._box.min.x + x * this._cellSize.x,\n            this._box.min.x + (x + 1) * this._cellSize.x];\n          vCenter.x = 0.5 * (xVal[0] + xVal[1]);\n\n          const d2 = center.distanceToSquared(vCenter);\n          if (d2 <= distTouch2) {\n            process(x + this._count.x * (y + this._count.y * z), d2 <= distInside2);\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Call a function for each atom within given sphere\n   *\n   * @param {Vector3} center - center of the sphere\n   * @param {number} radius  - sphere radius\n   * @param {function(Atom)} process - function to call\n   */\n  forEachAtomWithinRadius(center, radius, process) {\n    const self = this;\n    const r2 = radius * radius;\n\n    self._forEachVoxelWithinRadius(center, radius, (voxel, isInside) => {\n      if (isInside) {\n        self._forEachAtomInVoxel(voxel, process);\n      } else {\n        self._forEachAtomInVoxel(voxel, (atom) => {\n          if (center.distanceToSquared(atom.position) <= r2) {\n            process(atom);\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Call a function for each atom of given complex within given distance from group of atoms defined by mask\n   *\n   * @param {Complex} complex - complex\n   * @param {number} mask - bit mask\n   * @param {number} dist - distance\n   * @param {function(Atom)} process - function to call\n   */\n  forEachAtomWithinDistFromMasked(complex, mask, dist, process) {\n    this._forEachAtomWithinDistFromGroup((atomProc) => {\n      complex.forEachAtom((atom) => {\n        if ((atom.mask & mask) !== 0) {\n          atomProc(atom);\n        }\n      });\n    }, dist, process);\n  }\n\n  /**\n   * Call a function for each atom of given complex within given distance from group of atoms defined by selector\n   *\n   * @param {Complex} complex - complex\n   * @param {number} selector - selector\n   * @param {number} dist - distance\n   * @param {function(Atom)} process - function to call\n   */\n  forEachAtomWithinDistFromSelected(complex, selector, dist, process) {\n    this._forEachAtomWithinDistFromGroup((atomProc) => {\n      complex.forEachAtom((atom) => {\n        if (selector.includesAtom(atom)) {\n          atomProc(atom);\n        }\n      });\n    }, dist, process);\n  }\n\n  /**\n   * Call a function for each atom of given complex within given distance from group of atoms\n   *\n   * @param {function} forEachAtom - enumerator of atoms in the group\n   * @param {number} dist - distance\n   * @param {function(Atom)} process - function to call\n   */\n  _forEachAtomWithinDistFromGroup(forEachAtom, dist, process) {\n    const self = this;\n    const r2 = dist * dist;\n\n    const voxels = [];\n    const atoms = [];\n    let idx = 0;\n\n    // build \"within radius\" atom list for each voxel\n    forEachAtom((atom) => {\n      self._forEachVoxelWithinRadius(atom.position, dist, (voxel, isInside) => {\n        if (isInside) {\n          // this voxel is inside circle -- no check will be required\n          voxels[voxel] = -1;\n        } else if (typeof voxels[voxel] === 'undefined') {\n          // this voxel isn't covered yet -- start building list of atoms\n          atoms.push(atom);\n          atoms.push(-1);\n          voxels[voxel] = idx;\n          idx += 2;\n        } else if (voxels[voxel] !== -1) {\n          // this voxel has a list of atoms required for distance check -- add atom to the list\n          atoms.push(atom);\n          atoms.push(voxels[voxel]);\n          voxels[voxel] = idx;\n          idx += 2;\n        }\n      });\n    });\n\n    let voxel;\n\n    const processIfWithin = function (atom) {\n      if (typeof voxels[voxel] === 'undefined') {\n        return;\n      }\n\n      idx = voxels[voxel];\n      if (idx === -1) {\n        // this voxel is fully covered\n        process(atom);\n        return;\n      }\n\n      // check distance to each atom within radius from this voxel\n      for (; idx >= 0; idx = atoms[idx + 1]) {\n        if (atom.position.distanceToSquared(atoms[idx].position) < r2) {\n          process(atom);\n          break;\n        }\n      }\n    };\n\n    // for each marked voxel\n    for (voxel in voxels) {\n      if (voxels.hasOwnProperty(voxel)) {\n        self._forEachAtomInVoxel(voxel, processIfWithin);\n      }\n    }\n  }\n}\n\nexport default VoxelWorld;\n","import ResidueType from './ResidueType';\nimport PairCollection from './AtomPairs';\n\nconst MINIMAL_DISTANCE = 0.5;\nconst MIN_HBOND_ENERGY = -9.9;\nconst MAX_HBOND_ENERGY = -0.5;\nconst COUPLING_CONSTANT = -27.888; // = -332 * 0.42 * 0.2\nconst MAX_COUPLING_DISTANCE = 5.0; // how far is the closest atom of a potential partner residue from CA atom\nconst MAX_RESIDUES_THRESHOLD = 1000;\n\nexport default class HBondInfo {\n  constructor(complex) {\n    this._complex = complex;\n    this._hbonds = []; // array of bond info for each residue\n    if (this._complex._residues.length > MAX_RESIDUES_THRESHOLD) {\n      this._buildVW(); // optimized version using voxel grid\n    } else {\n      this._build(); // test all pairs of residues\n    }\n  }\n\n  isBond(from, to) {\n    if (this._hbonds[from]) {\n      const [acc0, acc1] = this._hbonds[from].acceptor;\n      if (acc0 && acc0.residue === to && acc0.energy < MAX_HBOND_ENERGY) {\n        return true;\n      }\n      if (acc1 && acc1.residue === to && acc1.energy < MAX_HBOND_ENERGY) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  _build() {\n    const self = this;\n\n    for (let i = 0; i < this._complex._residues.length - 1; ++i) {\n      const ri = this._complex._residues[i];\n      if ((ri.getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n        continue;\n      }\n\n      // get predecessor in chain\n      let preri = null;\n      if (i > 0 && (this._complex._residues[i - 1].getType().flags & ResidueType.Flags.PROTEIN)\n        && ri._sequence === this._complex._residues[i - 1]._sequence + 1) {\n        preri = this._complex._residues[i - 1];\n      }\n\n      for (let j = i + 1; j < this._complex._residues.length; ++j) {\n        const rj = this._complex._residues[j];\n        if ((rj.getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n          continue;\n        }\n\n        // get predecessor in chain\n        let prerj = null;\n        if ((this._complex._residues[j - 1].getType().flags & ResidueType.Flags.PROTEIN)\n          && rj._sequence === this._complex._residues[j - 1]._sequence + 1) {\n          prerj = this._complex._residues[j - 1];\n        }\n\n        self._calcHBondEnergy(preri, ri, rj);\n        if (j !== i + 1) {\n          self._calcHBondEnergy(prerj, rj, ri);\n        }\n      }\n    }\n  }\n\n  _buildVW() {\n    const self = this;\n    const residues = this._complex._residues;\n    let ri;\n    let preri;\n\n    const vw = this._complex.getVoxelWorld();\n    if (vw === null) {\n      return;\n    }\n\n    const pairs = new PairCollection(this._complex._residues.length * this._complex._residues.length / 2);\n\n    function processAtom(atom) {\n      const rj = atom.residue;\n\n      if (rj._index === ri._index) {\n        return;\n      }\n\n      if ((rj.getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n        return;\n      }\n\n      if (!pairs.addPair(ri._index, rj._index)) {\n        // we've seen this pair\n        return;\n      }\n\n      // get predecessor in chain\n      let prerj = rj._index > 0 ? residues[rj._index - 1] : null;\n      if (prerj\n        && ((prerj.getType().flags & ResidueType.Flags.PROTEIN) === 0 || rj._sequence !== prerj._sequence + 1)) {\n        prerj = null;\n      }\n\n      self._calcHBondEnergy(preri, ri, rj);\n      if (rj._index !== ri._index + 1) {\n        self._calcHBondEnergy(prerj, rj, ri);\n      }\n    }\n\n    for (let i = 0; i < residues.length - 1; ++i) {\n      ri = residues[i];\n      if ((ri.getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n        continue;\n      }\n\n      // get predecessor in chain\n      preri = i > 0 ? residues[i - 1] : null;\n      if (preri\n        && ((preri.getType().flags & ResidueType.Flags.PROTEIN) === 0 || ri._sequence !== preri._sequence + 1)) {\n        preri = null;\n      }\n\n      vw.forEachAtomWithinRadius(this._residueGetCAlpha(ri), MAX_COUPLING_DISTANCE, processAtom);\n    }\n  }\n\n  _residueGetCAlpha(res) {\n    for (let i = 0; i < res._atoms.length; ++i) {\n      const { name } = res._atoms[i];\n      if (name === 'CA'\n        || name === 'C1') {\n        return res._atoms[i].position;\n      }\n    }\n\n    return null;\n  }\n\n  _residueGetCO(res) {\n    let c = null;\n    let o = null;\n\n    res.forEachAtom((a) => {\n      if (a.name === 'C') {\n        c = a.position;\n      } else if (a.name === 'O') {\n        o = a.position;\n      }\n    });\n\n    return [c, o];\n  }\n\n  // TODO Support hydrogen defined in complex\n  _residueGetNH(prev, res) {\n    const [c, o] = this._residueGetCO(prev);\n\n    let n;\n    res.forEachAtom((a) => {\n      if (a.name === 'N') {\n        n = a.position;\n      }\n    });\n\n    if (c && o && n) {\n      // calculate hydrogen position\n      const h = c.clone();\n      h.sub(o);\n      h.multiplyScalar(1.0 / h.length());\n      h.add(n);\n\n      return [n, h];\n    }\n\n    return [null, null];\n  }\n\n  _calcHBondEnergy(predonor, donor, acceptor) {\n    let result = 0;\n\n    if (predonor === null) {\n      return result;\n    }\n\n    if (donor.getType().getName() !== 'PRO') {\n      const [n, h] = this._residueGetNH(predonor, donor);\n      const [c, o] = this._residueGetCO(acceptor);\n\n      if (n === null || h === null || c === null || o === null) {\n        return result;\n      }\n\n      const distanceHO = h.distanceTo(o);\n      const distanceHC = h.distanceTo(c);\n      const distanceNC = n.distanceTo(c);\n      const distanceNO = n.distanceTo(o);\n\n      if (distanceHO < MINIMAL_DISTANCE || distanceHC < MINIMAL_DISTANCE\n          || distanceNC < MINIMAL_DISTANCE || distanceNO < MINIMAL_DISTANCE) {\n        result = MIN_HBOND_ENERGY;\n      } else {\n        result = COUPLING_CONSTANT / distanceHO - COUPLING_CONSTANT / distanceHC\n                 + COUPLING_CONSTANT / distanceNC - COUPLING_CONSTANT / distanceNO;\n      }\n\n      // DSSP compatibility mode:\n      result = Math.round(result * 1000) / 1000;\n\n      if (result < MIN_HBOND_ENERGY) {\n        result = MIN_HBOND_ENERGY;\n      }\n    }\n\n    // update donor\n    if (typeof this._hbonds[donor._index] === 'undefined') {\n      this._hbonds[donor._index] = {\n        donor: [],\n        acceptor: [],\n      };\n    }\n    const donorInfo = this._hbonds[donor._index];\n\n    if (donorInfo.acceptor.length < 2) {\n      donorInfo.acceptor.push({\n        residue: acceptor._index,\n        energy: result,\n      });\n    }\n\n    if (donorInfo.acceptor.length > 1) {\n      if (result < donorInfo.acceptor[0].energy) {\n        donorInfo.acceptor[1].residue = donorInfo.acceptor[0].residue;\n        donorInfo.acceptor[1].energy = donorInfo.acceptor[0].energy;\n        donorInfo.acceptor[0].residue = acceptor._index;\n        donorInfo.acceptor[0].energy = result;\n      } else if (result < donorInfo.acceptor[1].energy) {\n        donorInfo.acceptor[1].residue = acceptor._index;\n        donorInfo.acceptor[1].energy = result;\n      }\n    }\n\n    // update acceptor\n    if (typeof this._hbonds[acceptor._index] === 'undefined') {\n      this._hbonds[acceptor._index] = {\n        donor: [],\n        acceptor: [],\n      };\n    }\n    const accInfo = this._hbonds[acceptor._index];\n\n    if (accInfo.donor.length < 2) {\n      accInfo.donor.push({\n        residue: donor._index,\n        energy: result,\n      });\n    }\n\n    if (accInfo.donor.length > 1) {\n      if (result < accInfo.donor[0].energy) {\n        accInfo.donor[1].residue = accInfo.donor[0].residue;\n        accInfo.donor[1].energy = accInfo.donor[0].energy;\n        accInfo.donor[0].residue = donor._index;\n        accInfo.donor[0].energy = result;\n      } else if (result < accInfo.donor[1].energy) {\n        accInfo.donor[1].residue = donor._index;\n        accInfo.donor[1].energy = result;\n      }\n    }\n\n    return result;\n  }\n}\n","import HBondInfo from './HBondInfo';\nimport ResidueType from './ResidueType';\n\nconst BridgeType = Object.freeze({\n  NO_BRIDGE: 0,\n  PARALLEL: 1,\n  ANTI_PARALLEL: 2,\n});\n\nconst HelixFlag = Object.freeze({\n  START: 1,\n  MIDDLE: 2,\n  END: 3,\n  START_AND_END: 4,\n});\n\nconst StructureType = Object.freeze({\n  STRAND: 'E',\n  BRIDGE: 'B',\n  HELIX_310: 'G',\n  HELIX_ALPHA: 'H',\n  HELIX_PI: 'I',\n  TURN: 'T',\n  BEND: 'S',\n  LOOP: ' ',\n});\n\nexport default class SecondaryStructureMap {\n  constructor(complex) {\n    this._complex = complex;\n    this._build();\n  }\n\n  _build() {\n    const self = this;\n    this._hbonds = new HBondInfo(this._complex);\n    this._ss = []; // DSSP map by residue\n\n    // auxilliary data\n    this._sheet = [];\n    this._betaPartners = [];\n    this._bend = [];\n    for (let i = 0; i < this._complex.getResidues().length; ++i) {\n      this._betaPartners[i] = [];\n    }\n    this._helixFlags = [];\n    this._helixFlags[3] = [];\n    this._helixFlags[4] = [];\n    this._helixFlags[5] = [];\n\n    // calculate peptide chain lengths\n    this._chainLengths = [];\n    for (let i = 0; i < this._complex._chains.length; ++i) {\n      const chain = this._complex._chains[i].getResidues();\n      let len = 0;\n      for (; len < chain.length; ++len) {\n        if ((chain[len].getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n          break;\n        }\n      }\n      this._chainLengths[i] = len;\n    }\n\n    this._buildBetaSheets();\n\n    for (let i = 0; i < this._complex._chains.length; ++i) {\n      self._buildAlphaHelices(this._complex._chains[i].getResidues(), this._chainLengths[i], false);\n    }\n  }\n\n  _buildAlphaHelices(inResidues, chainLength, inPreferPiHelices) {\n    // Helix and Turn\n    for (let stride = 3; stride <= 5; ++stride) {\n      if (inResidues.length < stride) {\n        break;\n      }\n\n      for (let i = 0; i + stride < chainLength; ++i) {\n        if (this._hbonds.isBond(inResidues[i + stride]._index, inResidues[i]._index)\n        /* && NoChainBreak(res[i], res[i + stride]) */) {\n          this._helixFlags[stride][inResidues[i + stride]._index] = HelixFlag.END;\n          for (let j = i + 1; j < i + stride; ++j) {\n            if (typeof this._helixFlags[stride][inResidues[j]._index] === 'undefined') {\n              this._helixFlags[stride][inResidues[j]._index] = HelixFlag.MIDDLE;\n            }\n          }\n\n          if (this._helixFlags[stride][inResidues[i]._index] === HelixFlag.END) {\n            this._helixFlags[stride][inResidues[i]._index] = HelixFlag.START_AND_END;\n          } else {\n            this._helixFlags[stride][inResidues[i]._index] = HelixFlag.START;\n          }\n        }\n      }\n    }\n\n    for (let i = 2; i < chainLength - 2; ++i) {\n      const kappa = this._kappa(inResidues[i - 2], inResidues[i], inResidues[i + 2]);\n      this._bend[inResidues[i]._index] = (kappa !== 360 && kappa > 70);\n    }\n\n    for (let i = 1; i + 4 < chainLength; ++i) {\n      if (this._isHelixStart(inResidues[i]._index, 4) && this._isHelixStart(inResidues[i - 1]._index, 4)) {\n        for (let j = i; j <= i + 3; ++j) {\n          this._ss[inResidues[j]._index] = StructureType.HELIX_ALPHA;\n        }\n      }\n    }\n\n    for (let i = 1; i + 3 < chainLength; ++i) {\n      if (this._isHelixStart(inResidues[i]._index, 3) && this._isHelixStart(inResidues[i - 1]._index, 3)) {\n        let empty = true;\n        for (let j = i; empty && j <= i + 2; ++j) {\n          empty = typeof this._ss[inResidues[j]._index] === 'undefined'\n                  || this._ss[inResidues[j]._index] === StructureType.HELIX_310;\n        }\n        if (empty) {\n          for (let j = i; j <= i + 2; ++j) {\n            this._ss[inResidues[j]._index] = StructureType.HELIX_310;\n          }\n        }\n      }\n    }\n\n    for (let i = 1; i + 5 < chainLength; ++i) {\n      if (this._isHelixStart(inResidues[i]._index, 5) && this._isHelixStart(inResidues[i - 1]._index, 5)) {\n        let empty = true;\n        for (let j = i; empty && j <= i + 4; ++j) {\n          empty = typeof this._ss[inResidues[j]._index] === 'undefined'\n                  || this._ss[inResidues[j]._index] === StructureType.HELIX_PI\n                  || (inPreferPiHelices && this._ss[inResidues[j]._index] === StructureType.HELIX_ALPHA);\n        }\n        if (empty) {\n          for (let j = i; j <= i + 4; ++j) {\n            this._ss[inResidues[j]._index] = StructureType.HELIX_PI;\n          }\n        }\n      }\n    }\n\n    for (let i = 1; i + 1 < chainLength; ++i) {\n      if (typeof this._ss[inResidues[i]._index] === 'undefined') {\n        let isTurn = false;\n        for (let stride = 3; stride <= 5 && !isTurn; ++stride) {\n          for (let k = 1; k < stride && !isTurn; ++k) {\n            isTurn = (i >= k) && this._isHelixStart(inResidues[i - k]._index, stride);\n          }\n        }\n\n        if (isTurn) {\n          this._ss[inResidues[i]._index] = StructureType.TURN;\n        } else if (this._bend[inResidues[i]._index]) {\n          this._ss[inResidues[i]._index] = StructureType.BEND;\n        }\n      }\n    }\n  }\n\n  _residueGetCAlpha(res) {\n    for (let i = 0; i < res._atoms.length; ++i) {\n      const { name } = res._atoms[i];\n      if (name === 'CA'\n          || name === 'C1') {\n        return res._atoms[i].position;\n      }\n    }\n\n    return null;\n  }\n\n  _cosinusAngle(p1, p2, p3, p4) {\n    const v12 = p1.clone().sub(p2);\n    const v34 = p3.clone().sub(p4);\n\n    let result = 0;\n\n    const x = v12.dot(v12) * v34.dot(v34);\n    if (x > 0) {\n      result = v12.dot(v34) / Math.sqrt(x);\n    }\n\n    return result;\n  }\n\n  _kappa(prevPrev, res, nextNext) {\n    const curCA = this._residueGetCAlpha(res);\n    const ppCA = this._residueGetCAlpha(prevPrev);\n    const nnCA = this._residueGetCAlpha(nextNext);\n    if (curCA === null || ppCA === null || nnCA === null) {\n      return 180;\n    }\n\n    const ckap = this._cosinusAngle(curCA, ppCA, nnCA, curCA);\n    const skap = Math.sqrt(1 - ckap * ckap);\n    return Math.atan2(skap, ckap) * 180 / Math.PI;\n  }\n\n  _isHelixStart(res, stride) {\n    return (this._helixFlags[stride][res] === HelixFlag.START\n      || this._helixFlags[stride][res] === HelixFlag.START_AND_END);\n  }\n\n  _buildBetaSheets() {\n    // find bridges\n    // check each chain against each other chain, and against itself\n    const bridges = [];\n    for (let a = 0; a < this._complex._chains.length; ++a) {\n      const lenA = this._chainLengths[a];\n      if (lenA <= 4) {\n        continue;\n      }\n\n      const chainA = this._complex._chains[a].getResidues();\n\n      for (let b = a; b < this._complex._chains.length; ++b) {\n        const lenB = this._chainLengths[b];\n        if (lenB <= 4) {\n          continue;\n        }\n\n        const chainB = this._complex._chains[b].getResidues();\n\n        for (let i = 1; i + 1 < lenA; ++i) {\n          const ri = chainA[i];\n\n          let j = 1;\n          if (b === a) {\n            j = i + 3; // check for self-bridges forward down the chain\n          }\n\n          for (; j + 1 < lenB; ++j) {\n            const rj = chainB[j];\n\n            const type = this._testBridge(chainA, i, chainB, j);\n            if (type === BridgeType.NO_BRIDGE) {\n              continue;\n            }\n\n            // there is a bridge, try to attach it to previously found sequence\n            let found = false;\n            for (const bridge of bridges) {\n              if (type !== bridge.type || ri._index !== bridge.i[bridge.i.length - 1] + 1) {\n                continue;\n              }\n\n              if (type === BridgeType.PARALLEL && bridge.j[bridge.j.length - 1] + 1 === rj._index) {\n                bridge.i.push(ri._index);\n                bridge.j.push(rj._index);\n                found = true;\n                break;\n              }\n\n              if (type === BridgeType.ANTI_PARALLEL && bridge.j[0] - 1 === rj._index) {\n                bridge.i.push(ri._index);\n                bridge.j.unshift(rj._index);\n                found = true;\n                break;\n              }\n            }\n\n            // this bridge cannot be attached anywhere, start a new sequence\n            if (!found) {\n              bridges.push({\n                type,\n                i: [ri._index],\n                chainI: ri.getChain()._index,\n                j: [rj._index],\n                chainJ: rj.getChain()._index,\n              });\n            }\n          }\n        }\n      }\n    }\n\n    // extend ladders\n    bridges.sort((a, b) => {\n      if (a.chainI < b.chainI || (a.chainI === b.chainI && a.i[0] < b.i[0])) {\n        return -1;\n      }\n      return 1;\n    });\n\n    for (let i = 0; i < bridges.length; ++i) {\n      for (let j = i + 1; j < bridges.length; ++j) {\n        const ibi = bridges[i].i[0];\n        const iei = bridges[i].i[bridges[i].i.length - 1];\n        const jbi = bridges[i].j[0];\n        const jei = bridges[i].j[bridges[i].j.length - 1];\n        const ibj = bridges[j].i[0];\n        const iej = bridges[j].i[bridges[j].i.length - 1];\n        const jbj = bridges[j].j[0];\n        const jej = bridges[j].j[bridges[j].j.length - 1];\n\n        if (bridges[i].type !== bridges[j].type\n          || this._hasChainBreak(Math.min(ibi, ibj), Math.max(iei, iej))\n          || this._hasChainBreak(Math.min(jbi, jbj), Math.max(jei, jej))\n          || ibj - iei >= 6 || (iei >= ibj && ibi <= iej)) {\n          continue;\n        }\n\n        let bulge = false;\n        if (bridges[i].type === BridgeType.PARALLEL) {\n          bulge = ((jbj - jei < 6 && ibj - iei < 3) || (jbj - jei < 3));\n        } else {\n          bulge = ((jbi - jej < 6 && ibj - iei < 3) || (jbi - jej < 3));\n        }\n\n        if (bulge) {\n          bridges[i].i = bridges[i].i.concat(bridges[j].i);\n          if (bridges[i].type === BridgeType.PARALLEL) {\n            bridges[i].j = bridges[i].j.concat(bridges[j].j);\n          } else {\n            bridges[i].j = bridges[j].j.concat(bridges[i].j);\n          }\n          bridges.splice(j--, 1);\n        }\n      }\n    }\n\n    // Sheet\n    const ladderset = new Set();\n    for (let i = 0; i < bridges.length; ++i) {\n      ladderset.add(bridges[i]);\n    }\n\n    let sheet = 1;\n    let ladder = 0;\n    while (ladderset.size > 0) {\n      let bridge = ladderset.values().next().value;\n      ladderset.delete(bridge);\n\n      const sheetset = new Set();\n      sheetset.add(bridge);\n\n      let toMove;\n      do {\n        toMove = new Set();\n        for (const a of sheetset.values()) {\n          for (const b of ladderset.values()) {\n            if (this._areBridgesLinked(a, b)) {\n              toMove.add(b);\n            }\n          }\n        }\n        for (bridge of toMove.values()) {\n          sheetset.add(bridge);\n          ladderset.delete(bridge);\n        }\n      } while (toMove.size > 0);\n\n      for (bridge of sheetset.values()) {\n        bridge.ladder = ladder;\n        bridge.sheet = sheet;\n        bridge.link = sheetset;\n        ++ladder;\n      }\n\n      ++sheet;\n    }\n\n    for (let i = 0; i < bridges.length; ++i) {\n      const bridge = bridges[i];\n\n      // find out if any of the i and j set members already have\n      // a bridge assigned, if so, we're assigning bridge 2\n\n      let betai = 0;\n      let betaj = 0;\n\n      for (let l = 0; l < bridge.i.length; ++l) {\n        if (this._betaPartners[bridge.i[l]][0]) {\n          betai = 1;\n          break;\n        }\n      }\n\n      for (let l = 0; l < bridge.j.length; ++l) {\n        if (this._betaPartners[bridge.j[l]][0]) {\n          betaj = 1;\n          break;\n        }\n      }\n\n      let ss = StructureType.BRIDGE;\n      if (bridge.i.length > 1) {\n        ss = StructureType.STRAND;\n      }\n\n      if (bridge.type === BridgeType.PARALLEL) {\n        let j = 0;\n        for (let k = 0; k < bridge.i.length; ++k) {\n          this._betaPartners[bridge.i[k]][betai] = {\n            residue: bridge.j[j++],\n            ladder: bridge.ladder,\n            parallel: true,\n          };\n        }\n\n        j = 0;\n        for (let k = 0; k < bridge.j.length; ++k) {\n          this._betaPartners[bridge.j[k]][betaj] = {\n            residue: bridge.i[j++],\n            ladder: bridge.ladder,\n            parallel: true,\n          };\n        }\n      } else {\n        let j = bridge.j.length - 1;\n        for (let k = 0; k < bridge.i.length; ++k) {\n          this._betaPartners[bridge.i[k]][betai] = {\n            residue: bridge.j[j--],\n            ladder: bridge.ladder,\n            parallel: false,\n          };\n        }\n\n        j = bridge.i.length - 1;\n        for (let k = 0; k < bridge.j.length; ++k) {\n          this._betaPartners[bridge.j[k]][betaj] = {\n            residue: bridge.i[j--],\n            ladder: bridge.ladder,\n            parallel: false,\n          };\n        }\n      }\n\n      for (let k = bridge.i[0]; k <= bridge.i[bridge.i.length - 1]; ++k) {\n        if (this._ss[k] !== StructureType.STRAND) {\n          this._ss[k] = ss;\n          this._sheet[k] = bridge.sheet;\n        }\n      }\n\n      for (let k = bridge.j[0]; k <= bridge.j[bridge.j.length - 1]; ++k) {\n        if (this._ss[k] !== StructureType.STRAND) {\n          this._ss[k] = ss;\n          this._sheet[k] = bridge.sheet;\n        }\n      }\n    }\n  }\n\n  _testBridge(chainA, from, chainB, to) {\n    let result = BridgeType.NO_BRIDGE;\n\n    const a = chainA[from - 1]._index;\n    const b = chainA[from]._index;\n    const c = chainA[from + 1]._index;\n    const d = chainB[to - 1]._index;\n    const e = chainB[to]._index;\n    const f = chainB[to + 1]._index;\n\n    const isBond = this._hbonds.isBond.bind(this._hbonds);\n    if ((isBond(c, e) && isBond(e, a)) || (isBond(f, b) && isBond(b, d))) {\n      result = BridgeType.PARALLEL;\n    } else if ((isBond(c, d) && isBond(f, a)) || (isBond(e, b) && isBond(b, e))) {\n      result = BridgeType.ANTI_PARALLEL;\n    }\n    return result;\n  }\n\n  // return true if any of the residues in bridge a is identical to any of the residues in bridge b\n  _areBridgesLinked(a, b) {\n    const ai = new Set(a.i);\n    const aj = new Set(a.j);\n\n    for (const i of b.i) {\n      if (ai.has(i) || aj.has(i)) {\n        return true;\n      }\n    }\n\n    for (const i of b.j) {\n      if (ai.has(i) || aj.has(i)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  _hasChainBreak(from, to) {\n    for (let i = from + 1; i <= to; ++i) {\n      if (this._complex._residues[i]._sequence !== this._complex._residues[i - 1]._sequence + 1) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nSecondaryStructureMap.StructureType = StructureType;\n","import * as THREE from 'three';\nimport logger from '../utils/logger';\nimport Atom from './Atom';\nimport Chain from './Chain';\nimport Helix from './Helix';\nimport Strand from './Strand';\nimport Sheet from './Sheet';\nimport Component from './Component';\nimport ResidueType from './ResidueType';\nimport Bond from './Bond';\nimport AutoBond from './AutoBond';\nimport AromaticLoopsMarker from './AromaticLoopsMarker';\nimport BiologicalUnit from './BiologicalUnit';\nimport selectors from './selectors';\nimport VoxelWorld from './VoxelWorld';\nimport SecondaryStructureMap from './SecondaryStructureMap';\nimport StructuralElement from './StructuralElement';\n\nconst VOXEL_SIZE = 5.0;\n\nconst { StructureType } = SecondaryStructureMap;\nconst StructuralElementType = StructuralElement.Type;\n\n// see http://www.wwpdb.org/documentation/file-format-content/format33/sect5.html#HELIX\nconst helixClassMap = {\n  [StructureType.HELIX_ALPHA]: 1,\n  [StructureType.HELIX_PI]: 3,\n  [StructureType.HELIX_310]: 5,\n};\n\nconst loopMap = {\n  [StructureType.BRIDGE]: StructuralElementType.BRIDGE,\n  [StructureType.TURN]: StructuralElementType.TURN,\n  [StructureType.BEND]: StructuralElementType.BEND,\n  [StructureType.LOOP]: StructuralElementType.COIL,\n};\n\n/**\n * The entire complex of the molecules under study.\n *\n * @exports Complex\n * @constructor\n */\nclass Complex {\n  constructor() {\n    this._chains = [];\n    this._components = [];\n    this._helices = [];\n    this._sheets = [];\n    this.structures = [];\n\n    this._residueTypes = Object.create(ResidueType.StandardTypes);\n    this._atoms = [];\n    this._residues = [];\n    this._bonds = [];\n    this._sgroups = [];\n    this._molecules = [];\n    this._maskNeedsUpdate = false;\n\n    this.metadata = {};\n\n    this.symmetry = [];\n    this.units = [new BiologicalUnit(this)];\n    this._currentUnit = 0; // default biological unit is the asymmetric unit\n  }\n\n  addAtom(atom) {\n    const index = this._atoms.length;\n    this._atoms.push(atom);\n    return index;\n  }\n\n  addSheet(sheet) {\n    const index = this._sheets.length;\n    this._sheets.push(sheet);\n    return index;\n  }\n\n  addHelix(helix) {\n    const index = this._helices.length;\n    this._helices.push(helix);\n    return index;\n  }\n\n  getAtoms() {\n    return this._atoms;\n  }\n\n  getBonds() {\n    return this._bonds;\n  }\n\n  getAtomCount() {\n    return this._atoms.length;\n  }\n\n  addResidue(residue) {\n    const index = this._residues.length;\n    this._residues.push(residue);\n    return index;\n  }\n\n  updateToFrame(frameData) {\n    this.forEachChain((chain) => {\n      chain.updateToFrame(frameData);\n    });\n  }\n\n  addResidueType(resName) {\n    const rt = this._residueTypes[resName] = new ResidueType(resName, 'Unknown', '');\n    return rt;\n  }\n\n  getResidueCount() {\n    return this._residues.length;\n  }\n\n  getResidues() {\n    return this._residues;\n  }\n\n  getSGroupCount() {\n    return this._sgroups.length;\n  }\n\n  getSGroups() {\n    return this._sgroups;\n  }\n\n  /*\n     Extract atom by its fullname: #chainName#.#residueId#.#atomName#\n     */\n  getAtomByFullname(fullName) {\n    const parts = fullName.split('.');\n    if (parts.length !== 3) {\n      return null;\n    }\n\n    const chainName = parts[0];\n    const resId = parseInt(parts[1], 10);\n    if (Number.isNaN(resId)) {\n      return null;\n    }\n    const atomName = parts[2].toUpperCase();\n\n    let currAtom = null;\n    this.forEachChain((chain) => {\n      if (currAtom) {\n        return;\n      }\n      if (chain._name.localeCompare(chainName) === 0) {\n        chain.forEachResidue((residue) => {\n          if (currAtom) {\n            return;\n          }\n          if (residue._sequence === resId) {\n            residue.forEachAtom((atom) => {\n              if (currAtom) {\n                return;\n              }\n              if (atomName.localeCompare(atom.name) === 0) {\n                currAtom = atom;\n              }\n            });\n          }\n        });\n      }\n    });\n\n    return currAtom;\n  }\n\n  /**\n   * Create a new chain.\n   *\n   * @param {string} name - Chain name.\n   * @returns {Chain} - Newly created chain.\n   */\n  addChain(name) {\n    const result = new Chain(this, name);\n    this._chains.push(result);\n    return result;\n  }\n\n  getChain(name) {\n    for (let i = 0, n = this._chains.length; i < n; ++i) {\n      const chain = this._chains[i];\n      if (chain.getName() === name) {\n        return chain;\n      }\n    }\n    return null;\n  }\n\n  getChainCount() {\n    return this._chains.length;\n  }\n\n  getMolecules() {\n    return this._molecules;\n  }\n\n  getMoleculeCount() {\n    return this._molecules.length;\n  }\n\n  forEachAtom(process) {\n    const atoms = this._atoms;\n    for (let i = 0, n = atoms.length; i < n; ++i) {\n      process(atoms[i]);\n    }\n  }\n\n  forEachBond(process) {\n    const bonds = this._bonds;\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      process(bonds[i]);\n    }\n  }\n\n  forEachResidue(process) {\n    const residues = this._residues;\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      process(residues[i]);\n    }\n  }\n\n  forEachChain(process) {\n    const chains = this._chains;\n    for (let i = 0, n = chains.length; i < n; ++i) {\n      process(chains[i]);\n    }\n  }\n\n  forEachMolecule(process) {\n    const molecules = this._molecules;\n    const n = molecules.length;\n    for (let i = 0; i < n; ++i) {\n      process(molecules[i]);\n    }\n  }\n\n  forEachSGroup(process) {\n    const groups = this._sgroups;\n    for (let i = 0, n = groups.length; i < n; ++i) {\n      process(groups[i]);\n    }\n  }\n\n  forEachComponent(process) {\n    const components = this._components;\n    for (let i = 0, n = components.length; i < n; ++i) {\n      process(components[i]);\n    }\n  }\n\n  forEachVisibleComponent(process) {\n    const components = this._components;\n    for (let i = 0, n = components.length; i < n; ++i) {\n      process(components[i]);\n    }\n  }\n\n  addBond(left, right, order, type, fixed) {\n    const bond = new Bond(left, right, order, type, fixed);\n    this._bonds.push(bond);\n    return bond;\n  }\n\n  getBondCount() {\n    return this._bonds.length;\n  }\n\n  getResidueType(name) {\n    return this._residueTypes[name] || null;\n  }\n\n  getUnifiedSerial(chain, serial, iCode) {\n    /* eslint-disable no-magic-numbers */\n    const maxSerial = 65536;\n    const chainShift = maxSerial * 256;\n    /* eslint-enable no-magic-numbers */\n    return serial + iCode * maxSerial + chain * chainShift;\n  }\n\n  splitUnifiedSerial(uniSerial) {\n    /* eslint-disable no-magic-numbers */\n    const maxSerial = 65536;\n    const chainShift = maxSerial * 256;\n    /* eslint-enable no-magic-numbers */\n    const chainId = Math.floor(uniSerial / chainShift);\n    const remnant = uniSerial - chainId * chainShift;\n    const insCode = Math.floor(remnant / maxSerial);\n    const ser = remnant - insCode * maxSerial;\n    return { chain: chainId, serial: ser, iCode: insCode };\n  }\n\n  _fillCmpEdit() {\n    const self = this;\n    const components = this._components;\n\n    function addComp() {\n      const comp = new Component(self);\n      comp._index = components.length;\n      components[comp._index] = comp;\n      return comp;\n    }\n\n    this.forEachChain((chain) => {\n      const residues = chain._residues;\n      const resCount = residues.length;\n      if (resCount < 1) {\n        return;\n      }\n      let comp = addComp();\n      let currStart = residues[0]._index;\n\n      for (let i = 0; i < resCount; ++i) {\n        const currRes = residues[i];\n        currRes._component = comp;\n\n        const nextRes = i === resCount - 1 ? null : residues[i + 1];\n        if (!nextRes\n          || !currRes.isConnected(nextRes)\n          || currRes._index !== nextRes._index - 1) {\n          // the last condition is broken and incorrect\n          // the refactoring of the Component is required in order to fix this issue\n          comp.setSubDivs([{\n            start: currStart,\n            end: currRes._index,\n          }]);\n          if (nextRes) {\n            currStart = nextRes._index;\n            comp = addComp();\n          }\n        }\n      }\n    });\n  }\n\n  // This function was added in the moment of despair\n  // It was the dark times for miew\n  _fillCmpNoedit() {\n    const comp = new Component(this);\n    comp._index = 0;\n\n    const residues = this._residues;\n    const resCount = residues.length;\n    if (resCount === 0) {\n      return;\n    }\n\n    const currSubDivs = [];\n    let currStart = 0;\n    for (let i = 0; i < resCount; ++i) {\n      const currRes = residues[i];\n      currRes._component = comp;\n\n      const nextRes = i === resCount - 1 ? null : residues[i + 1];\n      if (!nextRes\n        || !currRes.isConnected(nextRes)) {\n        // wrap up this interval\n        currSubDivs[currSubDivs.length] = {\n          start: currStart,\n          end: i,\n        };\n        if (nextRes) {\n          currStart = i + 1;\n        }\n      }\n    }\n\n    comp.setSubDivs(currSubDivs);\n    this._components[comp._index] = comp;\n  }\n\n  /**\n   * Fill components information.\n   * @param {boolean} enableEditing - Restructure Complex to enable per-component editing.\n   */\n  _fillComponents(enableEditing) {\n    if (enableEditing) {\n      this._fillCmpEdit();\n    } else {\n      this._fillCmpNoedit();\n    }\n  }\n\n  getCurrentUnit() {\n    return this._currentUnit;\n  }\n\n  getDefaultBoundaries() {\n    return this.units[0].getBoundaries();\n  }\n\n  getBoundaries() {\n    return this.units[this._currentUnit].getBoundaries();\n  }\n\n  getTransforms() {\n    return this.units[this._currentUnit].getTransforms();\n  }\n\n  getSelector() {\n    return this.units[this._currentUnit].getSelector();\n  }\n\n  resetCurrentUnit() {\n    this._currentUnit = 0;\n    this.setCurrentUnit(1);\n  }\n\n  setCurrentUnit(newUnit) {\n    if (newUnit !== null && newUnit !== undefined\n      && newUnit !== this._currentUnit\n      && newUnit >= 0\n      && newUnit < this.units.length) {\n      this._currentUnit = newUnit;\n      return true;\n    }\n    return false;\n  }\n\n  _computeBounds() {\n    const { units } = this;\n    for (let i = 0, n = units.length; i < n; ++i) {\n      units[i].computeBoundaries();\n    }\n  }\n\n  onAtomPositionChanged() {\n    this.forEachChain((a) => {\n      a._finalize();\n    });\n    this.forEachComponent((c) => {\n      c.update();\n    });\n    // Update bounding sphere and box\n    this._computeBounds();\n    this._finalizeBonds();\n    this.forEachSGroup((s) => {\n      s._rebuildSGroupOnAtomChange();\n    });\n  }\n\n  update() {\n    if (this._maskNeedsUpdate) {\n      this.updateStructuresMask();\n      this._maskNeedsUpdate = false;\n    }\n  }\n\n  _finalizeBonds() {\n    const bonds = this.getBonds();\n    const n = bonds.length;\n    for (let i = 0; i < n; ++i) {\n      bonds[i]._index = i;\n    }\n  }\n\n  /**\n   * Finalizes complex's inner data(i.e. after parsing).\n   * @param {objects} opts - Build bonds automatically.\n   * @param {boolean} opts.needAutoBonding     - Build bonds automatically.\n   * @param {boolean} opts.detectAromaticLoops - Find/mark aromatic loops.\n   * @param {boolean} opts.enableEditing       - Restructure Complex to enable per-component editing.\n   * @param {Array<Atom>} [opts.serialAtomMap] - Array of atoms ordered by their serials.\n   */\n  finalize(opts) {\n    opts = opts || {};\n    // Put bonds into atoms\n    const bonds = this._bonds;\n    let i;\n    let n;\n    // remove invalid bonds\n    for (i = bonds.length - 1; i >= 0; i--) {\n      const bond = bonds[i];\n      if (bond._left === null || bond._right === null) {\n        bonds.splice(i, 1);\n      } else {\n        bond._left.bonds.push(bond);\n        bond._right.bonds.push(bond);\n      }\n    }\n\n    const residues = this._residues;\n    for (i = 0, n = residues.length; i < n; ++i) {\n      residues[i]._finalize();\n    }\n\n    this.forEachChain((a) => {\n      a._finalize();\n    });\n\n    // WARNING! this MUST be done BEFORE computeBounds is called\n    const { units } = this;\n    for (i = 0, n = units.length; i < n; ++i) {\n      units[i].finalize();\n    }\n    // try setting first biomolecule by defaults\n    this.setCurrentUnit(1);\n\n    const residueHash = {};\n    for (i = 0, n = residues.length; i < n; ++i) {\n      const res = residues[i];\n      // This code is extremely dangerous for non-PDB formats\n      residueHash[this.getUnifiedSerial(\n        res.getChain().getName().charCodeAt(0),\n        res.getSequence(), res.getICode().charCodeAt(0),\n      )] = res;\n    }\n\n    const { structures } = this;\n    for (i = 0, n = structures.length; i < n; ++i) {\n      structures[i]._finalize(opts.serialAtomMap, residueHash, this);\n    }\n\n    const helices = this._helices;\n    for (i = 0, n = helices.length; i < n; ++i) {\n      helices[i]._finalize(opts.serialAtomMap, residueHash, this);\n    }\n\n    const sheets = this._sheets;\n    for (i = 0, n = sheets.length; i < n; ++i) {\n      sheets[i]._finalize(opts.serialAtomMap, residueHash, this);\n    }\n\n    // Update bounding sphere and box\n    this._computeBounds();\n\n    const atoms = this._atoms;\n    for (i = 0, n = atoms.length; i < n; ++i) {\n      const currAtom = atoms[i];\n      currAtom.index = i;\n    }\n\n    if (opts.needAutoBonding) {\n      const autoConnector = new AutoBond(this);\n      autoConnector.build();\n      autoConnector.destroy();\n    }\n\n    const chains = this._chains;\n    for (i = 0, n = chains.length; i < n; ++i) {\n      chains[i]._index = i;\n    }\n\n    for (i = 0, n = residues.length; i < n; ++i) {\n      residues[i]._index = i;\n    }\n\n    // mark non-polar hydrogens\n    for (i = 0, n = atoms.length; i < n; ++i) {\n      const atom = atoms[i];\n      if (atom.flags & Atom.Flags.HYDROGEN && atom.bonds.length === 1) {\n        const bond = atom.bonds[0];\n        const other = (bond._left !== atom && bond._left) || bond._right;\n        if (other.flags & Atom.Flags.CARBON) {\n          atom.flags |= Atom.Flags.NONPOLARH;\n        }\n      }\n    }\n\n    this._finalizeBonds();\n    this._fillComponents(opts.enableEditing);\n\n    const marker = new AromaticLoopsMarker(this);\n    marker.markCycles();\n    if (opts.detectAromaticLoops) { // TODO remove this condition clause, it is for debug purposes only!\n      marker.detectCycles(); // TODO add conditional detection\n    }\n\n    this._finalizeMolecules();\n  }\n\n  _finalizeMolecules() {\n    // add reference to molecule into residue\n    for (let i = 0; i < this._molecules.length; i++) {\n      const molecule = this._molecules[i];\n      const count = molecule.residues.length;\n      for (let j = 0; j < count; j++) {\n        const residue = molecule.residues[j];\n        residue._molecule = molecule;\n      }\n    }\n  }\n\n  updateStructuresMask() {\n    const updater = (structure) => structure.collectMask();\n    this.forEachResidue(updater);\n    this.forEachChain(updater);\n    this.forEachMolecule(updater);\n  }\n\n  countAtomsByMask(mask) {\n    let count = 0;\n\n    this.forEachAtom((atom) => {\n      if ((atom.mask & mask) !== 0) {\n        count++;\n      }\n    });\n\n    return count;\n  }\n\n  getNumAtomsBySelector(selector) {\n    let count = 0;\n\n    this.forEachAtom((atom) => {\n      if (selector.includesAtom(atom)) {\n        count++;\n      }\n    });\n\n    return count;\n  }\n\n  resetAtomMask(mask) {\n    this.forEachAtom((atom) => {\n      atom.mask = mask;\n    });\n  }\n\n  markAtoms(selector, mask) {\n    const setMask = mask;\n    const clearMask = ~setMask;\n    let count = 0;\n    const totalSelector = selectors.keyword('And')(selector, this.getSelector());\n\n    this.forEachAtom((atom) => {\n      if (totalSelector.includesAtom(atom)) {\n        atom.mask |= setMask;\n        count++;\n      } else {\n        atom.mask &= clearMask;\n      }\n    });\n    this._maskNeedsUpdate = true;\n\n    return count;\n  }\n\n  markAtomsAdditionally(selector, mask) {\n    const setMask = mask;\n    let count = 0;\n\n    this.forEachAtom((atom) => {\n      if (selector.includesAtom(atom) && (atom.mask & mask) !== mask) {\n        atom.mask |= setMask;\n        count++;\n      }\n    });\n\n    return count;\n  }\n\n  clearAtomBits(mask) {\n    const clearMask = ~mask;\n    this.forEachAtom((atom) => {\n      atom.mask &= clearMask;\n    });\n    const reseter = (a) => {\n      a._mask &= clearMask;\n    };\n    this.forEachAtom(reseter);\n    this.forEachResidue(reseter);\n    this.forEachChain(reseter);\n    this.forEachMolecule(reseter);\n  }\n\n  getAtomNames() {\n    if (this.hasOwnProperty('_atomNames')) {\n      return this._atomNames;\n    }\n\n    const dict = {};\n    this.forEachAtom((atom) => {\n      dict[atom.name] = 1;\n    });\n    this._atomNames = Object.keys(dict);\n\n    return this._atomNames;\n  }\n\n  getElements() {\n    if (this.hasOwnProperty('_elements')) {\n      return this._elements;\n    }\n\n    const dict = {};\n    this.forEachAtom((atom) => {\n      dict[atom.element.name] = 1;\n    });\n    this._elements = Object.keys(dict);\n\n    return this._elements;\n  }\n\n  getResidueNames() {\n    if (this.hasOwnProperty('_residueNames')) {\n      return this._residueNames;\n    }\n\n    const dict = {};\n    this.forEachResidue((res) => {\n      dict[res._type._name] = 1;\n    });\n    this._residueNames = Object.keys(dict);\n\n    return this._residueNames;\n  }\n\n  getChainNames() {\n    if (this.hasOwnProperty('_chainNames')) {\n      return this._chainNames;\n    }\n\n    const dict = {};\n    this.forEachChain((chain) => {\n      dict[chain._name] = 1;\n    });\n    this._chainNames = Object.keys(dict);\n\n    return this._chainNames;\n  }\n\n  getAltLocNames() {\n    if (this.hasOwnProperty('_altlocNames')) {\n      return this._altlocNames;\n    }\n\n    const dict = {};\n    this.forEachAtom((atom) => {\n      dict[String.fromCharCode(atom.location)] = 1;\n    });\n    this._altlocNames = Object.keys(dict);\n\n    return this._altlocNames;\n  }\n\n  getVoxelWorld() {\n    if (!this.hasOwnProperty('_voxelWorld')) {\n      try {\n        this._voxelWorld = new VoxelWorld(\n          this.getDefaultBoundaries().boundingBox,\n          new THREE.Vector3(VOXEL_SIZE, VOXEL_SIZE, VOXEL_SIZE),\n        );\n        this._voxelWorld.addAtoms(this);\n      } catch (e) {\n        logger.warn('Unable to create voxel world');\n        this._voxelWorld = null;\n      }\n    }\n\n    return this._voxelWorld;\n  }\n\n  /**\n   * Simple function to make unified routine procedure without code duplication.\n   * @param {Array} srcArray   - Source chemical structure array (will be part of resulting chemical structure array).\n   * @param {Array} dstArray   - Resulting chemical structure array.\n   * @param {number} param     - Parameter for processor.\n   * @param {function} functor - Processor for every element in array.\n   */\n  addElement(srcArray, dstArray, param, functor) {\n    const { length } = srcArray;\n    for (let i = 0; i < length; ++i) {\n      const elem = srcArray[i];\n      functor(elem, param);\n      dstArray.push(elem);\n    }\n  }\n\n  // this function joins multiple complexes into one (this)\n  // atom, bond, ... objects are reused -- so input complexes are no longer valid\n  joinComplexes(complexes) {\n    // clear target complex\n    this._chains = [];\n    this._components = [];\n    this._helices = [];\n    this._sheets = [];\n    this.structures = [];\n    this._atoms = [];\n    this._residues = [];\n    this._bonds = [];\n    this._sgroups = [];\n\n    const self = this;\n    let atomBias = 0;\n    let bondBias = 0;\n    let residueBias = 0;\n    let chainBias = 0;\n    let componentBias = 0;\n\n    function processAtom(atom, bias) {\n      atom.serial += bias;\n      atom.index += bias;\n    }\n\n    function processBond(bond, bias) {\n      bond._index += bias;\n    }\n\n    function processResidue(residue, bias) {\n      residue._index += bias;\n    }\n\n    function processChain(chain, bias) {\n      chain._complex = self;\n      chain._index += bias;\n    }\n\n    function processComponent(component, bias) {\n      component._complex = self;\n      component._index += bias;\n    }\n\n    /**\n     * Simple function to do nothing.\n     */\n    function doNothing() {\n    }\n\n    for (let i = 0; i < complexes.length; ++i) {\n      const c = complexes[i];\n      this.addElement(c._atoms, this._atoms, atomBias, processAtom);\n      this.addElement(c._bonds, this._bonds, bondBias, processBond);\n      this.addElement(c._residues, this._residues, residueBias, processResidue);\n      this.addElement(c._chains, this._chains, chainBias, processChain);\n      this.addElement(c._sheets, this._sheets, 0, doNothing);\n      this.addElement(c._helices, this._helices, 0, doNothing);\n      this.addElement(c._sgroups, this._sgroups, 0, doNothing);\n      this.addElement(c._components, this._components, componentBias, processComponent);\n      this.addElement(c.structures, this.structures, 0, doNothing);\n      // merge residue types\n      for (const rt in c._residueTypes) {\n        if (c._residueTypes.hasOwnProperty(rt)) {\n          this._residueTypes[rt] = c._residueTypes[rt];\n        }\n      }\n\n      atomBias += c._atoms.length;\n      bondBias += c._bonds.length;\n      residueBias += c._residues.length;\n      chainBias += c._chains.length;\n      componentBias += c._components.length;\n    }\n\n    this._computeBounds();\n  }\n\n  /**\n   * Replace secondary structure with calculated one.\n   *\n   * DSSP algorithm implementation is used.\n   *\n   * Kabsch W, Sander C. 1983. Dictionary of protein secondary structure: pattern recognition of hydrogen-bonded and\n   * geometrical features. Biopolymers. 22(12):2577-2637. doi:10.1002/bip.360221211.\n   */\n  dssp() {\n    const ssMap = new SecondaryStructureMap(this);\n\n    const structures = this.structures = [];\n    const helices = this._helices = [];\n    const sheets = this._sheets = [];\n\n    const getSheet = (index) => {\n      let item = sheets[index];\n      if (!item) {\n        item = sheets[index] = new Sheet(String(index), 0);\n      }\n      return item;\n    };\n\n    let lastCode;\n    let lastSheetIndex;\n    let lastHelixIndex = 0;\n    let curStructure = null;\n    for (let i = 0, n = this._residues.length; i < n; ++i) {\n      const curCode = ssMap._ss[i];\n      const curResidue = this._residues[i];\n      const curSheetIndex = ssMap._sheet[i];\n\n      // expand the last structure\n      if (curCode === lastCode && curSheetIndex === lastSheetIndex) {\n        curResidue._secondary = curStructure;\n        if (curStructure) {\n          curStructure.term = curResidue;\n        }\n        if (curStructure instanceof Helix) {\n          curStructure.length++;\n        }\n        continue;\n      }\n\n      // create a new structure\n      const helixClass = helixClassMap[curCode];\n      const loopType = loopMap[curCode];\n      if (curCode === StructureType.STRAND) {\n        const curSheet = getSheet(curSheetIndex);\n        curStructure = new Strand(curSheet, curResidue, curResidue, 0, null, null);\n        curSheet.addStrand(curStructure);\n      } else if (helixClass !== undefined) {\n        lastHelixIndex++;\n        curStructure = new Helix(helixClass, curResidue, curResidue, lastHelixIndex, String(lastHelixIndex), '', 1);\n        helices.push(curStructure);\n      } else if (loopType !== undefined) {\n        curStructure = new StructuralElement(loopType, curResidue, curResidue);\n      } else {\n        curStructure = null;\n      }\n\n      if (curStructure) {\n        structures.push(curStructure);\n      }\n\n      curResidue._secondary = curStructure;\n\n      lastCode = curCode;\n      lastSheetIndex = curSheetIndex;\n    }\n\n    this._sheets = sheets.filter((_sheet) => true); // squeeze sheets array\n  }\n}\n\nComplex.prototype.id = 'Complex';\nComplex.prototype.name = '';\n\nexport default Complex;\n","import * as THREE from 'three';\nimport utils from '../utils';\n\nfunction pow2ceil(v) {\n  let p = 2;\n  v = (v - 1) >> 1;\n  while (v) {\n    p <<= 1;\n    v >>= 1;\n  }\n  return p;\n}\n\n/**\n * Volume constructor\n *\n * @param {Object} type - Float32Array, Int8Array, etc...\n * @param {Object|Array} dimensions - number of data points on each axis (x, y, z)\n * @param {Box3} box - bounding box defining data place in metric space,\n *                     it's corners correspond to extreme data points\n * @param {Number} vecSize - dimension of the field data point (1 = scalar, 3 = 3D vector)\n * @param {Object} data - typed array of the same type as specified by the 1st parameter,\n *                        layout: point by point along X,\n *                                row by row along Y,\n *                                plane by plane along Z\n * @param {Number} volumeInfo - volume info values to define threshold to filter the noise\n */\n\nclass Volume {\n  constructor(type, dimensions, box, vecSize, data, volumeInfo) {\n    this._box = box.clone();\n    this._dimVec = Math.max(Math.floor(vecSize || 1), 1);\n    this._volumeInfo = volumeInfo;\n\n    if (dimensions instanceof Array) {\n      [this._dimX, this._dimY, this._dimZ] = dimensions;\n    } else {\n      this._dimX = dimensions.x;\n      this._dimY = dimensions.y;\n      this._dimZ = dimensions.z;\n    }\n    this._dimX = Math.max(Math.floor(this._dimX), 1);\n    this._dimY = Math.max(Math.floor(this._dimY), 1);\n    this._dimZ = Math.max(Math.floor(this._dimZ), 1);\n\n    this._rowElements = this._dimVec * this._dimX;\n    this._planeElements = this._rowElements * this._dimY;\n    this._totalElements = this._planeElements * this._dimZ;\n\n    this._data = data || utils.allocateTyped(type, this._totalElements);\n\n    // override getter/setter for vector fields\n    switch (this._dimVec) {\n      case 1:\n        break;\n\n      case 2:\n        this.getValue = function (x, y, z) {\n          const idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          return [this._data[idx], this._data[idx + 1]];\n        };\n\n        this.setValue = function (x, y, z, a, b) {\n          const idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] = a;\n          this._data[idx + 1] = b;\n        };\n\n        this.addValue = function (x, y, z, a, b) {\n          const idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] += a;\n          this._data[idx + 1] += b;\n        };\n        break;\n\n      case 3:\n        this.getValue = function (x, y, z) {\n          const idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          return [this._data[idx], this._data[idx + 1], this._data[idx + 2]];\n        };\n\n        this.setValue = function (x, y, z, a, b, c) {\n          const idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] = a;\n          this._data[idx + 1] = b;\n          this._data[idx + 2] = c;\n        };\n\n        this.addValue = function (x, y, z, a, b, c) {\n          const idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] += a;\n          this._data[idx + 1] += b;\n          this._data[idx + 2] += c;\n        };\n        break;\n\n      default:\n        throw new Error('Volume: invalid vector dimension');\n    }\n  }\n\n  // default getter assumes it's a scalar field\n  getValue(x, y, z) {\n    return this._data[x + y * this._rowElements + z * this._planeElements];\n  }\n\n  // default setter assumes it's a scalar field\n  setValue(x, y, z, val) {\n    this._data[x + y * this._rowElements + z * this._planeElements] = val;\n  }\n\n  // default adder assumes it's a scalar field\n  addValue(x, y, z, val) {\n    this._data[x + y * this._rowElements + z * this._planeElements] += val;\n  }\n\n  getDimensions() {\n    return [this._dimX, this._dimY, this._dimZ];\n  }\n\n  getBox() {\n    return this._box;\n  }\n\n  getVolumeInfo() {\n    return this._volumeInfo;\n  }\n\n  getCellSize() {\n    const boxSize = new THREE.Vector3();\n    this._box.getSize(boxSize);\n    const res = new THREE.Vector3();\n    res.x = this._dimX > 1 ? boxSize.x / (this._dimX - 1) : 0;\n    res.y = this._dimY > 1 ? boxSize.y / (this._dimY - 1) : 0;\n    res.z = this._dimZ > 1 ? boxSize.z / (this._dimZ - 1) : 0;\n    return res;\n  }\n\n  computeGradient() {\n    if (this._dimVec !== 1) {\n      // gradient can only be computed for scalar fields\n      return null;\n    }\n\n    // create a 3D vector field of gradients\n    const gradient = new Volume(Float32Array, [this._dimX, this._dimY, this._dimZ], this._box, 3);\n\n    // calculate cell side lengths\n    const vl = this.getCellSize();\n\n    // gradient axis scaling values and averaging factors, to correctly\n    // calculate the gradient for volumes with irregular cell spacing\n    const vs = new THREE.Vector3(-0.5 / vl.x, -0.5 / vl.y, -0.5 / vl.z);\n\n    // TODO Check for intended bug in VMD (min is zero)\n    function clamp(val, min, max) {\n      return Math.min(max, Math.max(min, val));\n    }\n\n    const xSize = this._dimX;\n    const ySize = this._dimY;\n    const zSize = this._dimZ;\n    const volMap = this._data;\n\n    function _voxelValue(x, y, z) {\n      return volMap[z * xSize * ySize + y * xSize + x];\n    }\n\n    for (let zi = 0; zi < zSize; ++zi) {\n      const zm = clamp(zi - 1, 0, zSize - 1);\n      const zp = clamp(zi + 1, 0, zSize - 1);\n\n      for (let yi = 0; yi < ySize; ++yi) {\n        const ym = clamp(yi - 1, 0, ySize - 1);\n        const yp = clamp(yi + 1, 0, ySize - 1);\n\n        for (let xi = 0; xi < xSize; ++xi) {\n          const xm = clamp(xi - 1, 0, xSize - 1);\n          const xp = clamp(xi + 1, 0, xSize - 1);\n\n          // Calculate the volume gradient at each grid cell.\n          // Gradients are now stored unnormalized, since we need them in pure\n          // form in order to draw field lines etc.  Shading code will now have\n          // to do renormalization for itself on-the-fly.\n\n          // XXX this gradient is only correct for orthogonal grids, since\n          // we're using the array index offsets rather to calculate the gradient\n          // rather than voxel coordinate offsets.  This will have to be\n          // re-worked for non-orthogonal datasets.\n\n          gradient.setValue(\n            xi, yi, zi,\n            (_voxelValue(xp, yi, zi) - _voxelValue(xm, yi, zi)) * vs.x,\n            (_voxelValue(xi, yp, zi) - _voxelValue(xi, ym, zi)) * vs.y,\n            (_voxelValue(xi, yi, zp) - _voxelValue(xi, yi, zm)) * vs.z,\n          );\n        }\n      }\n    }\n\n    return gradient;\n  }\n\n  normalize() {\n    const data = this._data;\n\n    // get min/max\n    let min = data[0];\n    let max = data[0];\n    for (let i = 1; i < data.length; ++i) {\n      min = Math.min(min, data[i]);\n      max = Math.max(max, data[i]);\n    }\n\n    const d = 1.0 / (max - min);\n    if (d === 0) {\n      return;\n    }\n\n    // normalize\n    for (let i = 0; i < data.length; ++i) {\n      data[i] = d * (data[i] - min);\n    }\n  }\n\n  getTiledTextureStride() {\n    return [this._dimX + 2, this._dimY + 2];\n  }\n\n  buildTiledTexture() {\n    let tilesX = Math.ceil(Math.sqrt(this._dimZ * this._dimY / this._dimX));\n\n    let width = tilesX * (this._dimX + 2) - 1;\n    width = pow2ceil(width);\n    tilesX = Math.floor(width / (this._dimX + 2));\n\n    const tilesY = Math.ceil(this._dimZ / tilesX);\n    let height = tilesY * (this._dimY + 2) - 1;\n    height = pow2ceil(height);\n\n    const data = new Uint8Array(width * height);\n\n    let src;\n    let dst;\n    for (let tileRow = 0; tileRow < tilesY; ++tileRow) {\n      // process each pixel row of this tile row\n      for (let row = 0; row < this._dimY; ++row) {\n        src = tileRow * tilesX * this._planeElements + row * this._rowElements;\n        dst = width * (tileRow * (this._dimY + 2) + row);\n        // copy a series of rows through several XY planes\n        for (let t = 0; t < tilesX; ++t) {\n          // copy one row of one XY plane\n          for (let x = 0; x < this._dimX; ++x) {\n            data[dst++] = 255.0 * this._data[src++];\n          }\n\n          // repeat last pixel of previous tile\n          data[dst++] = 255.0 * this._data[src - 1];\n\n          if (t < tilesX - 1) {\n            // skip to the same row of next XY plane\n            src += this._planeElements - this._rowElements;\n            // repeat first pixel of next tile\n            data[dst++] = 255.0 * this._data[src];\n          }\n        }\n      }\n    }\n\n    // fill pixels between tile rows with copy of edge pixels\n    for (let tileRow = 0; tileRow < tilesY; ++tileRow) {\n      // copy last pixel row of this tile row to the following pixel row of the texture\n      src = width * (tileRow * (this._dimY + 2) + this._dimY - 1);\n      dst = src + width;\n      for (let x = 0; x < width; ++x) {\n        data[dst++] = data[src++];\n      }\n      if (tileRow < tilesY - 1) {\n        // copy first pixel row of next tile row to the preceding pixel row of the texture\n        src = width * (tileRow + 1) * (this._dimY + 2);\n        dst = src - width;\n        for (let x = 0; x < width; ++x) {\n          data[dst++] = data[src++];\n        }\n      }\n    }\n\n    const texture = new THREE.DataTexture(\n      data, width, height, THREE.LuminanceFormat, THREE.UnsignedByteType,\n      THREE.UVMapping, THREE.ClampToEdgeWrapping, THREE.ClampToEdgeWrapping, THREE.LinearFilter, THREE.LinearFilter,\n    );\n    texture.needsUpdate = true;\n    return texture;\n  }\n\n  /* ********************************************************************************\n   *\n   * Methods that provide direct access to internal array (for better performance)\n   *\n   ******************************************************************************** */\n\n  getData() {\n    return this._data;\n  }\n\n  getDirectIdx(x, y, z) {\n    return x * this._dimVec + y * this._rowElements + z * this._planeElements;\n  }\n\n  getStrideX() {\n    return this._dimVec;\n  }\n\n  getStrideY() {\n    return this._rowElements;\n  }\n\n  getStrideZ() {\n    return this._planeElements;\n  }\n}\n\nVolume.prototype.id = 'Volume';\n\nexport default Volume;\n","/**\n * Residue Molecule.\n *\n * @param {Complex} complex - Molecular complex this Molecule belongs to.\n * @param {String} name - Molecule's name.\n * @param {Integer} index - Molecule's index in file.\n *\n * @exports Molecule\n * @constructor\n */\nclass Molecule {\n  constructor(complex, name, index) {\n    this.complex = complex;\n    this.name = name || '';\n    this.residues = [];\n    this.mask = 1 | 0;\n    this.index = index || -1; // start with 1\n  }\n\n  forEachResidue(process) {\n    const { residues } = this;\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      process(residues[i]);\n    }\n  }\n\n  collectMask() {\n    let mask = 0xffffffff;\n    const { residues } = this;\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      mask &= residues[i]._mask;\n    }\n    this.mask = mask;\n  }\n}\n\nexport default Molecule;\n","import Atom from './chem/Atom';\nimport Element from './chem/Element';\nimport Bond from './chem/Bond';\nimport Residue from './chem/Residue';\nimport ResidueType from './chem/ResidueType';\nimport Chain from './chem/Chain';\nimport Helix from './chem/Helix';\nimport Strand from './chem/Strand';\nimport Sheet from './chem/Sheet';\nimport SGroup from './chem/SGroup';\nimport Assembly from './chem/Assembly';\nimport Complex from './chem/Complex';\nimport Volume from './chem/Volume';\nimport VoxelWorld from './chem/VoxelWorld';\nimport selectors from './chem/selectors';\nimport Molecule from './chem/Molecule';\n\nexport default {\n  Atom,\n  Element,\n  Bond,\n  Residue,\n  ResidueType,\n  Chain,\n  Helix,\n  Strand,\n  Sheet,\n  SGroup,\n  Assembly,\n  Complex,\n  Volume,\n  VoxelWorld,\n  selectors,\n  Molecule,\n};\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nimport * as THREE from 'three';\n\nclass CSS2DObject extends THREE.Object3D {\n  constructor(element) {\n    super();\n    const self = this;\n    this._element = element;\n    this._element.style.position = 'absolute';\n    this.addEventListener('removed', () => {\n      if (self._element.parentNode !== null) {\n        self._element.parentNode.removeChild(self._element);\n      }\n    });\n  }\n\n  getElement() {\n    return this._element;\n  }\n\n  /**\n   * Sets label transparency.\n   *\n   * @param {number} transp    - in [0; 1] 1 means fully transparent\n   */\n  setTransparency(transp) {\n    const el = this.getElement();\n    if (el === null) {\n      return;\n    }\n    if (transp === 1.0) {\n      el.style.display = 'none';\n      return;\n    }\n    el.style.display = 'inline';\n    const op = 1.0 - transp;\n    const top = op.toString();\n    const op100 = op * 100;\n    el.style.opacity = top;\n    el.style.filter = `alpha(opacity=${op100})`; // IE fallback\n  }\n\n  clone() {\n    const obj = new CSS2DObject(this._element);\n    obj.copy(this);\n    return obj;\n  }\n}\n\n\nexport default CSS2DObject;\n","import * as THREE from 'three';\n\nclass RCGroup extends THREE.Group {\n  raycast(raycaster, intersects) {\n    if (!this.visible) {\n      return;\n    }\n\n    const { children } = this;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      children[i].raycast(raycaster, intersects);\n    }\n  }\n\n  enableSubset(mask, innerOnly) {\n    const { children } = this;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].enableSubset) {\n        children[i].enableSubset(mask, innerOnly);\n      }\n    }\n  }\n\n  disableSubset(mask, innerOnly) {\n    const { children } = this;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].disableSubset) {\n        children[i].disableSubset(mask, innerOnly);\n      }\n    }\n  }\n\n  isEmpty() {\n    return this.children.length === 0;\n  }\n\n  updateToFrame(frameData) {\n    const { children } = this;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].updateToFrame) {\n        children[i].updateToFrame(frameData);\n      }\n    }\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = [];\n    const { children } = this;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        Array.prototype.push.apply(totalSubset, children[i].getSubset(mask, innerOnly));\n      }\n    }\n    return totalSubset;\n  }\n}\n\nexport default RCGroup;\n","export default {\n\n  precision: 'mediump',\n\n  /**\n   *\n   * @param {THREE.WebGLRenderer} renderer\n   */\n  init(renderer) {\n    this.precision = renderer.capabilities.getMaxPrecision('highp');\n  },\n};\n","import * as THREE from 'three';\n\nconst noiseWidth = 4;\nconst noiseHeight = 4;\nconst _noiseData = new Uint8Array([\n  24, 52, 0, 254, 145, 0, 122, 0, 0, 7, 170, 0,\n  34, 214, 0, 173, 8, 0, 86, 249, 0, 160, 4, 0,\n  226, 46, 0, 224, 211, 0, 3, 157, 0, 174, 247, 0,\n  12, 182, 0, 220, 216, 0, 1, 109, 0, 253, 154, 0,\n]);\nconst _noiseWrapS = THREE.RepeatWrapping;\nconst _noiseWrapT = THREE.RepeatWrapping;\nconst _noiseMinFilter = THREE.NearestFilter;\nconst _noiseMagFilter = THREE.NearestFilter;\nconst _noiseMapping = THREE.UVMapping;\nconst noiseTexture = new THREE.DataTexture(\n  _noiseData, noiseWidth, noiseHeight, THREE.RGBFormat,\n  THREE.UnsignedByteType, _noiseMapping, _noiseWrapS, _noiseWrapT, _noiseMagFilter, _noiseMinFilter, 1,\n);\nnoiseTexture.needsUpdate = true;\n\nexport default {\n  noiseWidth,\n  noiseHeight,\n  noiseTexture,\n};\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexShader from './Uber.vert';\nimport fragmentShader from './Uber.frag';\nimport capabilities from '../capabilities';\nimport noise from '../noiseTexture';\n\n// Length of _samplesKernel is used in Uber.frag\n// If you want to change length of _samplesKernel, please, remember change it in Uber.frag too.\n// You can easy find places for replace using word:_samplesKernel\nconst _samplesKernel = [\n  new THREE.Vector2(-0.541978, 0.840393),\n  new THREE.Vector2(0.125533, -0.992089),\n  new THREE.Vector2(0.374329, 0.927296),\n  new THREE.Vector2(-0.105475, 0.994422),\n];\n\nconst defaultUniforms = THREE.UniformsUtils.merge([\n\n  THREE.UniformsLib.fog,\n  THREE.UniformsLib.lights,\n\n  {\n    // are updated automatically by three.js (see THREE.ShaderLib.common)\n    diffuse: { value: new THREE.Color(0xeeeeee) },\n    opacity: { value: 1.0 },\n\n    specular: { type: 'c', value: new THREE.Color(0x111111) },\n    shininess: { type: 'f', value: 30 },\n    fixedColor: { type: 'c', value: new THREE.Color(0xffffff) },\n    zOffset: { type: 'f', value: 0.0 },\n    zClipValue: { type: 'f', value: 0.0 },\n    clipPlaneValue: { type: 'f', value: 0.0 },\n    invModelViewMatrix: { type: '4fv', value: new THREE.Matrix4() },\n    world2colorMatrix: { type: '4fv', value: new THREE.Matrix4() },\n    dashedLineSize: { type: 'f', value: 0.1 },\n    dashedLinePeriod: { type: 'f', value: 0.2 },\n    projMatrixInv: { type: '4fv', value: new THREE.Matrix4() },\n    viewport: { type: 'v2', value: new THREE.Vector2() },\n    lineWidth: { type: 'f', value: 2.0 },\n    // default value must be the same as settings\n    fogAlpha: { type: 'f', value: 1.0 },\n    samplesKernel: { type: 'v2v', value: null },\n    noiseTex: { type: 't', value: null },\n    noiseTexelSize: { type: 'v2', value: null },\n    srcTexelSize: { type: 'v2', value: null },\n    toonBorder: { type: 'v3', value: new THREE.Vector3(0.0, 0.7, 1.0) },\n    toonRange: { type: 'v2', value: new THREE.Vector2(0.5, 0.95) },\n  },\n\n]);\n\nconst uberOptionNames = [\n  'shininess',\n  'opacity',\n  'zOffset',\n  'diffuse',\n  'specular',\n  'fixedColor',\n  'zClipCoef',\n  'zClipValue',\n  'clipPlaneValue',\n  'world2colorMatrix',\n  'dashedLineSize',\n  'dashedLinePeriod',\n  'projMatrixInv',\n  'viewport',\n  'lineWidth',\n  'fogAlpha',\n  'samplesKernel',\n  'noiseTex',\n  'noiseTexelSize',\n  'srcTexelSize',\n  'toonBorder',\n  'toonRange',\n];\n\nfunction UberMaterial(params) {\n  THREE.RawShaderMaterial.call(this);\n\n  // add fog\n  this.fog = true;\n  // used for instanced geometry\n  this.instancedPos = false;\n  this.instancedMatrix = false;\n  // atoms and links color\n  this.attrColor = false;\n  // second link color for cylinders\n  this.attrColor2 = false;\n  //\n  this.attrAlphaColor = false;\n  // overrides color for all vertices (used in selection)\n  this.overrideColor = false;\n  // zsrpites\n  this.sphereSprite = false;\n  this.cylinderSprite = false;\n  // clip Surfs individually\n  this.zClip = false;\n  // clip scene with global clip plane\n  this.clipPlane = false;\n  // enable fake (chess-like) opacity\n  this.fakeOpacity = false;\n  // render only depth, don't take care about the pixel color (used for transparency depth prepass)\n  this.prepassTransparancy = false;\n  // used to render pixel positions\n  this.colorFromPos = false;\n  // used to render shadowmap\n  this.shadowmap = false;\n  // used to describe shadowmap type\n  this.shadowmapType = 'random';\n  // used to render pixel view deph\n  this.colorFromDepth = false;\n  // used to render dashed line\n  this.dashedLine = false;\n  // mark as transparent\n  this.transparent = true;\n  // mark as thick lines\n  this.thickLine = false;\n  // makes fog begin transparency (required for transparent background)\n  this.fogTransparent = false;\n  // used to render surface normals to G buffer for ssao effect\n  this.normalsToGBuffer = false;\n  // used for toon material\n  this.toonShading = false;\n\n  // uber options of \"root\" materials are inherited from single uber-options object that resides in prototype\n  this.uberOptions = Object.create(UberMaterial.prototype.uberOptions);\n\n  // set default values\n  THREE.RawShaderMaterial.prototype.setValues.call(this, {\n    uniforms: THREE.UniformsUtils.clone(defaultUniforms),\n    vertexShader: this.precisionString() + vertexShader,\n    fragmentShader: this.precisionString() + fragmentShader,\n    lights: true,\n    fog: true,\n    side: THREE.DoubleSide,\n  });\n\n  this.setValues(params);\n}\n\nUberMaterial.prototype = Object.create(THREE.RawShaderMaterial.prototype);\nUberMaterial.prototype.constructor = UberMaterial;\n\nUberMaterial.prototype.precisionString = function () {\n  const { precision } = capabilities;\n  const str = `precision ${precision} float;\\n`\n    + `precision ${precision} int;\\n\\n`;\n  return str;\n};\n\n// properties that convert to uniforms\nUberMaterial.prototype.uberOptions = {\n  diffuse: new THREE.Color(0xffffff), // used in phong lighting\n  specular: new THREE.Color(0x111111), // used in phong lighting\n  shininess: 30, // used in phong lighting\n  opacity: 1, // set mesh opacity\n  fixedColor: new THREE.Color(0xffffff), // color to override (see OVERRIDE_COLOR)\n  zOffset: 0.0, // used fo zsprites (see SPHERE_SPRITE CYLINDER_SPRITE)\n  zClipCoef: 2.0, // use for Surfs clipping (mesh param, isn't used in shader)  FIXME move to representation param\n  zClipValue: 0.0, //  value to clip Surfs in shader  (see ZCLIP)\n  clipPlaneValue: 0.0, // value to clip scene globally (see CLIPPLANE)\n  world2colorMatrix: new THREE.Matrix4(),\n  dashedLineSize: 0.1,\n  dashedLinePeriod: 0.3,\n  projMatrixInv: new THREE.Matrix4(),\n  viewport: new THREE.Vector2(800, 600),\n  lineWidth: 2.0,\n  fogAlpha: 1.0,\n  samplesKernel: _samplesKernel,\n  noiseTex: noise.noiseTexture,\n  noiseTexelSize: new THREE.Vector2(1.0 / noise.noiseWidth, 1.0 / noise.noiseHeight),\n  srcTexelSize: new THREE.Vector2(1.0 / 800.0, 1.0 / 600.0),\n  toonBorder: new THREE.Vector3(0.0, 0.7, 1.0),\n  toonRange: new THREE.Vector2(0.5, 0.95),\n\n  copy(source) {\n    this.diffuse.copy(source.diffuse);\n    this.specular.copy(source.specular);\n    this.shininess = source.shininess;\n    this.opacity = source.opacity;\n    this.fixedColor.copy(source.fixedColor);\n    this.zOffset = source.zOffset;\n    this.zClipCoef = source.zClipCoef;\n    this.zClipValue = source.zClipValue;\n    this.clipPlaneValue = source.clipPlaneValue;\n    this.world2colorMatrix.copy(source.world2colorMatrix);\n    this.dashedLineSize = source.dashedLineSize;\n    this.dashedLinePeriod = source.dashedLinePeriod;\n    this.projMatrixInv = source.projMatrixInv;\n    this.viewport = source.viewport;\n    this.lineWidth = source.lineWidth; // used for thick lines only\n    this.toonShading = source.toonShading;\n    this.fogAlpha = source.fogAlpha;\n    this.samplesKernel = source.samplesKernel;\n    this.noiseTex = source.noiseTex;\n    this.noiseTexelSize = source.noiseTexelSize;\n    this.srcTexelSize = source.srcTexelSize;\n    this.toonBorder = source.toonBorder;\n    this.toonRange = source.toonRange;\n  },\n};\n\nUberMaterial.prototype.copy = function (source) {\n  THREE.RawShaderMaterial.prototype.copy.call(this, source);\n\n  this.fragmentShader = source.fragmentShader;\n  this.vertexShader = source.vertexShader;\n\n  this.uniforms = THREE.UniformsUtils.clone(source.uniforms);\n  this.defines = { ...source.defines };\n  this.extensions = source.extensions;\n\n  this.fog = source.fog;\n  this.instancedPos = source.instancedPos;\n  this.instancedMatrix = source.instancedMatrix;\n  this.attrColor = source.attrColor;\n  this.attrColor2 = source.attrColor2;\n  this.attrAlphaColor = source.attrAlphaColor;\n  this.overrideColor = source.overrideColor;\n  this.sphereSprite = source.sphereSprite;\n  this.cylinderSprite = source.cylinderSprite;\n  this.zClip = source.zClip;\n  this.clipPlane = source.clipPlane;\n  this.fakeOpacity = source.fakeOpacity;\n  this.colorFromPos = source.colorFromPos;\n  this.shadowmap = source.shadowmap;\n  this.shadowmapType = source.shadowmapType;\n  this.colorFromDepth = source.colorFromDepth;\n  this.prepassTransparancy = source.prepassTransparancy;\n  this.dashedLine = source.dashedLine;\n  this.thickLine = source.thickLine;\n  this.fogTransparent = source.fogTransparent;\n  this.normalsToGBuffer = source.normalsToGBuffer;\n  this.toonShading = source.toonShading;\n\n  this.uberOptions.copy(source.uberOptions);\n\n  return this;\n};\n\n// create copy of this material\n// its options are prototyped after this material's options\nUberMaterial.prototype.createInstance = function () {\n  const inst = new UberMaterial();\n  inst.copy(this);\n  inst.uberOptions = Object.create(this.uberOptions);\n  return inst;\n};\n\nUberMaterial.prototype.setValues = function (values) {\n  if (typeof values === 'undefined') {\n    return;\n  }\n\n  // set direct values\n  THREE.RawShaderMaterial.prototype.setValues.call(this, values);\n\n  const defines = {};\n  const extensions = {};\n\n  if (this.fog) {\n    defines.USE_FOG = 1;\n  }\n  if (this.instancedPos) {\n    defines.INSTANCED_POS = 1;\n  }\n  if (this.instancedMatrix) {\n    defines.INSTANCED_MATRIX = 1;\n  }\n  if (this.attrColor) {\n    defines.ATTR_COLOR = 1;\n  }\n  if (this.attrColor2) {\n    defines.ATTR_COLOR2 = 1;\n  }\n  if (this.attrAlphaColor) {\n    defines.ATTR_ALPHA_COLOR = 1;\n  }\n  if (this.overrideColor) {\n    defines.OVERRIDE_COLOR = 1;\n  }\n  if (this.sphereSprite) {\n    defines.SPHERE_SPRITE = 1;\n    extensions.fragDepth = 1;\n  }\n  if (this.cylinderSprite) {\n    defines.CYLINDER_SPRITE = 1;\n    extensions.fragDepth = 1;\n  }\n  if (this.zClip) {\n    defines.ZCLIP = 1;\n  }\n  if (this.clipPlane) {\n    defines.CLIP_PLANE = 1;\n  }\n  if (this.fakeOpacity) {\n    defines.FAKE_OPACITY = 1;\n  }\n  if (this.lights) {\n    defines.USE_LIGHTS = 1;\n  }\n  if (this.colorFromPos) {\n    defines.COLOR_FROM_POS = 1;\n  }\n  if (this.shadowmap) {\n    defines.SHADOWMAP = 1;\n    if (this.shadowmapType === 'pcf') {\n      defines.SHADOWMAP_PCF_SHARP = 1;\n    } else if (this.shadowmapType === 'random') {\n      defines.SHADOWMAP_PCF_RAND = 1;\n    } else {\n      defines.SHADOWMAP_BASIC = 1;\n    }\n  }\n  if (this.colorFromDepth) {\n    defines.COLOR_FROM_DEPTH = 1;\n  }\n  if (this.prepassTransparancy) {\n    defines.PREPASS_TRANSP = 1;\n  }\n  if (this.dashedLine) {\n    defines.DASHED_LINE = 1;\n  }\n  if (this.thickLine) {\n    defines.THICK_LINE = 1;\n  }\n  if (this.fogTransparent) {\n    defines.FOG_TRANSPARENT = 1;\n  }\n  if (this.normalsToGBuffer) {\n    extensions.drawBuffers = 1;\n    defines.NORMALS_TO_G_BUFFER = 1;\n  }\n  if (this.toonShading) {\n    defines.TOON_SHADING = 1;\n  }\n  // set dependent values\n  this.defines = defines;\n  this.extensions = extensions;\n};\n\nUberMaterial.prototype.setUberOptions = function (values) {\n  if (typeof values === 'undefined') {\n    return;\n  }\n\n  for (const key in values) {\n    if (!values.hasOwnProperty(key)) {\n      continue;\n    }\n\n    if (this.uberOptions[key] instanceof THREE.Color) {\n      this.uberOptions[key] = values[key].clone();\n    } else {\n      this.uberOptions[key] = values[key];\n    }\n  }\n};\n\nUberMaterial.prototype.clone = function (shallow) {\n  if (!shallow) {\n    return THREE.Material.prototype.clone.call(this);\n  }\n  return this.createInstance();\n};\n\nUberMaterial.prototype.updateUniforms = function () {\n  const self = this;\n\n  uberOptionNames.forEach((p) => {\n    if (self.uniforms.hasOwnProperty(p)) {\n      if (self.uberOptions[p] instanceof THREE.Color\n            || self.uberOptions[p] instanceof THREE.Matrix4) {\n        self.uniforms[p].value = self.uberOptions[p].clone();\n      } else {\n        self.uniforms[p].value = self.uberOptions[p];\n      }\n    }\n  });\n};\n\nexport default UberMaterial;\n","/* eslint-disable no-magic-numbers */\nimport * as THREE from 'three';\nimport _ from 'lodash';\nimport logger from '../utils/logger';\nimport CSS2DObject from './CSS2DObject';\nimport RCGroup from './RCGroup';\nimport vertexScreenQuadShader from './shaders/ScreenQuad.vert';\nimport fragmentScreenQuadFromTex from './shaders/ScreenQuadFromTex.frag';\nimport fragmentScreenQuadFromTexWithDistortion from './shaders/ScreenQuadFromTexWithDistortion.frag';\nimport UberMaterial from './shaders/UberMaterial';\n\nconst LAYERS = {\n  DEFAULT: 0, VOLUME: 1, TRANSPARENT: 2, PREPASS_TRANSPARENT: 3, VOLUME_BFPLANE: 4, COLOR_FROM_POSITION: 5, SHADOWMAP: 6,\n};\n\nconst SELECTION_LAYERS = [ // These layers, that are used in the selection by ray casting\n  LAYERS.DEFAULT, LAYERS.TRANSPARENT,\n];\n\nTHREE.Object3D.prototype.resetTransform = function () {\n  this.position.set(0, 0, 0);\n  this.quaternion.set(0, 0, 0, 1);\n  this.scale.set(1, 1, 1);\n};\n\n// update world matrix of this object and all its ancestors\nTHREE.Object3D.prototype.updateMatrixWorldRecursive = function () {\n  if (this.parent != null) {\n    this.parent.updateMatrixWorldRecursive();\n  }\n  this.updateMatrixWorld();\n};\n// add object to parent, saving objects' world transform\nTHREE.Object3D.prototype.addSavingWorldTransform = (function () {\n  const _worldMatrixInverse = new THREE.Matrix4();\n\n  return function (object) {\n    if (object instanceof THREE.Object3D) {\n      _worldMatrixInverse.getInverse(this.matrixWorld);\n      _worldMatrixInverse.multiply(object.matrixWorld);\n      object.matrix.copy(_worldMatrixInverse);\n      object.matrix.decompose(object.position, object.quaternion, object.scale);\n      this.add(object);\n    }\n  };\n}());\n\n// render a tiny transparent quad in the center of the screen\nTHREE.WebGLRenderer.prototype.renderDummyQuad = (function () {\n  const _material = new THREE.MeshBasicMaterial({ transparent: true, opacity: 0.0, depthWrite: false });\n\n  const _scene = new THREE.Scene();\n  const _quad = new THREE.Mesh(new THREE.PlaneBufferGeometry(0.01, 0.01), _material);\n  _scene.add(_quad);\n\n  const _camera = new THREE.OrthographicCamera(-0.5, 0.5, 0.5, -0.5, -10000, 10000);\n  _camera.position.z = 100;\n\n  return function () {\n    this.render(_scene, _camera);\n  };\n}());\n\nTHREE.WebGLRenderer.prototype.renderScreenQuad = (function () {\n  const _scene = new THREE.Scene();\n  const _quad = new THREE.Mesh(new THREE.PlaneBufferGeometry(1.0, 1.0));\n  _scene.add(_quad);\n\n  const _camera = new THREE.OrthographicCamera(-0.5, 0.5, 0.5, -0.5, -10000, 10000);\n  _camera.position.z = 100;\n\n\n  return function (material) {\n    _quad.material = material;\n    this.render(_scene, _camera);\n  };\n}());\n\nTHREE.Matrix4.prototype.isIdentity = (function () {\n  const identity = new THREE.Matrix4();\n  return function () {\n    return identity.equals(this);\n  };\n}());\n\nTHREE.Matrix4.prototype.applyToPointsArray = function (array, stride, w) {\n  if (!array || !stride || stride < 3) {\n    return array;\n  }\n  w = w || 0; // use point as normal by default\n  const e = this.elements;\n  for (let i = 0; i < array.length; i += stride) {\n    const x = array[i];\n    const y = array[i + 1];\n    const z = array[i + 2];\n\n    const persp = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);\n\n    array[i] = (e[0] * x + e[4] * y + e[8] * z + e[12] * w) * persp;\n    array[i + 1] = (e[1] * x + e[5] * y + e[9] * z + e[13] * w) * persp;\n    array[i + 2] = (e[2] * x + e[6] * y + e[10] * z + e[14] * w) * persp;\n  }\n  return array;\n};\n\nclass ScreenQuadMaterial extends THREE.RawShaderMaterial {\n  constructor(params) {\n    if (params.uniforms === undefined) {\n      params.uniforms = {};\n    }\n    params.uniforms.srcTex = { type: 't', value: null };\n    params.vertexShader = vertexScreenQuadShader;\n    params.transparent = false;\n    params.depthTest = false;\n    params.depthWrite = false;\n    super(params);\n  }\n}\n\nTHREE.WebGLRenderer.prototype.renderScreenQuadFromTex = (function () {\n  const _material = new ScreenQuadMaterial({\n    uniforms: { opacity: { type: 'f', value: 1.0 } },\n    fragmentShader: fragmentScreenQuadFromTex,\n    transparent: true,\n  });\n\n\n  return function (srcTex, opacity) {\n    _material.uniforms.srcTex.value = srcTex;\n    _material.transparent = (opacity < 1.0);\n    _material.uniforms.opacity.value = opacity;\n    this.renderScreenQuad(_material);\n  };\n}());\n\nTHREE.WebGLRenderer.prototype.renderScreenQuadFromTexWithDistortion = (function () {\n  const _material = new ScreenQuadMaterial({\n    uniforms: { coef: { type: 'f', value: 1.0 } },\n    fragmentShader: fragmentScreenQuadFromTexWithDistortion,\n  });\n\n\n  return function (srcTex, coef) {\n    _material.uniforms.srcTex.value = srcTex;\n    _material.uniforms.coef.value = coef;\n    this.renderScreenQuad(_material);\n  };\n}());\n\n/**\n * @param {number} angle - Field of view in degrees.\n */\nTHREE.PerspectiveCamera.prototype.setMinimalFov = function (angle) {\n  if (this.aspect >= 1.0) {\n    this.fov = angle;\n  } else {\n    this.fov = THREE.Math.radToDeg(2 * Math.atan(Math.tan(THREE.Math.degToRad(angle) * 0.5) / this.aspect));\n  }\n};\n\n/**\n * @param {THREE.PerspectiveCamera} camera - Base camera for this stereo camera.\n * @param {number} angle - Field of view in degrees.\n */\nTHREE.StereoCamera.prototype.updateHalfSized = function (camera, angle) {\n  const originalAspect = camera.aspect;\n  const originalFov = camera.fov;\n\n  camera.aspect = originalAspect / 2.0;\n  camera.setMinimalFov(angle);\n  camera.updateProjectionMatrix();\n\n  this.update(camera);\n\n  camera.aspect = originalAspect;\n  camera.fov = originalFov;\n  camera.updateProjectionMatrix();\n};\n\n/**\n * @param {number} radius - Radius of bounding sphere in angstroms to fit on screen.\n * @param {number} angle - Field of view in degrees.\n */\nTHREE.PerspectiveCamera.prototype.setDistanceToFit = function (radius, angle) {\n  this.position.z = radius / Math.sin(0.5 * THREE.Math.degToRad(angle));\n};\n\n/**\n * @param {RCGroup} gfxObj - All objects on scene.\n * @param {THREE.PerspectiveCamera} camera - Camera used for rendering.\n * @param {number} clipPlane - Distance to clip plane.\n * @param {number} fogFarPlane - Distance to fog far plane.\n */\nTHREE.Raycaster.prototype.intersectVisibleObject = function (gfxObj, camera, clipPlane, fogFarPlane) {\n  const intersects = this.intersectObject(gfxObj, false);\n  if (intersects.length === 0) {\n    return null;\n  }\n\n  // find point closest to camera that doesn't get clipped by camera near plane or clipPlane (if it exists)\n  const nearPlane = Math.min(camera.near, clipPlane);\n  let i;\n  let p = intersects[0];\n  const v = new THREE.Vector3();\n  for (i = 0; i < intersects.length; ++i) {\n    p = intersects[i];\n    v.copy(p.point);\n    v.applyMatrix4(camera.matrixWorldInverse);\n    if (v.z <= -nearPlane) {\n      break;\n    }\n  }\n  if (i === intersects.length) {\n    return null;\n  }\n\n  // check that selected intersection point is not clipped by camera far plane or occluded by fog (if it exists)\n  const farPlane = Math.min(camera.far, fogFarPlane);\n  v.copy(p.point);\n  v.applyMatrix4(camera.matrixWorldInverse);\n  if (v.z <= -farPlane) {\n    return null;\n  }\n  return p;\n};\n\nTHREE.Matrix4.prototype.extractScale = (function () {\n  const _v = new THREE.Vector3();\n\n  return function (scale) {\n    if (scale === undefined) {\n      logger.debug('extractScale(): new is too expensive operation to do it on-the-fly');\n      scale = _v.clone();\n    }\n\n    const te = this.elements;\n    scale.x = _v.set(te[0], te[1], te[2]).length();\n    scale.y = _v.set(te[4], te[5], te[6]).length();\n    scale.z = _v.set(te[8], te[9], te[10]).length();\n\n    // if determine is negative, we need to invert one scale\n    const det = this.determinant();\n    if (det < 0) {\n      scale.x = -scale.x;\n    }\n    return scale;\n  };\n}());\n\nfunction _calcCylinderMatrix(posBegin, posEnd, radius) {\n  const posCenter = posBegin.clone().lerp(posEnd, 0.5);\n  const matScale = new THREE.Matrix4();\n  matScale.makeScale(radius, posBegin.distanceTo(posEnd), radius);\n\n  const matRotHalf = new THREE.Matrix4();\n  matRotHalf.makeRotationX(Math.PI / 2);\n\n  const matRotLook = new THREE.Matrix4();\n  const vUp = new THREE.Vector3(0, 1, 0);\n  matRotLook.lookAt(posCenter, posEnd, vUp);\n\n  matRotLook.multiply(matRotHalf);\n  matRotLook.multiply(matScale);\n  matRotLook.setPosition(posCenter);\n  return matRotLook;\n}\n\nfunction _calcChunkMatrix(eye, target, up, rad) {\n  const matScale = new THREE.Matrix4();\n  matScale.makeScale(rad.x, rad.y, 0);\n\n  const matRotLook = new THREE.Matrix4();\n  matRotLook.lookAt(eye, target, up);\n  matRotLook.multiply(matScale);\n  matRotLook.setPosition(eye);\n\n  return matRotLook;\n}\n\nfunction _forEachMeshInGroup(group, process) {\n  function processObj(object) {\n    if (object instanceof THREE.Mesh) {\n      process(object);\n    }\n    for (let i = 0, l = object.children.length; i < l; i++) {\n      processObj(object.children[i]);\n    }\n  }\n  processObj(group);\n}\n\nfunction _countMeshTriangles(mesh) {\n  const geom = mesh.geometry;\n  if (geom instanceof THREE.InstancedBufferGeometry) {\n    const attribs = geom.attributes;\n    for (const property in attribs) {\n      if (attribs.hasOwnProperty(property) && attribs[property] instanceof THREE.InstancedBufferAttribute) {\n        const currAttr = attribs[property];\n        const indexSize = geom.index ? geom.index.array.length / 3 : 0;\n        return indexSize * currAttr.array.length / currAttr.itemSize;\n      }\n    }\n    return 0;\n  }\n  if (geom instanceof THREE.BufferGeometry) {\n    return geom.index ? geom.index.array.length / 3 : 0;\n  }\n  return geom.faces ? geom.faces.length : 0;\n}\n\nfunction _countTriangles(group) {\n  let totalCount = 0;\n  _forEachMeshInGroup(group, (mesh) => {\n    totalCount += _countMeshTriangles(mesh);\n  });\n  return totalCount;\n}\n\nfunction _groupHasGeometryToRender(group) {\n  let hasGeoms = false;\n  group.traverse((node) => {\n    if (node.hasOwnProperty('geometry') || node instanceof CSS2DObject) {\n      hasGeoms = true;\n    }\n  });\n  return hasGeoms;\n}\n\nfunction _buildDistorionMesh(widthSegments, heightSegements, coef) {\n  // solve equation r_u = r_d * (1 + k * r_d^2)\n  // for r_d using iterations\n  // takes: r_u^2\n  // returns: r_d / r_u  factor that can be used to distort point coords\n  function calcInverseBarrel(r2) {\n    const epsilon = 1e-5;\n    let prevR2 = 0.0;\n    let curR2 = r2;\n    let dr = 1.0;\n    while (Math.abs(curR2 - prevR2) > epsilon) {\n      dr = 1.0 + coef * curR2;\n      prevR2 = curR2;\n      curR2 = r2 / (dr * dr);\n    }\n\n    return 1.0 / dr;\n  }\n\n  const geo = new THREE.PlaneBufferGeometry(2.0, 2.0, widthSegments, heightSegements);\n\n  const pos = geo.getAttribute('position');\n  for (let i = 0; i < pos.count; ++i) {\n    const x = pos.array[3 * i];\n    const y = pos.array[3 * i + 1];\n    const c = calcInverseBarrel(x * x + y * y);\n    pos.setXY(i, c * x, c * y);\n  }\n\n  return geo;\n}\n\nTHREE.BufferAttribute.prototype.copyAtList = function (attribute, indexList) {\n  console.assert(\n    this.itemSize === attribute.itemSize,\n    'DEBUG: BufferAttribute.copyAtList buffers have different item size.',\n  );\n  const { itemSize } = this;\n  for (let i = 0, n = indexList.length; i < n; ++i) {\n    for (let j = 0; j < itemSize; ++j) {\n      this.array[i * itemSize + j] = attribute.array[indexList[i] * itemSize + j];\n    }\n  }\n  return this;\n};\n\nfunction fillArray(array, value, startIndex, endIndex) {\n  startIndex = (typeof startIndex !== 'undefined') ? startIndex : 0;\n  endIndex = (typeof endIndex !== 'undefined') ? endIndex : array.length;\n  for (let i = startIndex; i < endIndex; ++i) {\n    array[i] = value;\n  }\n}\n\n/** @param {THREE.Object3D} object - Parent object. */\nfunction removeChildren(object) {\n  const { children } = object;\n  for (let i = 0, n = children.length; i < n; ++i) {\n    const child = children[i];\n    child.parent = null;\n    child.dispatchEvent({ type: 'removed' });\n  }\n  object.children = [];\n}\n\nfunction clearTree(object) {\n  object.traverse((obj) => {\n    if (obj instanceof THREE.Mesh || obj instanceof THREE.LineSegments || obj instanceof THREE.Line) {\n      obj.geometry.dispose();\n    }\n  });\n  removeChildren(object);\n}\n\nfunction destroyObject(object) {\n  clearTree(object);\n  if (object.parent) {\n    object.parent.remove(object);\n  } else {\n    object.dispatchEvent({ type: 'removed' });\n  }\n}\n\nfunction belongToSelectLayers(object) {\n  for (let i = 0; i < SELECTION_LAYERS.length; i++) {\n    if (((object.layers.mask >> SELECTION_LAYERS[i]) & 1) === 1) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction _getMeshesArr(root, meshTypes) {\n  const meshes = [];\n  root.traverse((object) => {\n    for (let i = 0; i < meshTypes.length; i++) {\n      if (object instanceof meshTypes[i]) {\n        meshes[meshes.length] = object;\n        break;\n      }\n    }\n  });\n  return meshes;\n}\n\nfunction applyTransformsToMeshes(root, mtc) {\n  const mtcCount = mtc.length;\n  if (mtcCount < 1) {\n    return;\n  }\n\n  const meshes = _getMeshesArr(root, [THREE.Mesh, THREE.LineSegments, THREE.Line]);\n\n  for (let i = 0, n = meshes.length; i < n; ++i) {\n    const mesh = meshes[i];\n    const { parent } = mesh;\n    if (!parent) {\n      continue;\n    }\n    mesh.applyMatrix(mtc[0]);\n    for (let j = 1; j < mtcCount; ++j) {\n      const newMesh = new mesh.constructor(mesh.geometry, mesh.material);\n      parent.add(newMesh);\n      newMesh.applyMatrix(mtc[j]);\n    }\n  }\n}\n\nfunction processTransparentMaterial(root, material) {\n  if (!(material instanceof UberMaterial)) {\n    return;\n  }\n\n  const meshes = _getMeshesArr(root, [THREE.Mesh, THREE.LineSegments]);\n\n  for (let i = 0, n = meshes.length; i < n; ++i) {\n    const mesh = meshes[i];\n    const { parent } = mesh;\n    if (!parent) {\n      continue;\n    }\n    mesh.material.setValues({ prepassTransparancy: false, fakeOpacity: false });\n    mesh.material.needsUpdate = true;\n    mesh.layers.set(LAYERS.TRANSPARENT);\n\n    // copy of geometry with prepass material\n    const prepassMat = mesh.material.createInstance();\n    prepassMat.setValues({ prepassTransparancy: true, fakeOpacity: false });\n    const prepassMesh = new mesh.constructor(mesh.geometry, prepassMat);\n    _.forEach(['transparent', 'colorFromDepth', 'lights', 'shadowmap', 'fog'],\n      (value) => {\n        prepassMesh.material[value] = false;\n      });\n    prepassMesh.material.needsUpdate = true;\n    prepassMesh.applyMatrix(mesh.matrix);\n    prepassMesh.layers.set(LAYERS.PREPASS_TRANSPARENT);\n    parent.add(prepassMesh);\n  }\n}\n\nfunction processColFromPosMaterial(root, material) {\n  if (!(material instanceof UberMaterial)) {\n    return;\n  }\n\n  const meshes = _getMeshesArr(root, [THREE.Mesh, THREE.LineSegments]);\n\n  for (let i = 0, n = meshes.length; i < n; ++i) {\n    const mesh = meshes[i];\n    const { parent } = mesh;\n    if (!parent) {\n      continue;\n    }\n\n    // copy of geometry with colFromPosMat material\n    const colFromPosMat = mesh.material.createInstance();\n    colFromPosMat.setValues({ colorFromPos: true });\n    const colFromPosMesh = new mesh.constructor(mesh.geometry, colFromPosMat);\n    _.forEach(['transparent', 'colorFromDepth', 'lights', 'shadowmap', 'fog', 'overrideColor', 'fogTransparent',\n      'attrColor', 'attrColor2', 'attrAlphaColor', 'fakeOpacity'],\n    (value) => {\n      colFromPosMesh.material[value] = false;\n    });\n\n    colFromPosMesh.material.needsUpdate = true;\n    colFromPosMesh.applyMatrix(mesh.matrix);\n    colFromPosMesh.layers.set(LAYERS.COLOR_FROM_POSITION);\n    parent.add(colFromPosMesh);\n  }\n}\n\nfunction createShadowmapMaterial(root, material) {\n  if (!(material instanceof UberMaterial)) {\n    return;\n  }\n\n  const meshes = _getMeshesArr(root, [THREE.Mesh, THREE.LineSegments]);\n\n  for (let i = 0, n = meshes.length; i < n; ++i) {\n    const mesh = meshes[i];\n    if (!mesh.receiveShadow && mesh.material.shadowmap) { // remove shadow from non-receivers\n      mesh.material.setValues({ shadowmap: false });\n    }\n    if (!mesh.castShadow) { // skip creating shadowmap meshes for non-casters\n      continue;\n    }\n\n    // create special mesh for shadowmap\n    const { parent } = mesh;\n    if (!parent) {\n      continue;\n    }\n\n    // copy of geometry with shadowmap material\n    const shadowmapMat = mesh.material.createInstance();\n    shadowmapMat.setValues({ colorFromDepth: true });\n    const shadowmapMesh = new mesh.constructor(mesh.geometry, shadowmapMat);\n    _.forEach(['lights', 'shadowmap', 'fog'],\n      (value) => {\n        shadowmapMesh.material[value] = false;\n      });\n    shadowmapMesh.isShadowmapMesh = true;\n    shadowmapMesh.material.needsUpdate = true;\n    shadowmapMesh.applyMatrix(mesh.matrix);\n    shadowmapMesh.layers.set(LAYERS.SHADOWMAP);\n    parent.add(shadowmapMesh);\n  }\n}\n\nfunction removeShadowmapMaterial(root, material) {\n  if (!(material instanceof UberMaterial)) {\n    return;\n  }\n\n  const meshes = _getMeshesArr(root, [THREE.Mesh, THREE.LineSegments]);\n\n  for (let i = 0, n = meshes.length; i < n; ++i) {\n    const mesh = meshes[i];\n    if (mesh.isShadowmapMesh && mesh.parent) {\n      mesh.parent.remove(mesh);\n    }\n  }\n}\n\nfunction processObjRenderOrder(root, idMaterial) {\n  // set renderOrder to 0 for Backdrop and to 1 in other cases to render Backdrop earlier all other materials\n  const renderOrder = +(idMaterial !== 'BA');\n  root.traverse((object) => {\n    if (object.isGroup) {\n      object.renderOrder = renderOrder;\n    }\n  });\n}\n\n/** Traverse tree and make visible only needed meshes */\nfunction makeVisibleMeshes(object, checker) {\n  if (object && object.traverse) {\n    object.traverse((obj) => {\n      if (obj instanceof THREE.Mesh) {\n        obj.visible = checker(obj);\n      }\n    });\n  }\n}\n\nfunction applySelectionMaterial(geo) {\n  geo.traverse((node) => {\n    if ('material' in node) {\n      node.material = node.material.clone(true);\n      // using z-offset to magically fix selection rendering artifact (on z-sprites)\n      node.material.setValues({ depthFunc: THREE.LessEqualDepth, overrideColor: true, fog: false });\n      node.material.setUberOptions({ fixedColor: new THREE.Color(0xFFFF00), zOffset: -1e-6 });\n    }\n  });\n}\n\nfunction getMiddlePoint(point1, point2, optionalTarget) {\n  const result = optionalTarget || new THREE.Vector3();\n\n  result.set(0, 0, 0);\n  result.addScaledVector(point1, 0.5);\n  result.addScaledVector(point2, 0.5);\n\n  return result;\n}\n\n\nexport default {\n  calcCylinderMatrix: _calcCylinderMatrix,\n  calcChunkMatrix: _calcChunkMatrix,\n  forEachMeshInGroup: _forEachMeshInGroup,\n  countTriangles: _countTriangles,\n  groupHasGeometryToRender: _groupHasGeometryToRender,\n  buildDistorionMesh: _buildDistorionMesh,\n  RCGroup,\n  fillArray,\n  clearTree,\n  destroyObject,\n  belongToSelectLayers,\n  applyTransformsToMeshes,\n  processTransparentMaterial,\n  processColFromPosMaterial,\n  createShadowmapMaterial,\n  removeShadowmapMaterial,\n  processObjRenderOrder,\n  makeVisibleMeshes,\n  applySelectionMaterial,\n  getMiddlePoint,\n  LAYERS,\n};\n","import * as THREE from 'three';\nimport utils from './utils';\nimport gfxutils from './gfx/gfxutils';\n\nconst _defaultBoundaries = {\n  boundingBox: new THREE.Box3(new THREE.Vector3(-1, -1, -1), new THREE.Vector3(1, 1, 1)),\n  boundingSphere: new THREE.Sphere(new THREE.Vector3(0, 0, 0), 1),\n};\n\nfunction Visual(name, dataSource) {\n  gfxutils.RCGroup.call(this);\n\n  this.name = name;\n\n  this._dataSource = dataSource;\n}\n\nutils.deriveClass(Visual, gfxutils.RCGroup);\n\nVisual.prototype.release = function () {\n  if (this.parent) {\n    this.parent.remove(this);\n  }\n};\n\nVisual.prototype.getDataSource = function () {\n  return this._dataSource;\n};\n\nVisual.prototype.getBoundaries = function () {\n  return _defaultBoundaries;\n};\n\nexport default Visual;\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _ensureArray(x) {\n  if (x === null || x === undefined || Array.isArray(x)) {\n    return x;\n  }\n  return [x];\n}\n\n/** An indexed list of objects or classes. */\nclass EntityList {\n  /**\n   * Create a list of objects.\n   * The objects can be indexed by one or more properties for the later retrieval.\n   *\n   * @param {!Array<Object>=} entities A list of objects to automatically register at creation time.\n   * @param {!Array<string>=} indices A list of property names to use for case-insensitive indexing.\n   *   By default, a single `.id` property is used.\n   * @see EntityList#register\n   */\n  constructor(entities = [], indices = ['id']) {\n    this._list = [];\n    this._dict = {};\n    this._indices = [...indices];\n    this._indices.forEach((index) => {\n      this._dict[index] = {};\n    });\n\n    entities.forEach((entity) => this.register(entity));\n  }\n\n  /**\n   * Add a value to the end of a list.\n   * The list will contain only one copy of the value.\n   *\n   * @param {!Array} list An array.\n   * @param {*} value A value to add.\n   * @see EntityList.unregisterFromList\n   * @see EntityList.registerInDict\n   */\n  static registerInList(list, value) {\n    if (!list.includes(value)) {\n      list.push(value);\n    }\n  }\n\n  /**\n   * Remove a value from a list if it is there.\n   *\n   * @param {!Array} list An array.\n   * @param {*} value A value to remove.\n   * @see EntityList.registerInList\n   */\n  static unregisterFromList(list, value) {\n    const pos = list.indexOf(value);\n    if (pos !== -1) {\n      list.splice(pos, 1);\n    }\n  }\n\n  /**\n   * Add a value to a dictionary.\n   * The value may be stored under multiple different keys (aliases).\n   * There might be multiples values stored under the same key.\n   *\n   * @param {!Object<string,*>} dict A dictionary.\n   * @param {!Array<string>} keys An array of keys.\n   * @param {*} value A value to add.\n   * @see EntityList.unregisterFromDict\n   * @see EntityList.registerInList\n   */\n  static registerInDict(dict, keys, value) {\n    keys.forEach((key) => {\n      key = key.toLowerCase();\n      const list = dict[key] = dict[key] || [];\n      if (!list.includes(value)) {\n        list.push(value);\n      }\n    });\n  }\n\n  /**\n   * Remove a value from a dictionary.\n   * The value may be stored under multiple different keys (aliases).\n   * There might be multiples values stored under the same key.\n   *\n   * @param {!Object<string,*>} dict A dictionary.\n   * @param {!Array<string>} keys An array of keys.\n   * @param {*} value A value to add.\n   * @see EntityList.registerInDict\n   */\n  static unregisterFromDict(dict, keys, value) {\n    keys.forEach((key) => {\n      key = key.toLowerCase();\n      const list = dict[key];\n      if (list) {\n        const pos = list.indexOf(value);\n        if (pos !== -1) {\n          list.splice(pos, 1);\n        }\n        if (list.length === 0) {\n          delete dict[key];\n        }\n      }\n    });\n  }\n\n  /**\n   * Add an entity to this list.\n   *\n   * @param {!Object} entity An object or a class to register. The object must include all\n   *   properties specified as indices on construction.\n   * @see EntityList#unregister\n   */\n  register(entity) {\n    EntityList.registerInList(this._list, entity);\n    this._indices.forEach((index) => {\n      EntityList.registerInDict(this._dict[index], _ensureArray(entity[index]), entity);\n    });\n  }\n\n  /**\n   * Remove an entity from this list.\n   *\n   * @param {!Object} entity An object or a class to unregister. The object may be\n   *   missing from the list but it must include all properties specified as indices\n   *   on construction.\n   * @see EntityList#register\n   */\n  unregister(entity) {\n    EntityList.unregisterFromList(this._list, entity);\n    this._indices.forEach((index) => {\n      EntityList.unregisterFromDict(this._dict[index], _ensureArray(entity[index]), entity);\n    });\n  }\n\n  /**\n   * An ordered list of all registered entities.\n   * It is a read-only copy, use {@link EntityList#register} and {@link EntityList#unregister}\n   * to modify it.\n   *\n   * @type {!Array<Object>}\n   */\n  get all() {\n    return [...this._list];\n  }\n\n  /**\n   * The first registered entity.\n   * Use it if you do not care which entity you are referring to.\n   *\n   * @type {Object=}\n   */\n  get first() {\n    return this._list[0];\n  }\n\n  /**\n   * Retrieve a list of keys for the index.\n   *\n   * @param {string=} index One of the indices specified during the list construction. If omitted,\n   *   the first of the indices is used.\n   * @returns {!Array<string>} An unordered list of keys in the index, i.e. particular property\n   *   values for all registered entities.\n   */\n  keys(index) {\n    return Object.keys(this._dict[index || this._indices[0]]);\n  }\n\n  /**\n   * Retrieve an entity by its key.\n   *\n   * @param {string} key A case-insensitive property value to look-up.\n   * @param {string=} index One of the indices specified during the list construction. If omitted,\n   *   the first of the indices is used.\n   * @returns {Object=} An object registered in the index under the key. If there are multiple\n   *   objects under the same key, the first one is returned.\n   */\n  get(key, index) {\n    const dict = this._dict[index || this._indices[0]];\n    if (dict) {\n      const values = dict[key && key.toLowerCase()];\n      return values && values.length > 0 ? values[0] : undefined;\n    }\n    return undefined;\n  }\n}\n\nexport default EntityList;\n","import settings from '../settings';\nimport logger from './logger';\n\nfunction makeContextDependent(prototype) {\n  Object.defineProperties(prototype, {\n    logger: {\n      get() {\n        return this.context && this.context.logger ? this.context.logger : logger;\n      },\n    },\n    settings: {\n      get() {\n        return this.context && this.context.settings ? this.context.settings : settings;\n      },\n    },\n  });\n}\n\nexport default makeContextDependent;\n","import * as THREE from 'three';\n\nclass CollisionSphere {\n  constructor(position, radius) {\n    this._position = position;\n    this._radius = radius;\n  }\n\n  static _sphere = new THREE.Sphere();\n\n  raycast(raycaster) {\n    const sphere = CollisionSphere._sphere;\n    sphere.set(this._position, this._radius);\n\n    const p = new THREE.Vector3();\n    if (raycaster.ray.intersectSphere(sphere, p)) {\n      return {\n        distance: raycaster.ray.origin.distanceTo(p),\n        point: p,\n      };\n    }\n    return null;\n  }\n}\n\nconst SphereCollisionGeo = (base) => class extends base {\n  constructor(count, ...args) {\n    super(...args);\n    this._objects = new Array(count);\n    this.boundingSphere = null;\n    this.boundingBox = null;\n  }\n\n  setSphere(idx, position, radius) {\n    this._objects[idx] = new CollisionSphere(position, radius);\n  }\n\n  raycast(raycaster, intersects) {\n    // TODO raycast with bounding sphere? How to deal with updates?\n    for (let i = 0, n = this._objects.length; i < n; ++i) {\n      const inters = this._objects[i].raycast(raycaster);\n      if (inters) {\n        inters.chunkIdx = i;\n        intersects.push(inters);\n      }\n    }\n  }\n\n  computeBoundingBox() {\n    const objects = this._objects;\n    let { boundingBox } = this;\n    if (boundingBox === null) {\n      this.boundingBox = boundingBox = new THREE.Box3();\n    }\n    boundingBox.makeEmpty();\n    for (let i = 0, n = objects.length; i < n; ++i) {\n      boundingBox.expandByPoint(objects[i]._position);\n    }\n  }\n\n  computeBoundingSphere() {\n    this.computeBoundingBox();\n    const objects = this._objects;\n    const { boundingBox } = this;\n    // Build bounding sphere\n    let radiusSquared = 0.0;\n    const center = new THREE.Vector3();\n    boundingBox.getCenter(center);\n    for (let i = 0, n = objects.length; i < n; ++i) {\n      const pos = objects[i]._position;\n      const lengthSquared = center.distanceToSquared(pos);\n      if (radiusSquared < lengthSquared) {\n        radiusSquared = lengthSquared;\n      }\n    }\n    if (this.boundingSphere === null) {\n      this.boundingSphere = new THREE.Sphere();\n    }\n    this.boundingSphere.set(center, Math.sqrt(radiusSquared));\n  }\n};\nexport default SphereCollisionGeo;\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport utils from '../../utils';\nimport SphereCollisionGeo from './SphereCollisionGeo';\n\nconst tmpColor = new THREE.Color();\n\nconst OFFSET_SIZE = 4;\nconst COLOR_SIZE = 3;\nconst { copySubArrays } = utils;\n\nfunction setArrayXYZ(arr, idx, x, y, z) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n}\n\nfunction setArrayXYZW(arr, idx, x, y, z, w) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n  arr[idx + 3] = w;\n}\nclass InstancedSpheresGeometry extends SphereCollisionGeo(THREE.InstancedBufferGeometry) {\n  constructor(spheresCount, sphereComplexity, useZSprites) {\n    super(spheresCount);\n    this._sphGeometry = useZSprites ? new THREE.PlaneBufferGeometry(2, 2, 1, 1)\n      : new THREE.SphereBufferGeometry(1, sphereComplexity * 2, sphereComplexity, 0, Math.PI * 2, 0, Math.PI);\n    this._init(spheresCount, this._sphGeometry);\n  }\n\n  setItem(itemIdx, itemPos, itemRad) {\n    setArrayXYZW(this._offsets, itemIdx * OFFSET_SIZE, itemPos.x, itemPos.y, itemPos.z, itemRad);\n    this.setSphere(itemIdx, itemPos, itemRad);\n  }\n\n  setColor(itemIdx, colorVal) {\n    tmpColor.set(colorVal);\n    setArrayXYZ(this._colors, itemIdx * COLOR_SIZE, tmpColor.r, tmpColor.g, tmpColor.b);\n  }\n\n  startUpdate() {\n    return true;\n  }\n\n  finishUpdate() {\n    this.getAttribute('offset').needsUpdate = true;\n    this.getAttribute('color').needsUpdate = true;\n  }\n\n  finalize() {\n    this.finishUpdate();\n    this.computeBoundingSphere();\n  }\n\n  setOpacity(chunkIndices, value) {\n    const alphaArr = this._alpha;\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      alphaArr[chunkIndices[i]] = value;\n    }\n    this.getAttribute('alphaColor').needsUpdate = true;\n  }\n\n  getSubset(chunkIndices) {\n    const instanceCount = chunkIndices.length;\n    const geom = new THREE.InstancedBufferGeometry();\n    this._init.call(geom, instanceCount, this._sphGeometry);\n\n    copySubArrays(this._offsets, geom._offsets, chunkIndices, OFFSET_SIZE);\n    copySubArrays(this._colors, geom._colors, chunkIndices, COLOR_SIZE);\n    geom.boundingSphere = this.boundingSphere;\n    geom.boundingBox = this.boundingBox;\n    return [geom];\n  }\n\n  _init(spheresCount, sphereGeo) {\n    this.copy(sphereGeo);\n\n    this._offsets = utils.allocateTyped(Float32Array, spheresCount * OFFSET_SIZE);\n    this._colors = utils.allocateTyped(Float32Array, spheresCount * COLOR_SIZE);\n    const alpha = this._alpha = utils.allocateTyped(Float32Array, spheresCount);\n    _.fill(alpha, 1.0);\n\n    this.setAttribute('offset', new THREE.InstancedBufferAttribute(this._offsets, OFFSET_SIZE, false, 1));\n    this.setAttribute('color', new THREE.InstancedBufferAttribute(this._colors, COLOR_SIZE, false, 1));\n    this.setAttribute('alphaColor', new THREE.InstancedBufferAttribute(alpha, 1, false, 1));\n  }\n}\nexport default InstancedSpheresGeometry;\n","import * as THREE from 'three';\n\n/**\n * This class adds raycasting interface to indexed\n * THREE.BufferGeometry.\n * @constructor\n */\n\nclass RaycastableBufferGeometry extends THREE.BufferGeometry {\n  // This method was copied from three.js\n\n  static _vA = new THREE.Vector3();\n\n  static _vB = new THREE.Vector3();\n\n  static _vC = new THREE.Vector3();\n\n\n  static _uvA = new THREE.Vector2();\n\n  static _uvB = new THREE.Vector2();\n\n  static _uvC = new THREE.Vector2();\n\n\n  static _barycoord = new THREE.Vector3();\n\n\n  static _intersectionPoint = new THREE.Vector3();\n\n  uvIntersection(point, p1, p2, p3, uv1, uv2, uv3) {\n    const barycoord = RaycastableBufferGeometry._barycoord;\n    THREE.Triangle.barycoordFromPoint(point, p1, p2, p3, barycoord);\n\n    uv1.multiplyScalar(barycoord.x);\n    uv2.multiplyScalar(barycoord.y);\n    uv3.multiplyScalar(barycoord.z);\n\n    uv1.add(uv2).add(uv3);\n    return uv1.clone();\n  }\n\n  checkIntersection(object, raycaster, ray, pA, pB, pC, point) {\n    const intersect = ray.intersectTriangle(pA, pB, pC, false, point);\n\n    if (intersect === null) {\n      return null;\n    }\n\n    return {\n      point: point.clone(),\n    };\n  }\n\n  checkBufferGeometryIntersection(object, raycaster, ray, position, uv, a, b, c) {\n    const vA = RaycastableBufferGeometry._vA;\n    const vB = RaycastableBufferGeometry._vB;\n    const vC = RaycastableBufferGeometry._vC;\n    const intersectionPoint = RaycastableBufferGeometry._intersectionPoint;\n\n    vA.fromBufferAttribute(position, a);\n    vB.fromBufferAttribute(position, b);\n    vC.fromBufferAttribute(position, c);\n\n    const intersection = this.checkIntersection(\n      object, raycaster, ray, vA, vB, vC, intersectionPoint,\n    );\n    if (intersection) {\n      if (uv) {\n        const uvA = RaycastableBufferGeometry._uvA;\n        const uvB = RaycastableBufferGeometry._uvB;\n        const uvC = RaycastableBufferGeometry._uvC;\n\n        uvA.fromBufferAttribute(uv, a);\n        uvB.fromBufferAttribute(uv, b);\n        uvC.fromBufferAttribute(uv, c);\n        intersection.uv = this.uvIntersection(\n          intersectionPoint, vA, vB, vC, uvA, uvB, uvC,\n        );\n      }\n      const normal = new THREE.Vector3();\n      THREE.Triangle.getNormal(vA, vB, vC, normal);\n      intersection.face = new THREE.Face3(a, b, c, normal);\n      intersection.faceIndex = a;\n    }\n\n    return intersection;\n  }\n\n  raycast(raycaster, intersects) {\n    const { ray } = raycaster;\n    if (this.boundingSphere === null) {\n      this.computeBoundingSphere();\n    }\n\n    if (raycaster.ray.intersectsSphere(this.boundingSphere) === false) {\n      return;\n    }\n\n    if (this.boundingBox !== null) {\n      if (ray.intersectsBox(this.boundingBox) === false) {\n        return;\n      }\n    }\n\n    let a;\n    let b;\n    let c;\n    const {\n      index,\n      attributes: { position, uv },\n    } = this;\n\n    if (index === null) {\n      return;\n    }\n    // indexed buffer geometry\n    for (let i = 0, l = index.count; i < l; i += 3) {\n      a = index.getX(i);\n      b = index.getX(i + 1);\n      c = index.getX(i + 2);\n\n      const intersection = this.checkBufferGeometryIntersection(this, raycaster, ray, position, uv, a, b, c);\n\n      if (intersection) {\n        intersection.faceIndex = Math.floor(i / 3); // triangle number in indices buffer semantics\n        intersects.push(intersection);\n      }\n    }\n  }\n}\n\nexport default RaycastableBufferGeometry;\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport utils from '../../utils';\nimport RaycastableBufferGeometry from './RaycastableBufferGeometry';\n\nconst MAX_IDC_16BIT = 65535;\nconst VEC_SIZE = 3;\nconst tmpColor = new THREE.Color();\n\n/**\n * This class represents geometry which consists of separate chunks.\n * Each chunk has same index and similar geometry with equal points and faces count.\n * Each chunk has by default only one color.\n * @constructor\n */\n\nclass ChunkedObjectsGeometry extends RaycastableBufferGeometry {\n  constructor(chunkGeo, chunksCount) {\n    super();\n\n    if (this.constructor === ChunkedObjectsGeometry) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n\n    this._chunkGeo = chunkGeo;\n\n    this._init(chunkGeo, chunksCount);\n  }\n\n  startUpdate() {\n    return true;\n  }\n\n  finishUpdate() {\n    this.getAttribute('position').needsUpdate = true;\n    this.getAttribute('normal').needsUpdate = true;\n    this.getAttribute('color').needsUpdate = true;\n  }\n\n  setColor(chunkIdx, colorVal) {\n    tmpColor.set(colorVal);\n    const colors = this._colors;\n    const chunkSize = this._chunkSize;\n    for (let i = chunkIdx * chunkSize, end = i + chunkSize; i < end; ++i) {\n      const idx = i * VEC_SIZE;\n      colors[idx] = tmpColor.r;\n      colors[idx + 1] = tmpColor.g;\n      colors[idx + 2] = tmpColor.b;\n    }\n  }\n\n  finalize() {\n    this.finishUpdate();\n    this.computeBoundingSphere();\n  }\n\n  setOpacity(chunkIndices, value) {\n    const alphaArr = this._alpha;\n    const chunkSize = this._chunkSize;\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      const left = chunkIndices[i] * chunkSize;\n      _.fill(alphaArr, value, left, left + chunkSize);\n    }\n    this.getAttribute('alphaColor').needsUpdate = true;\n  }\n\n  raycast(raycaster, intersects) {\n    const inters = [];\n    super.raycast(raycaster, inters);\n    const facesPerChunk = this._chunkGeo.index.count / 3;\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('faceIndex')) {\n        continue;\n      }\n      inters[i].chunkIdx = Math.floor(inters[i].faceIndex / facesPerChunk);\n      intersects.push(inters[i]);\n    }\n  }\n\n  getSubset(chunkIndices) {\n    const instanceCount = chunkIndices.length;\n    const geom = new THREE.BufferGeometry();\n    this._init.call(geom, this._chunkGeo, instanceCount);\n\n    const srcPos = this._positions;\n    const srcNorm = this._normals;\n    const srcColor = this._colors;\n\n    const dstPos = geom._positions;\n    const dstNorm = geom._normals;\n    const dstColor = geom._colors;\n\n    const chunkSize = this._chunkSize * VEC_SIZE;\n\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      const dstPtOffset = i * chunkSize;\n      const ptIdxBegin = chunkIndices[i] * chunkSize;\n      const ptIdxEnd = ptIdxBegin + chunkSize;\n      dstPos.set(srcPos.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset);\n      dstNorm.set(srcNorm.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset);\n      dstColor.set(srcColor.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset);\n    }\n\n    geom.boundingSphere = this.boundingSphere;\n    geom.boundingBox = this.boundingBox;\n    return [geom];\n  }\n\n  _init(chunkGeo, chunksCount) {\n    const chunkSize = this._chunkSize = chunkGeo.attributes.position.count;\n    const chunkIndex = chunkGeo.index.array;\n    const chunkIndexSize = chunkIndex.length;\n    const pointsCount = this._chunkSize * chunksCount;\n    const use32bitIndex = pointsCount > MAX_IDC_16BIT;\n    const indexSize = chunkIndexSize * chunksCount;\n    const index = this._index = utils.allocateTyped(use32bitIndex ? Uint32Array : Uint16Array, indexSize);\n    this._positions = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE);\n    this._normals = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE);\n    this._colors = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE);\n    const alpha = this._alpha = utils.allocateTyped(Float32Array, pointsCount);\n    _.fill(alpha, 1.0);\n\n    for (let i = 0; i < chunksCount; ++i) {\n      const offset = i * chunkIndexSize;\n      const posOffset = i * chunkSize;\n      index.set(chunkIndex, offset);\n      for (let j = 0; j < chunkIndexSize; ++j) {\n        index[offset + j] += posOffset;\n      }\n    }\n\n    this.setIndex(new THREE.BufferAttribute(this._index, 1));\n    this.setAttribute('position', new THREE.BufferAttribute(this._positions, VEC_SIZE));\n    this.setAttribute('normal', new THREE.BufferAttribute(this._normals, VEC_SIZE));\n    this.setAttribute('color', new THREE.BufferAttribute(this._colors, VEC_SIZE));\n    this.setAttribute('alphaColor', new THREE.BufferAttribute(alpha, 1));\n  }\n}\nexport default ChunkedObjectsGeometry;\n","import * as THREE from 'three';\nimport utils from '../../utils';\nimport ChunkedObjectsGeometry from './ChunkedObjectsGeometry';\nimport SphereCollisionGeo from './SphereCollisionGeo';\n\nconst VEC_SIZE = 3;\n\nclass SimpleSpheresGeometry extends SphereCollisionGeo(ChunkedObjectsGeometry) {\n  constructor(spheresCount, sphereComplexity) {\n    const sphGeometry = new THREE.SphereBufferGeometry(\n      1, sphereComplexity * 2, sphereComplexity,\n      0, Math.PI * 2, 0, Math.PI,\n    );\n    super(spheresCount, sphGeometry, spheresCount);\n\n    const normals = this._normals;\n    const geoNormals = sphGeometry.attributes.normal.array;\n    const chunkSize = this._chunkSize;\n    this._chunkPos = this._chunkGeo.attributes.position.array;\n    this._tmpPositions = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE);\n    for (let i = 0; i < spheresCount; ++i) {\n      normals.set(geoNormals, chunkSize * VEC_SIZE * i);\n    }\n  }\n\n  setItem(itemIdx, itemPos, itemRad) {\n    const tmpPos = this._tmpPositions;\n    const chunkSize = this._chunkSize;\n    const geoPos = this._chunkPos;\n\n    for (let i = 0; i < chunkSize; ++i) {\n      const idx = i * 3;\n      tmpPos[idx] = itemPos.x + geoPos[idx] * itemRad;\n      tmpPos[idx + 1] = itemPos.y + geoPos[idx + 1] * itemRad;\n      tmpPos[idx + 2] = itemPos.z + geoPos[idx + 2] * itemRad;\n    }\n\n    this._positions.set(tmpPos, chunkSize * itemIdx * VEC_SIZE);\n    this.setSphere(itemIdx, itemPos, itemRad);\n  }\n}\nexport default SimpleSpheresGeometry;\n","import * as THREE from 'three';\nimport utils from '../../utils';\nimport gfxutils from '../gfxutils';\nimport ChunkedObjectsGeometry from './ChunkedObjectsGeometry';\n\nconst VEC_SIZE = 3;\nconst centerPos = new THREE.Vector3();\nconst tmpVector = new THREE.Vector3();\nconst normMtx = new THREE.Matrix3();\n\n\nclass Simple2CCylindersGeometry extends ChunkedObjectsGeometry {\n  constructor(instanceCount, polyComplexity) {\n    const cylGeometry = new THREE.CylinderBufferGeometry(1, 1, 1.0, Math.max(3, polyComplexity), 2, true);\n    super(cylGeometry, 2 * instanceCount);\n\n    const chunkSize = this._chunkSize;\n    this._chunkPos = this._chunkGeo.attributes.position.array;\n    this._chunkNorms = this._chunkGeo.attributes.normal.array;\n    this._tmpVector = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE);\n  }\n\n\n  setItem(itemIdx, botPos, topPos, itemRad) {\n    const chunkSize = this._chunkSize;\n    const firstOffset = chunkSize * 2 * itemIdx * VEC_SIZE;\n    const secondOffset = firstOffset + chunkSize * VEC_SIZE;\n\n    const tmpArray = this._tmpVector;\n    const geoPos = this._chunkPos;\n    const geoNorm = this._chunkNorms;\n\n    centerPos.lerpVectors(botPos, topPos, 0.5);\n    const mtx1 = gfxutils.calcCylinderMatrix(botPos, centerPos, itemRad);\n    normMtx.getNormalMatrix(mtx1);\n\n    let idx;\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE;\n      tmpVector.fromArray(geoPos, idx);\n      tmpVector.applyMatrix4(mtx1);\n      tmpVector.toArray(tmpArray, idx);\n    }\n    this._positions.set(tmpArray, firstOffset);\n\n    // now shift center to get another part of the cylinder\n    centerPos.sub(botPos);\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE;\n      tmpArray[idx] += centerPos.x;\n      tmpArray[idx + 1] += centerPos.y;\n      tmpArray[idx + 2] += centerPos.z;\n    }\n    this._positions.set(tmpArray, secondOffset);\n\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE;\n      tmpVector.fromArray(geoNorm, idx);\n      tmpVector.applyMatrix3(normMtx);\n      tmpVector.toArray(tmpArray, idx);\n    }\n    this._normals.set(tmpArray, firstOffset);\n    this._normals.set(tmpArray, secondOffset);\n  }\n\n\n  setColor(itemIdx, colorVal1, colorVal2) {\n    const first = 2 * itemIdx;\n    super.setColor(first, colorVal1);\n\n    const second = first + 1;\n    super.setColor(second, colorVal2);\n  }\n}\n\nexport default Simple2CCylindersGeometry;\n","import * as THREE from 'three';\nimport utils from '../../utils';\n\nconst MAX_POINTS_COUNT_16BIT = 65536;\nconst PTS_PER_TRIANGLE = 3;\n\nclass CylinderBufferGeometry extends THREE.BufferGeometry {\n  constructor(\n    radiusTop,\n    radiusBottom,\n    height,\n    radialSegments,\n    heightSegments,\n    openEnded,\n  ) {\n    super();\n\n    const thetaStart = 0;\n    const thetaLength = 2 * Math.PI;\n\n\n    this.type = 'CylinderBufferGeometry';\n\n    this.parameters = {\n      radiusTop,\n      radiusBottom,\n      height,\n      radialSegments,\n      heightSegments,\n      openEnded,\n    };\n\n    const hasTop = openEnded === false && radiusTop > 0;\n    const hasBottom = openEnded === false && radiusBottom > 0;\n    const vertexCount = (heightSegments + 1) * radialSegments\n      + hasTop * (radialSegments + 1)\n      + hasBottom * (radialSegments + 1);\n    const facesCount = (2 * heightSegments + hasTop + hasBottom) * radialSegments;\n\n    const heightHalf = height / 2;\n\n    /* eslint-disable no-magic-numbers */\n    const positions = new THREE.BufferAttribute(utils.allocateTyped(Float32Array, vertexCount * 3), 3);\n    const normals = new THREE.BufferAttribute(utils.allocateTyped(Float32Array, vertexCount * 3), 3);\n    const indices = new THREE.Uint16BufferAttribute(utils.allocateTyped(Uint16Array, facesCount * PTS_PER_TRIANGLE), 1);\n    /* eslint-enable no-magic-numbers */\n\n    const uvs = new THREE.BufferAttribute(utils.allocateTyped(Float32Array, vertexCount * 2), 2);\n    console.assert(vertexCount < MAX_POINTS_COUNT_16BIT, 'DEBUG: Cylinder Geometry has too many vertices (65536 max).');\n\n    let currVtxIdx = 0;\n    let currFaceIdx = 0;\n    const tanTheta = -(radiusBottom - radiusTop) / height;\n\n    // setup cylinder data\n    for (let y = 0; y <= heightSegments; y++) {\n      // faces\n      if (y !== heightSegments) {\n        for (let i = 0; i < radialSegments; i++) {\n          const v1 = currVtxIdx + i;\n          const v2 = currVtxIdx + radialSegments + i;\n          const v3 = currVtxIdx + radialSegments + ((i + 1) % radialSegments);\n          const v4 = currVtxIdx + ((i + 1) % radialSegments);\n\n          indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, v1, v4, v2);\n          currFaceIdx++;\n          indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, v2, v4, v3);\n          currFaceIdx++;\n        }\n      }\n\n      // vertices\n      const v = y / heightSegments;\n      const radius = v * (radiusBottom - radiusTop) + radiusTop;\n\n      for (let x = 0; x < radialSegments; x++) {\n        const u = x / radialSegments;\n\n        const vx = radius * Math.sin(u * thetaLength + thetaStart);\n        const vy = v * height - heightHalf;\n        const vz = radius * Math.cos(u * thetaLength + thetaStart);\n\n        const normal = new THREE.Vector3(\n          vx,\n          Math.sqrt(vx * vx + vz * vz) * tanTheta,\n          vz,\n        ).normalize();\n\n        positions.setXYZ(currVtxIdx, vx, vy, vz);\n        normals.setXYZ(currVtxIdx, normal.x, normal.y, normal.z);\n        uvs.setXY(currVtxIdx, u, v);\n        ++currVtxIdx;\n      }\n    }\n\n    // top cap\n    if (hasTop) {\n      const startTIdx = currVtxIdx;\n      const lastIdx = currVtxIdx + radialSegments;\n      for (let fTIdx = 0; fTIdx < radialSegments; ++fTIdx) {\n        const currSrcIdx = currVtxIdx - radialSegments;\n        positions.setXYZ(\n          currVtxIdx,\n          positions.getX(currSrcIdx),\n          positions.getY(currSrcIdx),\n          positions.getZ(currSrcIdx),\n        );\n        normals.setXYZ(currVtxIdx, 0, 1, 0);\n        uvs.setXY(currVtxIdx, 1, 1);\n\n\n        const nextTVtx = startTIdx + ((fTIdx + 1) % radialSegments);\n        indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, currVtxIdx, nextTVtx, lastIdx);\n        currFaceIdx++;\n        currVtxIdx++;\n      }\n\n      positions.setXYZ(currVtxIdx, 0, heightHalf, 0);\n      normals.setXYZ(currVtxIdx, 0, 1, 0);\n      uvs.setXY(currVtxIdx, 1, 1);\n      ++currVtxIdx;\n    }\n\n    // bottom cap\n    if (hasBottom) {\n      const startBIdx = currVtxIdx;\n      const lastBIdx = currVtxIdx + radialSegments;\n      for (let fBIdx = 0; fBIdx < radialSegments; ++fBIdx) {\n        const currSrcBIdx = fBIdx;\n        positions.setXYZ(\n          currVtxIdx,\n          positions.getX(currSrcBIdx), positions.getY(currSrcBIdx), positions.getZ(currSrcBIdx),\n        );\n        normals.setXYZ(currVtxIdx, 0, -1, 0);\n        uvs.setXY(currVtxIdx, 0, 0);\n\n\n        const nextBVtx = startBIdx + ((fBIdx + 1) % radialSegments);\n        indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, nextBVtx, currVtxIdx, lastBIdx);\n        currFaceIdx++;\n        currVtxIdx++;\n      }\n\n      positions.setXYZ(currVtxIdx, 0, -heightHalf, 0);\n      normals.setXYZ(currVtxIdx, 0, -1, 0);\n      uvs.setXY(currVtxIdx, 0, 0);\n    }\n\n    this.setIndex(indices);\n    this.setAttribute('position', positions);\n    this.setAttribute('normal', normals);\n    this.setAttribute('uv', uvs);\n  }\n\n  clone() {\n    const { parameters } = this;\n\n    return new CylinderBufferGeometry(\n      parameters.radiusTop,\n      parameters.radiusBottom,\n      parameters.height,\n      parameters.radialSegments,\n      parameters.heightSegments,\n      parameters.openEnded,\n    );\n  }\n}\n\nexport default CylinderBufferGeometry;\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport utils from '../../utils';\nimport gfxutils from '../gfxutils';\nimport Simple2CCylindersGeometry from './Simple2CCylindersGeometry';\nimport CylinderBufferGeometry from './CylinderBufferGeometry';\n\nconst tmpColor = new THREE.Color();\nconst invMatrix = new THREE.Matrix4();\n\nconst OFFSET_SIZE = 4;\nconst COLOR_SIZE = 3;\nconst { copySubArrays } = utils;\n\nfunction setArrayXYZ(arr, idx, x, y, z) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n}\n\nfunction setArrayXYZW(arr, idx, x, y, z, w) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n  arr[idx + 3] = w;\n}\n\nfunction sortNumber(a, b) {\n  return a - b;\n}\n\nfunction _prepareCylinderInfo(chunkIndices) {\n  chunkIndices.sort(sortNumber);\n  const chunksIdx = [];\n  const cylinderInfo = [];\n  for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n    const val = chunkIndices[i];\n    const even = (val | 0) % 2 === 0;\n    const newPar = {\n      first: false,\n      second: false,\n    };\n    if (even) {\n      newPar.first = true;\n      newPar.second = i + 1 < n && chunkIndices[i + 1] === chunkIndices[i] + 1;\n      if (newPar.second) {\n        ++i;\n      }\n    } else {\n      newPar.second = true;\n    }\n    chunksIdx.push(Math.floor(val / 2));\n    cylinderInfo.push(newPar);\n  }\n  return { indices: chunksIdx, cylinderInfo };\n}\n\nfunction _assignOpacity(cylinderInfo, color1, color2) {\n  for (let i = 0, n = cylinderInfo.length; i < n; ++i) {\n    const info = cylinderInfo[i];\n    if (!info.first) {\n      color1[COLOR_SIZE * i] = -0.5;\n    }\n    if (!info.second) {\n      color2[COLOR_SIZE * i] = -0.5;\n    }\n  }\n}\nclass Instanced2CCylindersGeometry extends THREE.InstancedBufferGeometry {\n  constructor(instanceCount, polyComplexity, useZSprites, openEnded) {\n    super();\n    this._useZSprites = useZSprites;\n    this._cylGeometry = useZSprites ? new THREE.PlaneBufferGeometry(2, 2, 1, 1)\n      : new CylinderBufferGeometry(1, 1, 1.0, Math.max(3, polyComplexity), 2, openEnded);\n    this._init(instanceCount, this._cylGeometry, this._useZSprites);\n\n    this._collisionGeo = new Simple2CCylindersGeometry(instanceCount, 3);\n  }\n\n  setItem(itemIdx, botPos, topPos, itemRad) {\n    const matrix = gfxutils.calcCylinderMatrix(botPos, topPos, itemRad);\n    let me = matrix.elements;\n    const mtxOffset = itemIdx * OFFSET_SIZE;\n\n    this._collisionGeo.setItem(itemIdx, botPos, topPos, itemRad);\n    setArrayXYZW(this._matVector1, mtxOffset, me[0], me[4], me[8], me[12]);\n    setArrayXYZW(this._matVector2, mtxOffset, me[1], me[5], me[9], me[13]);\n    setArrayXYZW(this._matVector3, mtxOffset, me[2], me[6], me[10], me[14]);\n\n    if (this._useZSprites) {\n      invMatrix.getInverse(matrix);\n      me = invMatrix.elements;\n      setArrayXYZW(this._invmatVector1, mtxOffset, me[0], me[4], me[8], me[12]);\n      setArrayXYZW(this._invmatVector2, mtxOffset, me[1], me[5], me[9], me[13]);\n      setArrayXYZW(this._invmatVector3, mtxOffset, me[2], me[6], me[10], me[14]);\n    }\n  }\n\n  setColor(itemIdx, colorVal1, colorVal2) {\n    const colorIdx = itemIdx * COLOR_SIZE;\n    tmpColor.set(colorVal1);\n    setArrayXYZ(this._color1, colorIdx, tmpColor.r, tmpColor.g, tmpColor.b);\n    tmpColor.set(colorVal2);\n    setArrayXYZ(this._color2, colorIdx, tmpColor.r, tmpColor.g, tmpColor.b);\n  }\n\n  computeBoundingSphere() {\n    this._collisionGeo.computeBoundingSphere();\n    this.boundingSphere = this._collisionGeo.boundingSphere;\n  }\n\n  computeBoundingBox() {\n    this._collisionGeo.computeBoundingBox();\n    this.boundingBox = this._collisionGeo.boundingBox;\n  }\n\n  raycast(raycaster, intersects) {\n    this._collisionGeo.raycast(raycaster, intersects);\n  }\n\n  startUpdate() {\n    return true;\n  }\n\n  finishUpdate() {\n    this.getAttribute('matVector1').needsUpdate = true;\n    this.getAttribute('matVector2').needsUpdate = true;\n    this.getAttribute('matVector3').needsUpdate = true;\n    this.getAttribute('color').needsUpdate = true;\n    this.getAttribute('color2').needsUpdate = true;\n    this.getAttribute('alphaColor').needsUpdate = true;\n    if (this._useZSprites) {\n      this.getAttribute('invmatVector1').needsUpdate = true;\n      this.getAttribute('invmatVector2').needsUpdate = true;\n      this.getAttribute('invmatVector3').needsUpdate = true;\n    }\n\n    this._collisionGeo.finishUpdate();\n  }\n\n  finalize() {\n    this.finishUpdate();\n    this.computeBoundingSphere();\n  }\n\n  setOpacity(chunkIndices, value) {\n    const alphaArr = this._alpha;\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      alphaArr[Math.floor(chunkIndices[i] / 2)] = value;\n    }\n    this.getAttribute('alphaColor').needsUpdate = true;\n  }\n\n  getSubset(chunkIndices) {\n    const info = _prepareCylinderInfo(chunkIndices);\n    const cylinderIndices = info.indices;\n    const instanceCount = cylinderIndices.length;\n    const geom = new THREE.InstancedBufferGeometry();\n    this._init.call(geom, instanceCount, this._cylGeometry, this._useZSprites);\n\n    copySubArrays(this._matVector1, geom._matVector1, cylinderIndices, OFFSET_SIZE);\n    copySubArrays(this._matVector2, geom._matVector2, cylinderIndices, OFFSET_SIZE);\n    copySubArrays(this._matVector3, geom._matVector3, cylinderIndices, OFFSET_SIZE);\n\n    if (this._useZSprites) {\n      copySubArrays(this._invmatVector1, geom._invmatVector1, cylinderIndices, OFFSET_SIZE);\n      copySubArrays(this._invmatVector2, geom._invmatVector2, cylinderIndices, OFFSET_SIZE);\n      copySubArrays(this._invmatVector3, geom._invmatVector3, cylinderIndices, OFFSET_SIZE);\n    }\n\n    copySubArrays(this._color1, geom._color1, cylinderIndices, COLOR_SIZE);\n    copySubArrays(this._color2, geom._color2, cylinderIndices, COLOR_SIZE);\n    _assignOpacity(info.cylinderInfo, geom._color1, geom._color2);\n    geom.boundingSphere = this.boundingSphere;\n    geom.boundingBox = this.boundingBox;\n    return [geom];\n  }\n\n  getGeoParams() {\n    return this._cylGeometry.parameters;\n  }\n\n  _init(instanceCount, cylinderGeo, useZSprites) {\n    this.copy(cylinderGeo);\n    this._matVector1 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n    this._matVector2 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n    this._matVector3 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n    this._color1 = utils.allocateTyped(Float32Array, instanceCount * COLOR_SIZE);\n    this._color2 = utils.allocateTyped(Float32Array, instanceCount * COLOR_SIZE);\n    const alpha = this._alpha = utils.allocateTyped(Float32Array, instanceCount);\n    _.fill(alpha, 1.0);\n\n    this.setAttribute('matVector1', new THREE.InstancedBufferAttribute(this._matVector1, OFFSET_SIZE, false, 1));\n    this.setAttribute('matVector2', new THREE.InstancedBufferAttribute(this._matVector2, OFFSET_SIZE, false, 1));\n    this.setAttribute('matVector3', new THREE.InstancedBufferAttribute(this._matVector3, OFFSET_SIZE, false, 1));\n    this.setAttribute('color', new THREE.InstancedBufferAttribute(this._color1, COLOR_SIZE, false, 1));\n    this.setAttribute('color2', new THREE.InstancedBufferAttribute(this._color2, COLOR_SIZE, false, 1));\n\n    this.setAttribute('alphaColor', new THREE.InstancedBufferAttribute(this._alpha, 1, false, 1));\n\n    if (useZSprites) {\n      this._invmatVector1 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n      this._invmatVector2 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n      this._invmatVector3 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n\n      this.setAttribute(\n        'invmatVector1',\n        new THREE.InstancedBufferAttribute(this._invmatVector1, OFFSET_SIZE, false, 1),\n      );\n      this.setAttribute(\n        'invmatVector2',\n        new THREE.InstancedBufferAttribute(this._invmatVector2, OFFSET_SIZE, false, 1),\n      );\n      this.setAttribute(\n        'invmatVector3',\n        new THREE.InstancedBufferAttribute(this._invmatVector3, OFFSET_SIZE, false, 1),\n      );\n    }\n  }\n}\n\nexport default Instanced2CCylindersGeometry;\n","import * as THREE from 'three';\nimport utils from '../../utils';\nimport ChunkedObjectsGeometry from './ChunkedObjectsGeometry';\n\nconst VEC_SIZE = 3;\nconst TRI_SIZE = 3;\nconst tmpPrev = new THREE.Vector3();\nconst tmpNext = new THREE.Vector3();\nconst tmpRes = new THREE.Vector3();\nconst simpleNormal = new THREE.Vector3(1.0, 0.0, 0.0);\nconst normalOnCut = new THREE.Vector3();\nconst nearRingPt = new THREE.Vector3();\n\nfunction _createExtrudedChunkGeometry(shape, ringsCount) {\n  const geo = new THREE.BufferGeometry();\n  const ptsCount = shape.length;\n  const totalPts = ptsCount * ringsCount;\n  const type = totalPts <= 65536 ? Uint16Array : Uint32Array;\n  const facesPerChunk = (ringsCount - 1) * ptsCount * 2;\n  const indices = new THREE.BufferAttribute(utils.allocateTyped(type, facesPerChunk * TRI_SIZE), 1);\n\n  let currVtxIdx = 0;\n  let currFaceIdx = 0;\n  for (let y = 0; y < ringsCount; y++) {\n    // faces\n    if (y !== ringsCount - 1) {\n      for (let i = 0; i < ptsCount; i++) {\n        const v1 = currVtxIdx + i;\n        const v2 = currVtxIdx + ptsCount + i;\n        const v3 = currVtxIdx + ptsCount + ((i + 1) % ptsCount);\n        const v4 = currVtxIdx + ((i + 1) % ptsCount);\n\n        indices.setXYZ(currFaceIdx * TRI_SIZE, v1, v4, v2);\n        currFaceIdx++;\n        indices.setXYZ(currFaceIdx * TRI_SIZE, v2, v4, v3);\n        currFaceIdx++;\n      }\n    }\n\n    currVtxIdx += ptsCount;\n  }\n\n  geo.setIndex(indices);\n  const pos = utils.allocateTyped(Float32Array, totalPts * VEC_SIZE);\n  geo.setAttribute('position', new THREE.BufferAttribute(pos, VEC_SIZE));\n\n  geo._positions = shape;\n\n  return geo;\n}\n\nclass ExtrudedObjectsGeometry extends ChunkedObjectsGeometry {\n  constructor(shape, ringsCount, chunksCount) {\n    const chunkGeo = _createExtrudedChunkGeometry(shape, ringsCount);\n    super(chunkGeo, chunksCount);\n    this._ringsCount = ringsCount;\n\n    const tmpShape = this._tmpShape = [];\n    for (let i = 0; i < shape.length; ++i) {\n      tmpShape[i] = new THREE.Vector3();\n    }\n  }\n\n  setItem(itemIdx, matrices, hasSlope = false, hasCut = false) {\n    const ptsCount = this._chunkGeo._positions.length;\n    const ringsCount = this._ringsCount;\n    const chunkStartIdx = ptsCount * this._ringsCount * itemIdx * VEC_SIZE;\n\n    this._setPoints(matrices, ptsCount, ringsCount, chunkStartIdx);\n\n    if (hasSlope) {\n      this._setSlopeNormals(ptsCount, ringsCount, chunkStartIdx);\n    } else {\n      this._setBaseNormals(ptsCount, ringsCount, chunkStartIdx);\n    }\n\n    if (hasCut) {\n      this._addCut(ptsCount, ringsCount, chunkStartIdx);\n    }\n  }\n\n  _setPoints(matrices, ptsCount, ringsCount, chunkStartIdx) {\n    const tmpShape = this._tmpShape;\n    const positions = this._positions;\n    const shape = this._chunkGeo._positions;\n\n    for (let i = 0, vtxIdx = chunkStartIdx; i < ringsCount; ++i) {\n      const mtx = matrices[i];\n\n      for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n        tmpShape[j].copy(shape[j]).applyMatrix4(mtx).toArray(positions, vtxIdx);\n      }\n    }\n  }\n\n  _setBaseNormals(ptsCount, ringsCount, chunkStartIdx) {\n    const nPtsInRing = ptsCount * VEC_SIZE;\n\n    for (let i = 0, vtxIdx = chunkStartIdx; i < ringsCount; ++i, vtxIdx += nPtsInRing) {\n      this._countNormalsInRing(ptsCount, vtxIdx, false);\n    }\n  }\n\n  _setSlopeNormals(ptsCount, ringsCount, chunkStartIdx) {\n    const normals = this._normals;\n    const nPtsInRing = ptsCount * VEC_SIZE;\n\n    let vtxIdx = chunkStartIdx;\n    // First ring\n    // In all cases, besides cut, second ring is coincident to first. So values of first ring's normals doesn't\n    // matter (In the cut case special handler will be applied later and will set them to correct values)\n    for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n      simpleNormal.toArray(normals, vtxIdx);\n    }\n    // second ring\n    // If it isn't first Item we take normals' values from the last ring of the previous item (these rings are coincident)\n    // else we count normals' values based on next ring information\n    if (vtxIdx - 2 * nPtsInRing > 0) {\n      for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n        tmpRes.fromArray(normals, vtxIdx - 2 * nPtsInRing).toArray(normals, vtxIdx);\n      }\n    } else {\n      this._countNormalsInRing(ptsCount, vtxIdx, true, +nPtsInRing);\n      vtxIdx += nPtsInRing;\n    }\n    // other rings\n    // we count normals' values based on previous ring information\n    for (let i = 2; i < ringsCount; ++i, vtxIdx += nPtsInRing) {\n      this._countNormalsInRing(ptsCount, vtxIdx, true, -nPtsInRing);\n    }\n  }\n\n  // Counting normals:\n  // - Slope\n  //   Radius changes throught part => normals aren't parallel with the plane contains section points\n  //   normal = vTangentInSectionPlane x vToSuchPointInPrevSection (all vectors are scaled for being 1 in length)\n  // - No slope\n  //   Radius doesn't change throught part => normals are parallel with the plane contains section points\n  //   normal = vToPrevPointInSection + vToNextPointInSection (all vectors are scaled for being 1 in length)\n  _countNormalsInRing(ptsCount, vtxIdx, isSlope, shiftToExtraPt) {\n    const tmpShape = this._tmpShape;\n    const normals = this._normals;\n\n    tmpShape[0].fromArray(this._positions, vtxIdx);\n    tmpShape[ptsCount - 1].fromArray(this._positions, vtxIdx + (ptsCount - 1) * VEC_SIZE);\n\n    for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n      if (j < ptsCount - 1) {\n        tmpShape[j + 1].fromArray(this._positions, vtxIdx + VEC_SIZE);\n      }\n\n      if (isSlope) {\n        nearRingPt.fromArray(this._positions, vtxIdx + shiftToExtraPt);\n\n        tmpPrev.subVectors(tmpShape[(j + ptsCount - 1) % ptsCount], tmpShape[(j + 1) % ptsCount]).normalize();\n        tmpNext.subVectors(tmpShape[j], nearRingPt).normalize();\n        tmpRes.crossVectors(tmpNext, tmpPrev).normalize().toArray(normals, vtxIdx);\n      } else {\n        tmpPrev.subVectors(tmpShape[j], tmpShape[(j + ptsCount - 1) % ptsCount]).normalize();\n        tmpNext.subVectors(tmpShape[j], tmpShape[(j + 1) % ptsCount]).normalize();\n        tmpRes.addVectors(tmpPrev, tmpNext).normalize().toArray(normals, vtxIdx);\n      }\n    }\n  }\n\n  _addCut(ptsCount, ringsCount, chunkStartIdx) {\n    // Nothing to do if item is flat or only line\n    if (ptsCount < 3 || ringsCount < 2) {\n      return;\n    }\n    const positions = this._positions;\n    const normals = this._normals;\n    const tmpShape = this._tmpShape;\n    const nPtsInRing = ptsCount * VEC_SIZE;\n\n    // Normal to the cut plane is equal to cross product of two vectors which are lying in it\n    tmpShape[0].fromArray(positions, chunkStartIdx);\n    tmpShape[1].fromArray(positions, chunkStartIdx + VEC_SIZE);\n    tmpShape[2].fromArray(positions, chunkStartIdx + 2 * VEC_SIZE);\n\n    tmpPrev.subVectors(tmpShape[1], tmpShape[0]).normalize();\n    tmpNext.subVectors(tmpShape[1], tmpShape[2]).normalize();\n    normalOnCut.crossVectors(tmpPrev, tmpNext).normalize();\n\n    let vtxIdx = chunkStartIdx;\n    // First and second rings normals' values are equal to value of normal to the cutting plane\n    for (let j = 0; j < ptsCount * 2; ++j, vtxIdx += VEC_SIZE) {\n      normalOnCut.toArray(normals, vtxIdx);\n    }\n    if (ringsCount > 2) {\n      // Third ring points are coincident to first ring points, but have different normals. It makes sharp angle near cut\n      for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n        tmpRes.fromArray(positions, vtxIdx - nPtsInRing).toArray(positions, vtxIdx);\n      }\n    }\n  }\n}\n\nexport default ExtrudedObjectsGeometry;\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport utils from '../../utils';\n\nconst MAX_IDC_16BIT = 65535;\nconst VERTEX_PER_SEGMENT = 4;\nconst POS_SIZE = 4;\nconst DIR_SIZE = 3;\nconst COL_SIZE = 3;\nconst tmpColor = new THREE.Color();\nconst direction = new THREE.Vector3();\n\nfunction setArrayXYZ(arr, idx, x, y, z) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n}\n\nfunction setArrayXYZW(arr, idx, x, y, z, w) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n  arr[idx + 3] = w;\n}\n\nfunction getSubset(arr, startSegmentIdx, segmentsCount, elemSize) {\n  const start = startSegmentIdx * VERTEX_PER_SEGMENT;\n  const end = start + segmentsCount * VERTEX_PER_SEGMENT;\n  return arr.subarray(start * elemSize, end * elemSize);\n}\n\n/**\n * This class represents lines geometry which consists of screen-aligned narrow quad of variable width.\n *\n * @constructor\n *\n * @param {number}  segmentsCount   Number of segments per chunk.\n * collision geometry.\n */\n\nclass ThickLinesGeometry extends THREE.BufferGeometry {\n  constructor(segmentsCount) {\n    super();\n    this._initVertices(segmentsCount);\n  }\n\n  startUpdate() {\n    return true;\n  }\n\n  finishUpdate() {\n    this.getAttribute('position').needsUpdate = true;\n    this.getAttribute('color').needsUpdate = true;\n    this.getAttribute('alphaColor').needsUpdate = true;\n    this.getAttribute('direction').needsUpdate = true;\n  }\n\n  setColor(segmentIdx, colorVal) {\n    tmpColor.set(colorVal);\n    let idx = segmentIdx * VERTEX_PER_SEGMENT * COL_SIZE;\n    setArrayXYZ(this._colors, idx, tmpColor.r, tmpColor.g, tmpColor.b);\n    idx += COL_SIZE;\n    setArrayXYZ(this._colors, idx, tmpColor.r, tmpColor.g, tmpColor.b);\n    idx += COL_SIZE;\n    setArrayXYZ(this._colors, idx, tmpColor.r, tmpColor.g, tmpColor.b);\n    idx += COL_SIZE;\n    setArrayXYZ(this._colors, idx, tmpColor.r, tmpColor.g, tmpColor.b);\n  }\n\n  setSegment(segmentIdx, pos1, pos2) {\n    direction.subVectors(pos1, pos2);\n    direction.normalize();\n    const positions = this._positions;\n    const directions = this._directions;\n    let idx = segmentIdx * VERTEX_PER_SEGMENT * POS_SIZE;\n    let dirIdx = segmentIdx * VERTEX_PER_SEGMENT * DIR_SIZE;\n    setArrayXYZW(positions, idx, pos1.x, pos1.y, pos1.z, 0.5);\n    setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n    idx += POS_SIZE;\n    dirIdx += DIR_SIZE;\n    setArrayXYZW(positions, idx, pos1.x, pos1.y, pos1.z, -0.5);\n    setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n    idx += POS_SIZE;\n    dirIdx += DIR_SIZE;\n    setArrayXYZW(positions, idx, pos2.x, pos2.y, pos2.z, 0.5);\n    setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n    idx += POS_SIZE;\n    dirIdx += DIR_SIZE;\n    setArrayXYZW(positions, idx, pos2.x, pos2.y, pos2.z, -0.5);\n    setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n  }\n\n  setOpacity(startSegIdx, endSegIdx, value) {\n    const start = startSegIdx * VERTEX_PER_SEGMENT;\n    const end = endSegIdx * VERTEX_PER_SEGMENT;\n    _.fill(this.alpha, value, end, start);\n    this.getAttribute('alphaColor').needsUpdate = true;\n  }\n\n  getSubsetSegments(startSegmentIdx, segmentsCount) {\n    return [\n      getSubset(this._positions, startSegmentIdx, segmentsCount, POS_SIZE),\n      getSubset(this._directions, startSegmentIdx, segmentsCount, DIR_SIZE),\n    ];\n  }\n\n  getSubsetColors(startSegmentIdx, segmentsCount) {\n    return getSubset(this._colors, startSegmentIdx, segmentsCount, COL_SIZE);\n  }\n\n  getSubsetOpacities(startSegmentIdx, segmentsCount) {\n    return getSubset(this._alpha, startSegmentIdx, segmentsCount, 1);\n  }\n\n  getNumVertexPerSegment() {\n    return VERTEX_PER_SEGMENT;\n  }\n\n  getPositionSize() {\n    return POS_SIZE;\n  }\n\n  setSegments(startSegmentIdx, positions) {\n    const startPos = startSegmentIdx * VERTEX_PER_SEGMENT * POS_SIZE;\n    if (positions instanceof Array && positions.length === 2) {\n      this._positions.set(positions[0], startPos);\n      const startDir = startSegmentIdx * VERTEX_PER_SEGMENT * DIR_SIZE;\n      this._directions.set(positions[1], startDir); // dirs are geo part of vertex\n    } else {\n      this._positions.set(positions, startPos);\n    }\n  }\n\n  setColors(startSegmentIdx, colors) {\n    const start = startSegmentIdx * VERTEX_PER_SEGMENT * COL_SIZE;\n    this._colors.set(colors, start);\n  }\n\n  _initVertices(segmentsCount) {\n    this._buffersSize = segmentsCount * VERTEX_PER_SEGMENT;\n    const pointsCount = this._buffersSize;\n    const use32bitIndex = pointsCount > MAX_IDC_16BIT;\n    this._index = utils.allocateTyped(use32bitIndex ? Uint32Array : Uint16Array, segmentsCount * 6);\n    this._positions = utils.allocateTyped(Float32Array, pointsCount * POS_SIZE);\n    this._colors = utils.allocateTyped(Float32Array, pointsCount * COL_SIZE);\n    this._directions = utils.allocateTyped(Float32Array, pointsCount * DIR_SIZE);\n    const alpha = this._alpha = utils.allocateTyped(Float32Array, pointsCount);\n    _.fill(alpha, 1.0);\n\n    const index = this._index;\n    let indexOffset = 0;\n    let pointOffset = 0;\n    for (let j = 0; j < segmentsCount; j++, indexOffset += 6, pointOffset += VERTEX_PER_SEGMENT) {\n      index[indexOffset] = pointOffset;\n      index[indexOffset + 1] = pointOffset + 1;\n      index[indexOffset + 2] = pointOffset + 3;\n      index[indexOffset + 3] = pointOffset;\n      index[indexOffset + 4] = pointOffset + 2;\n      index[indexOffset + 5] = pointOffset + 3;\n    }\n    this.setIndex(new THREE.BufferAttribute(this._index, 1));\n\n    this.setAttribute('position', new THREE.BufferAttribute(this._positions, POS_SIZE));\n    this.setAttribute('color', new THREE.BufferAttribute(this._colors, COL_SIZE));\n    this.setAttribute('alphaColor', new THREE.BufferAttribute(alpha, 1));\n    this.setAttribute('direction', new THREE.BufferAttribute(this._directions, DIR_SIZE));\n  }\n}\n\n\nexport default ThickLinesGeometry;\n","import * as THREE from 'three';\nimport BaseLinesGeometry from './ThickLinesGeometry';\n\n/**\n * This class represents geometry which consists lines. This can build bounding volumes\n * @constructor\n *\n * @param {number}  segmentsCount   Number of segments per chunk.\n */\nclass LinesGeometry extends BaseLinesGeometry {\n  startUpdate() {\n    return true;\n  }\n\n  computeBoundingSphere() {\n    const { boundingBox } = this;\n    // Build bounding sphere\n    let radiusSquared = 0.0;\n    const center = new THREE.Vector3();\n    if (boundingBox) {\n      boundingBox.getCenter(center);\n    }\n    const positions = this._positions;\n    const sphere = this.boundingSphere || new THREE.Sphere();\n    const size = this._positions.length;\n    const pos = new THREE.Vector3();\n    const posSize = this.getPositionSize();\n    for (let i = 0; i < size; i += posSize) {\n      pos.set(positions[i], positions[i + 1], positions[i + 2]);\n      const lengthSquared = center.distanceToSquared(pos);\n      if (radiusSquared < lengthSquared) {\n        radiusSquared = lengthSquared;\n      }\n    }\n    sphere.set(center, Math.sqrt(radiusSquared));\n    this.boundingSphere = sphere;\n  }\n\n  computeBoundingBox() {\n    const positions = this._positions;\n    const box = new THREE.Box3();\n    const size = this._positions.length;\n    const tmpVec = new THREE.Vector3();\n    const posSize = this.getPositionSize();\n    for (let i = 0; i < size; i += posSize) {\n      tmpVec.set(positions[i], positions[i + 1], positions[i + 2]);\n      box.expandByPoint(tmpVec);\n    }\n    this.boundingBox = box;\n  }\n\n  finalize() {\n    this.finishUpdate();\n    this.computeBoundingSphere();\n  }\n}\n\nexport default LinesGeometry;\n","import * as THREE from 'three';\nimport utils from '../../utils';\nimport gfxutils from '../gfxutils';\nimport ChunkedObjectsGeometry from './ChunkedObjectsGeometry';\n\nconst VEC_SIZE = 3;\nconst tmpVector = new THREE.Vector3();\nconst normMtx = new THREE.Matrix3();\n\nclass CylinderCollisionGeo extends ChunkedObjectsGeometry {\n  constructor(instanceCount, polyComplexity) {\n    const cylGeometry = new THREE.CylinderBufferGeometry(1, 1, 1.0, Math.max(3, polyComplexity), 2, true);\n    super(cylGeometry, instanceCount);\n\n    const chunkSize = this._chunkSize;\n    this._chunkPos = this._chunkGeo.attributes.position.array;\n    this._chunkNorms = this._chunkGeo.attributes.normal.array;\n    this._tmpVector = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE);\n  }\n\n  setItem(itemIdx, botPos, topPos, itemRad) {\n    const chunkSize = this._chunkSize;\n    const itemOffset = chunkSize * itemIdx * VEC_SIZE;\n\n    const tmpArray = this._tmpVector;\n    const geoPos = this._chunkPos;\n    const geoNorm = this._chunkNorms;\n\n    const mtx1 = gfxutils.calcCylinderMatrix(botPos, topPos, itemRad);\n    normMtx.getNormalMatrix(mtx1);\n    let idx;\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE;\n      tmpVector.fromArray(geoPos, idx);\n      tmpVector.applyMatrix4(mtx1);\n      tmpVector.toArray(tmpArray, idx);\n    }\n    this._positions.set(tmpArray, itemOffset);\n\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE;\n      tmpVector.fromArray(geoNorm, idx);\n      tmpVector.applyMatrix3(normMtx);\n      tmpVector.toArray(tmpArray, idx);\n    }\n    this._normals.set(tmpArray, itemOffset);\n  }\n}\nexport default CylinderCollisionGeo;\n","import LinesGeometry from './LinesGeometry';\nimport CylinderCollisionGeo from './CylinderCollisionGeo';\n\nconst COLLISION_RAD = 0.1;\n\n/**\n * This class represents geometry which consists of separate chunks.\n * Each chunk has same index and similar geometry with equal points and faces count.\n * Each chunk has by default only one color.\n * @constructor\n *\n * @param {number}  chunksCount     Total chunks count.\n * @param {number}  segmentsCount   Number of segments per chunk.\n * @param {boolean} enableCollision Enable or disable collision where each segment is\n *                                  a collidable cylinder.\n * collision geometry.\n */\nclass ChunkedLinesGeometry extends LinesGeometry {\n  constructor(chunksCount, segmentsCount, enableCollision) {\n    super(chunksCount * segmentsCount);\n    this._init(segmentsCount);\n    this._collisionGeo = enableCollision ? new CylinderCollisionGeo(chunksCount * segmentsCount, 3) : null;\n  }\n\n  startUpdate() {\n    return true;\n  }\n\n  computeBoundingSphere() {\n    const collisionGeo = this._collisionGeo;\n    if (collisionGeo) {\n      collisionGeo.computeBoundingSphere();\n      this.boundingSphere = collisionGeo.boundingSphere;\n      return;\n    }\n    super.computeBoundingSphere();\n  }\n\n  computeBoundingBox() {\n    const collisionGeo = this._collisionGeo;\n    if (collisionGeo) {\n      collisionGeo.computeBoundingBox();\n      this.boundingBox = collisionGeo.boundingBox;\n      return;\n    }\n    super.computeBoundingBox();\n  }\n\n  raycast(raycaster, intersects) {\n    const collisionGeo = this._collisionGeo;\n    if (!collisionGeo) {\n      return;\n    }\n    const segCount = this._chunkSize;\n    this._collisionGeo.raycast(raycaster, intersects);\n    for (let i = 0, n = intersects.length; i < n; ++i) {\n      let { chunkIdx } = intersects[i];\n      if (chunkIdx === undefined) {\n        continue;\n      }\n      chunkIdx = (chunkIdx / segCount) | 0;\n      intersects[i].chunkIdx = chunkIdx;\n    }\n  }\n\n  setColor(chunkIdx, colorVal) {\n    const chunkSize = this._chunkSize;\n    for (let i = chunkIdx * chunkSize, end = i + chunkSize; i < end; ++i) {\n      super.setColor(i, colorVal);\n    }\n  }\n\n  setSegment(chunkIdx, segIdx, pos1, pos2) {\n    const chunkSize = this._chunkSize;\n    const idx = chunkIdx * chunkSize + segIdx;\n    super.setSegment(idx, pos1, pos2);\n    if (this._collisionGeo) {\n      this._collisionGeo.setItem(chunkIdx * chunkSize + segIdx, pos1, pos2, COLLISION_RAD);\n    }\n  }\n\n  finalize() {\n    this.finishUpdate();\n    this.computeBoundingSphere();\n  }\n\n  setOpacity(chunkIndices, value) {\n    const chunkSize = this._chunkSize;\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      const left = chunkIndices[i] * chunkSize;\n      super.setOpacity(left, left + chunkSize - 1, value);\n    }\n  }\n\n  getSubset(chunkIndices) {\n    const instanceCount = chunkIndices.length;\n    const chunkSize = this._chunkSize;\n    const subset = new ChunkedLinesGeometry(instanceCount, chunkSize, false);\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      const dstPtOffset = i * chunkSize;\n      const startSegIdx = chunkIndices[i] * chunkSize;\n      subset.setSegments(dstPtOffset, this.getSubsetSegments(startSegIdx, chunkSize));\n      subset.setColors(dstPtOffset, this.getSubsetColors(startSegIdx, chunkSize));\n    }\n\n    subset.boundingSphere = this.boundingSphere;\n    subset.boundingBox = this.boundingBox;\n    return [subset];\n  }\n\n  _init(chunkSize) {\n    this._chunkSize = chunkSize;\n  }\n}\n\nexport default ChunkedLinesGeometry;\n","import * as THREE from 'three';\nimport LinesGeometry from './LinesGeometry';\nimport Simple2CCylindersGeometry from './Simple2CCylindersGeometry';\n\nconst COLLISION_RAD = 0.3;\nconst tmpVector = new THREE.Vector3();\n\n\nclass TwoColorLinesGeometry extends LinesGeometry {\n  constructor(segmentsCount) {\n    super(segmentsCount * 2);\n    this._init(segmentsCount);\n    this._collisionGeo = new Simple2CCylindersGeometry(segmentsCount, 3);\n  }\n\n  setItem(itemIdx, botPos, topPos) {\n    this._collisionGeo.setItem(itemIdx, botPos, topPos, COLLISION_RAD);\n    const offset = 2 * itemIdx;// there are two points per segment\n    tmpVector.lerpVectors(botPos, topPos, 0.5);\n    super.setSegment(offset, botPos, tmpVector);\n    super.setSegment(offset + 1, tmpVector, topPos);\n  }\n\n  setColor(itemIdx, colorVal1, colorVal2) {\n    const offset = 2 * itemIdx;// there are two points per segment\n    super.setColor(offset, colorVal1);\n    super.setColor(offset + 1, colorVal2);\n  }\n\n  raycast(raycaster, intersects) {\n    if (this._collisionGeo) {\n      this._collisionGeo.raycast(raycaster, intersects);\n    }\n  }\n\n  getSubset(segmentIndices) {\n    const instanceCount = segmentIndices.length;\n    const subset = new TwoColorLinesGeometry(instanceCount, false);\n    for (let i = 0, n = instanceCount; i < n; ++i) {\n      const startSegIdx = segmentIndices[i];\n      subset.setSegments(i, this.getSubsetSegments(startSegIdx, 1));\n      subset.setColors(i, this.getSubsetColors(startSegIdx, 1));\n    }\n\n    subset.boundingSphere = this.boundingSphere;\n    subset.boundingBox = this.boundingBox;\n    return [subset];\n  }\n\n  _init(segmentsCount) {\n    this._segCounts = segmentsCount * 2;\n  }\n}\n// (???)parent = LinesGeometry.prototype;\n\nexport default TwoColorLinesGeometry;\n","import * as THREE from 'three';\nimport ChunkedLinesGeometry from './ChunkedLinesGeometry';\nimport SphereCollisionGeo from './SphereCollisionGeo';\n\nconst vectors = [\n  new THREE.Vector3(1, 0, 0),\n  new THREE.Vector3(-1, 0, 0),\n  new THREE.Vector3(0, 1, 0),\n  new THREE.Vector3(0, -1, 0),\n  new THREE.Vector3(0, 0, 1),\n  new THREE.Vector3(0, 0, -1),\n];\nconst vecCount = vectors.length;\nconst tempPos1 = new THREE.Vector3();\nconst tempPos2 = new THREE.Vector3();\n\nclass CrossGeometry extends SphereCollisionGeo(ChunkedLinesGeometry) {\n  constructor(chunksCount) {\n    super(chunksCount, chunksCount, (vecCount / 2) | 0, false);\n  }\n\n  setItem(itemIdx, itemPos, itemRad) {\n    this.setSphere(itemIdx, itemPos, itemRad);\n\n    for (let i = 0; i < vecCount / 2; ++i) {\n      const first = i * 2;\n      tempPos1.x = itemPos.x + vectors[first].x * itemRad;\n      tempPos1.y = itemPos.y + vectors[first].y * itemRad;\n      tempPos1.z = itemPos.z + vectors[first].z * itemRad;\n      const second = first + 1;\n      tempPos2.x = itemPos.x + vectors[second].x * itemRad;\n      tempPos2.y = itemPos.y + vectors[second].y * itemRad;\n      tempPos2.z = itemPos.z + vectors[second].z * itemRad;\n      this.setSegment(itemIdx, i, tempPos1, tempPos2);\n    }\n  }\n}\nexport default CrossGeometry;\n","import * as THREE from 'three';\nimport utils from '../../utils';\nimport RaycastableBufferGeometry from './RaycastableBufferGeometry';\n\nconst POS_RAD_SIZE = 4;\nconst COLOR_SIZE = 3;\nconst tmpColor = new THREE.Color();\n\n/**\n * This is a base class for isosurface algorithms.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\nclass IsoSurfaceGeometry extends RaycastableBufferGeometry {\n  constructor(spheresCount, opts) {\n    super();\n\n    this._opts = opts;\n    this.zClip = this._opts.zClip;\n    this._posRad = utils.allocateTyped(Float32Array, spheresCount * POS_RAD_SIZE);\n    this._colors = utils.allocateTyped(Float32Array, spheresCount * COLOR_SIZE);\n  }\n\n  setItem(chunkIdx, pos, radius) {\n    const posRad = this._posRad;\n    let idx = POS_RAD_SIZE * chunkIdx;\n    posRad[idx++] = pos.x;\n    posRad[idx++] = pos.y;\n    posRad[idx++] = pos.z;\n    posRad[idx] = radius;\n  }\n\n  setColor(chunkIdx, colorVal) {\n    tmpColor.set(colorVal);\n    const colors = this._colors;\n    let idx = COLOR_SIZE * chunkIdx;\n    colors[idx++] = tmpColor.r;\n    colors[idx++] = tmpColor.g;\n    colors[idx] = tmpColor.b;\n  }\n\n  finalize() {\n    this.finishUpdate();\n    this.computeBoundingSphere();\n  }\n\n  finishUpdate() {\n    this._build();\n  }\n\n  setOpacity() {\n    // not implemented\n  }\n\n  raycast() {\n  }\n\n  getSubset() {\n    return [];\n  }\n}\nexport default IsoSurfaceGeometry;\n","import utils from '../../utils';\n\n/**\n * Class for marching cube\n * Stores 8 points and 8 float values are stored together in linear array\n * Int values for has intersection or not - in integer32 linear array\n * Int values for bits flags - in integer32 linear array\n *\n */\nclass IsoSurfaceMarchCube {\n  constructor() {\n    this.pointsValuesLinear = null;\n    this.hasIntersection = null;\n    this.bitsInside = null;\n  }\n\n  create(numCellsPerSide) {\n    const vx7000000 = 0x7000000;\n    const n3 = numCellsPerSide * numCellsPerSide * numCellsPerSide;\n    if (n3 > vx7000000) {\n      throw new Error('Too large cube dimension: lead to memory huge uasge');\n    }\n    this.pointsValuesLinear = utils.allocateTyped(Float32Array, (2 << (2 + 2)) * n3);\n    this.hasIntersection = utils.allocateTyped(Int32Array, n3);\n    this.bitsInside = utils.allocateTyped(Int32Array, n3);\n    return 0;\n  }\n\n  destroy() {\n    this.bitsInside = null;\n    this.hasIntersection = null;\n    this.pointsValuesLinear = null;\n  }\n}\n\n/* eslint-disable no-magic-numbers */\nIsoSurfaceMarchCube.prototype.striIndicesMarchCube = [\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 1, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 8, 3, 9, 8, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 3, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  9, 2, 10, 0, 2, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  2, 8, 3, 2, 10, 8, 10, 9, 8, -1, -1, -1, -1, -1, -1, -1,\n  3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 11, 2, 8, 11, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 9, 0, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 11, 2, 1, 9, 11, 9, 8, 11, -1, -1, -1, -1, -1, -1, -1,\n  3, 10, 1, 11, 10, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 10, 1, 0, 8, 10, 8, 11, 10, -1, -1, -1, -1, -1, -1, -1,\n  3, 9, 0, 3, 11, 9, 11, 10, 9, -1, -1, -1, -1, -1, -1, -1,\n  9, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 3, 0, 7, 3, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 1, 9, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 1, 9, 4, 7, 1, 7, 3, 1, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 10, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  3, 4, 7, 3, 0, 4, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1,\n  9, 2, 10, 9, 0, 2, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1,\n  2, 10, 9, 2, 9, 7, 2, 7, 3, 7, 9, 4, -1, -1, -1, -1,\n  8, 4, 7, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  11, 4, 7, 11, 2, 4, 2, 0, 4, -1, -1, -1, -1, -1, -1, -1,\n  9, 0, 1, 8, 4, 7, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1,\n  4, 7, 11, 9, 4, 11, 9, 11, 2, 9, 2, 1, -1, -1, -1, -1,\n  3, 10, 1, 3, 11, 10, 7, 8, 4, -1, -1, -1, -1, -1, -1, -1,\n  1, 11, 10, 1, 4, 11, 1, 0, 4, 7, 11, 4, -1, -1, -1, -1,\n  4, 7, 8, 9, 0, 11, 9, 11, 10, 11, 0, 3, -1, -1, -1, -1,\n  4, 7, 11, 4, 11, 9, 9, 11, 10, -1, -1, -1, -1, -1, -1, -1,\n  9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  9, 5, 4, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 5, 4, 1, 5, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  8, 5, 4, 8, 3, 5, 3, 1, 5, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 10, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  3, 0, 8, 1, 2, 10, 4, 9, 5, -1, -1, -1, -1, -1, -1, -1,\n  5, 2, 10, 5, 4, 2, 4, 0, 2, -1, -1, -1, -1, -1, -1, -1,\n  2, 10, 5, 3, 2, 5, 3, 5, 4, 3, 4, 8, -1, -1, -1, -1,\n  9, 5, 4, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 11, 2, 0, 8, 11, 4, 9, 5, -1, -1, -1, -1, -1, -1, -1,\n  0, 5, 4, 0, 1, 5, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1,\n  2, 1, 5, 2, 5, 8, 2, 8, 11, 4, 8, 5, -1, -1, -1, -1,\n  10, 3, 11, 10, 1, 3, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1,\n  4, 9, 5, 0, 8, 1, 8, 10, 1, 8, 11, 10, -1, -1, -1, -1,\n  5, 4, 0, 5, 0, 11, 5, 11, 10, 11, 0, 3, -1, -1, -1, -1,\n  5, 4, 8, 5, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1,\n  9, 7, 8, 5, 7, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  9, 3, 0, 9, 5, 3, 5, 7, 3, -1, -1, -1, -1, -1, -1, -1,\n  0, 7, 8, 0, 1, 7, 1, 5, 7, -1, -1, -1, -1, -1, -1, -1,\n  1, 5, 3, 3, 5, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  9, 7, 8, 9, 5, 7, 10, 1, 2, -1, -1, -1, -1, -1, -1, -1,\n  10, 1, 2, 9, 5, 0, 5, 3, 0, 5, 7, 3, -1, -1, -1, -1,\n  8, 0, 2, 8, 2, 5, 8, 5, 7, 10, 5, 2, -1, -1, -1, -1,\n  2, 10, 5, 2, 5, 3, 3, 5, 7, -1, -1, -1, -1, -1, -1, -1,\n  7, 9, 5, 7, 8, 9, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1,\n  9, 5, 7, 9, 7, 2, 9, 2, 0, 2, 7, 11, -1, -1, -1, -1,\n  2, 3, 11, 0, 1, 8, 1, 7, 8, 1, 5, 7, -1, -1, -1, -1,\n  11, 2, 1, 11, 1, 7, 7, 1, 5, -1, -1, -1, -1, -1, -1, -1,\n  9, 5, 8, 8, 5, 7, 10, 1, 3, 10, 3, 11, -1, -1, -1, -1,\n  5, 7, 0, 5, 0, 9, 7, 11, 0, 1, 0, 10, 11, 10, 0, -1,\n  11, 10, 0, 11, 0, 3, 10, 5, 0, 8, 0, 7, 5, 7, 0, -1,\n  11, 10, 5, 7, 11, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 3, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  9, 0, 1, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 8, 3, 1, 9, 8, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1,\n  1, 6, 5, 2, 6, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 6, 5, 1, 2, 6, 3, 0, 8, -1, -1, -1, -1, -1, -1, -1,\n  9, 6, 5, 9, 0, 6, 0, 2, 6, -1, -1, -1, -1, -1, -1, -1,\n  5, 9, 8, 5, 8, 2, 5, 2, 6, 3, 2, 8, -1, -1, -1, -1,\n  2, 3, 11, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  11, 0, 8, 11, 2, 0, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1,\n  0, 1, 9, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1,\n  5, 10, 6, 1, 9, 2, 9, 11, 2, 9, 8, 11, -1, -1, -1, -1,\n  6, 3, 11, 6, 5, 3, 5, 1, 3, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 11, 0, 11, 5, 0, 5, 1, 5, 11, 6, -1, -1, -1, -1,\n  3, 11, 6, 0, 3, 6, 0, 6, 5, 0, 5, 9, -1, -1, -1, -1,\n  6, 5, 9, 6, 9, 11, 11, 9, 8, -1, -1, -1, -1, -1, -1, -1,\n  5, 10, 6, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 3, 0, 4, 7, 3, 6, 5, 10, -1, -1, -1, -1, -1, -1, -1,\n  1, 9, 0, 5, 10, 6, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1,\n  10, 6, 5, 1, 9, 7, 1, 7, 3, 7, 9, 4, -1, -1, -1, -1,\n  6, 1, 2, 6, 5, 1, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 5, 5, 2, 6, 3, 0, 4, 3, 4, 7, -1, -1, -1, -1,\n  8, 4, 7, 9, 0, 5, 0, 6, 5, 0, 2, 6, -1, -1, -1, -1,\n  7, 3, 9, 7, 9, 4, 3, 2, 9, 5, 9, 6, 2, 6, 9, -1,\n  3, 11, 2, 7, 8, 4, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1,\n  5, 10, 6, 4, 7, 2, 4, 2, 0, 2, 7, 11, -1, -1, -1, -1,\n  0, 1, 9, 4, 7, 8, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1,\n  9, 2, 1, 9, 11, 2, 9, 4, 11, 7, 11, 4, 5, 10, 6, -1,\n  8, 4, 7, 3, 11, 5, 3, 5, 1, 5, 11, 6, -1, -1, -1, -1,\n  5, 1, 11, 5, 11, 6, 1, 0, 11, 7, 11, 4, 0, 4, 11, -1,\n  0, 5, 9, 0, 6, 5, 0, 3, 6, 11, 6, 3, 8, 4, 7, -1,\n  6, 5, 9, 6, 9, 11, 4, 7, 9, 7, 11, 9, -1, -1, -1, -1,\n  10, 4, 9, 6, 4, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 10, 6, 4, 9, 10, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1,\n  10, 0, 1, 10, 6, 0, 6, 4, 0, -1, -1, -1, -1, -1, -1, -1,\n  8, 3, 1, 8, 1, 6, 8, 6, 4, 6, 1, 10, -1, -1, -1, -1,\n  1, 4, 9, 1, 2, 4, 2, 6, 4, -1, -1, -1, -1, -1, -1, -1,\n  3, 0, 8, 1, 2, 9, 2, 4, 9, 2, 6, 4, -1, -1, -1, -1,\n  0, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  8, 3, 2, 8, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1,\n  10, 4, 9, 10, 6, 4, 11, 2, 3, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 2, 2, 8, 11, 4, 9, 10, 4, 10, 6, -1, -1, -1, -1,\n  3, 11, 2, 0, 1, 6, 0, 6, 4, 6, 1, 10, -1, -1, -1, -1,\n  6, 4, 1, 6, 1, 10, 4, 8, 1, 2, 1, 11, 8, 11, 1, -1,\n  9, 6, 4, 9, 3, 6, 9, 1, 3, 11, 6, 3, -1, -1, -1, -1,\n  8, 11, 1, 8, 1, 0, 11, 6, 1, 9, 1, 4, 6, 4, 1, -1,\n  3, 11, 6, 3, 6, 0, 0, 6, 4, -1, -1, -1, -1, -1, -1, -1,\n  6, 4, 8, 11, 6, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  7, 10, 6, 7, 8, 10, 8, 9, 10, -1, -1, -1, -1, -1, -1, -1,\n  0, 7, 3, 0, 10, 7, 0, 9, 10, 6, 7, 10, -1, -1, -1, -1,\n  10, 6, 7, 1, 10, 7, 1, 7, 8, 1, 8, 0, -1, -1, -1, -1,\n  10, 6, 7, 10, 7, 1, 1, 7, 3, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 6, 1, 6, 8, 1, 8, 9, 8, 6, 7, -1, -1, -1, -1,\n  2, 6, 9, 2, 9, 1, 6, 7, 9, 0, 9, 3, 7, 3, 9, -1,\n  7, 8, 0, 7, 0, 6, 6, 0, 2, -1, -1, -1, -1, -1, -1, -1,\n  7, 3, 2, 6, 7, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  2, 3, 11, 10, 6, 8, 10, 8, 9, 8, 6, 7, -1, -1, -1, -1,\n  2, 0, 7, 2, 7, 11, 0, 9, 7, 6, 7, 10, 9, 10, 7, -1,\n  1, 8, 0, 1, 7, 8, 1, 10, 7, 6, 7, 10, 2, 3, 11, -1,\n  11, 2, 1, 11, 1, 7, 10, 6, 1, 6, 7, 1, -1, -1, -1, -1,\n  8, 9, 6, 8, 6, 7, 9, 1, 6, 11, 6, 3, 1, 3, 6, -1,\n  0, 9, 1, 11, 6, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  7, 8, 0, 7, 0, 6, 3, 11, 0, 11, 6, 0, -1, -1, -1, -1,\n  7, 11, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  3, 0, 8, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 1, 9, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  8, 1, 9, 8, 3, 1, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1,\n  10, 1, 2, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 10, 3, 0, 8, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1,\n  2, 9, 0, 2, 10, 9, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1,\n  6, 11, 7, 2, 10, 3, 10, 8, 3, 10, 9, 8, -1, -1, -1, -1,\n  7, 2, 3, 6, 2, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  7, 0, 8, 7, 6, 0, 6, 2, 0, -1, -1, -1, -1, -1, -1, -1,\n  2, 7, 6, 2, 3, 7, 0, 1, 9, -1, -1, -1, -1, -1, -1, -1,\n  1, 6, 2, 1, 8, 6, 1, 9, 8, 8, 7, 6, -1, -1, -1, -1,\n  10, 7, 6, 10, 1, 7, 1, 3, 7, -1, -1, -1, -1, -1, -1, -1,\n  10, 7, 6, 1, 7, 10, 1, 8, 7, 1, 0, 8, -1, -1, -1, -1,\n  0, 3, 7, 0, 7, 10, 0, 10, 9, 6, 10, 7, -1, -1, -1, -1,\n  7, 6, 10, 7, 10, 8, 8, 10, 9, -1, -1, -1, -1, -1, -1, -1,\n  6, 8, 4, 11, 8, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  3, 6, 11, 3, 0, 6, 0, 4, 6, -1, -1, -1, -1, -1, -1, -1,\n  8, 6, 11, 8, 4, 6, 9, 0, 1, -1, -1, -1, -1, -1, -1, -1,\n  9, 4, 6, 9, 6, 3, 9, 3, 1, 11, 3, 6, -1, -1, -1, -1,\n  6, 8, 4, 6, 11, 8, 2, 10, 1, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 10, 3, 0, 11, 0, 6, 11, 0, 4, 6, -1, -1, -1, -1,\n  4, 11, 8, 4, 6, 11, 0, 2, 9, 2, 10, 9, -1, -1, -1, -1,\n  10, 9, 3, 10, 3, 2, 9, 4, 3, 11, 3, 6, 4, 6, 3, -1,\n  8, 2, 3, 8, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1,\n  0, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 9, 0, 2, 3, 4, 2, 4, 6, 4, 3, 8, -1, -1, -1, -1,\n  1, 9, 4, 1, 4, 2, 2, 4, 6, -1, -1, -1, -1, -1, -1, -1,\n  8, 1, 3, 8, 6, 1, 8, 4, 6, 6, 10, 1, -1, -1, -1, -1,\n  10, 1, 0, 10, 0, 6, 6, 0, 4, -1, -1, -1, -1, -1, -1, -1,\n  4, 6, 3, 4, 3, 8, 6, 10, 3, 0, 3, 9, 10, 9, 3, -1,\n  10, 9, 4, 6, 10, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 9, 5, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 3, 4, 9, 5, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1,\n  5, 0, 1, 5, 4, 0, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1,\n  11, 7, 6, 8, 3, 4, 3, 5, 4, 3, 1, 5, -1, -1, -1, -1,\n  9, 5, 4, 10, 1, 2, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1,\n  6, 11, 7, 1, 2, 10, 0, 8, 3, 4, 9, 5, -1, -1, -1, -1,\n  7, 6, 11, 5, 4, 10, 4, 2, 10, 4, 0, 2, -1, -1, -1, -1,\n  3, 4, 8, 3, 5, 4, 3, 2, 5, 10, 5, 2, 11, 7, 6, -1,\n  7, 2, 3, 7, 6, 2, 5, 4, 9, -1, -1, -1, -1, -1, -1, -1,\n  9, 5, 4, 0, 8, 6, 0, 6, 2, 6, 8, 7, -1, -1, -1, -1,\n  3, 6, 2, 3, 7, 6, 1, 5, 0, 5, 4, 0, -1, -1, -1, -1,\n  6, 2, 8, 6, 8, 7, 2, 1, 8, 4, 8, 5, 1, 5, 8, -1,\n  9, 5, 4, 10, 1, 6, 1, 7, 6, 1, 3, 7, -1, -1, -1, -1,\n  1, 6, 10, 1, 7, 6, 1, 0, 7, 8, 7, 0, 9, 5, 4, -1,\n  4, 0, 10, 4, 10, 5, 0, 3, 10, 6, 10, 7, 3, 7, 10, -1,\n  7, 6, 10, 7, 10, 8, 5, 4, 10, 4, 8, 10, -1, -1, -1, -1,\n  6, 9, 5, 6, 11, 9, 11, 8, 9, -1, -1, -1, -1, -1, -1, -1,\n  3, 6, 11, 0, 6, 3, 0, 5, 6, 0, 9, 5, -1, -1, -1, -1,\n  0, 11, 8, 0, 5, 11, 0, 1, 5, 5, 6, 11, -1, -1, -1, -1,\n  6, 11, 3, 6, 3, 5, 5, 3, 1, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 10, 9, 5, 11, 9, 11, 8, 11, 5, 6, -1, -1, -1, -1,\n  0, 11, 3, 0, 6, 11, 0, 9, 6, 5, 6, 9, 1, 2, 10, -1,\n  11, 8, 5, 11, 5, 6, 8, 0, 5, 10, 5, 2, 0, 2, 5, -1,\n  6, 11, 3, 6, 3, 5, 2, 10, 3, 10, 5, 3, -1, -1, -1, -1,\n  5, 8, 9, 5, 2, 8, 5, 6, 2, 3, 8, 2, -1, -1, -1, -1,\n  9, 5, 6, 9, 6, 0, 0, 6, 2, -1, -1, -1, -1, -1, -1, -1,\n  1, 5, 8, 1, 8, 0, 5, 6, 8, 3, 8, 2, 6, 2, 8, -1,\n  1, 5, 6, 2, 1, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 3, 6, 1, 6, 10, 3, 8, 6, 5, 6, 9, 8, 9, 6, -1,\n  10, 1, 0, 10, 0, 6, 9, 5, 0, 5, 6, 0, -1, -1, -1, -1,\n  0, 3, 8, 5, 6, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  10, 5, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  11, 5, 10, 7, 5, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  11, 5, 10, 11, 7, 5, 8, 3, 0, -1, -1, -1, -1, -1, -1, -1,\n  5, 11, 7, 5, 10, 11, 1, 9, 0, -1, -1, -1, -1, -1, -1, -1,\n  10, 7, 5, 10, 11, 7, 9, 8, 1, 8, 3, 1, -1, -1, -1, -1,\n  11, 1, 2, 11, 7, 1, 7, 5, 1, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 3, 1, 2, 7, 1, 7, 5, 7, 2, 11, -1, -1, -1, -1,\n  9, 7, 5, 9, 2, 7, 9, 0, 2, 2, 11, 7, -1, -1, -1, -1,\n  7, 5, 2, 7, 2, 11, 5, 9, 2, 3, 2, 8, 9, 8, 2, -1,\n  2, 5, 10, 2, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1,\n  8, 2, 0, 8, 5, 2, 8, 7, 5, 10, 2, 5, -1, -1, -1, -1,\n  9, 0, 1, 5, 10, 3, 5, 3, 7, 3, 10, 2, -1, -1, -1, -1,\n  9, 8, 2, 9, 2, 1, 8, 7, 2, 10, 2, 5, 7, 5, 2, -1,\n  1, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 7, 0, 7, 1, 1, 7, 5, -1, -1, -1, -1, -1, -1, -1,\n  9, 0, 3, 9, 3, 5, 5, 3, 7, -1, -1, -1, -1, -1, -1, -1,\n  9, 8, 7, 5, 9, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  5, 8, 4, 5, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1,\n  5, 0, 4, 5, 11, 0, 5, 10, 11, 11, 3, 0, -1, -1, -1, -1,\n  0, 1, 9, 8, 4, 10, 8, 10, 11, 10, 4, 5, -1, -1, -1, -1,\n  10, 11, 4, 10, 4, 5, 11, 3, 4, 9, 4, 1, 3, 1, 4, -1,\n  2, 5, 1, 2, 8, 5, 2, 11, 8, 4, 5, 8, -1, -1, -1, -1,\n  0, 4, 11, 0, 11, 3, 4, 5, 11, 2, 11, 1, 5, 1, 11, -1,\n  0, 2, 5, 0, 5, 9, 2, 11, 5, 4, 5, 8, 11, 8, 5, -1,\n  9, 4, 5, 2, 11, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  2, 5, 10, 3, 5, 2, 3, 4, 5, 3, 8, 4, -1, -1, -1, -1,\n  5, 10, 2, 5, 2, 4, 4, 2, 0, -1, -1, -1, -1, -1, -1, -1,\n  3, 10, 2, 3, 5, 10, 3, 8, 5, 4, 5, 8, 0, 1, 9, -1,\n  5, 10, 2, 5, 2, 4, 1, 9, 2, 9, 4, 2, -1, -1, -1, -1,\n  8, 4, 5, 8, 5, 3, 3, 5, 1, -1, -1, -1, -1, -1, -1, -1,\n  0, 4, 5, 1, 0, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  8, 4, 5, 8, 5, 3, 9, 0, 5, 0, 3, 5, -1, -1, -1, -1,\n  9, 4, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 11, 7, 4, 9, 11, 9, 10, 11, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 3, 4, 9, 7, 9, 11, 7, 9, 10, 11, -1, -1, -1, -1,\n  1, 10, 11, 1, 11, 4, 1, 4, 0, 7, 4, 11, -1, -1, -1, -1,\n  3, 1, 4, 3, 4, 8, 1, 10, 4, 7, 4, 11, 10, 11, 4, -1,\n  4, 11, 7, 9, 11, 4, 9, 2, 11, 9, 1, 2, -1, -1, -1, -1,\n  9, 7, 4, 9, 11, 7, 9, 1, 11, 2, 11, 1, 0, 8, 3, -1,\n  11, 7, 4, 11, 4, 2, 2, 4, 0, -1, -1, -1, -1, -1, -1, -1,\n  11, 7, 4, 11, 4, 2, 8, 3, 4, 3, 2, 4, -1, -1, -1, -1,\n  2, 9, 10, 2, 7, 9, 2, 3, 7, 7, 4, 9, -1, -1, -1, -1,\n  9, 10, 7, 9, 7, 4, 10, 2, 7, 8, 7, 0, 2, 0, 7, -1,\n  3, 7, 10, 3, 10, 2, 7, 4, 10, 1, 10, 0, 4, 0, 10, -1,\n  1, 10, 2, 8, 7, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 9, 1, 4, 1, 7, 7, 1, 3, -1, -1, -1, -1, -1, -1, -1,\n  4, 9, 1, 4, 1, 7, 0, 8, 1, 8, 7, 1, -1, -1, -1, -1,\n  4, 0, 3, 7, 4, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 8, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  9, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  3, 0, 9, 3, 9, 11, 11, 9, 10, -1, -1, -1, -1, -1, -1, -1,\n  0, 1, 10, 0, 10, 8, 8, 10, 11, -1, -1, -1, -1, -1, -1, -1,\n  3, 1, 10, 11, 3, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 11, 1, 11, 9, 9, 11, 8, -1, -1, -1, -1, -1, -1, -1,\n  3, 0, 9, 3, 9, 11, 1, 2, 9, 2, 11, 9, -1, -1, -1, -1,\n  0, 2, 11, 8, 0, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  3, 2, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  2, 3, 8, 2, 8, 10, 10, 8, 9, -1, -1, -1, -1, -1, -1, -1,\n  9, 10, 2, 0, 9, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  2, 3, 8, 2, 8, 10, 0, 1, 8, 1, 10, 8, -1, -1, -1, -1,\n  1, 10, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 3, 8, 9, 1, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 9, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 3, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n];\n/* eslint-enable no-magic-numbers */\n\nexport default IsoSurfaceMarchCube;\n","import * as THREE from 'three';\nimport IsoSurfaceMarchCube from './IsoSurfaceMarchCube';\nimport utils from '../../utils';\n\nconst edgeTable = [\n  0x0, 0x109, 0x203, 0x30a, 0x406, 0x50f, 0x605, 0x70c,\n  0x80c, 0x905, 0xa0f, 0xb06, 0xc0a, 0xd03, 0xe09, 0xf00,\n  0x190, 0x99, 0x393, 0x29a, 0x596, 0x49f, 0x795, 0x69c,\n  0x99c, 0x895, 0xb9f, 0xa96, 0xd9a, 0xc93, 0xf99, 0xe90,\n  0x230, 0x339, 0x33, 0x13a, 0x636, 0x73f, 0x435, 0x53c,\n  0xa3c, 0xb35, 0x83f, 0x936, 0xe3a, 0xf33, 0xc39, 0xd30,\n  0x3a0, 0x2a9, 0x1a3, 0xaa, 0x7a6, 0x6af, 0x5a5, 0x4ac,\n  0xbac, 0xaa5, 0x9af, 0x8a6, 0xfaa, 0xea3, 0xda9, 0xca0,\n  0x460, 0x569, 0x663, 0x76a, 0x66, 0x16f, 0x265, 0x36c,\n  0xc6c, 0xd65, 0xe6f, 0xf66, 0x86a, 0x963, 0xa69, 0xb60,\n  0x5f0, 0x4f9, 0x7f3, 0x6fa, 0x1f6, 0xff, 0x3f5, 0x2fc,\n  0xdfc, 0xcf5, 0xfff, 0xef6, 0x9fa, 0x8f3, 0xbf9, 0xaf0,\n  0x650, 0x759, 0x453, 0x55a, 0x256, 0x35f, 0x55, 0x15c,\n  0xe5c, 0xf55, 0xc5f, 0xd56, 0xa5a, 0xb53, 0x859, 0x950,\n  0x7c0, 0x6c9, 0x5c3, 0x4ca, 0x3c6, 0x2cf, 0x1c5, 0xcc,\n  0xfcc, 0xec5, 0xdcf, 0xcc6, 0xbca, 0xac3, 0x9c9, 0x8c0,\n  0x8c0, 0x9c9, 0xac3, 0xbca, 0xcc6, 0xdcf, 0xec5, 0xfcc,\n  0xcc, 0x1c5, 0x2cf, 0x3c6, 0x4ca, 0x5c3, 0x6c9, 0x7c0,\n  0x950, 0x859, 0xb53, 0xa5a, 0xd56, 0xc5f, 0xf55, 0xe5c,\n  0x15c, 0x55, 0x35f, 0x256, 0x55a, 0x453, 0x759, 0x650,\n  0xaf0, 0xbf9, 0x8f3, 0x9fa, 0xef6, 0xfff, 0xcf5, 0xdfc,\n  0x2fc, 0x3f5, 0xff, 0x1f6, 0x6fa, 0x7f3, 0x4f9, 0x5f0,\n  0xb60, 0xa69, 0x963, 0x86a, 0xf66, 0xe6f, 0xd65, 0xc6c,\n  0x36c, 0x265, 0x16f, 0x66, 0x76a, 0x663, 0x569, 0x460,\n  0xca0, 0xda9, 0xea3, 0xfaa, 0x8a6, 0x9af, 0xaa5, 0xbac,\n  0x4ac, 0x5a5, 0x6af, 0x7a6, 0xaa, 0x1a3, 0x2a9, 0x3a0,\n  0xd30, 0xc39, 0xf33, 0xe3a, 0x936, 0x83f, 0xb35, 0xa3c,\n  0x53c, 0x435, 0x73f, 0x636, 0x13a, 0x33, 0x339, 0x230,\n  0xe90, 0xf99, 0xc93, 0xd9a, 0xa96, 0xb9f, 0x895, 0x99c,\n  0x69c, 0x795, 0x49f, 0x596, 0x29a, 0x393, 0x99, 0x190,\n  0xf00, 0xe09, 0xd03, 0xc0a, 0xb06, 0xa0f, 0x905, 0x80c,\n  0x70c, 0x605, 0x50f, 0x406, 0x30a, 0x203, 0x109, 0x0];\n\nfunction _voxelGradientFast(v, point, grad) {\n  const g = v.getValue(point.x, point.y, point.z);\n  grad.set(g[0], g[1], g[2]);\n}\n\n// Helper class GridCell\nclass GridCell {\n  constructor() {\n    this._arrSize = 8;\n    this.p = new Array(this._arrSize);\n    this.g = new Array(this._arrSize);\n    this.val = new Array(this._arrSize);\n    for (let i = 0; i < this._arrSize; ++i) {\n      this.p[i] = new THREE.Vector3();\n      this.g[i] = new THREE.Vector3();\n    }\n    this.cubeIndex = 0;\n  }\n}\n\n// Helper class Triangle\nclass Triangle {\n  constructor() {\n    this.a = {\n      p: new THREE.Vector3(),\n      n: new THREE.Vector3(),\n    };\n\n    this.b = {\n      p: new THREE.Vector3(),\n      n: new THREE.Vector3(),\n    };\n\n    this.c = {\n      p: new THREE.Vector3(),\n      n: new THREE.Vector3(),\n    };\n  }\n}\n\nfunction createArray(arrSize) {\n  const arr = new Array(arrSize);\n  for (let i = 0; i < arrSize; ++i) {\n    arr[i] = new THREE.Vector3();\n  }\n\n  return arr;\n}\n\nclass IsoSurface {\n  constructor() {\n    this._numTriangles = 0;\n    this._numVertices = 0;\n    this._position = [];\n    this._normals = [];\n    this._colors = null;\n    this._indices = [];\n    this._volumetricData = null;\n    this._xAxis = new THREE.Vector3();\n    this._yAxis = new THREE.Vector3();\n    this._zAxis = new THREE.Vector3();\n    this._xDir = new THREE.Vector3();\n    this._yDir = new THREE.Vector3();\n    this._zDir = new THREE.Vector3();\n  }\n\n  _prepareAxesAndDirs() {\n    const volData = this._volumetricData;\n\n    const cellSize = volData.getCellSize();\n\n    // calculate cell axes\n    const xAxis = this._xAxis;\n    const yAxis = this._yAxis;\n    const zAxis = this._zAxis;\n    const xDir = this._xDir;\n    const yDir = this._yDir;\n    const zDir = this._zDir;\n\n    xAxis.set(cellSize.x, 0, 0);\n    yAxis.set(0, cellSize.y, 0);\n    zAxis.set(0, 0, cellSize.z);\n\n    xDir.set(1, 0, 0);\n    yDir.set(0, 1, 0);\n    zDir.set(0, 0, 1);\n\n    // flip normals if coordinate system is in the wrong handedness\n    const tmp = new THREE.Vector3();\n    tmp.crossVectors(xDir, yDir);\n    if (tmp.dot(zDir) < 0) {\n      xDir.negate();\n      yDir.negate();\n      zDir.negate();\n    }\n\n    // check that the grid is in the all-positive octant of the coordinate system\n    if (xDir.x < 0 || xDir.y < 0 || xDir.z < 0\n      || yDir.x < 0 || yDir.y < 0 || yDir.z < 0\n      || zDir.x < 0 || zDir.y < 0 || zDir.z < 0) {\n      return false;\n    }\n\n    // check that the grid is axis-aligned\n    const notZero = (axe) => Math.abs(axe) > Number.EPSILON;\n    return !(notZero(xAxis.y) || notZero(xAxis.z)\n          || notZero(yAxis.x) || notZero(yAxis.z)\n          || notZero(zAxis.x) || notZero(zAxis.y));\n  }\n\n  _vertexInterp(isoLevel, grid, ind1, ind2, vertex, normal) {\n    const p1 = grid.p[ind1];\n    const p2 = grid.p[ind2];\n    const n1 = grid.g[ind1];\n    const n2 = grid.g[ind2];\n    const valP1 = grid.val[ind1];\n    const valP2 = grid.val[ind2];\n    const isoDiffP1 = isoLevel - valP1;\n    const diffValP2P1 = valP2 - valP1;\n\n    let mu = 0.0;\n\n    if (Math.abs(diffValP2P1) > 0.0) {\n      mu = isoDiffP1 / diffValP2P1;\n    }\n    mu = mu > 1.0 ? 1.0 : mu;\n    vertex.lerpVectors(p1, p2, mu);\n    normal.lerpVectors(n1, n2, mu);\n  }\n\n  static _triTable = IsoSurfaceMarchCube.prototype.striIndicesMarchCube;\n\n  static _arrSize = 12;\n\n  static _firstIndices = [0, 1, 2, 3, 4, 5, 6, 7, 0, 1, 2, 3];\n\n  static _secondIndices = [1, 2, 3, 0, 5, 6, 7, 4, 4, 5, 6, 7];\n\n  static _vertexList = createArray(IsoSurface._arrSize);\n\n  static _normalList = createArray(IsoSurface._arrSize);\n\n  _polygonize(grid, isoLevel, triangles) {\n    const { cubeIndex } = grid;\n    let i = 0;\n    const arrSize = IsoSurface._arrSize;\n    const firstIndices = IsoSurface._firstIndices;\n    const secondIndices = IsoSurface._secondIndices;\n    const vertexList = IsoSurface._vertexList;\n    const normalList = IsoSurface._normalList;\n\n    for (; i < arrSize; ++i) {\n      if (edgeTable[cubeIndex] & (1 << i)) {\n        this._vertexInterp(\n          isoLevel, grid,\n          firstIndices[i],\n          secondIndices[i],\n          vertexList[i],\n          normalList[i],\n        );\n      }\n    }\n\n    let triCount = 0;\n    const triTblIdx = cubeIndex * 16;\n    const triTable = IsoSurface._triTable;\n\n    for (i = 0; triTable[triTblIdx + i] !== -1; i += 3) {\n      triangles[triCount].a.p.copy(vertexList[triTable[triTblIdx + i]]);\n      triangles[triCount].a.n.copy(normalList[triTable[triTblIdx + i]]);\n\n      triangles[triCount].b.p.copy(vertexList[triTable[triTblIdx + i + 1]]);\n      triangles[triCount].b.n.copy(normalList[triTable[triTblIdx + i + 1]]);\n\n      triangles[triCount].c.p.copy(vertexList[triTable[triTblIdx + i + 2]]);\n      triangles[triCount].c.n.copy(normalList[triTable[triTblIdx + i + 2]]);\n      ++triCount;\n    }\n\n    return triCount;\n  }\n\n  _doGridPosNorms(isoValue, step, appendSimple) {\n    const vol = this._volumetricData;\n    const volData = this._volumetricData.getData();\n    const dim = vol.getDimensions();\n    const xSize = dim[0];\n    const ySize = dim[1];\n    const zSize = dim[2];\n    const stepX = step * vol.getStrideX();\n    const stepY = step * vol.getStrideY();\n    const stepZ = step * vol.getStrideZ();\n\n    const gc = new GridCell();\n    const gcVal = gc.val;\n    const gcValSize = gc.val.length;\n    const additions = [\n      new THREE.Vector3(0, 0, 0), // 0\n      new THREE.Vector3(step, 0, 0), // 1\n      new THREE.Vector3(step, step, 0), // 2\n      new THREE.Vector3(0, step, 0), // 3\n      new THREE.Vector3(0, 0, step), // 4\n      new THREE.Vector3(step, 0, step), // 5\n      new THREE.Vector3(step, step, step), // 6\n      new THREE.Vector3(0, step, step), // 7\n    ];\n\n    const tmpTriCount = 5;\n    const triangles = new Array(tmpTriCount);\n    for (let j = 0; j < tmpTriCount; ++j) {\n      triangles[j] = new Triangle();\n    }\n\n\n    let appendVertex;\n    const self = this;\n    const positions = this._position;\n    const normals = this._normals;\n    if (appendSimple) {\n      // Special case for axis-aligned grid with positive unit vector normals\n      appendVertex = (function () {\n        const axis = new THREE.Vector3(self._xAxis.x, self._yAxis.y, self._zAxis.z);\n        return function (triVertex) {\n          const vertex = triVertex.p.clone();\n          vertex.multiply(axis);\n          positions.push(vertex.add(self._origin));\n          normals.push(triVertex.n.clone());\n        };\n      }());\n    } else {\n      appendVertex = (function () {\n        const posMtx = new THREE.Matrix3();\n        posMtx.set(\n          self._xAxis.x, self._yAxis.x, self._zAxis.x,\n          self._xAxis.y, self._yAxis.y, self._zAxis.y,\n          self._xAxis.z, self._yAxis.z, self._zAxis.z,\n        );\n        const normMtx = new THREE.Matrix3();\n        normMtx.set(\n          self._xDir.x, self._yDir.x, self._zDir.x,\n          self._xDir.y, self._yDir.y, self._zDir.y,\n          self._xDir.z, self._yDir.z, self._zDir.z,\n        );\n\n        return function (triVertex) {\n          positions.push(triVertex.p.clone().applyMatrix3(posMtx).add(self._origin));\n          normals.push(triVertex.n.clone().applyMatrix3(normMtx));\n        };\n      }());\n    }\n    const indices = this._indices;\n\n    let globTriCount = 0;\n\n    for (let z = 0; z < (zSize - step); z += step) {\n      for (let y = 0; y < (ySize - step); y += step) {\n        let idx = vol.getDirectIdx(0, y, z);\n        for (let x = 0; x < (xSize - step); x += step, idx += stepX) {\n          /* eslint-disable no-multi-spaces */\n          /* eslint-disable computed-property-spacing */\n          gcVal[0] = volData[idx];\n          gcVal[1] = volData[idx + stepX];\n          gcVal[3] = volData[idx + stepY];\n          gcVal[2] = volData[idx + stepX + stepY];\n          gcVal[4] = volData[idx + stepZ];\n          gcVal[5] = volData[idx + stepX + stepZ];\n          gcVal[7] = volData[idx + stepY + stepZ];\n          gcVal[6] = volData[idx + stepX + stepY + stepZ];\n          /* eslint-enable no-multi-spaces */\n          /* eslint-enable computed-property-spacing */\n\n          // Determine the index into the edge table which\n          // tells us which vertices are inside of the surface\n          let cubeIndex = 0;\n          let i = 0;\n          for (; i < gcValSize; ++i) {\n            if (gcVal[i] < isoValue) {\n              cubeIndex |= (1 << i);\n            }\n          }\n\n          if (edgeTable[cubeIndex] === 0) {\n            continue;\n          }\n\n          gc.cubeIndex = cubeIndex;\n          for (i = 0; i < gcValSize; ++i) {\n            gc.p[i].set(x + additions[i].x, y + additions[i].y, z + additions[i].z);\n            _voxelGradientFast(this._gradient, gc.p[i], gc.g[i]);\n          }\n\n          // calculate vertices and facets for this cube,\n          // calculate normals by interpolating between the negated\n          // normalized volume gradients for the 8 reference voxels\n          const triCount = this._polygonize(gc, isoValue, triangles);\n          globTriCount += triCount;\n\n          // append triangles using different techniques\n          for (i = 0; i < triCount; ++i) {\n            indices.push(this._numTriangles * 3);\n            indices.push(this._numTriangles * 3 + 1);\n            indices.push(this._numTriangles * 3 + 2);\n            ++this._numTriangles;\n\n            appendVertex(triangles[i].a);\n            appendVertex(triangles[i].b);\n            appendVertex(triangles[i].c);\n          }\n        }\n      }\n    }\n\n    return globTriCount;\n  }\n\n  compute(volData, origin, isoValue, step) {\n    this._volumetricData = volData;\n    this._origin = origin;\n\n    this._gradient = volData.computeGradient();\n\n    this._doGridPosNorms(isoValue, step, this._prepareAxesAndDirs());\n  }\n\n  _remapIndices(vertexMap, idcCount) {\n    const indices = this._indices;\n    const newIndices = utils.allocateTyped(Uint32Array, idcCount);\n    for (let i = 0; i < idcCount; ++i) {\n      indices[i] = vertexMap[indices[i]];\n      newIndices[i] = indices[i];\n    }\n    this._indices = newIndices;\n  }\n\n  _remapVertices(vertices, normals, count) {\n    const newPositions = utils.allocateTyped(Float32Array, count * 3);\n    const newNormals = utils.allocateTyped(Float32Array, count * 3);\n    for (let i = 0; i < count; ++i) {\n      const pos = vertices[i];\n      newPositions[i * 3] = pos.x;\n      newPositions[i * 3 + 1] = pos.y;\n      newPositions[i * 3 + 2] = pos.z;\n      const norm = normals[i].normalize();\n      newNormals[i * 3] = norm.x;\n      newNormals[i * 3 + 1] = norm.y;\n      newNormals[i * 3 + 2] = norm.z;\n    }\n    this._position = newPositions;\n    this._normals = newNormals;\n  }\n\n  vertexFusion(offset, len) {\n    const faceVer = this._indices.length;\n    const vertices = this._position;\n    const normals = this._normals;\n    const oldVerCount = vertices.length | 0;\n    if (faceVer === 0 || oldVerCount === 0) {\n      return;\n    }\n    const vMap = utils.allocateTyped(Uint32Array, oldVerCount);\n    vMap[0] = 0;\n    let newVer = 1;\n\n    let i = 1;\n    for (; i < oldVerCount; ++i) {\n      const start = newVer - offset < 0 ? 0 : newVer - offset;\n      const end = start + len > newVer ? newVer : start + len;\n      let matchedIndex = -1;\n\n      for (let j = start; j < end; ++j) {\n        if (Math.abs(vertices[i] - vertices[j]) < Number.EPSILON) {\n          matchedIndex = j;\n          break;\n        }\n      }\n\n      if (matchedIndex !== -1) {\n        vMap[i] = matchedIndex;\n      } else {\n        vertices[newVer].copy(vertices[i]);\n        normals[newVer].copy(normals[i]);\n        vMap[i] = newVer;\n        ++newVer;\n      }\n    }\n\n    this._remapIndices(vMap, faceVer);\n    this._remapVertices(vertices, normals, newVer);\n  }\n\n  // Assign per-vertex colors from a volumetric texture map (same dimensions as the original volumetric data).\n  // Along with color dominating atom is determined for each vertex\n  // and vertices with atom out of \"visible\" subset get filtered out.\n  // XXX only handles orthogonal volumes currently\n  setColorVolTex(colorMap, atomMap, atomWeightMap, visibilitySelector) {\n    let i;\n    let idx;\n    const numVerts = this._position.length / 3;\n    const vertices = this._position;\n    const origin = this._origin;\n    const dim = this._volumetricData.getDimensions();\n    const xs = dim[0] - 1;\n    const ys = dim[1] - 1;\n    const zs = dim[2] - 1;\n\n    const colorData = colorMap.getData();\n    const strideX = colorMap.getStrideX();\n    const strideY = colorMap.getStrideY();\n    const strideZ = colorMap.getStrideZ();\n\n    let atomWeightData;\n    let atomStrideX;\n    let atomStrideY;\n    let atomStrideZ;\n\n    if (visibilitySelector !== null) {\n      atomWeightData = atomWeightMap.getData();\n      atomStrideX = atomWeightMap.getStrideX();\n      atomStrideY = atomWeightMap.getStrideY();\n      atomStrideZ = atomWeightMap.getStrideZ();\n    }\n\n    const xInv = 1.0 / this._xAxis.x;\n    const yInv = 1.0 / this._yAxis.y;\n    const zInv = 1.0 / this._zAxis.z;\n\n    let atomLookup = [];\n    let atomWeights = [];\n    const colors = utils.allocateTyped(Float32Array, numVerts * 3);\n\n    function interp(mu, idx1, idx2, c) {\n      c[0] = (1 - mu) * colorData[idx1] + mu * colorData[idx2];\n      c[1] = (1 - mu) * colorData[idx1 + 1] + mu * colorData[idx2 + 1];\n      c[2] = (1 - mu) * colorData[idx1 + 2] + mu * colorData[idx2 + 2];\n    }\n\n    function collectWeight(ai, coefX, coefY, coefZ) {\n      const a = atomMap[ai]; // atomWeightMap is a scalar field, so index into atom map should be the same\n      if (a != null) {\n        atomLookup[a.index] = a;\n        const w = coefX * coefY * coefZ * atomWeightData[ai];\n        if (typeof atomWeights[a.index] === 'undefined') {\n          atomWeights[a.index] = w;\n        } else {\n          atomWeights[a.index] += w;\n        }\n      }\n    }\n\n    const vMap = utils.allocateTyped(Int32Array, numVerts);\n    let newVerCount = 0;\n\n    for (i = 0; i < numVerts; i++) {\n      const ind = i * 3;\n      const vx = (vertices[ind] - origin.x) * xInv;\n      const vy = (vertices[ind + 1] - origin.y) * yInv;\n      const vz = (vertices[ind + 2] - origin.z) * zInv;\n      const x = Math.min(Math.max(vx, 0), xs) | 0;\n      const y = Math.min(Math.max(vy, 0), ys) | 0;\n      const z = Math.min(Math.max(vz, 0), zs) | 0;\n\n      const mux = (vx - x);\n      const muy = (vy - y);\n      const muz = (vz - z);\n\n      if (visibilitySelector != null) {\n        // collect atom weights\n        atomLookup = [];\n        atomWeights = [];\n        idx = atomWeightMap.getDirectIdx(x, y, z);\n        collectWeight(idx, 1 - mux, 1 - muy, 1 - muz);\n        collectWeight(idx + atomStrideX, mux, 1 - muy, 1 - muz);\n        collectWeight(idx + atomStrideY, 1 - mux, muy, 1 - muz);\n        collectWeight(idx + atomStrideX + atomStrideY, mux, muy, 1 - muz);\n        collectWeight(idx + atomStrideZ, 1 - mux, 1 - muy, muz);\n        collectWeight(idx + atomStrideX + atomStrideZ, mux, 1 - muy, muz);\n        collectWeight(idx + atomStrideY + atomStrideZ, 1 - mux, muy, muz);\n        collectWeight(idx + atomStrideX + atomStrideY + atomStrideZ, mux, muy, muz);\n\n        // find dominant atom\n        let maxWeight = 0.0;\n        let dominantIdx = -1;\n        for (const atomIdx in atomWeights) {\n          if (atomWeights[atomIdx] > maxWeight) {\n            dominantIdx = atomIdx;\n            maxWeight = atomWeights[atomIdx];\n          }\n        }\n\n        if (dominantIdx < 0 || !visibilitySelector.includesAtom(atomLookup[dominantIdx])) {\n          // this vertex doesn't belong to visible subset and will be skipped\n          vMap[i] = -1;\n          continue;\n        }\n      }\n\n      vMap[i] = newVerCount++;\n\n      // color tri-linear interpolation\n      const dx = (x < xs) ? strideX : 0;\n      const dy = (y < ys) ? strideY : 0;\n      const dz = (z < zs) ? strideZ : 0;\n\n      const c0 = [0, 0, 0];\n      const c1 = [0, 0, 0];\n      const c2 = [0, 0, 0];\n      const c3 = [0, 0, 0];\n\n      idx = colorMap.getDirectIdx(x, y, z);\n      interp(mux, idx, idx + dx, c0);\n      interp(mux, idx + dy, idx + dx + dy, c1);\n      interp(mux, idx + dz, idx + dx + dz, c2);\n      interp(mux, idx + dy + dz, idx + dx + dy + dz, c3);\n\n      const cz0 = [0, 0, 0];\n      cz0[0] = (1 - muy) * c0[0] + muy * c1[0];\n      cz0[1] = (1 - muy) * c0[1] + muy * c1[1];\n      cz0[2] = (1 - muy) * c0[2] + muy * c1[2];\n\n      const cz1 = [0, 0, 0];\n      cz1[0] = (1 - muy) * c2[0] + muy * c3[0];\n      cz1[1] = (1 - muy) * c2[1] + muy * c3[1];\n      cz1[2] = (1 - muy) * c2[2] + muy * c3[2];\n\n      colors[ind] = (1 - muz) * cz0[0] + muz * cz1[0];\n      colors[ind + 1] = (1 - muz) * cz0[1] + muz * cz1[1];\n      colors[ind + 2] = (1 - muz) * cz0[2] + muz * cz1[2];\n    }\n    this._colors = colors;\n\n    if (visibilitySelector != null) {\n      // shift visible vertices towards beginning of array\n      for (i = 0; i < numVerts; ++i) {\n        const j = vMap[i];\n        if (j < 0) {\n          continue;\n        }\n\n        // assert: j <= i\n        this._position[j * 3] = this._position[i * 3];\n        this._position[j * 3 + 1] = this._position[i * 3 + 1];\n        this._position[j * 3 + 2] = this._position[i * 3 + 2];\n        this._normals[j * 3] = this._normals[i * 3];\n        this._normals[j * 3 + 1] = this._normals[i * 3 + 1];\n        this._normals[j * 3 + 2] = this._normals[i * 3 + 2];\n        this._colors[j * 3] = this._colors[i * 3];\n        this._colors[j * 3 + 1] = this._colors[i * 3 + 1];\n        this._colors[j * 3 + 2] = this._colors[i * 3 + 2];\n      }\n\n      // rebuild index list\n      const numTriangles = this._indices.length / 3;\n      let newTriCount = 0;\n      for (i = 0; i < numTriangles; ++i) {\n        const i0 = vMap[this._indices[3 * i]];\n        const i1 = vMap[this._indices[3 * i + 1]];\n        const i2 = vMap[this._indices[3 * i + 2]];\n        if (i0 >= 0 && i1 >= 0 && i2 >= 0) {\n          this._indices[3 * newTriCount] = i0;\n          this._indices[3 * newTriCount + 1] = i1;\n          this._indices[3 * newTriCount + 2] = i2;\n          ++newTriCount;\n        }\n      }\n\n      // shrink arrays to data size\n      this._position = new Float32Array(this._position.buffer.slice(0, newVerCount * 3 * 4));\n      this._normals = new Float32Array(this._normals.buffer.slice(0, newVerCount * 3 * 4));\n      this._colors = new Float32Array(this._colors.buffer.slice(0, newVerCount * 3 * 4));\n      this._indices = new Uint32Array(this._indices.buffer.slice(0, newTriCount * 3 * 4));\n    }\n  }\n\n  toMesh() {\n    const geo = new THREE.BufferGeometry();\n    geo.setIndex(new THREE.BufferAttribute(this._indices, 1));\n    geo.setAttribute('position', new THREE.BufferAttribute(this._position, 3));\n    geo.setAttribute('normal', new THREE.BufferAttribute(this._normals, 3));\n    geo.setAttribute('color', new THREE.BufferAttribute(this._colors, 3));\n    geo.computeBoundingSphere();\n    return geo;\n  }\n}\nexport default IsoSurface;\n","import * as THREE from 'three';\nimport IsoSurfaceGeometry from './IsoSurfaceGeometry';\nimport IsoSurface from './IsoSurface';\nimport utils from '../../utils';\n\n/**\n * This is a base class for volumetric maps based isosurface algorithms.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\n\nclass VolumeSurfaceGeometry extends IsoSurfaceGeometry {\n  _build() {\n    const params = this._opts;\n    this.numVoxels = [128, 128, 128];\n    this.xAxis = new THREE.Vector3(1.0, 0.0, 0.0);\n    this.yAxis = new THREE.Vector3(0.0, 1.0, 0.0);\n    this.zAxis = new THREE.Vector3(0.0, 0.0, 1.0);\n\n    this.origin = new THREE.Vector3(0.0, 0.0, 0.0);\n    this._visibilitySelector = params.visibilitySelector;\n\n    this._calcSurface(params);\n  }\n\n  _findMinMax(posRadArray) {\n    const itemSize = 4;\n    const itemsCount = posRadArray.length / itemSize;\n    const maxPosRad = [posRadArray[0], posRadArray[1], posRadArray[2], posRadArray[3]];\n    const minPosRad = [posRadArray[0], posRadArray[1], posRadArray[2], posRadArray[3]];\n    for (let i = 1; i < itemsCount; ++i) {\n      const ind = i * itemSize;\n\n      for (let itemIdx = 0; itemIdx < itemSize; ++itemIdx) {\n        const tmpVal = posRadArray[ind + itemIdx];\n        maxPosRad[itemIdx] = Math.max(tmpVal, maxPosRad[itemIdx]);\n        minPosRad[itemIdx] = Math.min(tmpVal, minPosRad[itemIdx]);\n      }\n    }\n    return { maxPosRad, minPosRad };\n  }\n\n  _findNumVoxels(posRadArray, params) {\n    const { numVoxels } = this;\n    const minMaxValues = this._findMinMax(posRadArray);\n    const minCoordRad = minMaxValues.minPosRad;\n    const maxCoordRad = minMaxValues.maxPosRad;\n\n    // minrad\n    if (minCoordRad[3] > 4.0) {\n      params.gridSpacing *= minCoordRad[3];\n    }\n\n    let gridPadding = params.radScale * maxCoordRad[3] * 1.7;\n    let padRad = gridPadding;\n    padRad = 0.65 * Math.sqrt(4.0 / 3.0 * Math.PI * padRad * padRad * padRad);\n    gridPadding = Math.max(gridPadding, padRad);\n\n    let i = 0;\n    for (; i < 3; ++i) {\n      minCoordRad[i] -= gridPadding;\n      maxCoordRad[i] += gridPadding;\n    }\n\n    for (i = 0; i < 3; ++i) {\n      numVoxels[i] = Math.ceil((maxCoordRad[i] - minCoordRad[i]) / params.gridSpacing);\n    }\n    this.xAxis.x = (numVoxels[0] - 1) * params.gridSpacing;\n    this.yAxis.y = (numVoxels[1] - 1) * params.gridSpacing;\n    this.zAxis.z = (numVoxels[2] - 1) * params.gridSpacing;\n\n    [this.origin.x, this.origin.y, this.origin.z] = minCoordRad;\n\n    return { bbox: minMaxValues, dim: numVoxels };\n  }\n\n  _makeSurface(surface, params) {\n    const isoSurf = new IsoSurface();\n    isoSurf.compute(surface.volMap, this.origin, params.isoValue, 1);\n    isoSurf.vertexFusion(9, 9);// normalization is included\n\n    if (isoSurf._numTriangles > 0) {\n      isoSurf.setColorVolTex(surface.volTexMap, surface.atomMap, surface.atomWeightMap, this._visibilitySelector);\n      this.setIndex(new THREE.BufferAttribute(isoSurf._indices, 1));\n      this.setAttribute('position', new THREE.BufferAttribute(isoSurf._position, 3));\n      this.setAttribute('normal', new THREE.BufferAttribute(isoSurf._normals, 3));\n      this.setAttribute('color', new THREE.BufferAttribute(isoSurf._colors, 3));\n    } else { // geometry should have at least empty position attributes to be processed in wireframe mode by three.js\n      this.setAttribute('position', new THREE.BufferAttribute(utils.allocateTyped(Float32Array, 0), 3));\n    }\n  }\n\n  _calcSurface(params) {\n    const packedArrays = {\n      posRad: this._posRad,\n      colors: this._colors,\n      atoms: this._opts.atoms,\n    };\n\n    if (packedArrays.posRad.length === 0) {\n      return;\n    }\n    const boundaries = this._findNumVoxels(packedArrays.posRad, params);\n\n    const box = new THREE.Box3(\n      this.origin,\n      new THREE.Vector3(this.xAxis.x, this.yAxis.y, this.zAxis.z).add(this.origin),\n    );\n    const surface = this._computeSurface(packedArrays, box, boundaries, params);\n\n    this._makeSurface(surface, params);\n  }\n}\n\nexport default VolumeSurfaceGeometry;\n","import VolumeSurfaceGeometry from './VolumeSurfaceGeometry';\nimport chem from '../../chem';\n\nconst { Volume } = chem;\n\n/**\n * This class implements 'quick' isosurface geometry generation algorithm.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\n\nclass QuickSurfGeometry extends VolumeSurfaceGeometry {\n  _computeSurface(packedArrays, box, boundaries, params) {\n    // beware of shifting this multiple times!\n    this._shiftByOrigin(packedArrays.posRad);\n\n    const surface = {\n      volMap: new Volume(Float32Array, this.numVoxels, box),\n      volTexMap: new Volume(Float32Array, this.numVoxels, box, 3),\n    };\n\n    if (this._visibilitySelector != null) {\n      surface.atomMap = [];\n      surface.atomWeightMap = new Volume(Float32Array, this.numVoxels, box);\n    }\n\n    this.gaussdensity(surface, packedArrays, null, params);\n    return surface;\n  }\n\n  gaussdensity(surface, packedArrays, atomicNum, params) {\n    const numAtoms = packedArrays.posRad.length / 4;\n    const { posRad, colors } = packedArrays;\n    const { numVoxels } = this;\n    const { radScale, gaussLim, gridSpacing } = params;\n    const invIsoValue = 1.0 / params.isoValue;\n    const invGridSpacing = 1.0 / gridSpacing;\n    const maxVoxelX = numVoxels[0] - 1;\n    const maxVoxelY = numVoxels[1] - 1;\n    const maxVoxelZ = numVoxels[2] - 1;\n    // TODO is densityMap and volTexMap initialized?\n\n    const { volMap, volTexMap } = surface;\n    const volData = volMap.getData();\n    const strideX = volMap.getStrideX();\n\n    const volTexData = volTexMap.getData();\n    const texStrideX = volTexMap.getStrideX();\n\n    let atomWeightData;\n    if (this._visibilitySelector != null) {\n      atomWeightData = surface.atomWeightMap.getData();\n    }\n\n    const { atomMap } = surface;\n\n    for (let i = 0; i < numAtoms; ++i) {\n      const ind = i * 4;\n      const scaledRad = posRad[ind + 3] * radScale;\n      const atomicNumFactor = atomicNum === null ? 1.0 : atomicNum[i];\n      const radInv = 1 / (2 * scaledRad * scaledRad);\n      let radLim = gaussLim * scaledRad;\n      const radLim2 = radLim * radLim;\n      radLim *= invGridSpacing;\n\n      let tmp = posRad[ind] * invGridSpacing;\n      const xMin = Math.max((tmp - radLim) | 0, 0);\n      const xMax = Math.min((tmp + radLim) | 0, maxVoxelX);\n      tmp = posRad[ind + 1] * invGridSpacing;\n      const yMin = Math.max((tmp - radLim) | 0, 0);\n      const yMax = Math.min((tmp + radLim) | 0, maxVoxelY);\n      tmp = posRad[ind + 2] * invGridSpacing;\n      const zMin = Math.max((tmp - radLim) | 0, 0);\n      const zMax = Math.min((tmp + radLim) | 0, maxVoxelZ);\n\n      let dz = zMin * gridSpacing - posRad[ind + 2];\n      for (let z = zMin; z <= zMax; ++z, dz += gridSpacing) {\n        let dy = yMin * gridSpacing - posRad[ind + 1];\n        for (let y = yMin; y <= yMax; ++y, dy += gridSpacing) {\n          const dy2dz2 = dy * dy + dz * dz;\n\n          if (dy2dz2 >= radLim2) {\n            continue;\n          }\n\n          let addr = volMap.getDirectIdx(xMin, y, z);\n          let texAddr = volTexMap.getDirectIdx(xMin, y, z);\n          let dx = xMin * gridSpacing - posRad[ind];\n          for (let x = xMin; x <= xMax; ++x, dx += gridSpacing, addr += strideX, texAddr += texStrideX) {\n            const r2 = dx * dx + dy2dz2;\n            const expVal = -r2 * radInv;\n\n            let density = Math.exp(expVal) * atomicNumFactor;\n\n            // store most relevant atom (with highest density)\n            if (this._visibilitySelector != null\n              && density > atomWeightData[addr]) { // NOSONAR\n              atomWeightData[addr] = density;\n              // we use same index into atom map and atomWeightMap\n              atomMap[addr] = packedArrays.atoms[i];\n            }\n\n            volData[addr] += density;\n\n            // TODO check for volTexMap routine?\n            density *= invIsoValue;\n            const colInd = i * 3;\n            volTexData[texAddr] += density * colors[colInd];\n            volTexData[texAddr + 1] += density * colors[colInd + 1];\n            volTexData[texAddr + 2] += density * colors[colInd + 2];\n          }\n        }\n      }\n    }\n  }\n\n  _shiftByOrigin(posRadArray) {\n    const originX = this.origin.x;\n    const originY = this.origin.y;\n    const originZ = this.origin.z;\n\n    const itemSize = 4;\n    const itemsCount = posRadArray.length / itemSize;\n    for (let i = 0; i < itemsCount; ++i) {\n      const ind = i * itemSize;\n\n      posRadArray[ind] -= originX;\n      posRadArray[ind + 1] -= originY;\n      posRadArray[ind + 2] -= originZ;\n    }\n  }\n}\n\nexport default QuickSurfGeometry;\n","import * as THREE from 'three';\nimport utils from '../../utils';\n\n/**\n * Modifed from SpatialHash\n *\n * Main differences are:\n * - Optimized grid size to ensure we only ever need to look +/-1 cell\n * - Aware of atomic radii and will only output atoms within rAtom + rExtra\n *   (see withinRadii method)\n *\n * (Uses rounding rather than bitshifting as consequence of arbitrary grid size)\n * @class\n * @param {Float32Array} posRad - x, y, z coordinates and radiuses\n * @param {Float32Array} min - xyz min coordinates\n * @param {Float32Array} max - xyz max coordinates\n * @param {number} maxDistance - max distance\n */\nfunction AVHash(posRad, min, max, maxDistance) {\n  const itemSize = 4;\n  const nAtoms = posRad.length / itemSize;\n\n  const minX = min[0];\n  const minY = min[1];\n  const minZ = min[2];\n\n  const maxX = max[0];\n  const maxY = max[1];\n  const maxZ = max[2];\n\n  function hashFunc(w, minW) {\n    return Math.floor((w - minW) / maxDistance);\n  }\n\n  const iDim = hashFunc(maxX, minX) + 1;\n  const jDim = hashFunc(maxY, minY) + 1;\n  const kDim = hashFunc(maxZ, minZ) + 1;\n\n  const nCells = iDim * jDim * kDim;\n\n  const jkDim = jDim * kDim;\n\n\n  /* Get cellID for cartesian x,y,z */\n  const cellID = function (x, y, z) {\n    return (((hashFunc(x, minX) * jDim) + hashFunc(y, minY)) * kDim) + hashFunc(z, minZ);\n  };\n\n\n  /* Initial building, could probably be optimized further */\n  const preHash = [];\n  let i;\n  let cid;\n  for (i = 0; i < nAtoms; i++) {\n    const iIdx = itemSize * i;\n    cid = cellID(posRad[iIdx], posRad[iIdx + 1], posRad[iIdx + 2]);\n\n    if (preHash[cid] === undefined) {\n      preHash[cid] = [i];\n    } else {\n      preHash[cid].push(i);\n    }\n  }\n\n  const cellOffsets = utils.allocateTyped(Uint32Array, nCells);\n  const cellLengths = utils.allocateTyped(Uint16Array, nCells);\n  const data = utils.allocateTyped(Uint32Array, nAtoms);\n\n  let offset = 0;\n  let maxCellLength = 0;\n  let j;\n  for (i = 0; i < nCells; i++) {\n    const start = cellOffsets[i] = offset;\n\n    const subArray = preHash[i];\n\n    if (subArray !== undefined) {\n      for (j = 0; j < subArray.length; j++) {\n        data[offset] = subArray[j];\n        offset++;\n      }\n    }\n\n    const cellLength = offset - start;\n    cellLengths[i] = cellLength;\n\n    if (cellLength > maxCellLength) {\n      maxCellLength = cellLength;\n    }\n  }\n\n  // Maximum number of neighbours we could ever produce (27 adjacent cells of equal population)\n  this.neighbourListLength = (27 * maxCellLength) + 1;\n\n  /**\n   * Populate the supplied out array with atom indices that are within rAtom + rExtra\n   * of x,y,z\n   *\n   * -1 in out array indicates the end of the list\n   *\n   * @param  {number} x - x coordinate\n   * @param  {number} y - y coordinate\n   * @param  {number} z - z coordinate\n   * @param  {number} rExtra - additional radius\n   * @param  {Float32Array} out - pre-allocated output array\n   * @return {undefined}\n   */\n  this.withinRadii = function (x, y, z, rExtra, out) {\n    let outIdx = 0;\n\n    const nearI = hashFunc(x, minX);\n    const nearJ = hashFunc(y, minY);\n    const nearK = hashFunc(z, minZ);\n\n    const loI = Math.max(0, nearI - 1);\n    const loJ = Math.max(0, nearJ - 1);\n    const loK = Math.max(0, nearK - 1);\n\n    const hiI = Math.min(iDim - 1, nearI + 1);\n    const hiJ = Math.min(jDim - 1, nearJ + 1);\n    const hiK = Math.min(kDim - 1, nearK + 1);\n\n    for (i = loI; i <= hiI; ++i) {\n      const iOffset = i * jkDim;\n\n      for (j = loJ; j <= hiJ; ++j) {\n        const jOffset = j * kDim;\n\n        for (let k = loK; k <= hiK; ++k) {\n          cid = iOffset + jOffset + k;\n\n          const cellStart = cellOffsets[cid];\n          const cellEnd = cellStart + cellLengths[cid];\n\n          for (let dataIndex = cellStart; dataIndex < cellEnd; dataIndex++) {\n            const atomIndex = data[dataIndex];\n            const baseIndex = itemSize * atomIndex;\n            const dx = posRad[baseIndex] - x;\n            const dy = posRad[baseIndex + 1] - y;\n            const dz = posRad[baseIndex + 2] - z;\n            const rSum = posRad[baseIndex + 3] + rExtra;\n\n            if ((dx * dx + dy * dy + dz * dz) <= (rSum * rSum)) {\n              out[outIdx++] = data[dataIndex];\n            }\n          }\n        }\n      }\n    }\n    // Add terminator\n    out[outIdx] = -1;\n  };\n}\nfunction ContactSurface(packedArrays, boundaries, params, _indexList) {\n  // Field generation method adapted from AstexViewer (Mike Hartshorn)\n  // by Fred Ludlow.\n  // Other parts based heavily on NGL (Alexander Rose) EDT Surface class\n  //\n  // Should work as a drop-in alternative to EDTSurface (though some of\n  // the EDT paramters are not relevant in this method).\n\n  const itemSize = 4;\n  const { posRad, colors, atoms } = packedArrays;\n  const nAtoms = posRad.length / itemSize;\n\n  const { bbox } = boundaries;\n\n  const min = bbox.minPosRad;\n  const max = bbox.maxPosRad;\n\n  let r2; // Atom positions, expanded radii (squared)\n  let maxRadius;\n\n  // Parameters\n  let probeRadius;\n  let scaleFactor;\n  let probePositions;\n\n  // Cache last value for obscured test\n  let lastClip = -1;\n\n  // Grid params\n  let dim;\n  let grid;\n  let volTex;\n  let weights;\n  let weightsMap = null;\n  let atomMap = null;\n  let visibilitySelector = null;\n\n\n  // grid indices -> xyz coords\n  let gridx;\n  let gridy;\n  let gridz;\n\n  // Lookup tables:\n  let sinTable;\n  let cosTable;\n\n  // Spatial Hash\n  let hash;\n\n  // Neighbour array to be filled by hash\n  let neighbours;\n\n  // Vectors for Torus Projection\n  const mid = new THREE.Vector3(0.0, 0.0, 0.0);\n  const n1 = new THREE.Vector3(0.0, 0.0, 0.0);\n  const n2 = new THREE.Vector3(0.0, 0.0, 0.0);\n\n  let ngTorus;\n\n  function uniformArray(TypeName, n, a) {\n    const array = utils.allocateTyped(TypeName, n);\n    for (let innI = 0; innI < n; ++innI) {\n      array[innI] = a;\n    }\n\n    return array;\n  }\n\n  function fillGridDim(a, start, step) {\n    for (let innI = 0; innI < a.length; innI++) {\n      a[innI] = start + (step * innI);\n    }\n  }\n\n  function initializeGrid() {\n    ({ scaleFactor } = params);\n    ({ dim } = boundaries);\n\n    ngTorus = Math.min(5, 2 + Math.floor(probeRadius * scaleFactor));\n\n    const gridSize = dim[0] * dim[1] * dim[2];\n    grid = uniformArray(Float32Array, gridSize, -1001.0);\n    volTex = utils.allocateTyped(Float32Array, gridSize * 3);\n    weights = utils.allocateTyped(Float32Array, gridSize);\n    if (visibilitySelector) {\n      weightsMap = utils.allocateTyped(Float32Array, gridSize);\n      atomMap = [];\n    }\n\n\n    gridx = utils.allocateTyped(Float32Array, dim[0]);\n    gridy = utils.allocateTyped(Float32Array, dim[1]);\n    gridz = utils.allocateTyped(Float32Array, dim[2]);\n\n    fillGridDim(gridx, min[0], 1 / scaleFactor);\n    fillGridDim(gridy, min[1], 1 / scaleFactor);\n    fillGridDim(gridz, min[2], 1 / scaleFactor);\n  }\n\n  function initializeAngleTables() {\n    let theta = 0.0;\n    const step = 2 * Math.PI / probePositions;\n\n    cosTable = utils.allocateTyped(Float32Array, probePositions);\n    sinTable = utils.allocateTyped(Float32Array, probePositions);\n    for (let innI = 0; innI < probePositions; innI++) {\n      cosTable[innI] = Math.cos(theta);\n      sinTable[innI] = Math.sin(theta);\n      theta += step;\n    }\n  }\n\n  function initializeHash() {\n    hash = new AVHash(posRad, min, max, 2.01 * maxRadius);\n    neighbours = new Int32Array(hash.neighbourListLength);\n  }\n\n  function init() {\n    ({\n      probeRadius,\n      scaleFactor,\n      probePositions,\n      visibilitySelector,\n    } = params);\n    r2 = utils.allocateTyped(Float32Array, nAtoms);\n    maxRadius = 0;\n    for (let innI = 0; innI < nAtoms; ++innI) {\n      const rExt = posRad[innI * itemSize + 3] += probeRadius;\n      if (rExt > maxRadius) {\n        maxRadius = rExt;\n      }\n      r2[innI] = rExt * rExt;\n    }\n\n    initializeGrid();\n    initializeAngleTables();\n    initializeHash();\n\n    lastClip = -1;\n  }\n\n  function singleAtomObscures(ai, innX, innY, innZ) {\n    const innCI = itemSize * ai;\n    const ra2 = r2[ai];\n    const dx = posRad[innCI] - innX;\n    const dy = posRad[innCI + 1] - innY;\n    const dz = posRad[innCI + 2] - innZ;\n    const d2 = dx * dx + dy * dy + dz * dz;\n\n    return d2 < ra2;\n  }\n\n  function obscured(innX, innY, innZ, a, b) {\n    // Is the point at x,y,z obscured by any of the atoms\n    // specifeid by indices in neighbours. Ignore indices\n    // a and b (these are the relevant atoms in projectPoints/Torii)\n\n    // Cache the last clipped atom (as very often the same one in\n    // subsequent calls)\n    let ai;\n\n    if (lastClip !== -1) {\n      ai = lastClip;\n      if (ai !== a && ai !== b && singleAtomObscures(ai, innX, innY, innZ)) {\n        return ai;\n      }\n      lastClip = -1;\n    }\n\n    let ni = 0;\n    ai = neighbours[ni];\n    while (ai >= 0) {\n      if (ai !== a && ai !== b && singleAtomObscures(ai, innX, innY, innZ)) {\n        lastClip = ai;\n        return ai;\n      }\n      ai = neighbours[++ni];\n    }\n\n    lastClip = -1;\n\n    return -1;\n  }\n\n  function projectPoints() {\n    // For each atom:\n    //     Iterate over a subsection of the grid, for each point:\n    //         If current value < 0.0, unvisited, set positive\n    //\n    //         In any case: Project this point onto surface of the atomic sphere\n    //         If this projected point is not obscured by any other atom\n    //             Calcualte delta distance and set grid value to minimum of\n    //             itself and delta\n\n    // Should we alias frequently accessed closure constiables??\n    // Assume JS engine capable of optimizing this\n    // anyway...\n    const maxRad = 4.0;\n    const sigma = (maxRad) / 3;\n    const sigma2Inv = 1 / (2 * sigma * sigma);\n\n    for (let innI = 0; innI < nAtoms; innI++) {\n      const innCI = itemSize * innI;\n      const ax = posRad[innCI];\n      const ay = posRad[innCI + 1];\n      const az = posRad[innCI + 2];\n      const ar = posRad[innCI + 3];\n      const ar2 = r2[innI];\n\n      hash.withinRadii(ax, ay, az, ar, neighbours);\n\n      // Number of grid points, round this up...\n      const ng = Math.ceil(ar * scaleFactor);\n\n      // Center of the atom, mapped to grid points (take floor)\n      const iax = Math.floor(scaleFactor * (ax - min[0]));\n      const iay = Math.floor(scaleFactor * (ay - min[1]));\n      const iaz = Math.floor(scaleFactor * (az - min[2]));\n\n      // Extents of grid to consider for this atom\n      const minx = Math.max(0, iax - ng);\n      const miny = Math.max(0, iay - ng);\n      const minz = Math.max(0, iaz - ng);\n\n      // Add two to these points:\n      // - iax are floor'd values so this ensures coverage\n      // - these are loop limits (exclusive)\n      const maxx = Math.min(dim[0], iax + ng + 2);\n      const maxy = Math.min(dim[1], iay + ng + 2);\n      const maxz = Math.min(dim[2], iaz + ng + 2);\n\n      const colIdx = innI * 3;\n      const cr = colors[colIdx];\n      const cg = colors[colIdx + 1];\n      const cb = colors[colIdx + 2];\n\n      for (let iz = minz; iz < maxz; iz++) {\n        const dz = gridz[iz] - az;\n        const zOffset = dim[1] * dim[0] * iz;\n\n        for (let iy = miny; iy < maxy; iy++) {\n          const dy = gridy[iy] - ay;\n          const dzy2 = dz * dz + dy * dy;\n          const zyOffset = zOffset + dim[0] * iy;\n\n          for (let ix = minx; ix < maxx; ix++) {\n            const idx = ix + zyOffset;\n            const dx = gridx[ix] - ax;\n            const d2 = dzy2 + dx * dx;\n\n\n            if (d2 < ar2) {\n              const w = Math.exp(-d2 * sigma2Inv);\n              const cIdx = idx * 3;\n              volTex[cIdx] += cr * w;\n              volTex[cIdx + 1] += cg * w;\n              volTex[cIdx + 2] += cb * w;\n              weights[idx] += w;\n              if (visibilitySelector !== null && w > weightsMap[idx]) {\n                weightsMap[idx] = w;\n                atomMap[idx] = atoms[innI];\n              }\n\n              if (grid[idx] < 0.0) {\n                // Unvisited, make positive\n                grid[idx] = -grid[idx];\n              }\n              // Project on to the surface of the sphere\n              // sp is the projected point ( dx, dy, dz ) * ( ra / d )\n              const d = Math.sqrt(d2);\n              const ap = ar / d;\n              let spx = dx * ap;\n              let spy = dy * ap;\n              let spz = dz * ap;\n\n              spx += ax;\n              spy += ay;\n              spz += az;\n\n              if (obscured(spx, spy, spz, innI, -1) === -1) {\n                const dd = ar - d;\n                if (dd < grid[idx]) {\n                  grid[idx] = dd;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function normalToLine(out, p) {\n    out.x = out.y = out.z = 1.0;\n    if (p.x !== 0) {\n      out.x = (p.y + p.z) / -p.x;\n    } else if (p.y !== 0) {\n      out.y = (p.x + p.z) / -p.y;\n    } else if (p.z !== 0) {\n      out.z = (p.x + p.y) / -p.z;\n    }\n    return out;\n  }\n\n  function projectTorus(a, b) {\n    const aIdx = itemSize * a;\n    const bIdx = itemSize * b;\n    const xa = posRad[aIdx];\n    const ya = posRad[aIdx + 1];\n    const za = posRad[aIdx + 2];\n    const r1 = posRad[aIdx + 3];\n    let dx = mid.x = posRad[bIdx] - xa;\n    let dy = mid.y = posRad[bIdx + 1] - ya;\n    let dz = mid.z = posRad[bIdx + 2] - za;\n    const innR2 = posRad[bIdx + 3];\n    let d2 = dx * dx + dy * dy + dz * dz;\n\n    // This check now redundant as already done in AVHash.withinRadii\n    // if( d2 > (( r1 + r2 ) * ( r1 + r2 )) ){ return; }\n\n    const d = Math.sqrt(d2);\n\n    // Find angle between a->b vector and the circle\n    // of their intersection by cosine rule\n    const cosA = (r1 * r1 + d * d - innR2 * innR2) / (2.0 * r1 * d);\n\n    // distance along a->b at intersection\n    const dmp = r1 * cosA;\n\n    mid.normalize();\n\n    // Create normal to line\n    normalToLine(n1, mid);\n    n1.normalize();\n\n    // Cross together for second normal vector\n    n2.crossVectors(mid, n1);\n    n2.normalize();\n\n    // r is radius of circle of intersection\n    const rInt = Math.sqrt(r1 * r1 - dmp * dmp);\n\n    n1.multiplyScalar(rInt);\n    n2.multiplyScalar(rInt);\n    mid.multiplyScalar(dmp);\n\n    mid.x += xa;\n    mid.y += ya;\n    mid.z += za;\n\n    lastClip = -1;\n\n    const ng = ngTorus;\n\n    for (let innI = 0; innI < probePositions; innI++) {\n      const cost = cosTable[innI];\n      const sint = sinTable[innI];\n\n      const px = mid.x + cost * n1.x + sint * n2.x;\n      const py = mid.y + cost * n1.y + sint * n2.y;\n      const pz = mid.z + cost * n1.z + sint * n2.z;\n\n      if (obscured(px, py, pz, a, b) === -1) {\n        // As above, iterate over our grid...\n        // px, py, pz in grid coords\n        const iax = Math.floor(scaleFactor * (px - min[0]));\n        const iay = Math.floor(scaleFactor * (py - min[1]));\n        const iaz = Math.floor(scaleFactor * (pz - min[2]));\n\n        const minx = Math.max(0, iax - ng);\n        const miny = Math.max(0, iay - ng);\n        const minz = Math.max(0, iaz - ng);\n\n        const maxx = Math.min(dim[0], iax + ng + 2);\n        const maxy = Math.min(dim[1], iay + ng + 2);\n        const maxz = Math.min(dim[2], iaz + ng + 2);\n\n        for (let iz = minz; iz < maxz; iz++) {\n          dz = pz - gridz[iz];\n          const zOffset = dim[1] * dim[0] * iz;\n          for (let iy = miny; iy < maxy; iy++) {\n            dy = py - gridy[iy];\n            const dzy2 = dz * dz + dy * dy;\n            const zyOffset = zOffset + dim[0] * iy;\n            for (let ix = minx; ix < maxx; ix++) {\n              dx = px - gridx[ix];\n              d2 = dzy2 + dx * dx;\n              const idx = ix + zyOffset;\n              const current = grid[idx];\n\n              if (current > 0.0 && d2 < (current * current)) {\n                grid[idx] = Math.sqrt(d2);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function projectTorii() {\n    for (let innI = 0; innI < nAtoms; innI++) {\n      const innIdx = itemSize * innI;\n      hash.withinRadii(\n        posRad[innIdx], posRad[innIdx + 1], posRad[innIdx + 2],\n        posRad[innIdx + 3], neighbours,\n      );\n      let ia = 0;\n      let ni = neighbours[ia];\n      while (ni >= 0) {\n        if (innI < ni) {\n          projectTorus(innI, ni);\n        }\n        ni = neighbours[++ia];\n      }\n    }\n  }\n\n  function fixNegatives() {\n    for (let innI = 0, n = grid.length; innI < n; innI++) {\n      if (grid[innI] < 0) grid[innI] = 0;\n      let w = weights[innI];\n      if (w > 0) {\n        w = 1 / w;\n        const innInnI = innI * 3;\n        volTex[innInnI] *= w;\n        volTex[innInnI + 1] *= w;\n        volTex[innInnI + 2] *= w;\n      }\n    }\n  }\n\n  function getVolume() {\n    // Basic steps are:\n    // 1) Initialize\n    // 2) Project points\n    // 3) Project torii\n    console.time('ContactSurface.getVolume');\n\n    console.time('ContactSurface.init');\n    init();\n    console.timeEnd('ContactSurface.init');\n\n    console.time('ContactSurface.projectPoints');\n    projectPoints();\n    console.timeEnd('ContactSurface.projectPoints');\n\n    console.time('ContactSurface.projectTorii');\n    projectTorii();\n    console.timeEnd('ContactSurface.projectTorii');\n    fixNegatives();\n    console.timeEnd('ContactSurface.getVolume');\n  }\n\n  this.build = function () {\n    // type and cutoff left in for compatibility with EDTSurface.getSurface\n    // function signature\n    getVolume();\n    this.volTexMap = volTex;\n    this.weightsMap = weightsMap;\n    this.atomMap = atomMap;\n    this.volMap = grid;\n  };\n}\nexport default ContactSurface;\n","import VolumeSurfaceGeometry from './VolumeSurfaceGeometry';\nimport ContactSurface from './ContactSurface';\nimport chem from '../../chem';\n\nconst { Volume } = chem;\n\n/**\n * This class implements 'contact' isosurface geometry generation algorithm.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\n\nclass ContactSurfaceGeometry extends VolumeSurfaceGeometry {\n  _computeSurface(packedArrays, box, boundaries, params) {\n    const contactSurface = new ContactSurface(packedArrays, boundaries, params);\n    contactSurface.build();\n\n    const surface = {\n      volMap: new Volume(Float32Array, this.numVoxels, box, 1, contactSurface.volMap),\n      volTexMap: new Volume(Float32Array, this.numVoxels, box, 3, contactSurface.volTexMap),\n      atomMap: contactSurface.atomMap,\n      atomWeightMap: new Volume(Float32Array, this.numVoxels, box, 1, contactSurface.weightsMap),\n    };\n    return surface;\n  }\n}\n\nexport default ContactSurfaceGeometry;\n","import * as THREE from 'three';\n\n/**\n * Class for colored atom. Need for atom structure clusterization\n *\n * @param {Vector3} vCenter   Center of atom\n * @param {number}  radiusAt  Radius of atom\n */\nclass IsoSurfaceAtomColored {\n  constructor(vCenter, radiusAt) {\n    this.coord = new THREE.Vector3();\n    this.coord.copy(vCenter);\n    this.radius = radiusAt;\n    this.colorX = 0.99999;\n    this.colorY = 0.0;\n    this.colorZ = 0.0;\n    this.atomType = 0;\n    this.srcAtom = null;\n  }\n}\nexport default IsoSurfaceAtomColored;\n","import * as THREE from 'three';\nimport utils from '../../utils';\n\n// suppress some JSHint warnings\n/* jshint bitwise: false */\n\n/**\n * Build normals for isosurface, using atoms information\n *\n * @param {number} numAtoms     - Number of atoms in molecule\n * @param {Element} atoms      - Array of atoms\n * @param {Vector3} vBoxMin     - Bounding box min\n * @param {Vector3} vBoxMax     - Bounding box max\n * @param {number} probeRadius     - Normals for output\n *\n */\nclass IsosurfaceBuildNormals {\n  constructor(numAtoms, atoms, vBoxMin, vBoxMax, probeRadius) {\n    this._numAtoms = numAtoms;\n    this._atoms = atoms;\n    this._vBoxMin = new THREE.Vector3();\n    this._vBoxMax = new THREE.Vector3();\n    this._vBoxMin.copy(vBoxMin);\n    this._vBoxMax.copy(vBoxMax);\n    this._probeRadius = probeRadius;\n\n    this._atomsList = null;\n    this._voxelList = null;\n  }\n\n  createVoxels() {\n    let numAtomsRefs;\n    let rad;\n    const ATOM_VOXEL_REF_SCALE = 4.5;\n\n    const numAtoms = this._numAtoms | 0;\n    const atoms = this._atoms;\n    const dx = this._vBoxMax.x - this._vBoxMin.x;\n    const dy = this._vBoxMax.y - this._vBoxMin.y;\n    const dz = this._vBoxMax.z - this._vBoxMin.z;\n    let w = (dx < dy) ? dx : dy;\n    w = (dz < w) ? dz : w;\n    let maxRad = 0.0;\n    let aveRad = 0.0;\n\n    let i;\n    for (i = 0; i < numAtoms; i++) {\n      rad = (atoms[i].radius + this._probeRadius) * 2.0;\n      maxRad = (rad > maxRad) ? rad : maxRad;\n      aveRad += rad;\n    }\n    let numCells = Math.floor(w / maxRad);\n    if (numCells < 2) {\n      numCells = 2;\n    }\n    aveRad /= numAtoms;\n\n    this._numCells = numCells;\n    this._aveRad = aveRad;\n    this._maxRad = maxRad;\n\n    const side = numCells;\n    const side2 = numCells * numCells;\n    const side3 = numCells * numCells * numCells;\n\n    const xScale = this._xScale = 1.0 / (this._vBoxMax.x - this._vBoxMin.x);\n    const yScale = this._yScale = 1.0 / (this._vBoxMax.y - this._vBoxMin.y);\n    const zScale = this._zScale = 1.0 / (this._vBoxMax.z - this._vBoxMin.z);\n\n    // estimate number of individual atom refs in each voxel list\n    let maxAtomsRefs = 0;\n\n    const xNumVoxMult = xScale * numCells;\n    const yNumVoxMult = yScale * numCells;\n    const zNumVoxMult = zScale * numCells;\n\n    for (i = 0; i < numAtoms; i++) {\n      const radAffect = (atoms[i].radius + this._probeRadius) * ATOM_VOXEL_REF_SCALE;\n      const diaAffect = radAffect * 2.0;\n      let numVoxX = Math.floor(xNumVoxMult * diaAffect + 0.8);\n      let numVoxY = Math.floor(yNumVoxMult * diaAffect + 0.8);\n      let numVoxZ = Math.floor(zNumVoxMult * diaAffect + 0.8);\n      // avoid case numVox? == 0\n      // also use loop i <=\n      numVoxX++;\n      numVoxY++;\n      numVoxZ++;\n      maxAtomsRefs += numVoxX * numVoxY * numVoxZ;\n    } // for (i)\n    // maxAtomsRefs = numAtoms * MAX_ATOMS_IN_SINGLE_VOXEL;\n\n\n    this._voxelList = utils.allocateTyped(Int32Array, side3);\n    const atomsList = [];\n    atomsList.length = maxAtomsRefs;\n    if ((this._voxelList === null) || (atomsList === null)) {\n      return 0 - 1;\n    }\n    // init voxel list\n    for (i = 0; i < side3; i++) {\n      this._voxelList[i] = -1;\n    }\n    numAtomsRefs = 0;\n\n    // create voxel lists\n    for (i = 0; i < numAtoms; i++) {\n      // use multiplier 4 to locate this atom in different voxels\n      rad = (atoms[i].radius + this._probeRadius) * ATOM_VOXEL_REF_SCALE;\n      let xIndMin = Math.floor((atoms[i].coord.x - this._vBoxMin.x - rad) * numCells * xScale);\n      let yIndMin = Math.floor((atoms[i].coord.y - this._vBoxMin.y - rad) * numCells * yScale);\n      let zIndMin = Math.floor((atoms[i].coord.z - this._vBoxMin.z - rad) * numCells * zScale);\n      let xIndMax = Math.floor((atoms[i].coord.x - this._vBoxMin.x + rad) * numCells * xScale);\n      let yIndMax = Math.floor((atoms[i].coord.y - this._vBoxMin.y + rad) * numCells * yScale);\n      let zIndMax = Math.floor((atoms[i].coord.z - this._vBoxMin.z + rad) * numCells * zScale);\n\n      xIndMin = (xIndMin >= 0) ? xIndMin : 0;\n      yIndMin = (yIndMin >= 0) ? yIndMin : 0;\n      zIndMin = (zIndMin >= 0) ? zIndMin : 0;\n\n      xIndMax = (xIndMax < numCells) ? xIndMax : (numCells - 1);\n      yIndMax = (yIndMax < numCells) ? yIndMax : (numCells - 1);\n      zIndMax = (zIndMax < numCells) ? zIndMax : (numCells - 1);\n\n      for (let z = zIndMin; z <= zIndMax; z++) {\n        for (let y = yIndMin; y <= yIndMax; y++) {\n          for (let x = xIndMin; x <= xIndMax; x++) {\n            // add atom with index \"i\" to this voxel list\n            const indVoxel = x + y * side + z * side2;\n            // assert indVoxel >= 0\n            // assert indVoxel < side3\n\n            // add first\n            if (this._voxelList[indVoxel] < 0) {\n              atomsList[numAtomsRefs * 2 + 0] = i;\n              atomsList[numAtomsRefs * 2 + 1] = 0 - 1;\n              this._voxelList[indVoxel] = numAtomsRefs;\n              numAtomsRefs++;\n              // assert numAtomsRefs < maxAtomsRefs - 1\n              continue;\n            }\n            // insert into head of list\n            const indexNext = this._voxelList[indVoxel];\n            this._voxelList[indVoxel] = numAtomsRefs;\n            atomsList[numAtomsRefs * 2 + 0] = i;\n            atomsList[numAtomsRefs * 2 + 1] = indexNext;\n            numAtomsRefs++;\n          } // for (x)\n        } // for (y)\n      } // for (z)\n    } // for (i)\n\n    // convert Array to Int32Array\n    this._atomsList = Int32Array.from(atomsList);\n\n    return 0;\n  }\n\n  destroyVoxels() {\n    this._atomsList = null;\n    this._voxelList = null;\n\n    this._atoms = null;\n    this._vertices = null;\n    this._vBoxMin = null;\n    this._vBoxMax = null;\n  }\n\n  /**\n   * Enumerate all atoms affecting specified point\n   *\n   * @param {Vector3}    point    - point in 3D\n   * @param {func(atom)} process  - function to call for each atom\n   */\n  forEachRelatedAtom(point, process) {\n    // find corresponding voxel\n    const xInd = Math.floor((point.x - this._vBoxMin.x) * this._numCells * this._xScale);\n    const yInd = Math.floor((point.y - this._vBoxMin.y) * this._numCells * this._yScale);\n    const zInd = Math.floor((point.z - this._vBoxMin.z) * this._numCells * this._zScale);\n    const indVoxel = xInd + yInd * this._numCells + zInd * this._numCells * this._numCells;\n\n    // run through atoms affecting this voxel\n    const atoms = this._atoms;\n    for (let ref = this._voxelList[indVoxel]; ref >= 0; ref = this._atomsList[ref * 2 + 1]) {\n      const indexAtom = this._atomsList[ref * 2];\n      process(atoms[indexAtom]);\n    }\n  }\n\n  /**\n   * Get atom closest to specified point\n   *\n   * @param {Vector3} point  - point in 3D\n   *\n   * @returns {IsoSurfaceAtomColored} atom, or null if not found\n   */\n  getClosestAtom(point) {\n    let closest = null;\n    let minDist2 = Number.MAX_VALUE;\n\n    this.forEachRelatedAtom(point, (atom) => {\n      const dist2 = point.distanceToSquared(atom.coord);\n      if (dist2 < minDist2) {\n        minDist2 = dist2;\n        closest = atom;\n      }\n    });\n\n    return closest;\n  }\n\n  /**\n   * Build normals for isosurface, using atoms information\n   *\n   * @param {number} numVertices  - Number of vertices in final geometry (to render)\n   * @param {Vector3} vertices    - Geometry vertices (3d coordinates array)\n   * @param {Vector3} normals     - Normals for output\n   *\n   * @returns {number} 0, if success\n   */\n  buildNormals(numVertices, vertices, normals) {\n    const self = this;\n    let numCloseAtoms = 0;\n    let vx = 0;\n    let vy = 0;\n    let vz = 0;\n    let dist2;\n    let vNormalX = 0;\n    let vNormalY = 0;\n    let vNormalZ = 0;\n    let koef = 0;\n    let w = 0;\n    const r25 = 2.5;\n    const r01 = 0.1;\n\n    const maxRadAffect = this._aveRad * r25;\n    const maxRadAffect2 = maxRadAffect * maxRadAffect;\n    const expScale = -this._aveRad * r01;\n\n    // some stats\n    // numSlowAtoms = 0;\n\n    const gatherNormals = function (atom) {\n      const dx = vx - atom.coord.x;\n      const dy = vy - atom.coord.y;\n      const dz = vz - atom.coord.z;\n      dist2 = dx * dx + dy * dy + dz * dz;\n      if (dist2 > maxRadAffect2) {\n        return;\n      }\n\n      // get weight for gaussian smoothing\n      const rad = atom.radius + self._probeRadius;\n      koef = dist2 - (rad * rad);\n      if (koef < 0.0) {\n        koef = -koef;\n      }\n      w = Math.exp(expScale * koef);\n\n      vNormalX += dx * w;\n      vNormalY += dy * w;\n      vNormalZ += dz * w;\n      numCloseAtoms++;\n    };\n\n    let maxClosedAtoms = 0;\n    // process all vertices, one by one\n    for (let i = 0; i < numVertices; i++) {\n      vx = vertices[i].x;\n      vy = vertices[i].y;\n      vz = vertices[i].z;\n\n      numCloseAtoms = 0;\n      vNormalX = vNormalY = vNormalZ = 0.0;\n\n      this.forEachRelatedAtom(vertices[i], gatherNormals);\n\n      maxClosedAtoms = (numCloseAtoms > maxClosedAtoms) ? numCloseAtoms : maxClosedAtoms;\n\n      // normalize vNormal\n      dist2 = vNormalX * vNormalX + vNormalY * vNormalY + vNormalZ * vNormalZ;\n      if (numCloseAtoms > 0) {\n        koef = 1.0 / Math.sqrt(dist2);\n        vNormalX *= koef;\n        vNormalY *= koef;\n        vNormalZ *= koef;\n      }\n      normals[i].x = vNormalX;\n      normals[i].y = vNormalY;\n      normals[i].z = vNormalZ;\n    } // for (i) all vertices\n\n    return 0;\n  }\n\n  /**\n   * Build vertex colors for isosurface, using atoms information\n   *\n   * @param {number} numVertices  - Number of vertices in final geometry (to render)\n   * @param {Vector3} vertices    - Geometry vertices (3d coordinates array)\n   * @param {Vector3} colors                - Colors for output\n   * @param {number} radiusColorSmoothness  - Radius of smoothness sphere\n   *\n   * @returns {number} 0, if success\n   */\n  buildColors(numVertices, vertices, colors, radiusColorSmoothness) {\n    const self = this;\n    let vx = 0.0;\n    let vy = 0.0;\n    let vz = 0.0;\n    let koef = 0.0;\n    let w = 0.0;\n    const KOEF_ADD = 0.8;\n\n    const maxRadAffect = radiusColorSmoothness;\n    const maxRadAffect2 = maxRadAffect * maxRadAffect;\n\n    let colorsClose = [];\n    let weights = [];\n    let weightsSum = 0;\n\n    const gatherColors = function (atom) {\n      const dx = vx - atom.coord.x;\n      const dy = vy - atom.coord.y;\n      const dz = vz - atom.coord.z;\n      const dist2 = dx * dx + dy * dy + dz * dz;\n      if (dist2 > maxRadAffect2) {\n        return;\n      }\n\n      // get weight for gaussian smoothing\n      const rad = atom.radius + self._probeRadius;\n      koef = dist2 - (rad * rad);\n      if (koef < 0.0) {\n        koef = -koef;\n      }\n      w = 1.0 / (KOEF_ADD + koef);\n\n      colorsClose.push([atom.colorX, atom.colorY, atom.colorZ]);\n      weights.push(w); // save weights for use\n      weightsSum += w; // calc sum of weights fo further normalization\n    };\n\n    // process all vertices, one by one\n    for (let i = 0; i < numVertices; i++) {\n      vx = vertices[i].x;\n      vy = vertices[i].y;\n      vz = vertices[i].z;\n\n      colorsClose = [];\n      weights = [];\n      weightsSum = 0;\n\n      this.forEachRelatedAtom(vertices[i], gatherColors);\n\n      // normalized weighted sum of colors\n      for (let j = 0; j < colorsClose.length; ++j) {\n        const weightNormalized = weights[j] / weightsSum;\n        colors[i].x += colorsClose[j][0] * weightNormalized;\n        colors[i].y += colorsClose[j][1] * weightNormalized;\n        colors[i].z += colorsClose[j][2] * weightNormalized;\n      }\n    } // for (i) all vertices\n    return 0;\n  }\n}\nexport default IsosurfaceBuildNormals;\n","import * as THREE from 'three';\n\n/**\n * Class for geometry (triangle mesh) representation\n *\n *\n * @param {number} maxNumVertices Maximum possible number of vertices in mesh\n * @param {number} maxNumTriangles Maximum possible number of triangles in mesh\n * @param {boolean} needVertexColors Obvious\n */\nclass IsoSurfaceGeo {\n  constructor(maxNumVertices, maxNumTriangles, needVertexColors) {\n    this._maxNumVertices = maxNumVertices;\n    this._maxNumTriangles = maxNumTriangles;\n    this._vertices = new Array(maxNumVertices);\n    this._normals = new Array(maxNumVertices);\n    this._colors = null;\n    if (needVertexColors) {\n      this._colors = new Array(maxNumVertices);\n    }\n    this._indices = new Array(maxNumTriangles * (1 + 2));\n    this._numVertices = 0;\n    this._numTriangles = 0;\n\n    let i;\n    for (i = 0; i < maxNumVertices; i++) {\n      this._vertices[i] = new THREE.Vector3();\n      this._normals[i] = new THREE.Vector3();\n    }\n    for (i = 0; i < maxNumTriangles * (1 + 2); i++) {\n      this._indices[i] = -1;\n    }\n    if (needVertexColors) {\n      for (i = 0; i < maxNumVertices; i++) {\n        this._colors[i] = new THREE.Vector3();\n      }\n    }\n  }\n\n  destroy() {\n    this._vertices = null;\n    this._normals = null;\n    this._indices = null;\n  }\n}\nexport default IsoSurfaceGeo;\n","import * as THREE from 'three';\nimport IsoSurfaceGeometry from './IsoSurfaceGeometry';\nimport IsoSurfaceAtomColored from './IsoSurfaceAtomColored';\nimport IsosurfaceBuildNormals from './IsosurfaceBuildNormals';\nimport IsoSurfaceMarchCube from './IsoSurfaceMarchCube';\nimport IsoSurfaceGeo from './IsoSurfaceGeo';\nimport chem from '../../chem';\nimport utils from '../../utils';\n\nconst COLOR_SIZE = 3;\nconst HASH_SIZE = 32768;\nconst { Element } = chem;\n\n/**\n * This class implements 'quick' isosurface geometry generation algorithm.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\n\nclass SSIsosurfaceGeometry extends IsoSurfaceGeometry {\n  _build() {\n    // convert geoOut into arrays of positions, indices, normals\n    this._innerBuild();\n    const geoOut = this.getGeo();\n    this.destroy();\n    this._fromGeo(geoOut);\n  }\n\n  _fromGeo(geoOut) {\n    let colors = null;\n    const positions = utils.allocateTyped(Float32Array, (1 + 2) * geoOut._numVertices);\n    const normals = utils.allocateTyped(Float32Array, (1 + 2) * geoOut._numVertices);\n    if (geoOut._colors !== null) {\n      colors = utils.allocateTyped(Float32Array, (1 + 2) * geoOut._numVertices);\n    }\n    const indices = utils.allocateTyped(Uint32Array, (1 + 2) * geoOut._numTriangles);\n\n    for (let i = 0, j = 0; i < geoOut._numVertices; i++) {\n      positions[j + 0] = (geoOut._vertices[i].x);\n      positions[j + 1] = (geoOut._vertices[i].y);\n      positions[j + 2] = (geoOut._vertices[i].z);\n      normals[j + 0] = geoOut._normals[i].x;\n      normals[j + 1] = geoOut._normals[i].y;\n      normals[j + 2] = geoOut._normals[i].z;\n      j += 3;\n    }\n    if (colors !== null) {\n      for (let i = 0, j = 0; i < geoOut._numVertices; i++, j += 3) {\n        colors[j + 0] = geoOut._colors[i].x;\n        colors[j + 1] = geoOut._colors[i].y;\n        colors[j + 2] = geoOut._colors[i].z;\n      }\n    }\n\n    const numTri3 = geoOut._numTriangles * (1 + 2);\n    for (let i = 0; i < numTri3; i++) {\n      indices[i] = geoOut._indices[i];\n    }\n\n    this.setIndex(new THREE.BufferAttribute(indices, 1));\n    this.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n    this.setAttribute('normal', new THREE.BufferAttribute(normals, 3));\n    this.setAttribute('color', new THREE.BufferAttribute(colors, 3));\n    this.computeBoundingBox();\n    this.computeBoundingSphere();\n\n    geoOut.destroy();\n  }\n\n  convertToAtomsColored(packedArrays, atomsColored) {\n    const { atoms, colors } = packedArrays;\n    for (let i = 0, numAtoms = atoms.length; i < numAtoms; i++) {\n      const vCenter = atoms[i].position;\n      const { radius } = atoms[i].element;\n      atomsColored[i] = new IsoSurfaceAtomColored(vCenter, radius);\n      const nm = atoms[i].element.number;\n      atomsColored[i].atomType = this.getType(nm);\n      let cIdx = COLOR_SIZE * i;\n      atomsColored[i].colorX = colors[cIdx++];\n      atomsColored[i].colorY = colors[cIdx++];\n      atomsColored[i].colorZ = colors[cIdx];\n      atomsColored[i].srcAtom = atoms[i];\n    }\n  }\n\n  getGeo() {\n    return this.geoOut;\n  }\n\n  destroy() {\n    this.atoms = null;\n\n    this.hashLines = null;\n    this.hashEntries = null;\n  }\n\n  /**\n   * Calculates bounding box for array with spheres (atoms)\n   *\n   * @param {Object}  atoms      Atoms array\n   * @param {Vector3} vBoxMin    Bounding box min point\n   * @param {Vector3} vBoxMax    Bounding box max point\n   */\n  getBoundingBox(atoms, vBoxMin, vBoxMax) {\n    const bigNum = 10000000.0;\n\n    vBoxMin.x = vBoxMin.y = vBoxMin.z = bigNum;\n    vBoxMax.x = vBoxMax.y = vBoxMax.z = 0 - bigNum;\n\n    const probeRadius2 = this.probeRadius * this.atomRadiusScale;\n    let radMax = 0.0;\n    for (let i = 0, num = atoms.length; i < num; i++) {\n      const vCenter = atoms[i].coord;\n      const rad = atoms[i].radius + probeRadius2;\n      radMax = (rad > radMax) ? rad : radMax;\n      if (vCenter.x - rad < vBoxMin.x) {\n        vBoxMin.x = vCenter.x - rad;\n      }\n      if (vCenter.y - rad < vBoxMin.y) {\n        vBoxMin.y = vCenter.y - rad;\n      }\n      if (vCenter.z - rad < vBoxMin.z) {\n        vBoxMin.z = vCenter.z - rad;\n      }\n      if (vCenter.x + rad > vBoxMax.x) {\n        vBoxMax.x = vCenter.x + rad;\n      }\n      if (vCenter.y + rad > vBoxMax.y) {\n        vBoxMax.y = vCenter.y + rad;\n      }\n      if (vCenter.z + rad > vBoxMax.z) {\n        vBoxMax.z = vCenter.z + rad;\n      }\n    }\n    vBoxMin.x -= radMax;\n    vBoxMin.y -= radMax;\n    vBoxMin.z -= radMax;\n    vBoxMax.x += radMax;\n    vBoxMax.y += radMax;\n    vBoxMax.z += radMax;\n  }\n\n  /**\n   * Calculate (x,y,z) cordinate of the cell corner point\n   *\n   * @param {Vector3} vBoxMin Bounding box min point\n   * @param {Vector3} vBoxMax Bounding box max point\n   * @param {number} x Cell integer x coordinate\n   * @param {number} y Cell integer y coordinate\n   * @param {number} z Cell integer z coordinate\n   * @param {number} numPoints NUm points in cell on side\n   * @param {Vector3} vOut Output vector\n   */\n  getCornerCoord(vBoxMin, vBoxMax, x, y, z, numPoints, vOut) {\n    const invNP = 1.0 / (numPoints - 1.0);\n    const tx = x * invNP;\n    const ty = y * invNP;\n    const tz = z * invNP;\n\n    vOut.x = vBoxMin.x * (1.0 - tx) + vBoxMax.x * tx;\n    vOut.y = vBoxMin.y * (1.0 - ty) + vBoxMax.y * ty;\n    vOut.z = vBoxMin.z * (1.0 - tz) + vBoxMax.z * tz;\n  }\n\n  /**\n   * Calculate point of intersection of sphere surface\n   * and cell edge, given by [indexA, indexB] line\n   *\n   * @param {number} indexA Cell vertex index in [0..11]\n   * @param {number} indexB Cell vertex index in [0..11]\n   * @param {array}  sign   Sign array for all 8 vertices\n   * @param {object} cube   Cube\n   * @param {number} indexPointValue for value placement\n   * @param {Vector3} vOut  Point of intersection\n   */\n  buildEdgePoint(indexA, indexB, sign, cube, indexPointValue, vOut) {\n    if (sign[indexA] ^ sign[indexB]) {\n      const cTwentyFour = 24;\n      const t = (0 - cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexA])\n        / (cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexB]\n          - cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexA]);\n      const xa = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 0];\n      const ya = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 1];\n      const za = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 2];\n      const xb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 0];\n      const yb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 1];\n      const zb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 2];\n\n      vOut.x = xa * (1.0 - t) + xb * t;\n      vOut.y = ya * (1.0 - t) + yb * t;\n      vOut.z = za * (1.0 - t) + zb * t;\n    }\n  }\n\n  /**\n   * Check if triangle is visible (vertices are close to atoms included in visibility set)\n   *\n   * @param {Vector3} v0 Vertex #0\n   * @param {Vector3} v1 Vertex #1\n   * @param {Vector3} v2 Vertex #2\n   * @returns {boolean} true if triangle is visible\n   */\n  isTriangleVisible(v0, v1, v2) {\n    const a0 = this.voxelWorld.getClosestAtom(v0);\n    const a1 = this.voxelWorld.getClosestAtom(v1);\n    const a2 = this.voxelWorld.getClosestAtom(v2);\n    if (a0 === null || a1 === null || a2 === null\n      || a0.srcAtom === null || a1.srcAtom === null || a2.srcAtom === null) {\n      return false;\n    }\n\n    return this.visibilitySelector.includesAtom(a0.srcAtom)\n      && this.visibilitySelector.includesAtom(a1.srcAtom)\n      && this.visibilitySelector.includesAtom(a2.srcAtom);\n  }\n\n  /**\n   * Add triangle to result geometry\n   *\n   * @param {Vector3} v0 Vertex #0\n   * @param {Vector3} v1 Vertex #1\n   * @param {Vector3} v2 Vertex #2\n   * @returns {boolean} false if no more triangles can be added\n   */\n  addTriangle(v0, v1, v2) {\n    if (this.visibilitySelector && !this.isTriangleVisible(v0, v1, v2)) {\n      return true;\n    }\n\n    const geo = this.geoOut;\n\n    if (geo._numTriangles >= this.maxNumTriangles) {\n      return false;\n    }\n\n    // Add vertex with optimize\n    const indInGeo0 = this.addVertexToGeo(geo, v0);\n    const indInGeo1 = this.addVertexToGeo(geo, v1);\n    const indInGeo2 = this.addVertexToGeo(geo, v2);\n    if ((indInGeo0 | indInGeo1 | indInGeo2) < 0) {\n      return false;\n    }\n\n    const itr = 3 * geo._numTriangles;\n    geo._indices[itr + 0] = indInGeo0;\n    geo._indices[itr + 1] = indInGeo1;\n    geo._indices[itr + 2] = indInGeo2;\n    geo._numTriangles++;\n    return true;\n  }\n\n  /**\n   * Build result geometry (triangle mesh) from marching cube cells\n   *\n   * @param {number} meshRes Marchnig cube vertex count on each side\n   * @param {Vector3} vBoxMin Bounding box point min\n   * @param {Vector3} vBoxMax Bounding box point max\n   * @param {number} corners float values array for each cube point\n   * @param {Vector3} vCellStep vector to next cube cell diagonal point\n   * @param {object} cube IsoSurfaceMarchCube object\n   * @returns {number} 0, if success (<0) is error\n   */\n  buildGeoFromCorners(meshRes, vBoxMin, vBoxMax, corners, vCellStep, cube) {\n    const arrSize = 12;\n    const cNumVerts = 8;\n    const numCells = meshRes - 1;\n    const side = meshRes;\n    const side2 = meshRes * meshRes;\n\n    const vaEdges = new Array(arrSize);\n    for (let i = 0; i < arrSize; i++) {\n      vaEdges[i] = new THREE.Vector3();\n    }\n    const sign = [];\n    for (let i = 0; i < cNumVerts; i++) {\n      sign[i] = 1.0;\n    }\n    const vCorner = new THREE.Vector3();\n    let indCell = 0;\n    let indY = 0;\n    for (let y = 0; y < numCells; y++, indY += side2) {\n      let indZ = 0;\n      for (let z = 0; z < numCells; z++, indZ += side) {\n        for (let x = 0; x < numCells; x++) {\n          if (!cube.hasIntersection[indCell]) {\n            // next cell\n            indCell++;\n            continue;\n          }\n          const bitsInside = cube.bitsInside[indCell];\n\n          this.getCornerCoord(vBoxMin, vBoxMax, x, y, z, meshRes, vCorner);\n\n          const indPointValues = indCell * (2 << (2 + 2));\n          for (let i = 0, j = 0; i < cNumVerts; i++) {\n            cube.pointsValuesLinear[indPointValues + j++] = vCorner.x;\n            cube.pointsValuesLinear[indPointValues + j++] = vCorner.y;\n            cube.pointsValuesLinear[indPointValues + j++] = vCorner.z;\n          }\n\n          cube.pointsValuesLinear[indPointValues + 3] += vCellStep.x;\n          cube.pointsValuesLinear[indPointValues + 2 * 3] += vCellStep.x;\n          cube.pointsValuesLinear[indPointValues + 5 * 3] += vCellStep.x;\n          cube.pointsValuesLinear[indPointValues + 6 * 3] += vCellStep.x;\n\n          cube.pointsValuesLinear[indPointValues + 2 * 3 + 2] += vCellStep.z;\n          cube.pointsValuesLinear[indPointValues + 3 * 3 + 2] += vCellStep.z;\n          cube.pointsValuesLinear[indPointValues + 6 * 3 + 2] += vCellStep.z;\n          cube.pointsValuesLinear[indPointValues + 7 * 3 + 2] += vCellStep.z;\n\n          cube.pointsValuesLinear[indPointValues + 4 * 3 + 1] += vCellStep.y;\n          cube.pointsValuesLinear[indPointValues + 5 * 3 + 1] += vCellStep.y;\n          cube.pointsValuesLinear[indPointValues + 6 * 3 + 1] += vCellStep.y;\n          cube.pointsValuesLinear[indPointValues + 7 * 3 + 1] += vCellStep.y;\n\n\n          // now current cell has intersections (from -x to +x) on some cube edges\n          const indValues = indPointValues + 24;\n          for (let i = 0; i < cNumVerts; ++i) {\n            sign[i] = (cube.pointsValuesLinear[indValues + i] < 0.0) ? 1 : 0;\n          }\n\n          this.buildEdgePoint(0, 1, sign, cube, indPointValues, vaEdges[0]);\n          this.buildEdgePoint(1, 2, sign, cube, indPointValues, vaEdges[1]);\n          this.buildEdgePoint(2, 3, sign, cube, indPointValues, vaEdges[2]);\n          this.buildEdgePoint(3, 0, sign, cube, indPointValues, vaEdges[3]);\n\n          this.buildEdgePoint(4, 5, sign, cube, indPointValues, vaEdges[4]);\n          this.buildEdgePoint(5, 6, sign, cube, indPointValues, vaEdges[5]);\n          this.buildEdgePoint(6, 7, sign, cube, indPointValues, vaEdges[6]);\n          this.buildEdgePoint(7, 4, sign, cube, indPointValues, vaEdges[7]);\n\n          this.buildEdgePoint(0, 4, sign, cube, indPointValues, vaEdges[8]);\n          this.buildEdgePoint(1, 5, sign, cube, indPointValues, vaEdges[9]);\n          this.buildEdgePoint(2, 6, sign, cube, indPointValues, vaEdges[10]);\n          this.buildEdgePoint(3, 7, sign, cube, indPointValues, vaEdges[11]);\n\n          const offs = bitsInside * (2 << (1 + 2));\n          for (let numTri = 0, indTri = 0; numTri < (2 + 2 + 2); numTri++, indTri += 3) {\n            // s_triIndicesMarchCube is external array, defined in mold_ind.js\n            const i0 = cube.striIndicesMarchCube[offs + indTri];\n            if (i0 < 0) {\n              break;\n            }\n            const i1 = cube.striIndicesMarchCube[offs + indTri + 1];\n            const i2 = cube.striIndicesMarchCube[offs + indTri + 2];\n\n            if (!this.addTriangle(vaEdges[i0], vaEdges[i1], vaEdges[i2])) {\n              return 0 - 2;\n            }\n          } // for numTri\n\n          // next cell (cube)\n          indCell++;\n        } // for (x)\n      } // for (z)\n    } // for (y)\n    return 0;\n  }\n\n  /**\n   * Returns number of cell with intersection with at least one sphere.\n   * Using this number, we can estimate required number of vertices\n   * and triangles to build result mesh.\n   *\n   * @param {number} side Number of points in cube voxels\n   * @param {number} numCells Number of cells in cube voxels (per direction)\n   * @param {array} corners Array of float values for cube corner points\n   * @param {object} cube IsoSurfaceMarchCube object\n   * @returns {number} numIntersectedCells\n   */\n  getNumIntersectedCells(side, numCells, corners, cube) {\n    const side2 = side * side;\n    const cNumVerts = 8;\n    let numIntersectedCells = 0;\n\n    let indCell = 0;\n    let indY = 0;\n    for (let y = 0; y < numCells; y++, indY += side2) {\n      let indZ = 0;\n      for (let z = 0; z < numCells; z++, indZ += side) {\n        for (let x = 0; x < numCells; x++) {\n          const cubeValuesIndex = indCell * (2 << (2 + 2)) + 24;\n          const indCorner = x + indZ + indY;\n\n          cube.pointsValuesLinear[cubeValuesIndex] = corners[indCorner];\n          cube.pointsValuesLinear[cubeValuesIndex + 1] = corners[indCorner + 1];\n          cube.pointsValuesLinear[cubeValuesIndex + 2] = corners[indCorner + side + 1];\n          cube.pointsValuesLinear[cubeValuesIndex + 3] = corners[indCorner + side];\n          cube.pointsValuesLinear[cubeValuesIndex + 4] = corners[side2 + indCorner];\n          cube.pointsValuesLinear[cubeValuesIndex + 5] = corners[side2 + indCorner + 1];\n          cube.pointsValuesLinear[cubeValuesIndex + 6] = corners[side2 + indCorner + side + 1];\n          cube.pointsValuesLinear[cubeValuesIndex + 7] = corners[side2 + indCorner + side];\n\n          // check read exception\n          // assert(side2 + indCorner + side + 1 < side3);\n\n          // get bit flags inside\n          let bitsInside = 0;\n          for (let i = 0; i < cNumVerts; ++i) {\n            if (cube.pointsValuesLinear[cubeValuesIndex + i] < 0.0) {\n              bitsInside |= (1 << i);\n            }\n          }\n\n          if ((bitsInside === 0) || (bitsInside === ((1 << cNumVerts) - 1))) {\n            cube.hasIntersection[indCell] = false;\n          } else {\n            cube.hasIntersection[indCell] = true;\n            numIntersectedCells++;\n          }\n          cube.bitsInside[indCell] = bitsInside;\n          // next cell\n          indCell++;\n        } // for (x)\n      } // for (z)\n    } // for (y)\n    return numIntersectedCells;\n  }\n\n  getType(letter) {\n    /* eslint-disable no-magic-numbers */\n    const atomT = [0, 0, 1, 1, 2, 6, 3, 6, 4, 6, 5, 6, 6, 0, 7, 3, 8, 2, 9, 6, 10, 6, 11, 6, 12, 6, 13, 6, 14, 6, 15, 4,\n      16, 5, 17, 6, 18, 6, 19, 6, 20, 6, 21, 6, 22, 6, 23, 6, 24, 6, 25, 6, 26, 6, 27, 6, 28, 6, 29, 6, 30, 6, 31, 6,\n      32, 6, 33, 6, 34, 6, 35, 6, 36, 6, 37, 6, 38, 6, 39, 6, 40, 6, 41, 6, 42, 6, 43, 6, 44, 6, 45, 6, 46, 6, 47, 6,\n      48, 6, 49, 6, 50, 6, 51, 6, 52, 6, 53, 6, 54, 6, 55, 6, 56, 6, 57, 6, 58, 6, 59, 6, 60, 6, 61, 6, 62, 6, 63, 6,\n      64, 6, 65, 6, 66, 6, 67, 6, 68, 6, 69, 6, 70, 6, 71, 6, 72, 6, 73, 6, 74, 6, 75, 6, 76, 6, 77, 6, 78, 6, 79, 6,\n      80, 6, 81, 6, 82, 6, 83, 6, 84, 6, 85, 6, 86, 6, 87, 6, 88, 6, 89, 6, 90, 6, 91, 6, 92, 6, 93, 6, 94, 6, 95, 6,\n      96, 6, 97, 6, 98, 6, 99, 6, 100, 6, 101, 6, 102, 6, 103, 6, 104, 6, 105, 6, 106, 6, 107, 6, 108, 6, 109, 6];\n    /* eslint-enable no-magic-numbers */\n\n    if (letter < 1 || letter > atomT.length / 2\n      || (Object.keys(Element.ByAtomicNumber).length * 2) !== atomT.length) {\n      throw new Error('atomT.length  should be equal Element.ByAtomicNumber.length * 2');\n    }\n    return atomT[letter * 2];\n  }\n\n\n  /**\n   * Calculate values for marching cube grid points\n   * positive values are outside sphere, negative - is inside\n   *\n   * @param {array} corners array of float values\n   * @param {number} side Number of point in cube in 1 dimennsion\n   * @param {Vector3} vBoxMin Bounding box min point\n   * @param {Vector3} vBoxMax Bounding box max point\n   * @param {array} atoms Array of input atoms\n   * @param {number} probeRad radius for atom probing\n   */\n  calculateGridCorners(corners, side, vBoxMin, vBoxMax, atoms, probeRad) {\n    const side2 = side * side;\n    const side3 = side2 * side;\n    const vCorner = new THREE.Vector3();\n    const vDif = new THREE.Vector3();\n    /* eslint-disable no-magic-numbers */\n    const aLot = +1.0e12;\n    /* eslint-enable no-magic-numbers */\n\n    for (let i = 0; i < side3; i++) {\n      corners[i] = aLot; // to large value\n    }\n\n    const xScale = (side - 1) / (vBoxMax.x - vBoxMin.x);\n    const yScale = (side - 1) / (vBoxMax.y - vBoxMin.y);\n    const zScale = (side - 1) / (vBoxMax.z - vBoxMin.z);\n\n    for (let s = 0, numAtoms = atoms.length; s < numAtoms; s++) {\n      const atom = atoms[s];\n      const radius = atom.radius + probeRad;\n\n      const fx = ((atom.coord.x - radius) - vBoxMin.x) * xScale;\n      const fy = ((atom.coord.y - radius) - vBoxMin.y) * yScale;\n      const fz = ((atom.coord.z - radius) - vBoxMin.z) * zScale;\n\n      const indXMin = Math.floor(fx);\n      const indYMin = Math.floor(fy);\n      const indZMin = Math.floor(fz);\n\n      let indXMax = Math.floor(((atom.coord.x + radius) - vBoxMin.x) * xScale);\n      let indYMax = Math.floor(((atom.coord.y + radius) - vBoxMin.y) * yScale);\n      let indZMax = Math.floor(((atom.coord.z + radius) - vBoxMin.z) * zScale);\n\n      indXMax++;\n      indYMax++;\n      indZMax++;\n      indXMax = (indXMax <= (side - 1)) ? indXMax : (side - 1);\n      indYMax = (indYMax <= (side - 1)) ? indYMax : (side - 1);\n      indZMax = (indZMax <= (side - 1)) ? indZMax : (side - 1);\n\n      for (let y = indYMin; y <= indYMax; y++) {\n        const indY = y * side2;\n        for (let z = indZMin; z <= indZMax; z++) {\n          const indZ = z * side;\n          for (let x = indXMin; x <= indXMax; x++) {\n            const ind = indY + indZ + x;\n            this.getCornerCoord(vBoxMin, vBoxMax, x, y, z, side, vCorner);\n            vDif.x = vCorner.x - atom.coord.x;\n            vDif.y = vCorner.y - atom.coord.y;\n            vDif.z = vCorner.z - atom.coord.z;\n            const distToSphere = Math.sqrt(vDif.x * vDif.x + vDif.y * vDif.y + vDif.z * vDif.z);\n            // val: < 0, if inside sphere\n            // val: > 0, if outside sphere\n            const val = distToSphere - radius;\n            if (val < corners[ind]) {\n              corners[ind] = val;\n            }\n          } // for (x)\n        } // for (z)\n      } // for (y)\n    } // for (s)\n  }\n\n  /**\n   * Create memory pool for vertex hash management\n   *\n   * @param {number} maxNumVertices Maximum possible number of vertices (that will be build)\n   * @param {number} maxNumTriangles Maximum possible number of triangles (that will be build)\n   * @returns {number} 0, if success. (<0) is non memory\n   */\n  createVertexHash(maxNumVertices, maxNumTriangles) {\n    this.hashLines = utils.allocateTyped(Int32Array, HASH_SIZE * 2);\n    if (this.hashLines === null) {\n      return 0 - 1;\n    }\n    for (let i = 0, j = 0; i < HASH_SIZE; i++) {\n      this.hashLines[j++] = 0; // num vertices in this hash line\n      this.hashLines[j++] = 0 - 1; // index of the first entry\n    }\n\n    this.maxNumVertices = maxNumVertices;\n    this.maxNumTriangles = maxNumTriangles;\n\n    this.numHashEtriesAllocated = maxNumVertices;\n    this.hashEntries = utils.allocateTyped(Int32Array, 2 * this.numHashEtriesAllocated);\n    if (this.hashEntries === null) {\n      return 0 - 1;\n    }\n    for (let i = 0, j = 0; i < this.numHashEtriesAllocated; i++) {\n      this.hashEntries[j++] = 0 - 1; // index of vertex\n      this.hashEntries[j++] = 0 - 1; // next hash entry index\n    }\n    this.numHashEntryIndex = 0;\n    return 0;\n  }\n\n  /**\n   * Allocate and return new hash entry. Just check possible amount.\n   *\n   * @returns {number} index of hash entry, that can be used for geometry add vertex functionality\n   */\n  getNewHashEntry() {\n    if (this.numHashEntryIndex < this.numHashEtriesAllocated) {\n      const i = this.numHashEntryIndex;\n      this.numHashEntryIndex++;\n      return i;\n    }\n    return 0 - 1;\n  }\n\n  /**\n   * Add vertex to geometry structure\n   * using vertex hash table to quickly check, is this vertex already exist in geometry\n   *\n   * @param {object} geoOut Geometry to build\n   * @param {Vector3} vAdd Vertex to add\n   * @returns {number} index of added (or existing) vertex in geometry.\n   */\n  addVertexToGeo(geoOut, vAdd) {\n    let entry;\n    const oneHynberes = 0.01;\n    const n815851 = 815851;\n    const n37633 = 37633;\n    const n2453543 = 2453543;\n    const r106 = 1.0e-6;\n\n    const hashResolution = this.marCubeResoultion << 2;\n    const v = new THREE.Vector3();\n    const ix = Math.floor(hashResolution * (vAdd.x - this.vBoxMin.x) / (this.vBoxMax.x + oneHynberes - this.vBoxMin.x));\n    const iy = Math.floor(hashResolution * (vAdd.y - this.vBoxMin.y) / (this.vBoxMax.y + oneHynberes - this.vBoxMin.y));\n    const iz = Math.floor(hashResolution * (vAdd.z - this.vBoxMin.z) / (this.vBoxMax.z + oneHynberes - this.vBoxMin.z));\n    let iHash = ix * n815851 + iz * n37633 + iy * n2453543;\n    iHash &= (HASH_SIZE - 1);\n    const hLineIndex = iHash + iHash;\n\n    // search vertex via hash\n    // search in hash list\n    if (this.vBoxMin !== null && this.vBoxMax !== null) {\n      for (entry = this.hashLines[hLineIndex + 1]; entry >= 0; entry = this.hashEntries[entry * 2 + 1]) {\n        const ind = this.hashEntries[entry * 2 + 0]; // vertex index\n        v.copy(geoOut._vertices[ind]);\n        v.x -= vAdd.x;\n        v.y -= vAdd.y;\n        v.z -= vAdd.z;\n        const dot2 = v.x * v.x + v.y * v.y + v.z * v.z;\n        if (dot2 < r106) {\n          return ind;\n        } // if (found)\n      } // for (entry)\n    } // search\n\n    // add new vertex to geometry\n    if (geoOut._numVertices >= this.maxNumVertices) {\n      return 0 - 1;\n    }\n\n    const iVertAdd = geoOut._numVertices;\n    geoOut._vertices[iVertAdd].copy(vAdd);\n\n    // add to hash\n    if (this.vBoxMin !== null && this.vBoxMax !== null) {\n      entry = this.getNewHashEntry();\n      if (entry < 0) {\n        return 0 - 1;\n      }\n      const entryFirst = this.hashLines[hLineIndex + 1];\n      this.hashLines[hLineIndex + 1] = entry;\n      this.hashEntries[entry * 2 + 0] = iVertAdd;\n      this.hashEntries[entry * 2 + 1] = entryFirst;\n\n      this.hashLines[hLineIndex + 0]++; // num vertices in line ++\n    }\n    geoOut._numVertices++;\n    return iVertAdd;\n  }\n\n  /**\n   *\n   * @param {number} side some placeholder description\n   * @param {number} probeSphereRadius some placeholder description\n   * @param {object} vBoxMin some placeholder description\n   * @param {object} vBoxMax some placeholder description\n   * @param {object} geoOut some placeholder description\n   * @param {object} corners some placeholder description\n   * @returns {number} always 0\n   */\n  modifyExcludedFromGeo(\n    side, probeSphereRadius,\n    vBoxMin, vBoxMax,\n    geoOut, corners,\n  ) {\n    let ind;\n    let distToSphere;\n    let distToBorder;\n    const r11 = 1.1;\n\n    function innerBlockWorkAround() {\n      if (distToBorder > 0.0) {\n        // point is inside probe sphere\n        if (corners[ind] < 0.0) {\n          corners[ind] = distToBorder; // was inside surface, now is oustide ( > 0)\n        }\n        if (distToBorder > corners[ind]) {\n          corners[ind] = distToBorder; // find positive maximum\n        }\n      } else if (distToBorder > corners[ind]) { // point is outside sphere\n        corners[ind] = distToBorder; // find negative maximum\n      }\n    }\n\n    const side2 = side * side;\n    const xScale = (side - 1) / (vBoxMax.x - vBoxMin.x);\n    const yScale = (side - 1) / (vBoxMax.y - vBoxMin.y);\n    const zScale = (side - 1) / (vBoxMax.z - vBoxMin.z);\n\n    const probeSpRad2 = (probeSphereRadius * 2) * (probeSphereRadius * 2);\n    const sideInv = 1.0 / (side - 1);\n\n    for (let i = 0; i < geoOut._numVertices; i++) {\n      const vCenter = geoOut._vertices[i];\n\n      const radEst = probeSphereRadius * r11;\n\n      let indXMin = Math.floor(((vCenter.x - radEst) - vBoxMin.x) * xScale);\n      let indYMin = Math.floor(((vCenter.y - radEst) - vBoxMin.y) * yScale);\n      let indZMin = Math.floor(((vCenter.z - radEst) - vBoxMin.z) * zScale);\n\n      let indXMax = Math.floor(((vCenter.x + radEst) - vBoxMin.x) * xScale);\n      let indYMax = Math.floor(((vCenter.y + radEst) - vBoxMin.y) * yScale);\n      let indZMax = Math.floor(((vCenter.z + radEst) - vBoxMin.z) * zScale);\n\n      indXMin = (indXMin >= 0) ? indXMin : 0;\n      indYMin = (indYMin >= 0) ? indYMin : 0;\n      indZMin = (indZMin >= 0) ? indZMin : 0;\n      indXMax = (indXMax <= (side - 1)) ? indXMax : (side - 1);\n      indYMax = (indYMax <= (side - 1)) ? indYMax : (side - 1);\n      indZMax = (indZMax <= (side - 1)) ? indZMax : (side - 1);\n\n      for (let iy = indYMin; iy <= indYMax; iy++) {\n        const indY = iy * side2;\n        for (let iz = indZMin; iz <= indZMax; iz++) {\n          const indZ = iz * side;\n          for (let ix = indXMin; ix <= indXMax; ix++) {\n            ind = indY + indZ + ix;\n            // getCornerCoord(vBoxMin, vBoxMax, ix, iy, iz, side, &vCorner);\n            let t = ix * sideInv;\n            const xCorner = vBoxMin.x * (1.0 - t) + vBoxMax.x * t;\n            t = iy * sideInv;\n            const yCorner = vBoxMin.y * (1.0 - t) + vBoxMax.y * t;\n            t = iz * sideInv;\n            const zCorner = vBoxMin.z * (1.0 - t) + vBoxMax.z * t;\n\n            const dx = xCorner - vCenter.x;\n            const dy = yCorner - vCenter.y;\n            const dz = zCorner - vCenter.z;\n            const dist2 = dx * dx + dy * dy + dz * dz;\n            if (dist2 < probeSpRad2) {\n              distToSphere = Math.sqrt(dist2);\n              distToBorder = -(distToSphere - probeSphereRadius);\n              innerBlockWorkAround();\n            } // if (dist from corner point to sphere center more 2 radiuses)\n          } // for (ix)\n        } // for (iz)\n      } // for (iy)\n    } // for (i) all geo vertices\n    return 0;\n  }\n\n  _innerBuild() {\n    let ok;\n    const expandFactor = 1.2;\n\n    // performance test\n    // this.performanceTest();\n\n    // Create temporary atoms (but colored)\n    const packedArrays = {\n      posRad: this._posRad,\n      colors: this._colors,\n      atoms: this._opts.atoms,\n    };\n    this.complex = this._opts.parent;\n    this.atoms = packedArrays.atoms;\n    this.meshResolution = this._opts.gridSpacing;\n    this.atomRadiusScale = this._opts.radScale;\n    this.colorMode = this._opts.colorMode;\n    this.probeRadius = this._opts.probeRadius;\n    this.useVertexColors = true;\n    this.excludeProbe = this._opts.excludeProbe;\n    this.visibilitySelector = this._opts.visibilitySelector;\n\n    this.geoOut = null;\n\n    this.hashLines = null;\n    this.hashEntries = null;\n    this.numHashEtriesAllocated = 0;\n    this.numHashEntryIndex = 0;\n    this.maxNumVertices = 0;\n    this.maxNumTriangles = 0;\n\n    const atomsColored = new Array(this.atoms.length);\n    this.convertToAtomsColored(packedArrays, atomsColored);\n\n    // find bbox for spheres scene\n    const vBoxMin = this.vBoxMin = new THREE.Vector3();\n    const vBoxMax = this.vBoxMax = new THREE.Vector3();\n    this.getBoundingBox(atomsColored, vBoxMin, vBoxMax);\n\n    const marCubeResoultion = this.marCubeResoultion = this.meshResolution * (2 + 2);\n\n    // build grid corners for Marching cube algorithm\n    const side = marCubeResoultion;\n    const side2 = side * side;\n    const side3 = side2 * side;\n    const corners = utils.allocateTyped(Float32Array, side3);\n    const rProbeRadius = this.probeRadius * this.atomRadiusScale;\n\n    this.calculateGridCorners(corners, side, vBoxMin, vBoxMax, atomsColored, rProbeRadius);\n\n    const numCells = marCubeResoultion - 1;\n    const cube = new IsoSurfaceMarchCube();\n    ok = cube.create(numCells);\n    if (ok < 0) {\n      return ok;\n    }\n    // copy corners to cells\n    const vCellStep = new THREE.Vector3();\n    vCellStep.x = (vBoxMax.x - vBoxMin.x) / numCells;\n    vCellStep.y = (vBoxMax.y - vBoxMin.y) / numCells;\n    vCellStep.z = (vBoxMax.z - vBoxMin.z) / numCells;\n\n    let numIntersectedCellsEstim = this.getNumIntersectedCells(side, numCells, corners, cube);\n    let maxNumVertices = Math.floor(numIntersectedCellsEstim * expandFactor);\n    let maxNumTriangles = Math.floor(numIntersectedCellsEstim * expandFactor * 2);\n\n    this.geoOut = new IsoSurfaceGeo(maxNumVertices, maxNumTriangles, this.useVertexColors);\n\n    ok = this.createVertexHash(maxNumVertices, maxNumTriangles);\n    if (ok < 0) {\n      return ok;\n    }\n\n    // build voxel world (used to check triangle-to-atom tie and to calculate normals and colors)\n    let probeRadForNormalsColors = rProbeRadius;\n    if (this.excludeProbe) {\n      probeRadForNormalsColors = 0.01;\n    }\n    this.voxelWorld = new IsosurfaceBuildNormals(\n      atomsColored.length, atomsColored,\n      vBoxMin, vBoxMax, probeRadForNormalsColors,\n    );\n    this.voxelWorld.createVoxels();\n\n    ok = this.buildGeoFromCorners(marCubeResoultion, vBoxMin, vBoxMax, corners, vCellStep, cube);\n    if (this.excludeProbe) {\n      // using 3d mesh (geoOut) as a surface points\n      // move probe sphere and try to minimuze corners values\n      this.modifyExcludedFromGeo(side, rProbeRadius, vBoxMin, vBoxMax, this.geoOut, corners);\n\n      // delete old builded geo\n      this.geoOut._vertices = null;\n      this.geoOut._colors = null;\n      this.geoOut._indices = null;\n      this.geoOut._normals = null;\n      this.geoOut._numVertices = 0;\n      this.geoOut._numTriangles = 0;\n      this.geoOut = null;\n\n      // estimage geo vertices budget again\n      numIntersectedCellsEstim = this.getNumIntersectedCells(side, numCells, corners, cube);\n      maxNumVertices = Math.floor(numIntersectedCellsEstim * expandFactor);\n      maxNumTriangles = Math.floor(numIntersectedCellsEstim * expandFactor * 2);\n\n      // creates empty new geometry\n      this.geoOut = new IsoSurfaceGeo(maxNumVertices, maxNumTriangles, this.useVertexColors);\n      ok = this.createVertexHash(maxNumVertices, maxNumTriangles);\n      if (ok < 0) {\n        return ok;\n      }\n      // build vertices and triangles from corners values\n      ok = this.buildGeoFromCorners(side, vBoxMin, vBoxMax, corners, vCellStep, cube);\n    }\n\n    // build vertex normals\n    this.voxelWorld.buildNormals(this.geoOut._vertices.length, this.geoOut._vertices, this.geoOut._normals);\n    // More value : more smooth color mixing\n    // value about 0.7: very rough colors borders\n    let radiusColorSmoothness = 6.5;\n    if (this.excludeProbe) {\n      radiusColorSmoothness -= 1.5;\n    }\n    if (this.useVertexColors) {\n      this.voxelWorld.buildColors(\n        this.geoOut._vertices.length, this.geoOut._vertices,\n        this.geoOut._colors, radiusColorSmoothness,\n      );\n    }\n    this.voxelWorld.destroyVoxels();\n    this.voxelWorld = null;\n\n    // remove objects\n    cube.destroy();\n\n    return ok;\n  }\n}\n\n// All code below must be erased from every device and each developer's memory\n\nexport default SSIsosurfaceGeometry;\n","import * as THREE from 'three';\nimport EventDispatcher from '../../utils/EventDispatcher';\n\nfunction createLabel(fieldTxt, className) {\n  const text = document.createElement('div');\n  text.className = className;\n\n  if (typeof fieldTxt === 'string') {\n    const spanText = document.createElement('span');\n    spanText.style.fontSize = '150%';\n    const strings = fieldTxt.split('\\n');\n\n    for (let i = 0, n = strings.length; i < n; ++i) {\n      const spanNodeP = document.createElement('span');\n      const spanNodeText = document.createTextNode(strings[i]);\n      spanNodeP.appendChild(spanNodeText);\n      spanText.appendChild(spanNodeP);\n      if (i < n - 1) {\n        spanText.appendChild(document.createElement('br'));\n      }\n    }\n\n    text.appendChild(spanText);\n  } else {\n    text.appendChild(fieldTxt);\n  }\n  text.worldPos = new THREE.Vector3();\n  return text;\n}\nclass LabelsGeometry extends EventDispatcher {\n  constructor(instanceCount, opts) {\n    super();\n    this._opts = opts;\n    this.items = [];\n    this.needsUpdate = false;\n\n    let xTranslation = -50;\n    let yTranslation = -50;\n    switch (opts.horizontalAlign) {\n      case 'left':\n        xTranslation = 0;\n        break;\n      case 'right':\n        xTranslation = -100;\n        break;\n      default:\n        break;\n    }\n\n    switch (opts.verticalAlign) {\n      case 'top':\n        yTranslation = -100;\n        break;\n      case 'bottom':\n        yTranslation = 0;\n        break;\n      default:\n        break;\n    }\n\n    const deltaPos = new THREE.Vector3(opts.dx || 0, opts.dy || 0, opts.dz || 0);\n    this.userData = {\n      translation: `translate(${xTranslation}%, ${yTranslation}%)`,\n      offset: deltaPos,\n    };\n  }\n\n  setItem(itemIdx, itemPos, fieldTxt) {\n    const opts = this._opts;\n    const text = this.items[itemIdx] || createLabel(fieldTxt, 'label');\n\n    text.worldPos.copy(itemPos);\n    text.style.textAlign = opts.horizontalAlign;\n    text.style.verticalAlign = opts.verticalAlign;\n    this.items[itemIdx] = text;\n  }\n\n  setColor(itemIdx, fColor, bColor) {\n    const text = this.items[itemIdx];\n    text.opts = {\n      color: fColor,\n      background: bColor,\n    };\n  }\n\n  startUpdate() {\n    return true;\n  }\n\n  finishUpdate() {\n    this.needsUpdate = true;\n    this.dispatchEvent({ type: 'update' });\n  }\n\n  finalize() {\n    this.finishUpdate();\n  }\n\n  // unimplemented functions\n  raycast() {\n  }\n\n  setOpacity() {\n\n  }\n\n  getSubset() {\n    return [];\n  }\n}\n\nexport default LabelsGeometry;\n","import InstancedSpheresGeometry from './InstancedSpheresGeometry';\nimport SimpleSpheresGeometry from './SimpleSpheresGeometry';\nimport Simple2CCylindersGeometry from './Simple2CCylindersGeometry';\nimport Instanced2CCylindersGeometry from './Instanced2CCylindersGeometry';\nimport ExtrudedObjectsGeometry from './ExtrudedObjectsGeometry';\nimport ChunkedLinesGeometry from './ChunkedLinesGeometry';\nimport TwoColorLinesGeometry from './TwoColorLinesGeometry';\nimport CrossGeometry from './CrossGeometry';\nimport QuickSurfGeometry from './QuickSurfGeometry';\nimport ContactSurfaceGeometry from './ContactSurfaceGeometry';\nimport SSIsosurfaceGeometry from './SSIsosurfaceGeometry';\nimport LabelsGeometry from './LabelsGeometry';\n\nexport default {\n  InstancedSpheresGeometry,\n  SimpleSpheresGeometry,\n  Simple2CCylindersGeometry,\n  Instanced2CCylindersGeometry,\n  ExtrudedObjectsGeometry,\n  ChunkedLinesGeometry,\n  TwoColorLinesGeometry,\n  CrossGeometry,\n  QuickSurfGeometry,\n  ContactSurfaceGeometry,\n  SSIsosurfaceGeometry,\n  LabelsGeometry,\n};\n","import UberMaterial from '../shaders/UberMaterial';\n\nexport default function (SuperClass) {\n  class NewObjectType extends SuperClass {\n    constructor(...rest) {\n      super(...rest);\n      this.onBeforeRender = NewObjectType.prototype.onBeforeRender;\n    }\n\n    onBeforeRender(renderer, scene, camera, geometry, material, group) {\n      this._onBeforeRender(renderer, scene, camera, geometry, material, group);\n      this._update();\n    }\n\n    _onBeforeRender() {\n    }\n\n    _update() {\n      const { material } = this;\n      if (!material) {\n        return;\n      }\n\n      if (material instanceof UberMaterial) {\n        material.updateUniforms();\n      }\n    }\n  }\n\n  return NewObjectType;\n}\n","import * as THREE from 'three';\nimport UberObject from './UberObject';\n\nconst Mesh = UberObject(THREE.Mesh);\n\nclass ZSpriteMesh extends Mesh {\n  _onBeforeRender(renderer, scene, camera, _geometry, _material, _group) {\n    Mesh.prototype._onBeforeRender.call(this, renderer, scene, camera);\n    const { material } = this;\n    if (!material) {\n      return;\n    }\n\n    if (material.uniforms.invModelViewMatrix) {\n      // NOTE: update of modelViewMatrix inside threejs is done after onBeforeRender call,\n      // so we have to do it manually in that place\n      this.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, this.matrixWorld);\n      // get inverse matrix\n      material.uniforms.invModelViewMatrix.value.getInverse(this.modelViewMatrix);\n      material.uniformsNeedUpdate = true;\n    }\n  }\n}\n\nexport default ZSpriteMesh;\n","import * as THREE from 'three';\nimport UberObject from './UberObject';\n\nconst Mesh = UberObject(THREE.Mesh);\n\nclass ZClippedMesh extends Mesh {\n  constructor(geometry, material) {\n    super(geometry, material);\n    this.castShadow = true;\n    this.receiveShadow = true;\n  }\n\n  static _mvLength = new THREE.Vector3();\n\n  static _center = new THREE.Vector3();\n\n  static _modelView = new THREE.Matrix4();\n\n  _onBeforeRender(renderer, scene, camera) {\n    Mesh.prototype._onBeforeRender.call(this, renderer, scene, camera);\n\n    const geo = this.geometry;\n    const { material } = this;\n    if (!geo.zClip || !material.uberOptions) {\n      return;\n    }\n\n    const zClipCoef = 0.5;\n\n    const modelView = ZClippedMesh._modelView;\n    const mvLength = ZClippedMesh._mvLength;\n    const center = ZClippedMesh._center;\n\n    modelView.multiplyMatrices(this.matrixWorld, camera.matrixWorldInverse);\n    const s = mvLength.setFromMatrixColumn(modelView, 0).length();\n    center.copy(geo.boundingSphere.center);\n\n    this.localToWorld(center);\n    material.uberOptions.zClipValue = camera.position.z - center.z\n      - s * (zClipCoef * geo.boundingSphere.radius);\n  }\n}\n\nexport default ZClippedMesh;\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport CSS2DObject from '../CSS2DObject';\nimport utils from '../../utils';\n\nclass TextMesh extends THREE.Group {\n  constructor(geometry, _material) {\n    super();\n    this.geometry = geometry;\n\n    const self = this;\n    self.initialized = false;\n    this.geometry.addEventListener('update', () => {\n      self.update();\n    });\n  }\n\n  init() {\n    const { children } = this;\n    for (let i = children.length - 1; i >= 0; --i) {\n      this.remove(children[i]);\n    }\n\n    const { items, userData } = this.geometry;\n    for (let i = 0, n = items.length; i < n; ++i) {\n      const srcItem = items[i];\n      if (!srcItem) {\n        continue;\n      }\n      const item = utils.shallowCloneNode(srcItem);\n      const label = new CSS2DObject(item);\n      label.userData = _.clone(userData);\n      const el = label.getElement();\n      el.style.visibility = 'visible';\n      label.source = srcItem;\n      this.add(label);\n    }\n    this.initialized = true;\n  }\n\n  update() {\n    const geo = this.geometry;\n    if (!geo.needsUpdate) {\n      return;\n    }\n    const { children } = this;\n    if (!this.initialized) {\n      this.init();\n    }\n\n    for (let i = 0, n = children.length; i < n; ++i) {\n      const child = children[i];\n      const item = child.source;\n      child.position.copy(item.worldPos);\n      child.userData.color = item.opts.color;\n      child.userData.background = item.opts.background;\n    }\n  }\n}\n\nexport default TextMesh;\n","import * as THREE from 'three';\nimport UberObject from './UberObject';\n\nconst Mesh = UberObject(THREE.Mesh);\n\nfunction SimpleMesh(geometry, material) {\n  Mesh.call(this, geometry, material);\n  this.castShadow = true;\n  this.receiveShadow = true;\n}\n\nSimpleMesh.prototype = Object.create(Mesh.prototype);\nSimpleMesh.prototype.constructor = SimpleMesh;\n\nexport default SimpleMesh;\n","import * as THREE from 'three';\nimport UberObject from './UberObject';\n\nconst Mesh = UberObject(THREE.Mesh);\nconst _viewport = new THREE.Vector2();\n\nclass ThickLineMesh extends Mesh {\n  _onBeforeRender(renderer, scene, camera, _geometry, _material, _group) {\n    const { material } = this;\n    if (!material.uberOptions) {\n      return;\n    }\n\n    material.uberOptions.projMatrixInv.getInverse(camera.projectionMatrix, true);\n    renderer.getSize(_viewport);\n    material.uberOptions.viewport.set(_viewport.width, _viewport.height);\n  }\n}\n\nexport default ThickLineMesh;\n","import * as THREE from 'three';\nimport UberObject from './UberObject';\n\nconst Mesh = UberObject(THREE.Mesh);\n\nclass InstancedMesh extends Mesh {\n  constructor(...rest) {\n    super(...rest);\n    this.castShadow = true;\n    this.receiveShadow = true;\n  }\n}\n\nexport default InstancedMesh;\n","import * as THREE from 'three';\nimport UberObject from './UberObject';\nimport ZSpriteMesh from './ZSpriteMesh';\nimport ZClippedMesh from './ZClippedMesh';\nimport TextMesh from './TextMesh';\nimport SimpleMesh from './SimpleMesh';\nimport ThickLineMesh from './ThickLineMesh';\nimport InstancedMesh from './InstancedMesh';\n\nexport default {\n  ZClipped: ZClippedMesh,\n  ZSprite: ZSpriteMesh,\n  Text: TextMesh,\n  Line: UberObject(THREE.Line),\n  LineSegments: UberObject(THREE.LineSegments),\n  Mesh: SimpleMesh,\n  ThickLineMesh,\n  Instanced: InstancedMesh,\n};\n","import geometries from '../geometries/geometries';\nimport meshes from './meshes';\nimport ThickLinesGeometry from '../geometries/ThickLinesGeometry';\n\nfunction setMatParams(params, uniforms) {\n  return function (material) {\n    material.setValues(params);\n    material.setUberOptions(uniforms);\n  };\n}\n\nfunction _createInstancedCylinders(useZSprites, openEnded) {\n  return {\n    Geometry(a, b) {\n      return new geometries.Instanced2CCylindersGeometry(a, b, useZSprites, openEnded);\n    },\n    Object: useZSprites ? meshes.ZSprite : meshes.Instanced,\n    initMaterial: setMatParams({\n      instancedMatrix: true,\n      attrColor: true,\n      attrColor2: true,\n      attrAlphaColor: true,\n      cylinderSprite: useZSprites,\n    }),\n  };\n}\n\nfunction _createLineSegmentsGeoTriplet(geo, renderParams) {\n  const thickLines = geo.prototype instanceof ThickLinesGeometry;\n  const lineWidth = renderParams.lineWidth || 0;\n  return {\n    Geometry: geo,\n    Object: thickLines ? meshes.ThickLineMesh : meshes.LineSegments,\n    initMaterial: setMatParams({\n      lights: false,\n      attrColor: true,\n      attrAlphaColor: true,\n      thickLine: thickLines,\n    }, {\n      lineWidth,\n    }),\n  };\n}\n\nfunction _createSimpleGeoTriplet(geoClass) {\n  return {\n    Geometry: geoClass,\n    Object: meshes.Mesh,\n    initMaterial: setMatParams({\n      attrColor: true,\n      attrAlphaColor: true,\n    }),\n  };\n}\n\nfunction _createIsoSurfaceGeoTriplet(geoClass, caps, settings, renderParams) {\n  const surfaceOpts = {\n    wireframe: !!renderParams.wireframe,\n    fakeOpacity: settings.now.isoSurfaceFakeOpacity,\n    zClip: renderParams.zClip,\n  };\n  return {\n    Geometry: geoClass,\n    Object: meshes.ZClipped,\n    initMaterial: setMatParams({\n      attrColor: true,\n      attrAlphaColor: false,\n      wireframe: surfaceOpts.wireframe,\n      fakeOpacity: surfaceOpts.fakeOpacity,\n      zClip: surfaceOpts.zClip,\n    }),\n  };\n}\n\nclass MeshCreator {\n  static createSpheres(caps, settings) {\n    const useZSprites = settings.now.zSprites;\n    return {\n      Geometry(a, b) {\n        return new geometries.InstancedSpheresGeometry(a, b, useZSprites);\n      },\n      Object: useZSprites ? meshes.ZSprite : meshes.Instanced,\n      initMaterial: setMatParams({\n        instancedPos: true,\n        attrColor: true,\n        attrAlphaColor: true,\n        sphereSprite: useZSprites,\n      }),\n    };\n  }\n\n  static create2CClosedCylinders(_caps, _settings) {\n    return _createInstancedCylinders(false, false);\n  }\n\n  static create2CCylinders(caps, settings) {\n    return _createInstancedCylinders(settings.now.zSprites, true);\n  }\n\n  static create2CLines(_caps, _settings, renderParams) {\n    return _createLineSegmentsGeoTriplet(geometries.TwoColorLinesGeometry, renderParams);\n  }\n\n  static createCrosses(_caps, _settings, renderParams) {\n    return _createLineSegmentsGeoTriplet(geometries.CrossGeometry, renderParams);\n  }\n\n  static createExtrudedChains(_caps, _settings) {\n    return _createSimpleGeoTriplet(geometries.ExtrudedObjectsGeometry);\n  }\n\n  static createChunkedLines(_caps, _settings, renderParams) {\n    return _createLineSegmentsGeoTriplet(geometries.ChunkedLinesGeometry, renderParams);\n  }\n\n  static createQuickSurface(caps, settings, renderParams) {\n    return _createIsoSurfaceGeoTriplet(geometries.QuickSurfGeometry, caps, settings, renderParams);\n  }\n\n  static createContactSurface(caps, settings, renderParams) {\n    return _createIsoSurfaceGeoTriplet(geometries.ContactSurfaceGeometry, caps, settings, renderParams);\n  }\n\n  static createSASSES(caps, settings, renderParams) {\n    return _createIsoSurfaceGeoTriplet(geometries.SSIsosurfaceGeometry, caps, settings, renderParams);\n  }\n\n  static createLabels(_caps, _settings) {\n    return {\n      Geometry: geometries.LabelsGeometry,\n      Object: meshes.Text,\n      initMaterial() {\n      },\n    };\n  }\n}\n\nexport default MeshCreator;\n","import * as THREE from 'three';\nimport gfxutils from '../gfxutils';\n\nclass TransformGroup extends THREE.Object3D {\n  static _inverseMatrix = new THREE.Matrix4();\n\n  static _ray = new THREE.Ray();\n\n  constructor(geometry, geoParams, material, transforms) {\n    super();\n    this._geometry = geometry;\n    this._geoParams = geoParams;\n    const mat = material.createInstance();\n    geoParams.initMaterial(mat);\n    this._material = mat;\n    this._transforms = transforms.length > 0 ? transforms : [new THREE.Matrix4()];\n    const meshes = this._createMeshes(geometry);\n    for (let i = 0, n = meshes.length; i < n; ++i) {\n      this.add(meshes[i]);\n    }\n  }\n\n  raycast(raycaster, intersects) {\n    const ray = TransformGroup._ray;\n    const inverseMatrix = TransformGroup._inverseMatrix;\n    const { children } = this;\n    ray.copy(raycaster.ray);\n    for (let i = 0, n = children.length; i < n; ++i) {\n      const child = children[i];\n\n      if (!gfxutils.belongToSelectLayers(child)) {\n        continue;\n      }\n\n      child.updateMatrixWorld();\n      const mtx = child.matrixWorld;\n      inverseMatrix.getInverse(mtx);\n      raycaster.ray.copy(ray).applyMatrix4(inverseMatrix);\n      const childIntersects = [];\n      this._geometry.raycast(raycaster, childIntersects);\n\n      for (let j = 0, ciCount = childIntersects.length; j < ciCount; ++j) {\n        const inters = childIntersects[j];\n        if (inters.point) {\n          inters.point.applyMatrix4(mtx);\n          inters.distance = ray.origin.distanceTo(inters.point);\n        }\n        inters.object = child;\n        intersects[intersects.length] = inters;\n      }\n    }\n    raycaster.ray.copy(ray);\n  }\n\n  getSubset(chunkIndices) {\n    const geos = this._geometry.getSubset(chunkIndices);\n    const subset = [];\n    let subIdx = 0;\n\n    for (let i = 0, n = geos.length; i < n; ++i) {\n      const meshes = this._createMeshes(geos[i]);\n      for (let j = 0, meshCnt = meshes.length; j < meshCnt; ++j) {\n        subset[subIdx++] = meshes[j];\n      }\n    }\n\n    return subset;\n  }\n\n  _createMeshes(geometry) {\n    const transforms = this._transforms;\n    const Mesh = this._geoParams.Object;\n    const material = this._material;\n    const meshes = [];\n    for (let i = 0, n = transforms.length; i < n; ++i) {\n      const mesh = new Mesh(geometry, material);\n      mesh.applyMatrix(transforms[i]);\n\n      meshes[i] = mesh;\n    }\n\n    return meshes;\n  }\n}\n\nexport default TransformGroup;\n","import RCGroup from '../../RCGroup';\nimport TransformGroup from '../../meshes/TransformGroup';\n\nfunction wrapper(Name, args) {\n  const params = [Name].concat(args);\n  return Name.bind(...params);\n}\n\nclass ChemGroup extends RCGroup {\n  constructor(geoParams, selection, colorer, mode, transforms, polyComplexity, material) {\n    super();\n    if (this.constructor === ChemGroup) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    this._selection = selection;\n    this._mode = mode;\n    this._colorer = colorer;\n    this._chunksIdc = selection.chunks;\n    this._polyComplexity = polyComplexity;\n    this._geo = new (wrapper(geoParams.Geometry, this._makeGeoArgs()))();\n    this._mesh = new TransformGroup(this._geo, geoParams, material, transforms);\n    this.add(this._mesh);\n    this._build();\n  }\n\n  _makeGeoArgs() {\n    throw new Error('ChemGroup subclass must override _makeGeoArgs() method');\n  }\n\n  /**\n   * Builds subset geometry by ATOMS index list\n   *\n   * @param {Number} mask - Representation mask\n   * @param {Boolean} innerOnly - if true returns inner bonds only - without halves\n   * @returns {Array} Subset geometry\n   */\n  getSubset(mask, innerOnly) {\n    innerOnly = innerOnly !== undefined ? innerOnly : false;\n    const chunksList = this._calcChunksList(mask, innerOnly);\n    if (chunksList.length === 0) {\n      return [];\n    }\n    return this._mesh.getSubset(chunksList);\n  }\n\n  _changeSubsetOpacity(mask, value, innerOnly) {\n    const chunksList = this._calcChunksList(mask, innerOnly);\n    if (chunksList.length === 0) {\n      return;\n    }\n    this._geo.setOpacity(chunksList, value);\n  }\n\n  enableSubset(mask, innerOnly) {\n    innerOnly = innerOnly !== undefined ? innerOnly : true;\n    this._changeSubsetOpacity(mask, 1.0, innerOnly);\n  }\n\n  disableSubset(mask, innerOnly) {\n    innerOnly = innerOnly !== undefined ? innerOnly : true;\n    this._changeSubsetOpacity(mask, 0.0, innerOnly);\n  }\n}\n\nexport default ChemGroup;\n","import ChemGroup from './ChemGroup';\n\nclass AtomsGroup extends ChemGroup {\n  raycast(raycaster, intersects) {\n    const { atoms } = this._selection;\n    const inters = [];\n    this._mesh.raycast(raycaster, inters);\n    const atomsIdc = this._chunksIdc;\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue;\n      }\n      const atomIdx = atomsIdc[inters[i].chunkIdx];\n      if (atomIdx < atoms.length) {\n        inters[i].atom = atoms[atomIdx];\n        intersects.push(inters[i]);\n      }\n    }\n  }\n\n  _calcChunksList(mask) {\n    const chunksList = [];\n    const { atoms } = this._selection;\n    const atomsIdc = this._chunksIdc;\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]];\n      if ((atom.mask & mask) !== 0) {\n        chunksList.push(i);\n      }\n    }\n    return chunksList;\n  }\n}\n\nexport default AtomsGroup;\n","import AtomsGroup from './AtomsGroup';\n\nclass AtomsSphereGroup extends AtomsGroup {\n  _makeGeoArgs() {\n    return [this._selection.chunks.length, this._polyComplexity];\n  }\n\n  _build() {\n    const atomsIdc = this._selection.chunks;\n    const { atoms, parent } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]];\n      geo.setItem(i, atom.position, mode.calcAtomRadius(atom));\n      geo.setColor(i, colorer.getAtomColor(atom, parent));\n    }\n    geo.finalize();\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const atomsIdc = this._selection.chunks;\n    const { atoms } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const updateColor = frameData.needsColorUpdate(colorer);\n    const geo = this._geo;\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]];\n      geo.setItem(i, frameData.getAtomPos(atomsIdc[i]), mode.calcAtomRadius(atom));\n      if (updateColor) {\n        geo.setColor(i, frameData.getAtomColor(colorer, atom));\n      }\n    }\n    geo.finalize();\n  }\n}\n\nexport default AtomsSphereGroup;\n","import AtomsSphereGroup from './AtomsSphereGroup';\n\nclass AtomsSurfaceGroup extends AtomsSphereGroup {\n  _makeGeoArgs() {\n    const selectedAtoms = [];\n    const { atoms, chunks } = this._selection;\n    const n = chunks.length;\n    for (let i = 0; i < n; ++i) {\n      selectedAtoms[i] = atoms[chunks[i]];\n    }\n    const opts = this._mode.getSurfaceOpts();\n    opts.atoms = selectedAtoms;\n    return [n, opts];\n  }\n}\nexport default AtomsSurfaceGroup;\n","/* This is a stub class keep it until SAS/SES is refactored */\n\nimport AtomsSphereGroup from './AtomsSphereGroup';\n\nclass AtomsSASSESGroupStub extends AtomsSphereGroup {\n  _makeGeoArgs() {\n    const selectedAtoms = [];\n    const { atoms, chunks } = this._selection;\n    const n = chunks.length;\n    for (let i = 0; i < n; ++i) {\n      selectedAtoms[i] = atoms[chunks[i]];\n    }\n    const opts = this._mode.getSurfaceOpts();\n    opts.atoms = selectedAtoms;\n    opts.selection = this._selection;\n    opts.colorMode = this._colorer;\n    return [n, opts];\n  }\n}\n\nexport default AtomsSASSESGroupStub;\n","import AtomsGroup from './AtomsGroup';\nimport utils from '../../../utils';\n\nfunction adjustColor(color) {\n  let r = (color >> 16) & 255;\n  let g = (color >> 8) & 255;\n  let b = color & 255;\n\n  if (0.2126 * r + 0.7152 * g + 0.0722 * b > 127) {\n    r = r * 3 / 10;\n    g = g * 3 / 10;\n    b = b * 3 / 10;\n  } else {\n    r = 255 - ((255 - r) * 3 / 10);\n    g = 255 - ((255 - g) * 3 / 10);\n    b = 255 - ((255 - b) * 3 / 10);\n  }\n\n  return (r << 16) | (g << 8) | b;\n}\n\nfunction inverseColor(color) {\n  const r = (color >> 16) & 255;\n  const g = (color >> 8) & 255;\n  const b = color & 255;\n\n  return ((255 - r) << 16) | ((255 - g) << 8) | (255 - b);\n}\n\nfunction getAtomText(atom) {\n  if (atom.name.getNode() !== null) {\n    return atom.name.getNode();\n  }\n\n  return atom.getVisualName();\n}\n\nconst colorMappings = {\n  none(c) {\n    return c;\n  },\n  adjust: adjustColor,\n  inverse: inverseColor,\n};\n\nfunction propagateColor(color, rule) {\n  let result;\n  if (colorMappings.hasOwnProperty(rule)) {\n    result = utils.hexColor(colorMappings[rule](color));\n  } else {\n    const val = parseInt(rule, 16);\n    if (!Number.isNaN(val) && rule.toLowerCase().startsWith('0x')) {\n      result = utils.hexColor(val);\n    } else {\n      result = '#000000';\n    }\n  }\n  return result;\n}\n\nconst templateMappings = {\n  serial(a) {\n    return a.serial;\n  },\n  name(a) {\n    return a.getVisualName();\n  },\n  elem(a) {\n    return a.element.name;\n  },\n  residue(a) {\n    return a.residue.getType().getName();\n  },\n  sequence(a) {\n    return a.residue.getSequence();\n  },\n  chain(a) {\n    return a.residue.getChain().getName();\n  },\n  hetatm(a) {\n    return a.isHet();\n  },\n  water(a) {\n    return a.residue.getType().getName() === 'HOH' || a.residue.getType().getName() === 'WAT';\n  },\n};\n\nconst parseTemplate = function (atom, str) {\n  return str.replace(/\\{\\{(\\s*\\w+\\s*)\\}\\}/g, (m) => {\n    let key = m.replace(/\\s+/g, '');\n    key = key.substring(2, key.length - 2).toLowerCase();\n\n    if (templateMappings.hasOwnProperty(key)) {\n      return templateMappings[key](atom);\n    }\n    return 'null';\n  });\n};\n\nclass AtomsTextGroup extends AtomsGroup {\n  _makeGeoArgs() {\n    const opts = this._mode.getLabelOpts();\n    return [this._selection.chunks.length, opts];\n  }\n\n  _build() {\n    const opts = this._mode.getLabelOpts();\n    const atomsIdc = this._selection.chunks;\n    const { atoms, parent } = this._selection;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]];\n      const text = opts.template ? parseTemplate(atom, opts.template) : getAtomText(atom);\n      if (!text) {\n        continue;\n      }\n      const color = colorer.getAtomColor(atom, parent);\n      const fgColor = parseInt(propagateColor(color, opts.fg).substring(1), 16);\n      const bgColor = opts.showBg ? parseInt(propagateColor(color, opts.bg).substring(1), 16) : 'transparent';\n      geo.setItem(i, atom.position, text);\n      geo.setColor(i, fgColor, bgColor);\n    }\n    geo.finalize();\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const opts = this._mode.getLabelOpts();\n    const atomsIdc = this._selection.chunks;\n    const { atoms } = this._selection;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    const updateColor = frameData.needsColorUpdate(colorer);\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]];\n      const text = opts.template ? parseTemplate(atom, opts.template) : getAtomText(atom);\n      if (!text) {\n        continue;\n      }\n      const color = frameData.getAtomColor(colorer, atom);\n      const fgColor = parseInt(propagateColor(color, opts.fg).substring(1), 16);\n      const bgColor = opts.showBg ? parseInt(propagateColor(color, opts.bg).substring(1), 16) : 'transparent';\n      geo.setItem(i, frameData.getAtomPos(atomsIdc[i]), text);\n      if (updateColor) {\n        geo.setColor(i, fgColor, bgColor);\n      }\n    }\n    geo.finalize();\n  }\n}\n\nexport default AtomsTextGroup;\n","import * as THREE from 'three';\nimport AtomsGroup from './AtomsGroup';\n\nfunction _slerp(omega, v1, v2, t) {\n  const oSin = Math.sin(omega);\n  return v1.clone().multiplyScalar(Math.sin((1 - t) * omega) / oSin).addScaledVector(v2, Math.sin(t * omega) / oSin);\n}\n\nclass AromaticGroup extends AtomsGroup {\n  _buildInner(radOffset, addChunk) {\n    const chunksToIdx = this._selection.chunks;\n\n    const prevVector = new THREE.Vector3();\n    const currVector = new THREE.Vector3();\n    const segmentsHeight = this._segmentsHeight;\n    const leprStep = 1.0 / segmentsHeight;\n    const colorer = this._colorer;\n\n    const { cycles, parent } = this._selection;\n    let chunkIdx = 0;\n    let currAtomIdx = chunksToIdx[chunkIdx];\n\n    for (let cIdx = 0, cCount = cycles.length; cIdx < cCount; ++cIdx) {\n      const cycle = cycles[cIdx];\n      const cycAtoms = cycle.atoms;\n      const chunkPoints = [];\n      const tmpDir = [];\n      const { center } = cycle;\n      const cycleRad = cycle.radius - radOffset;\n      const n = cycAtoms.length;\n      let i = 0;\n      const prevPos = cycAtoms[n - 1].position;\n      let currPos = cycAtoms[i].position;\n      prevVector.subVectors(prevPos, center);\n      currVector.subVectors(currPos, center);\n      const upDir = currVector.clone().cross(prevVector).normalize();\n\n\n      for (; i < n; ++i) {\n        const omega = prevVector.angleTo(currVector);\n        tmpDir[i] = _slerp(omega, prevVector, currVector, 0.5).normalize();\n        currPos = cycAtoms[(i + 1) % n].position;\n        prevVector.copy(currVector);\n        currVector.subVectors(currPos, center);\n      }\n\n      for (i = 0; i < n; ++i) {\n        if (cycAtoms[i].index !== currAtomIdx) {\n          continue;\n        }\n        const start = tmpDir[i];\n        const end = tmpDir[(i + 1) % n];\n        const color = colorer.getAtomColor(cycAtoms[i], parent);\n        const currAngle = start.angleTo(end);\n\n        for (let j = 0; j <= segmentsHeight; ++j) {\n          chunkPoints[j] = _slerp(currAngle, start, end, j * leprStep).multiplyScalar(cycleRad).add(center);\n        }\n\n        addChunk(chunkIdx++, color, chunkPoints, center, upDir);\n        currAtomIdx = chunksToIdx[chunkIdx];\n      }\n    }\n  }\n}\n\nexport default AromaticGroup;\n","import * as THREE from 'three';\nimport gfxutils from '../../gfxutils';\nimport AromaticGroup from './AromaticGroup';\n\nfunction _createShape(rad, parts) {\n  const pts = [];\n  for (let i = 0; i < parts; ++i) {\n    const a = -2 * i / parts * Math.PI;\n    pts.push(new THREE.Vector3(Math.cos(a) * rad, Math.sin(a) * rad, 0));\n  }\n  return pts;\n}\nconst { calcChunkMatrix } = gfxutils;\n\nclass AromaticTorusGroup extends AromaticGroup {\n  _build() {\n    const segmentsHeight = this._segmentsHeight;\n    const torusRad = this._mode.getAromRadius();\n    const radiusV = new THREE.Vector2(torusRad, torusRad);\n    const radOffset = this._mode.calcStickRadius() + 2 * torusRad;\n    const lookAtVector = new THREE.Vector3();\n    const mtc = [];\n    const geo = this._geo;\n    this._buildInner(radOffset, (chunkIdx, color, points, center, upDir) => {\n      for (let j = 0; j <= segmentsHeight; ++j) {\n        const currPoint = points[j];\n        const currDir = currPoint.clone().sub(center).cross(upDir);\n        lookAtVector.addVectors(currPoint, currDir);\n        mtc[j] = calcChunkMatrix(currPoint, lookAtVector, upDir, radiusV);\n      }\n      geo.setItem(chunkIdx, mtc);\n      geo.setColor(chunkIdx, color);\n    });\n    geo.finalize();\n  }\n\n  _makeGeoArgs() {\n    this._segmentsHeight = this._polyComplexity;\n    return [_createShape(1.0, this._polyComplexity), this._segmentsHeight + 1, this._selection.chunks.length];\n  }\n}\n\nexport default AromaticTorusGroup;\n","import AromaticGroup from './AromaticGroup';\n\nclass AromaticLinesGroup extends AromaticGroup {\n  _build() {\n    const geo = this._geo;\n    const radOffset = this._mode.getAromaticOffset();\n    this._buildInner(radOffset, (chunkIdx, color, points) => {\n      let prevPt = points[0];// do not replace with start\n      for (let j = 1; j <= this._segmentsHeight; ++j) {\n        const currPoint = points[j];\n        geo.setSegment(chunkIdx, j - 1, prevPt, currPoint);\n        prevPt = currPoint;\n      }\n      geo.setColor(chunkIdx, color);\n    });\n    geo.finalize();\n  }\n\n  _makeGeoArgs() {\n    this._segmentsHeight = this._mode.getAromaticArcChunks();\n    return [this._selection.chunks.length, this._segmentsHeight, true];\n  }\n}\n\nexport default AromaticLinesGroup;\n","import ChemGroup from './ChemGroup';\n\nclass ResiduesGroup extends ChemGroup {\n  raycast(raycaster, intersects) {\n    const { residues } = this._selection;\n    const inters = [];\n    this._mesh.raycast(raycaster, inters);\n    const chunksIdc = this._chunksIdc;\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue;\n      }\n      const resIdx = chunksIdc[inters[i].chunkIdx];\n      if (resIdx < residues.length) {\n        inters[i].residue = residues[resIdx];\n        intersects.push(inters[i]);\n      }\n    }\n  }\n\n  _calcChunksList(mask) {\n    const chunksList = [];\n    const { residues } = this._selection;\n    const resIdc = this._chunksIdc;\n    for (let i = 0, n = resIdc.length; i < n; ++i) {\n      const res = residues[resIdc[i]];\n      if ((res._mask & mask) !== 0) {\n        chunksList.push(i);\n      }\n    }\n    return chunksList;\n  }\n}\n\nexport default ResiduesGroup;\n","import ResiduesGroup from './ResiduesGroup';\n\nclass NucleicItemGroup extends ResiduesGroup {\n  raycast(raycaster, intersects) {\n    const { residues } = this._selection;\n    const inters = [];\n    this._mesh.raycast(raycaster, inters);\n    const chunksIdc = this._chunksIdc;\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue;\n      }\n      const resIdx = chunksIdc[Math.floor(inters[i].chunkIdx / 2)];\n      if (resIdx < residues.length) {\n        inters[i].residue = residues[resIdx];\n        intersects.push(inters[i]);\n      }\n    }\n  }\n\n  _build() {\n    const { residues, parent } = this._selection;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    const stickRad = this._mode.calcStickRadius();\n    let chunkIdx = 0;\n\n    const resIdc = this._selection.chunks;\n    for (let i = 0, n = resIdc.length; i < n; ++i) {\n      const res = residues[resIdc[i]];\n      const color = colorer.getResidueColor(res, parent);\n      this._processItem(chunkIdx++, res._cylinders[0], res._cylinders[1], stickRad, color);\n    }\n    geo.finalize();\n  }\n\n  _calcChunksList(mask) {\n    const chunksList = [];\n    let chunkIdx = 0;\n    const { residues } = this._selection;\n    const resIdc = this._chunksIdc;\n\n    for (let i = 0, n = resIdc.length; i < n; ++i) {\n      const res = residues[resIdc[i]];\n      if ((res._mask & mask) !== 0) {\n        chunksList[chunkIdx++] = 2 * i;\n        chunksList[chunkIdx++] = 2 * i + 1;\n      }\n    }\n    return chunksList;\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const residues = frameData.getResidues();\n    const { parent } = this._selection;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    const stickRad = this._mode.calcStickRadius();\n    let chunkIdx = 0;\n\n    const resIdc = this._selection.chunks;\n    for (let i = 0, n = resIdc.length; i < n; ++i) {\n      const res = residues[resIdc[i]];\n      const color = colorer.getResidueColor(res, parent);\n      this._processItem(chunkIdx++, res._cylinders[0], res._cylinders[1], stickRad, color);\n    }\n    geo.finishUpdate();\n  }\n}\n\nexport default NucleicItemGroup;\n","import NucleicItemGroup from './NucleicItemGroup';\n\nclass NucleicCylindersGroup extends NucleicItemGroup {\n  _makeGeoArgs() {\n    return [this._selection.chunks.length, this._polyComplexity];\n  }\n\n  _processItem(chunkIdx, cyl1, cyl2, stickRad, color) {\n    const geo = this._geo;\n    geo.setItem(chunkIdx, cyl1, cyl2, stickRad);\n    geo.setColor(chunkIdx, color, color);\n  }\n}\n\nexport default NucleicCylindersGroup;\n","import NucleicItemGroup from './NucleicItemGroup';\n\nclass NucleicSpheresGroup extends NucleicItemGroup {\n  _makeGeoArgs() {\n    return [this._selection.chunks.length * 2, this._polyComplexity];\n  }\n\n  _processItem(chunkIdx, cyl1, cyl2, stickRad, color) {\n    const geo = this._geo;\n    let idx = chunkIdx * 2;\n    geo.setItem(idx, cyl1, stickRad);\n    geo.setColor(idx, color);\n    idx++;\n    geo.setItem(idx, cyl2, stickRad);\n    geo.setColor(idx, color);\n  }\n}\n\nexport default NucleicSpheresGroup;\n","\n/*\nSmooth.js version 0.1.7\n\nTurn arrays into smooth functions.\n\nCopyright 2012 Spencer Cohen\nLicensed under MIT license (see \"Smooth.js MIT license.txt\")\n*/\n\n/*Constants (these are accessible by Smooth.WHATEVER in user space)\n*/\n\n(function() {\n  var AbstractInterpolator, CubicInterpolator, Enum, LinearInterpolator, NearestInterpolator, PI, SincFilterInterpolator, Smooth, clipClamp, clipMirror, clipPeriodic, defaultConfig, getColumn, getType, isValidNumber, k, makeLanczosWindow, makeScaledFunction, makeSincKernel, normalizeScaleTo, shallowCopy, sin, sinc, v, validateNumber, validateVector,\n    __hasProp = Object.prototype.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor; child.__super__ = parent.prototype; return child; };\n\n  Enum = {\n    /*Interpolation methods\n    */\n    METHOD_NEAREST: 'nearest',\n    METHOD_LINEAR: 'linear',\n    METHOD_CUBIC: 'cubic',\n    METHOD_LANCZOS: 'lanczos',\n    METHOD_SINC: 'sinc',\n    /*Input clipping modes\n    */\n    CLIP_CLAMP: 'clamp',\n    CLIP_ZERO: 'zero',\n    CLIP_PERIODIC: 'periodic',\n    CLIP_MIRROR: 'mirror',\n    /* Constants for control over the cubic interpolation tension\n    */\n    CUBIC_TENSION_DEFAULT: 0,\n    CUBIC_TENSION_CATMULL_ROM: 0\n  };\n\n  defaultConfig = {\n    method: Enum.METHOD_CUBIC,\n    cubicTension: Enum.CUBIC_TENSION_DEFAULT,\n    clip: Enum.CLIP_CLAMP,\n    scaleTo: 0,\n    sincFilterSize: 2,\n    sincWindow: void 0\n  };\n\n  /*Index clipping functions\n  */\n\n  clipClamp = function(i, n) {\n    return Math.max(0, Math.min(i, n - 1));\n  };\n\n  clipPeriodic = function(i, n) {\n    i = i % n;\n    if (i < 0) i += n;\n    return i;\n  };\n\n  clipMirror = function(i, n) {\n    var period;\n    period = 2 * (n - 1);\n    i = clipPeriodic(i, period);\n    if (i > n - 1) i = period - i;\n    return i;\n  };\n\n  /*\n  Abstract scalar interpolation class which provides common functionality for all interpolators\n  \n  Subclasses must override interpolate().\n  */\n\n  AbstractInterpolator = (function() {\n\n    function AbstractInterpolator(array, config) {\n      this.array = array.slice(0);\n      this.length = this.array.length;\n      if (!(this.clipHelper = {\n        clamp: this.clipHelperClamp,\n        zero: this.clipHelperZero,\n        periodic: this.clipHelperPeriodic,\n        mirror: this.clipHelperMirror\n      }[config.clip])) {\n        throw \"Invalid clip: \" + config.clip;\n      }\n    }\n\n    AbstractInterpolator.prototype.getClippedInput = function(i) {\n      if ((0 <= i && i < this.length)) {\n        return this.array[i];\n      } else {\n        return this.clipHelper(i);\n      }\n    };\n\n    AbstractInterpolator.prototype.clipHelperClamp = function(i) {\n      return this.array[clipClamp(i, this.length)];\n    };\n\n    AbstractInterpolator.prototype.clipHelperZero = function(i) {\n      return 0;\n    };\n\n    AbstractInterpolator.prototype.clipHelperPeriodic = function(i) {\n      return this.array[clipPeriodic(i, this.length)];\n    };\n\n    AbstractInterpolator.prototype.clipHelperMirror = function(i) {\n      return this.array[clipMirror(i, this.length)];\n    };\n\n    AbstractInterpolator.prototype.interpolate = function(t) {\n      throw 'Subclasses of AbstractInterpolator must override the interpolate() method.';\n    };\n\n    return AbstractInterpolator;\n\n  })();\n\n  NearestInterpolator = (function(_super) {\n\n    __extends(NearestInterpolator, _super);\n\n    function NearestInterpolator() {\n      NearestInterpolator.__super__.constructor.apply(this, arguments);\n    }\n\n    NearestInterpolator.prototype.interpolate = function(t) {\n      return this.getClippedInput(Math.round(t));\n    };\n\n    return NearestInterpolator;\n\n  })(AbstractInterpolator);\n\n  LinearInterpolator = (function(_super) {\n\n    __extends(LinearInterpolator, _super);\n\n    function LinearInterpolator() {\n      LinearInterpolator.__super__.constructor.apply(this, arguments);\n    }\n\n    LinearInterpolator.prototype.interpolate = function(t) {\n      var k;\n      k = Math.floor(t);\n      t -= k;\n      return (1 - t) * this.getClippedInput(k) + t * this.getClippedInput(k + 1);\n    };\n\n    return LinearInterpolator;\n\n  })(AbstractInterpolator);\n\n  CubicInterpolator = (function(_super) {\n\n    __extends(CubicInterpolator, _super);\n\n    function CubicInterpolator(array, config) {\n      this.tangentFactor = 1 - Math.max(-1, Math.min(1, config.cubicTension));\n      CubicInterpolator.__super__.constructor.apply(this, arguments);\n    }\n\n    CubicInterpolator.prototype.getTangent = function(k) {\n      return this.tangentFactor * (this.getClippedInput(k + 1) - this.getClippedInput(k - 1)) / 2;\n    };\n\n    CubicInterpolator.prototype.interpolate = function(t) {\n      var k, m, p, t2, t3;\n      k = Math.floor(t);\n      m = [this.getTangent(k), this.getTangent(k + 1)];\n      p = [this.getClippedInput(k), this.getClippedInput(k + 1)];\n      t -= k;\n      t2 = t * t;\n      t3 = t * t2;\n      return (2 * t3 - 3 * t2 + 1) * p[0] + (t3 - 2 * t2 + t) * m[0] + (-2 * t3 + 3 * t2) * p[1] + (t3 - t2) * m[1];\n    };\n\n    return CubicInterpolator;\n\n  })(AbstractInterpolator);\n\n  sin = Math.sin, PI = Math.PI;\n\n  sinc = function(x) {\n    if (x === 0) {\n      return 1;\n    } else {\n      return sin(PI * x) / (PI * x);\n    }\n  };\n\n  makeLanczosWindow = function(a) {\n    return function(x) {\n      return sinc(x / a);\n    };\n  };\n\n  makeSincKernel = function(window) {\n    return function(x) {\n      return sinc(x) * window(x);\n    };\n  };\n\n  SincFilterInterpolator = (function(_super) {\n\n    __extends(SincFilterInterpolator, _super);\n\n    function SincFilterInterpolator(array, config) {\n      SincFilterInterpolator.__super__.constructor.apply(this, arguments);\n      this.a = config.sincFilterSize;\n      if (!config.sincWindow) throw 'No sincWindow provided';\n      this.kernel = makeSincKernel(config.sincWindow);\n    }\n\n    SincFilterInterpolator.prototype.interpolate = function(t) {\n      var k, n, sum, _ref, _ref2;\n      k = Math.floor(t);\n      sum = 0;\n      for (n = _ref = k - this.a + 1, _ref2 = k + this.a; _ref <= _ref2 ? n <= _ref2 : n >= _ref2; _ref <= _ref2 ? n++ : n--) {\n        sum += this.kernel(t - n) * this.getClippedInput(n);\n      }\n      return sum;\n    };\n\n    return SincFilterInterpolator;\n\n  })(AbstractInterpolator);\n\n  getColumn = function(arr, i) {\n    var row, _i, _len, _results;\n    _results = [];\n    for (_i = 0, _len = arr.length; _i < _len; _i++) {\n      row = arr[_i];\n      _results.push(row[i]);\n    }\n    return _results;\n  };\n\n  makeScaledFunction = function(f, baseScale, scaleRange) {\n    var scaleFactor, translation;\n    if (scaleRange.join === '0,1') {\n      return f;\n    } else {\n      scaleFactor = baseScale / (scaleRange[1] - scaleRange[0]);\n      translation = scaleRange[0];\n      return function(t) {\n        return f(scaleFactor * (t - translation));\n      };\n    }\n  };\n\n  getType = function(x) {\n    return Object.prototype.toString.call(x).slice('[object '.length, -1);\n  };\n\n  validateNumber = function(n) {\n    if (isNaN(n)) throw 'NaN in Smooth() input';\n    if (getType(n) !== 'Number') throw 'Non-number in Smooth() input';\n    if (!isFinite(n)) throw 'Infinity in Smooth() input';\n  };\n\n  validateVector = function(v, dimension) {\n    var n, _i, _len;\n    if (getType(v) !== 'Array') throw 'Non-vector in Smooth() input';\n    if (v.length !== dimension) throw 'Inconsistent dimension in Smooth() input';\n    for (_i = 0, _len = v.length; _i < _len; _i++) {\n      n = v[_i];\n      validateNumber(n);\n    }\n  };\n\n  isValidNumber = function(n) {\n    return (getType(n) === 'Number') && isFinite(n) && !isNaN(n);\n  };\n\n  normalizeScaleTo = function(s) {\n    var invalidErr;\n    invalidErr = \"scaleTo param must be number or array of two numbers\";\n    switch (getType(s)) {\n      case 'Number':\n        if (!isValidNumber(s)) throw invalidErr;\n        s = [0, s];\n        break;\n      case 'Array':\n        if (s.length !== 2) throw invalidErr;\n        if (!(isValidNumber(s[0]) && isValidNumber(s[1]))) throw invalidErr;\n        break;\n      default:\n        throw invalidErr;\n    }\n    return s;\n  };\n\n  shallowCopy = function(obj) {\n    var copy, k, v;\n    copy = {};\n    for (k in obj) {\n      if (!__hasProp.call(obj, k)) continue;\n      v = obj[k];\n      copy[k] = v;\n    }\n    return copy;\n  };\n\n  Smooth = function(arr, config) {\n    var baseDomainEnd, dimension, i, interpolator, interpolatorClass, interpolators, k, n, properties, smoothFunc, v;\n    if (config == null) config = {};\n    properties = {};\n    config = shallowCopy(config);\n    properties.config = shallowCopy(config);\n    if (config.scaleTo == null) config.scaleTo = config.period;\n    if (config.sincFilterSize == null) {\n      config.sincFilterSize = config.lanczosFilterSize;\n    }\n    for (k in defaultConfig) {\n      if (!__hasProp.call(defaultConfig, k)) continue;\n      v = defaultConfig[k];\n      if (config[k] == null) config[k] = v;\n    }\n    if (!(interpolatorClass = {\n      nearest: NearestInterpolator,\n      linear: LinearInterpolator,\n      cubic: CubicInterpolator,\n      lanczos: SincFilterInterpolator,\n      sinc: SincFilterInterpolator\n    }[config.method])) {\n      throw \"Invalid method: \" + config.method;\n    }\n    if (config.method === 'lanczos') {\n      config.sincWindow = makeLanczosWindow(config.sincFilterSize);\n    }\n    if (arr.length < 2) throw 'Array must have at least two elements';\n    properties.count = arr.length;\n    smoothFunc = (function() {\n      var _i, _j, _len, _len2;\n      switch (getType(arr[0])) {\n        case 'Number':\n          properties.dimension = 'scalar';\n          if (Smooth.deepValidation) {\n            for (_i = 0, _len = arr.length; _i < _len; _i++) {\n              n = arr[_i];\n              validateNumber(n);\n            }\n          }\n          interpolator = new interpolatorClass(arr, config);\n          return function(t) {\n            return interpolator.interpolate(t);\n          };\n        case 'Array':\n          properties.dimension = dimension = arr[0].length;\n          if (!dimension) throw 'Vectors must be non-empty';\n          if (Smooth.deepValidation) {\n            for (_j = 0, _len2 = arr.length; _j < _len2; _j++) {\n              v = arr[_j];\n              validateVector(v, dimension);\n            }\n          }\n          interpolators = (function() {\n            var _results;\n            _results = [];\n            for (i = 0; 0 <= dimension ? i < dimension : i > dimension; 0 <= dimension ? i++ : i--) {\n              _results.push(new interpolatorClass(getColumn(arr, i), config));\n            }\n            return _results;\n          })();\n          return function(t) {\n            var interpolator, _k, _len3, _results;\n            _results = [];\n            for (_k = 0, _len3 = interpolators.length; _k < _len3; _k++) {\n              interpolator = interpolators[_k];\n              _results.push(interpolator.interpolate(t));\n            }\n            return _results;\n          };\n        default:\n          throw \"Invalid element type: \" + (getType(arr[0]));\n      }\n    })();\n    if (config.clip === 'periodic') {\n      baseDomainEnd = arr.length;\n    } else {\n      baseDomainEnd = arr.length - 1;\n    }\n    config.scaleTo || (config.scaleTo = baseDomainEnd);\n    properties.domain = normalizeScaleTo(config.scaleTo);\n    smoothFunc = makeScaledFunction(smoothFunc, baseDomainEnd, properties.domain);\n    properties.domain.sort();\n    /*copy properties\n    */\n    for (k in properties) {\n      if (!__hasProp.call(properties, k)) continue;\n      v = properties[k];\n      smoothFunc[k] = v;\n    }\n    return smoothFunc;\n  };\n\n  for (k in Enum) {\n    if (!__hasProp.call(Enum, k)) continue;\n    v = Enum[k];\n    Smooth[k] = v;\n  }\n\n  Smooth.deepValidation = true;\n\n  (typeof exports !== \"undefined\" && exports !== null ? exports : window).Smooth = Smooth;\n\n}).call(this);\n","import * as THREE from 'three';\nimport { Smooth } from '../../../../vendor/js/Smooth';\nimport gfxutils from '../../gfxutils';\nimport chem from '../../../chem';\n\nconst { ResidueType } = chem;\n\nconst calcMatrix = gfxutils.calcChunkMatrix;\n\nfunction _buildStructureInterpolator(points, tension) {\n  const path = Smooth(points, {\n    method: Smooth.METHOD_CUBIC,\n    clip: Smooth.CLIP_CLAMP,\n    cubicTension: tension,\n    scaleTo: 1,\n  });\n\n  return function (t, argTrans) {\n    let transformT = argTrans;\n    if (transformT === null) {\n      // map our range to the [second .. last but one]\n      transformT = function (tt) {\n        return (tt * ((points.length - 1) - 2) + 1) / (points.length - 1);\n      };\n    }\n    const newt = transformT(t);\n    const ans = path(newt);\n    return new THREE.Vector3(ans[0], ans[1], ans[2]);\n  };\n}\n\nfunction _addPoints(centerPoints, topPoints, idx, residue) {\n  if (!residue._isValid) {\n    centerPoints[idx] = centerPoints[idx - 1];\n    topPoints[idx] = topPoints[idx - 1];\n    return;\n  }\n  const cp = residue._controlPoint;\n  centerPoints[idx] = [cp.x, cp.y, cp.z];\n  const tp = cp.clone().add(residue._wingVector);\n  topPoints[idx] = [tp.x, tp.y, tp.z];\n}\n\nfunction _addPointsForLoneResidue(centerPoints, topPoints, idx, residue) {\n  const nucleic = (residue._type.flags & ResidueType.Flags.NUCLEIC) !== 0;\n  const nameFrom = nucleic ? 'C5\\'' : 'N';\n  const nameTo = nucleic ? 'C3\\'' : 'C';\n\n  let posFrom;\n  let posTo;\n  residue.forEachAtom((atom) => {\n    const name = atom.getVisualName();\n    if (!posFrom && name === nameFrom) {\n      posFrom = atom.position;\n    } else if (!posTo && name === nameTo) {\n      posTo = atom.position;\n    }\n  });\n\n  // provide a fallback for unknown residues\n  if (!(posFrom && posTo)) {\n    posFrom = residue._firstAtom.position;\n    posTo = residue._lastAtom.position;\n  }\n\n  if (posFrom && posTo) {\n    const shift = posTo.clone().sub(posFrom);\n\n    const wing = residue._wingVector;\n    const cp = residue._controlPoint;\n    const tp = cp.clone().add(wing);\n\n    const cpPrev = cp.clone().sub(shift);\n    const tpPrev = cpPrev.clone().add(wing);\n    centerPoints[idx] = [cpPrev.x, cpPrev.y, cpPrev.z];\n    topPoints[idx] = [tpPrev.x, tpPrev.y, tpPrev.z];\n    ++idx;\n    centerPoints[idx] = [cpPrev.x, cpPrev.y, cpPrev.z];\n    topPoints[idx] = [tpPrev.x, tpPrev.y, tpPrev.z];\n    ++idx;\n\n    centerPoints[idx] = [cp.x, cp.y, cp.z];\n    topPoints[idx] = [tp.x, tp.y, tp.z];\n    ++idx;\n\n    const cpNext = cp.clone().add(shift);\n    const tpNext = cpNext.clone().add(wing);\n    centerPoints[idx] = [cpNext.x, cpNext.y, cpNext.z];\n    topPoints[idx] = [tpNext.x, tpNext.y, tpNext.z];\n    ++idx;\n    centerPoints[idx] = [cpNext.x, cpNext.y, cpNext.z];\n    topPoints[idx] = [tpNext.x, tpNext.y, tpNext.z];\n  }\n}\n\nfunction _calcPoints(residues, firstIdx, lastIdx, boundaries) {\n  const left = boundaries.start;\n  const right = boundaries.end;\n  function _prevIdx(idx) {\n    return idx > left && residues[idx - 1]._isValid ? idx - 1 : idx;\n  }\n  function _nextIdx(idx) {\n    return idx < right && residues[idx + 1]._isValid ? idx + 1 : idx;\n  }\n\n  const topPoints = [];\n  const centerPoints = [];\n  let arrIdx = 0;\n  function _extrapolate2(currIdx, otherIdx) {\n    const cp = residues[currIdx]._controlPoint.clone().lerp(residues[otherIdx]._controlPoint, -0.25);\n    const tp = cp.clone().add(residues[currIdx]._wingVector);\n    centerPoints[arrIdx] = [cp.x, cp.y, cp.z];\n    topPoints[arrIdx++] = [tp.x, tp.y, tp.z];\n    centerPoints[arrIdx] = [cp.x, cp.y, cp.z];\n    topPoints[arrIdx++] = [tp.x, tp.y, tp.z];\n  }\n\n  // a single disconnected residue\n  const prevIdx = _prevIdx(firstIdx);\n  const nextIdx = _nextIdx(lastIdx);\n  if (prevIdx === nextIdx) {\n    _addPointsForLoneResidue(centerPoints, topPoints, arrIdx, residues[firstIdx]);\n    return { centerPoints, topPoints };\n  }\n\n  // Two points (prev-prev and next-next) are added to support edge conditions for cubic splines, they are ignored\n  // Another two (prev and next) were added to support the outside of the sub chain\n\n  // prev and prev-prev\n  if (firstIdx === prevIdx) {\n    // do the extrapolation\n    _extrapolate2(firstIdx, _nextIdx(firstIdx));\n  } else {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[_prevIdx(prevIdx)]);\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[prevIdx]);\n  }\n\n  // main loop\n  for (let idx = firstIdx; idx <= lastIdx; ++idx) {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[idx]);\n  }\n\n  // next and next-next\n  if (nextIdx === _nextIdx(nextIdx)) {\n    // do the extrapolation\n    _extrapolate2(lastIdx, _prevIdx(lastIdx));\n  } else {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[nextIdx]);\n    _addPoints(centerPoints, topPoints, arrIdx, residues[_nextIdx(nextIdx)]);\n  }\n  return { centerPoints, topPoints };\n}\n\nclass CartoonHelper {\n  constructor(residues, startIdx, endIdx, segmentsCount, tension, boundaries) {\n    const pointsArrays = _calcPoints(residues, startIdx, endIdx, boundaries);\n    this._topInterp = _buildStructureInterpolator(pointsArrays.topPoints, tension);\n    this._centerInterp = _buildStructureInterpolator(pointsArrays.centerPoints, tension);\n\n    this._shift = 0.5 / (endIdx - startIdx + 2);\n    this._valueStep = (1.0 - 2 * this._shift) / (2 * (endIdx - startIdx + 1) * (segmentsCount - 1));\n    this._segmentsCount = segmentsCount;\n  }\n\n  prepareMatrices(idx, firstRad, secondRad) {\n    const mtcCount = this._segmentsCount;\n    const outMtc = new Array(mtcCount);\n    const currRad = new THREE.Vector2(0, 0);\n\n    const topInterp = this._topInterp;\n    const cenInterp = this._centerInterp;\n\n    let currentValue = this._shift + this._valueStep * (mtcCount - 1) * idx;\n\n    for (let mtxIdx = 0; mtxIdx < mtcCount; ++mtxIdx) {\n      const lerpVal = Math.min(1.0, mtxIdx / (mtcCount - 1));\n      currRad.lerpVectors(firstRad, secondRad, lerpVal);\n\n      const currTop = topInterp(currentValue, null);\n      const currCenter = cenInterp(currentValue, null);\n      currentValue += this._valueStep;\n      const nextCenter = cenInterp(currentValue, null);\n\n      outMtc[mtxIdx] = calcMatrix(currCenter.clone(), nextCenter.clone(), currTop.clone().sub(currCenter), currRad);\n    }\n\n    return outMtc;\n  }\n}\n\nexport default CartoonHelper;\n","import * as THREE from 'three';\nimport ResiduesGroup from './ResiduesGroup';\nimport CartoonHelper from './CartoonHelper';\n\nfunction _createShape(rad, parts) {\n  const pts = [];\n\n  for (let i = 0; i < parts; ++i) {\n    // starts from pi/2 because it's important that points are lied on the angles of arrows (visual issues if not)\n    const a = Math.PI / 2.0 - 2 * Math.PI * i / parts;\n\n    pts.push(new THREE.Vector3(Math.cos(a) * rad, Math.sin(a) * rad, 0));\n  }\n  return pts;\n}\n\nfunction _loopThrough(subDiv, residues, segmentsHeight, tension, mode, callback) {\n  for (let subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n    const subs = subDiv[subDivI].arr;\n    const { boundaries } = subDiv[subDivI];\n    for (let i = 0, n = subs.length; i < n; ++i) {\n      const idc = [subs[i].start, subs[i].end];\n      const matrixHelper = new CartoonHelper(residues, idc[0], idc[1], segmentsHeight, tension, boundaries);\n      let prevLast = null;\n      const startIdx = subs[i].start * 2;\n      const endIdx = subs[i].end * 2 + 1;\n      let prevSecondRad = mode.getResidueRadius(residues[0], 0);\n      for (let idx = startIdx; idx <= endIdx; ++idx) {\n        const resIdx = (idx / 2 | 0);\n        const currRes = residues[resIdx];\n        const firstRad = mode.getResidueRadius(currRes, idx % 2);\n        const secondRad = mode.getResidueRadius(currRes, 1 + (idx % 2));\n\n        const mtc = matrixHelper.prepareMatrices(idx - idc[0] * 2, firstRad, secondRad);\n        mtc.unshift(prevLast === null ? mtc[0] : prevLast);\n\n        // Slope - radius is changed along this residue part\n        const hasSlope = (firstRad.x !== secondRad.x) || (firstRad.y !== secondRad.y);\n        // Cut - end radius of previous part not equal to start radius of this part. First section of this part lies in the orthogonal plane\n        const hasCut = (firstRad.x !== prevSecondRad.x) || (firstRad.y !== prevSecondRad.y);\n\n        callback(currRes, mtc, hasSlope, hasCut);\n\n        prevLast = mtc[segmentsHeight];\n        prevSecondRad = secondRad;\n      }\n    }\n  }\n}\n\nclass ResiduesSubseqGroup extends ResiduesGroup {\n  _makeGeoArgs() {\n    const cmpMultiplier = this._mode.getHeightSegmentsRatio();\n    this._segmentsHeight = this._polyComplexity * cmpMultiplier | 0;\n    return [_createShape(1.0, this._polyComplexity), this._segmentsHeight + 1, this._selection.chunks.length * 2];\n  }\n\n  _build() {\n    const { residues, parent } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const tension = mode.getTension();\n    const geo = this._geo;\n    let chunkIdx = 0;\n    const chunkIdc = [];\n    _loopThrough(this._selection.subdivs, residues, this._segmentsHeight, tension, mode, (currRes, mtc, hasSlope = false, hasCut = false) => {\n      const color = colorer.getResidueColor(currRes, parent);\n      chunkIdc[chunkIdx] = currRes._index;\n      geo.setItem(chunkIdx, mtc, hasSlope, hasCut);\n      geo.setColor(chunkIdx++, color);\n    });\n    this._chunksIdc = chunkIdc;\n    geo.finalize();\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const { parent } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const tension = mode.getTension();\n    const geo = this._geo;\n    const frameRes = frameData.getResidues();\n    let chunkIdx = 0;\n    const updateColor = frameData.needsColorUpdate(colorer);\n    _loopThrough(this._selection.subdivs, frameRes, this._segmentsHeight, tension, mode, (currRes, mtc) => {\n      geo.setItem(chunkIdx, mtc);\n      if (updateColor) {\n        geo.setColor(chunkIdx, colorer.getResidueColor(currRes, parent));\n      }\n      chunkIdx++;\n    });\n    geo.finalize();\n  }\n}\n\nexport default ResiduesSubseqGroup;\n","import ChemGroup from './ChemGroup';\n\nclass ResiduesTraceGroup extends ChemGroup {\n  _makeGeoArgs() {\n    const subDiv = this._selection.subdivs;\n    let chunksCount = 0;\n    for (let subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n      const subs = subDiv[subDivI].arr;\n      for (let i = 0, n = subs.length; i < n; ++i) {\n        chunksCount += subs[i].end - subs[i].start;\n      }\n    }\n    return [chunksCount, this._polyComplexity];\n  }\n\n  _build() {\n    const { residues, parent } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    let chunkIdx = 0;\n    const chunkIdc = [];\n    const subDiv = this._selection.subdivs;\n    const stickRad = mode.calcStickRadius();\n\n    for (let subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n      const subs = subDiv[subDivI].arr;\n      for (let i = 0, n = subs.length; i < n; ++i) {\n        const startIdx = subs[i].start;\n        const endIdx = subs[i].end;\n        let prevRes = residues[startIdx];\n        for (let idx = startIdx + 1; idx <= endIdx; ++idx) {\n          const currRes = residues[idx];\n          chunkIdc[chunkIdx] = { first: prevRes._index, second: currRes._index };\n          geo.setItem(chunkIdx, prevRes._controlPoint, currRes._controlPoint, stickRad);\n          geo.setColor(chunkIdx, colorer.getResidueColor(prevRes, parent), colorer.getResidueColor(currRes, parent));\n          chunkIdx++;\n          prevRes = currRes;\n        }\n      }\n    }\n\n    this._chunksIdc = chunkIdc;\n    geo.finalize();\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n\n    const residues = frameData.getResidues();\n    const { parent } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    let chunkIdx = 0;\n    const subDiv = this._selection.subdivs;\n    const stickRad = mode.calcStickRadius();\n    const updateColor = frameData.needsColorUpdate(colorer);\n\n    for (let subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n      const subs = subDiv[subDivI].arr;\n      for (let i = 0, n = subs.length; i < n; ++i) {\n        const startIdx = subs[i].start;\n        const endIdx = subs[i].end;\n        let prevRes = residues[startIdx];\n        for (let idx = startIdx + 1; idx <= endIdx; ++idx) {\n          const currRes = residues[idx];\n          geo.setItem(chunkIdx, prevRes._controlPoint, currRes._controlPoint, stickRad);\n          if (updateColor) {\n            geo.setColor(chunkIdx, colorer.getResidueColor(prevRes, parent), colorer.getResidueColor(currRes, parent));\n          }\n          chunkIdx++;\n          prevRes = currRes;\n        }\n      }\n    }\n\n    geo.finalize();\n  }\n\n  raycast(raycaster, intersects) {\n    const inters = [];\n    const { residues } = this._selection;\n    this._mesh.raycast(raycaster, inters);\n    const chunksToIdx = this._chunksIdc;\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue;\n      }\n      const { chunkIdx } = inters[i];\n      const chunk = chunksToIdx[Math.floor(chunkIdx / 2)];\n      const resIdx = chunkIdx % 2 === 0 ? chunk.first : chunk.second;\n      if (resIdx < residues.length) {\n        inters[i].residue = residues[resIdx];\n        intersects.push(inters[i]);\n      }\n    }\n  }\n\n  _calcChunksList(mask) {\n    const chunksList = [];\n    const chunksToIdx = this._chunksIdc;\n    const { residues } = this._selection;\n    for (let i = 0, n = chunksToIdx.length; i < n; ++i) {\n      const chunk = chunksToIdx[i];\n      if (residues[chunk.first]._mask & mask) {\n        chunksList.push(i * 2);\n      }\n      if (residues[chunk.second]._mask & mask) {\n        chunksList.push(i * 2 + 1);\n      }\n    }\n    return chunksList;\n  }\n}\n\nexport default ResiduesTraceGroup;\n","import ChemGroup from './ChemGroup';\nimport Bond from '../../../chem/Bond';\n\nfunction getCylinderCount(bondOrder) {\n  return bondOrder < 2 ? 1 : bondOrder;\n}\n\nclass BondsGroup extends ChemGroup {\n  _makeGeoArgs() {\n    const drawMultiple = this._mode.drawMultiorderBonds();\n    const showAromatic = this._mode.showAromaticLoops();\n    const bondsIdc = this._selection.chunks;\n    const { bonds } = this._selection;\n    let bondsCount = 0;\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      bondsCount += this.getBondOrder(bonds[bondsIdc[i]], drawMultiple, showAromatic);\n    }\n    return [bondsCount, this._polyComplexity];\n  }\n\n  getBondOrder(bond, drawMultiple, showAromatic) {\n    let bondOrder = 1;\n    if (drawMultiple && (!showAromatic || bond._type !== Bond.BondType.AROMATIC)) {\n      bondOrder = getCylinderCount(bond._order);\n    }\n    return bondOrder;\n  }\n\n  raycast(raycaster, intersects) {\n    const { bonds } = this._selection;\n    const inters = [];\n    this._mesh.raycast(raycaster, inters);\n    const bondsIdc = this._chunksIdc;\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue;\n      }\n      const { chunkIdx } = inters[i];\n      const bondIdx = bondsIdc[Math.floor(chunkIdx / 2)];\n      if (bondIdx < bonds.length) {\n        const bond = bonds[bondIdx];\n        inters[i].atom = chunkIdx % 2 === 0 ? bond._left : bond._right;\n        intersects.push(inters[i]);\n      }\n    }\n  }\n\n  _calcChunksList(mask, innerOnly) {\n    const chunksList = [];\n    const { bonds } = this._selection;\n    const chunksToIdx = this._chunksIdc;\n    for (let i = 0, n = chunksToIdx.length; i < n; ++i) {\n      const bond = bonds[chunksToIdx[i]];\n      if ((bond._left.mask & mask) && (!innerOnly || (bond._right.mask & mask))) {\n        chunksList.push(2 * i);\n      }\n      if ((bond._right.mask & mask) && (!innerOnly || (bond._left.mask & mask))) {\n        chunksList.push(2 * i + 1);\n      }\n    }\n    return chunksList;\n  }\n}\n\nexport default BondsGroup;\n","import * as THREE from 'three';\nimport BondsGroup from './BondsGroup';\n\nclass BondsCylinderGroup extends BondsGroup {\n  _build() {\n    const bondsIdc = this._selection.chunks;\n    const { bonds, parent } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    const drawMultiple = mode.drawMultiorderBonds();\n    const showAromatic = mode.showAromaticLoops();\n\n    const stickRad = mode.calcStickRadius();\n    const emptyOffset = mode.calcSpaceFraction();\n    let normDir;\n    const leftPos = new THREE.Vector3();\n    const rightPos = new THREE.Vector3();\n    let currBondIdx = 0;\n    const chunksToIdx = [];\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      const bond = bonds[bondsIdc[i]];\n      const atom1 = bond._left;\n      const atom2 = bond._right;\n      const a1Pos = atom1.position;\n      const a2Pos = atom2.position;\n      normDir = bond.calcNormalDir();\n      const order = this.getBondOrder(bond, drawMultiple, showAromatic);\n      const minRad = Math.min(mode.calcAtomRadius(atom1), mode.calcAtomRadius(atom2));\n      const dist = 2 * minRad / order;\n      const currStickRad = drawMultiple ? Math.min(stickRad, dist * 0.5 * (1.0 - emptyOffset)) : stickRad;\n\n      for (let j = 0; j < order; ++j) {\n        const scale = dist * (order % 2 === 0\n          ? (((j / 2) | 0) + 0.5) * (1 - 2 * (j % 2))\n          : (((j + 1) / 2) | 0) * (-1 + 2 * (j % 2)));\n        chunksToIdx[currBondIdx] = bond._index;\n        leftPos.copy(a1Pos);\n        leftPos.addScaledVector(normDir, scale);\n        rightPos.copy(a2Pos);\n        rightPos.addScaledVector(normDir, scale);\n        geo.setItem(currBondIdx, leftPos, rightPos, currStickRad);\n        geo.setColor(currBondIdx++, colorer.getAtomColor(atom1, parent), colorer.getAtomColor(atom2, parent));\n      }\n    }\n\n    geo.finalize();\n    this._chunksIdc = chunksToIdx;\n  }\n\n  updateToFrame(frameData) {\n    const bondsIdc = this._selection.chunks;\n    const { bonds } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    const drawMultiple = mode.drawMultiorderBonds();\n    const showAromatic = mode.showAromaticLoops();\n\n    const stickRad = mode.calcStickRadius();\n    const emptyOffset = mode.calcSpaceFraction();\n    let normDir;\n    const leftPos = new THREE.Vector3();\n    const rightPos = new THREE.Vector3();\n    let currBondIdx = 0;\n    const updateColor = frameData.needsColorUpdate(colorer);\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      const bond = bonds[bondsIdc[i]];\n      const atom1 = bond._left;\n      const atom2 = bond._right;\n      const a1Pos = frameData.getAtomPos(atom1.index).clone();\n      const a2Pos = frameData.getAtomPos(atom2.index);\n      normDir = bond.calcNormalDir();\n      const order = this.getBondOrder(bond, drawMultiple, showAromatic);\n      const minRad = Math.min(mode.calcAtomRadius(atom1), mode.calcAtomRadius(atom2));\n      const dist = 2 * minRad / order;\n      const currStickRad = drawMultiple ? Math.min(stickRad, dist * 0.5 * (1.0 - emptyOffset)) : stickRad;\n\n      for (let j = 0; j < order; ++j) {\n        const scale = dist * (order % 2 === 0\n          ? (((j / 2) | 0) + 0.5) * (1 - 2 * (j % 2))\n          : (((j + 1) / 2) | 0) * (-1 + 2 * (j % 2)));\n        leftPos.copy(a1Pos);\n        leftPos.addScaledVector(normDir, scale);\n        rightPos.copy(a2Pos);\n        rightPos.addScaledVector(normDir, scale);\n        geo.setItem(currBondIdx, leftPos, rightPos, currStickRad);\n        if (updateColor) {\n          geo.setColor(currBondIdx, frameData.getAtomColor(colorer, atom1), frameData.getAtomColor(colorer, atom2));\n        }\n        currBondIdx++;\n      }\n    }\n    geo.finalize();\n  }\n}\n\nexport default BondsCylinderGroup;\n","import * as THREE from 'three';\nimport BondsGroup from './BondsGroup';\n\nconst STEP_SIZE = 0.15;\n\nclass BondsLinesGroup extends BondsGroup {\n  _build() {\n    const bondsIdc = this._selection.chunks;\n    const { bonds, parent } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    const drawMultiple = mode.drawMultiorderBonds();\n    const showAromatic = mode.showAromaticLoops();\n\n    const bondDir = new THREE.Vector3();\n\n    const leftPos = new THREE.Vector3();\n    const rightPos = new THREE.Vector3();\n    let currBondIdx = 0;\n    const chunksToIdx = [];\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      const bond = bonds[bondsIdc[i]];\n      const atom1 = bond._left;\n      const atom2 = bond._right;\n      const a1Pos = atom1.position;\n      const a2Pos = atom2.position;\n      const a1Hangs = atom1.bonds.length === 1;\n      const a2Hangs = atom2.bonds.length === 1;\n      bondDir.subVectors(a2Pos, a1Pos);\n      const len = bondDir.length();\n      const normDir = bond.calcNormalDir();\n\n      const order = this.getBondOrder(bond, drawMultiple, showAromatic);\n\n      for (let j = 0; j < order; ++j) {\n        leftPos.copy(a1Pos);\n        rightPos.copy(a2Pos);\n        let scale = (order % 2 === 0\n          ? (((j / 2) | 0) + 0.5) * (1 - 2 * (j % 2))\n          : (((j + 1) / 2) | 0) * (-1 + 2 * (j % 2)));\n        chunksToIdx[currBondIdx] = bond._index;\n        if (order === 2 && (!a1Hangs && !a2Hangs)) {\n          scale -= 0.5;\n          scale *= -1;\n        }\n\n        if (!a1Hangs && !a2Hangs && order > 1 && scale !== 0) {\n          leftPos.lerpVectors(a1Pos, a2Pos, STEP_SIZE / (len));\n          rightPos.lerpVectors(a1Pos, a2Pos, 1.0 - STEP_SIZE / (len));\n        }\n\n        scale *= STEP_SIZE;\n\n        leftPos.addScaledVector(normDir, scale);\n        rightPos.addScaledVector(normDir, scale);\n        geo.setItem(currBondIdx, leftPos, rightPos);\n        geo.setColor(currBondIdx++, colorer.getAtomColor(atom1, parent), colorer.getAtomColor(atom2, parent));\n      }\n    }\n    geo.finalize();\n    this._chunksIdc = chunksToIdx;\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const bondsIdc = this._selection.chunks;\n    const { bonds } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    const drawMultiple = mode.drawMultiorderBonds();\n    const showAromatic = mode.showAromaticLoops();\n\n    const bondDir = new THREE.Vector3();\n\n    const leftPos = new THREE.Vector3();\n    const rightPos = new THREE.Vector3();\n    let currBondIdx = 0;\n    const updateColor = frameData.needsColorUpdate(colorer);\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      const bond = bonds[bondsIdc[i]];\n      const atom1 = bond._left;\n      const atom2 = bond._right;\n      const a1Pos = frameData.getAtomPos(atom1.index).clone();\n      const a2Pos = frameData.getAtomPos(atom2.index);\n      const a1Hangs = atom1.bonds.length === 1;\n      const a2Hangs = atom2.bonds.length === 1;\n      bondDir.subVectors(a2Pos, a1Pos);\n      const len = bondDir.length();\n      const normDir = bond.calcNormalDir();\n\n      const order = this.getBondOrder(bond, drawMultiple, showAromatic);\n\n      for (let j = 0; j < order; ++j) {\n        leftPos.copy(a1Pos);\n        rightPos.copy(a2Pos);\n        let scale = (order % 2 === 0\n          ? (((j / 2) | 0) + 0.5) * (1 - 2 * (j % 2))\n          : (((j + 1) / 2) | 0) * (-1 + 2 * (j % 2)));\n        if (order === 2 && (!a1Hangs && !a2Hangs)) {\n          scale -= 0.5;\n          scale *= -1;\n        }\n\n        if (!a1Hangs && !a2Hangs && order > 1 && scale !== 0) {\n          leftPos.lerpVectors(a1Pos, a2Pos, STEP_SIZE / (len));\n          rightPos.lerpVectors(a1Pos, a2Pos, 1.0 - STEP_SIZE / (len));\n        }\n\n        scale *= STEP_SIZE;\n\n        leftPos.addScaledVector(normDir, scale);\n        rightPos.addScaledVector(normDir, scale);\n        geo.setItem(currBondIdx, leftPos, rightPos);\n        if (updateColor) {\n          geo.setColor(currBondIdx, frameData.getAtomColor(colorer, atom1), frameData.getAtomColor(colorer, atom2));\n        }\n        currBondIdx++;\n      }\n    }\n    geo.finalize();\n  }\n}\n\nexport default BondsLinesGroup;\n","import AtomsSphereGroup from './AtomsSphereGroup';\nimport AtomsSurfaceGroup from './AtomsSurfaceGroup';\nimport AtomsSASSESGroupStub from './AtomsSASSESGroupStub';\nimport AtomsTextGroup from './AtomsTextGroup';\nimport AromaticTorusGroup from './AromaticTorusGroup';\nimport AromaticLinesGroup from './AromaticLinesGroup';\nimport NucleicCylindersGroup from './NucleicCylindersGroup';\nimport NucleicSpheresGroup from './NucleicSpheresGroup';\nimport ResiduesSubseqGroup from './ResiduesSubseqGroup';\nimport ResiduesTraceGroup from './ResiduesTraceGroup';\nimport BondsCylinderGroup from './BondsCylinderGroup';\nimport BondsLinesGroup from './BondsLinesGroup';\n\nexport default {\n  AtomsSphereGroup,\n  AtomsSurfaceGroup,\n  AtomsSASSESGroupStub,\n  AtomsTextGroup,\n  AromaticTorusGroup,\n  AromaticLinesGroup,\n  NucleicCylindersGroup,\n  NucleicSpheresGroup,\n  ResiduesSubseqGroup,\n  ResiduesTraceGroup,\n  BondsCylinderGroup,\n  BondsLinesGroup,\n};\n","import RCGroup from '../../RCGroup';\n\nclass AtomsProcessor extends RCGroup {\n  constructor(AtomsGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    super();\n    const self = this;\n    this._complex = complex;\n    this._mode = mode;\n    const atoms = complex.getAtoms();\n    const transforms = complex.getTransforms();\n\n    complex.forEachComponent((component) => {\n      const atomsIdc = [];\n      let atomCount = 0;\n      component.forEachAtom((atom) => {\n        if (!self._checkAtom(atom, mask)) {\n          return;\n        }\n        atomsIdc[atomCount++] = atom.index;\n      });\n      if (atomCount === 0) {\n        return;\n      }\n      const atomsGroup = new AtomsGroup(geoParams, {\n        atoms,\n        chunks: atomsIdc,\n        parent: complex,\n      }, colorer, mode, transforms, polyComplexity, material);\n      atomsGroup._component = component;\n      self.add(atomsGroup);\n    });\n  }\n\n  _checkAtom(atom, mask) {\n    return atom.mask & mask;\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = [];\n    const { children } = this;\n    let meshIdx = 0;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly);\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j];\n          subsetEl._component = children[i]._component;\n          totalSubset[meshIdx++] = subsetEl;\n        }\n      }\n    }\n    return totalSubset;\n  }\n}\n\nexport default AtomsProcessor;\n","import AtomsProcessor from './AtomsProcessor';\n\nclass OrphanAtomsProcessor extends AtomsProcessor {\n  _checkAtom(atom, mask) {\n    if (!(atom.mask & mask)) {\n      return false;\n    }\n\n    const { bonds } = atom;\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      if ((bonds[i]._left.mask & mask) && (bonds[i]._right.mask & mask)) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\nexport default OrphanAtomsProcessor;\n","import RCGroup from '../../RCGroup';\n\nclass ResiduesProcessor extends RCGroup {\n  constructor(ResidueGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    super();\n    const self = this;\n    this._complex = complex;\n    const residues = complex.getResidues();\n    const transforms = complex.getTransforms();\n\n    complex.forEachComponent((component) => {\n      let chunksCount = 0;\n      const resIdc = [];\n      component.forEachResidue((residue) => {\n        if (self._checkResidue(residue, mask)) {\n          resIdc[chunksCount++] = residue._index;\n        }\n      });\n\n      if (chunksCount === 0) {\n        return;\n      }\n      const residuesGroup = new ResidueGroup(geoParams, {\n        residues,\n        chunks: resIdc,\n        parent: complex,\n      }, colorer, mode, transforms, polyComplexity, material);\n      residuesGroup._component = component;\n      self.add(residuesGroup);\n    });\n  }\n\n  checkResidue(residue, mask) {\n    return residue._mask & mask;\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = [];\n    const { children } = this;\n    let meshIdx = 0;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly);\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j];\n          subsetEl._component = children[i]._component;\n          totalSubset[meshIdx++] = subsetEl;\n        }\n      }\n    }\n    return totalSubset;\n  }\n}\n\nexport default ResiduesProcessor;\n","import ResidueProcessor from './ResiduesProcessor';\n\nclass NucleicProcessor extends ResidueProcessor {\n  _checkResidue(residue, mask) {\n    return mask & residue._mask && residue._cylinders !== null;\n  }\n}\nexport default NucleicProcessor;\n","import RCGroup from '../../RCGroup';\n\nclass SubseqsProcessor extends RCGroup {\n  constructor(ResidueGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    super();\n    const self = this;\n    this._complex = complex;\n    const residues = complex.getResidues();\n    const transforms = complex.getTransforms();\n\n    complex.forEachComponent((component) => {\n      const subDivs = component.getMaskedSubdivSequences(mask);\n\n      let chunksCount = 0;\n      const resIdc = [];\n      for (let subDivI = 0, subDivN = subDivs.length; subDivI < subDivN; ++subDivI) {\n        const subs = subDivs[subDivI].arr;\n        for (let i = 0, n = subs.length; i < n; ++i) {\n          for (let j = subs[i].start, jEnd = subs[i].end; j <= jEnd; ++j) {\n            resIdc[chunksCount++] = residues[j]._index;\n          }\n        }\n      }\n\n      if (chunksCount === 0) {\n        return;\n      }\n      const residuesGroup = new ResidueGroup(geoParams, {\n        residues,\n        chunks: resIdc,\n        subdivs: subDivs,\n        parent: complex,\n      }, colorer, mode, transforms, polyComplexity, material);\n      residuesGroup._component = component;\n      self.add(residuesGroup);\n    });\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = [];\n    const { children } = this;\n    let meshIdx = 0;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly);\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j];\n          subsetEl._component = children[i]._component;\n          totalSubset[meshIdx++] = subsetEl;\n        }\n      }\n    }\n    return totalSubset;\n  }\n}\n\nexport default SubseqsProcessor;\n","import RCGroup from '../../RCGroup';\n\nclass BondsProcessor extends RCGroup {\n  constructor(BondsGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    super();\n    const self = this;\n    this._complex = complex;\n    const bonds = complex.getBonds();\n    const transforms = complex.getTransforms();\n\n    complex.forEachComponent((component) => {\n      const bondsIdc = [];\n      let bondsCount = 0;\n      component.forEachBond((bond) => {\n        const atom1 = bond._left;\n        const atom2 = bond._right;\n        if (!(atom1.mask & mask) || !(atom2.mask & mask)) {\n          return;\n        }\n        bondsIdc[bondsCount++] = bond._index;\n      });\n      if (bondsCount === 0) {\n        return;\n      }\n      const bondsGroup = new BondsGroup(geoParams, {\n        bonds,\n        chunks: bondsIdc,\n        parent: complex,\n      }, colorer, mode, transforms, polyComplexity, material);\n      bondsGroup._component = component;\n      self.add(bondsGroup);\n    });\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = [];\n    const { children } = this;\n    let meshIdx = 0;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly);\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j];\n          subsetEl._component = children[i]._component;\n          totalSubset[meshIdx++] = subsetEl;\n        }\n      }\n    }\n    return totalSubset;\n  }\n}\n\nexport default BondsProcessor;\n","import RCGroup from '../../RCGroup';\n\nclass AromaticProcessor extends RCGroup {\n  constructor(AromaticGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    super();\n    const self = this;\n    this._complex = complex;\n    const atoms = complex.getAtoms();\n    const transforms = complex.getTransforms();\n    if (!mode.showAromaticLoops()) {\n      return;\n    }\n\n    complex.forEachComponent((component) => {\n      const atomsIdc = [];\n      let chunksCount = 0;\n      const cycles = [];\n      let cycleIdx = 0;\n      component.forEachCycle((cycle) => {\n        const cycAtoms = cycle.atoms;\n        let perCycle = 0;\n        for (let i = 0, n = cycAtoms.length; i < n; ++i) {\n          if ((cycAtoms[i].mask & mask) !== 0) {\n            ++perCycle;\n            atomsIdc[chunksCount++] = cycAtoms[i].index;\n          }\n        }\n        if (perCycle > 0) {\n          cycles[cycleIdx++] = cycle;\n        }\n      });\n\n      const atomsGroup = new AromaticGroup(geoParams, {\n        cycles,\n        atoms,\n        chunks: atomsIdc,\n        parent: complex,\n      }, colorer, mode, transforms, polyComplexity, material);\n      atomsGroup._component = component;\n      self.add(atomsGroup);\n    });\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = [];\n    const { children } = this;\n    let meshIdx = 0;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly);\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j];\n          subsetEl._component = children[i]._component;\n          totalSubset[meshIdx++] = subsetEl;\n        }\n      }\n    }\n    return totalSubset;\n  }\n}\n\nexport default AromaticProcessor;\n","import AtomsProcessor from './AtomsProcessor';\nimport OrphanAtomsProcessor from './OrphanAtomsProcessor';\nimport ResiduesProcessor from './ResiduesProcessor';\nimport NucleicProcessor from './NucleicProcessor';\nimport SubseqsProcessor from './SubseqsProcessor';\nimport BondsProcessor from './BondsProcessor';\nimport AromaticProcessor from './AromaticProcessor';\n\nexport default {\n  Atoms: AtomsProcessor,\n  OrphanAtoms: OrphanAtomsProcessor,\n  Residues: ResiduesProcessor,\n  Nucleic: NucleicProcessor,\n  Subseqs: SubseqsProcessor,\n  Bonds: BondsProcessor,\n  Aromatic: AromaticProcessor,\n};\n","import MeshCreator from '../../meshes/MeshCreator';\nimport groups from './groups';\nimport processors from '../processors/processors';\n\nfunction _bakeGroup(triplet, Processor, Group) {\n  return function (complex, colorer, mode, polyComplexity, mask, material) {\n    return new Processor(Group, triplet, complex, colorer, mode, polyComplexity, mask, material);\n  };\n}\n\nclass GroupsFactory {\n  static AtomsSpheres(caps, settings) {\n    const gfxTriplet = MeshCreator.createSpheres(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSphereGroup);\n  }\n\n  static OrphanedAtomsCrosses(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createCrosses(caps, settings, renderParams);\n\n    return _bakeGroup(gfxTriplet, processors.OrphanAtoms, groups.AtomsSphereGroup);\n  }\n\n  static BondsCylinders(caps, settings) {\n    const gfxTriplet = MeshCreator.create2CCylinders(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Bonds, groups.BondsCylinderGroup);\n  }\n\n  static BondsLines(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.create2CLines(caps, settings, renderParams);\n\n    return _bakeGroup(gfxTriplet, processors.Bonds, groups.BondsLinesGroup);\n  }\n\n  static CartoonChains(caps, settings) {\n    const gfxTriplet = MeshCreator.createExtrudedChains(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Subseqs, groups.ResiduesSubseqGroup);\n  }\n\n  static TraceChains(caps, settings) {\n    const gfxTriplet = MeshCreator.create2CClosedCylinders(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Subseqs, groups.ResiduesTraceGroup);\n  }\n\n  static NucleicSpheres(caps, settings) {\n    const gfxTriplet = MeshCreator.createSpheres(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Nucleic, groups.NucleicSpheresGroup);\n  }\n\n  static NucleicCylinders(caps, settings) {\n    const gfxTriplet = MeshCreator.create2CCylinders(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Nucleic, groups.NucleicCylindersGroup);\n  }\n\n  static ALoopsTorus(caps, settings) {\n    const gfxTriplet = MeshCreator.createExtrudedChains(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Aromatic, groups.AromaticTorusGroup);\n  }\n\n  static ALoopsLines(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createChunkedLines(caps, settings, renderParams);\n\n    return _bakeGroup(gfxTriplet, processors.Aromatic, groups.AromaticLinesGroup);\n  }\n\n  static QuickSurfGeo(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createQuickSurface(caps, settings, renderParams);\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSurfaceGroup);\n  }\n\n  static ContactSurfaceGeo(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createContactSurface(caps, settings, renderParams);\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSurfaceGroup);\n  }\n\n  static SASSESSurfaceGeo(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createSASSES(caps, settings, renderParams);\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSASSESGroupStub);\n  }\n\n  static TextLabelsGeo(caps, settings) {\n    const gfxTriplet = MeshCreator.createLabels(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsTextGroup);\n  }\n}\n\nexport default GroupsFactory;\n","import _ from 'lodash';\nimport makeContextDependent from '../../utils/makeContextDependent';\nimport utils from '../../utils';\nimport gfxutils from '../gfxutils';\nimport factory from './groups/GroupsFactory';\n\n/**\n * Create new mode.\n *\n * @param {object=} opts - Options to override defaults with.\n *\n *   These options are copied locally and not kept by reference, so the created instance will not reflect further\n *   changes to the `opts` object. However, changes in defaults **will** affect the mode after its creation.\n *\n * @exports Mode\n * @this Mode\n * @abstract\n * @constructor\n * @classdesc Basic class for all available modes used for building and displaying molecule geometry.\n */\nclass Mode {\n  constructor(opts) {\n    if (this.constructor === Mode) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    /**\n     * Mode options inherited (prototyped) from defaults.\n     * @type {object}\n     */\n    this.opts = _.merge(utils.deriveDeep(this.settings.now.modes[this.id], true), opts);\n  }\n\n\n  /**\n   * Get mode identification, probably with options.\n   * @returns {string|Array} Mode identifier string ({@link Mode#id}) or two-element array containing both mode\n   *   identifier and options ({@link Mode#opts}).\n   * Options are returned if they were changed during or after the mode creation.\n   */\n  identify() {\n    const diff = utils.objectsDiff(this.opts, this.settings.now.modes[this.id]);\n    if (!_.isEmpty(diff)) {\n      return [this.id, diff];\n    }\n    return this.id;\n  }\n\n  buildGeometry(complex, colorer, mask, material) {\n    const polyComplexity = this.opts.polyComplexity ? this.opts.polyComplexity[this.settings.now.resolution] : 0;\n    const groupList = this.depGroups;\n    const groupCount = groupList.length;\n    const group = new gfxutils.RCGroup();\n    const self = this;\n    for (let i = 0; i < groupCount; ++i) {\n      let currGroup = groupList[i];\n      let renderParams = {};\n      if (_.isArray(currGroup)) {\n        renderParams = currGroup[1].call(this);\n        [currGroup] = currGroup;\n      }\n      const Group = factory[currGroup](null, this.settings, renderParams);\n      const newGroup = new Group(complex, colorer, self, polyComplexity, mask, material);\n      if (newGroup.children.length > 0) {\n        group.add(newGroup);\n      }\n    }\n    return group;\n  }\n}\n\nmakeContextDependent(Mode.prototype);\n\n/**\n* Mode identifier.\n* @type {string}\n*/\nMode.prototype.id = '__';\n\n/**\n * Mode geo groups.\n * @type {Array}\n */\nMode.prototype.depGroups = [];\n\nexport default Mode;\n","import Mode from './Mode';\n\nfunction getRenderParams() {\n  return {\n    lineWidth: this.opts.lineWidth,\n  };\n}\n\nclass LinesMode extends Mode {\n  static id = 'LN';\n\n  constructor(opts) {\n    super(opts);\n    this.depGroups = this.depGroups.slice(0); // clone depGroups to prevent prototype edits\n    const groups = this.depGroups;\n    for (let i = 0, n = groups.length; i < n; ++i) {\n      groups[i] = [groups[i], getRenderParams];\n    }\n  }\n\n  drawMultiorderBonds() {\n    return this.opts.multibond;\n  }\n\n  calcAtomRadius() {\n    return this.opts.atom;\n  }\n\n  getAromaticOffset() {\n    return this.opts.offsarom;\n  }\n\n  getAromaticArcChunks() {\n    return this.opts.chunkarom;\n  }\n\n  showAromaticLoops() {\n    return this.opts.showarom;\n  }\n}\n\nLinesMode.prototype.id = 'LN';\nLinesMode.prototype.name = 'Lines';\nLinesMode.prototype.shortName = 'Lines';\nLinesMode.prototype.depGroups = [\n  'ALoopsLines',\n  'BondsLines',\n  'OrphanedAtomsCrosses',\n];\n\nexport default LinesMode;\n","/* eslint-disable no-magic-numbers */\nimport Mode from './Mode';\n\nclass LicoriceMode extends Mode {\n  static id = 'LC';\n\n  calcAtomRadius(_atom) {\n    return this.opts.bond;\n  }\n\n  calcStickRadius() {\n    return this.opts.bond;\n  }\n\n  calcSpaceFraction() {\n    return this.opts.space;\n  }\n\n  getAromRadius() {\n    return this.opts.aromrad;\n  }\n\n  showAromaticLoops() {\n    return this.opts.showarom;\n  }\n\n  drawMultiorderBonds() {\n    return this.opts.multibond;\n  }\n}\n\nLicoriceMode.prototype.id = 'LC';\nLicoriceMode.prototype.name = 'Licorice';\nLicoriceMode.prototype.shortName = 'Licorice';\nLicoriceMode.prototype.depGroups = [\n  'AtomsSpheres',\n  'BondsCylinders',\n  'ALoopsTorus',\n];\n\nexport default LicoriceMode;\n","/* eslint-disable no-magic-numbers */\nimport Mode from './Mode';\n\nclass BallsAndSticksMode extends Mode {\n  static id = 'BS';\n\n  calcAtomRadius(atom) {\n    return atom.element.radius * this.opts.atom;\n  }\n\n  calcStickRadius() {\n    return this.opts.bond;\n  }\n\n  getAromRadius() {\n    return this.opts.aromrad;\n  }\n\n  showAromaticLoops() {\n    return this.opts.showarom;\n  }\n\n  calcSpaceFraction() {\n    return this.opts.space;\n  }\n\n  drawMultiorderBonds() {\n    return this.opts.multibond;\n  }\n}\n\nBallsAndSticksMode.prototype.id = 'BS';\nBallsAndSticksMode.prototype.name = 'Balls and Sticks';\nBallsAndSticksMode.prototype.shortName = 'Balls';\nBallsAndSticksMode.prototype.depGroups = [\n  'AtomsSpheres',\n  'BondsCylinders',\n  'ALoopsTorus',\n];\n\nexport default BallsAndSticksMode;\n","import Mode from './Mode';\n\nclass VanDerWaalsMode extends Mode {\n  static id = 'VW';\n\n  calcAtomRadius(atom) {\n    return atom.element.radius;\n  }\n}\n\nVanDerWaalsMode.prototype.id = 'VW';\nVanDerWaalsMode.prototype.name = 'Van der Waals';\nVanDerWaalsMode.prototype.shortName = 'VDW';\nVanDerWaalsMode.prototype.depGroups = ['AtomsSpheres'];\n\nexport default VanDerWaalsMode;\n","import Mode from './Mode';\n\nclass TraceMode extends Mode {\n  static id = 'TR';\n\n  calcStickRadius() {\n    return this.opts.radius;\n  }\n}\n\nTraceMode.prototype.id = 'TR';\nTraceMode.prototype.name = 'Trace';\nTraceMode.prototype.shortName = 'Trace';\nTraceMode.prototype.depGroups = ['TraceChains'];\n\nexport default TraceMode;\n","import * as THREE from 'three';\nimport Mode from './Mode';\n\nclass TubeMode extends Mode {\n  static id = 'TU';\n\n  getResidueRadius(_residue) {\n    return this.TUBE_RADIUS;\n  }\n\n  getHeightSegmentsRatio() {\n    return this.opts.heightSegmentsRatio;\n  }\n\n  getTension() {\n    return this.opts.tension;\n  }\n\n  buildGeometry(complex, colorer, mask, material) {\n    const rad = this.opts.radius;\n    this.TUBE_RADIUS = new THREE.Vector2(rad, rad);\n\n    return Mode.prototype.buildGeometry.call(this, complex, colorer, mask, material);\n  }\n}\n\nTubeMode.prototype.id = 'TU';\nTubeMode.prototype.name = 'Tube';\nTubeMode.prototype.shortName = 'Tube';\nTubeMode.prototype.depGroups = ['CartoonChains'];\n\nexport default TubeMode;\n","import * as THREE from 'three';\nimport Mode from './Mode';\n\nclass CartoonMode extends Mode {\n  static id = 'CA';\n\n  constructor(opts) {\n    super(opts);\n    // cache for secondary structure options\n    this.secCache = {};\n  }\n\n  getResidueStartRadius(residue) {\n    const second = residue.getSecondary();\n    if (!second || !second.generic) {\n      return this.TUBE_RADIUS;\n    }\n    const secOpts = this.secCache[second.generic];\n    if (!secOpts) {\n      return this.TUBE_RADIUS;\n    }\n    if (second.term === residue) {\n      return secOpts.start;\n    }\n    return secOpts.center;\n  }\n\n  getResidueEndRadius(residue) {\n    const second = residue.getSecondary();\n    if (second === null || !second.generic) {\n      return this.TUBE_RADIUS;\n    }\n    const secOpts = this.secCache[second.generic];\n    if (!secOpts) {\n      return this.TUBE_RADIUS;\n    }\n    if (second.term === residue) {\n      return this.ARROW_END;\n    }\n    return secOpts.center;\n  }\n\n  getResidueRadius(residue, val) {\n    const startRad = this.getResidueStartRadius(residue);\n    if (val === 0) {\n      return startRad;\n    }\n\n    const endRad = this.getResidueEndRadius(residue);\n    if (val === 2) {\n      return endRad;\n    }\n\n    return startRad.clone().lerp(endRad, val / 2.0);\n  }\n\n  calcStickRadius(_res) {\n    return this.opts.radius;\n  }\n\n  getHeightSegmentsRatio() {\n    return this.opts.heightSegmentsRatio;\n  }\n\n  getTension() {\n    return this.opts.tension;\n  }\n\n  buildGeometry(complex, colorer, mask, material) {\n    const tubeRad = this.opts.radius;\n    const secHeight = this.opts.depth;\n\n    this.TUBE_RADIUS = new THREE.Vector2(tubeRad, tubeRad);\n    this.ARROW_END = new THREE.Vector2(secHeight, tubeRad);\n    const secCache = {};\n    const secData = this.opts.ss;\n    /* eslint-disable guard-for-in */\n    for (const prop in secData) {\n      secCache[prop] = {\n        center: new THREE.Vector2(secHeight, secData[prop].width),\n        start: new THREE.Vector2(secHeight, secData[prop].arrow),\n      };\n    }\n    this.secCache = secCache;\n    /* eslint-enable guard-for-in */\n\n    return Mode.prototype.buildGeometry.call(this, complex, colorer, mask, material);\n  }\n}\n\nCartoonMode.prototype.id = 'CA';\nCartoonMode.prototype.name = 'Cartoon';\nCartoonMode.prototype.shortName = 'Cartoon';\nCartoonMode.prototype.depGroups = [\n  'CartoonChains',\n  'NucleicSpheres',\n  'NucleicCylinders',\n];\n\nexport default CartoonMode;\n","import chem from '../../chem';\nimport Mode from './Mode';\n\nconst { selectors } = chem;\n\nfunction getRenderParams() {\n  return {\n    wireframe: this.opts.wireframe,\n    zClip: this.opts.zClip,\n  };\n}\n\nclass SurfaceMode extends Mode {\n  constructor(opts) {\n    super(opts);\n    this.depGroups = this.depGroups.slice(0); // clone depGroups to prevent prototype edits\n    const surfaces = this.surfaceNames;\n    const groups = this.depGroups;\n    for (let i = 0, n = surfaces.length; i < n; ++i) {\n      groups[groups.length] = [surfaces[i], getRenderParams];\n    }\n  }\n\n  calcAtomRadius(atom) {\n    return atom.element.radius;\n  }\n\n  getVisibilitySelector() {\n    let visibilitySelector = null;\n    if (this.opts.subset !== '') {\n      const res = selectors.parse(this.opts.subset);\n      if (!res.error) {\n        visibilitySelector = res.selector;\n      }\n    }\n    return visibilitySelector;\n  }\n}\n\nSurfaceMode.prototype.isSurface = true;\nSurfaceMode.prototype.surfaceNames = [];\n\nexport default SurfaceMode;\n","import SurfaceMode from './SurfaceMode';\n\nclass QuickSurfaceMode extends SurfaceMode {\n  static id = 'QS';\n\n  getSurfaceOpts() {\n    return {\n      useBeads: false,\n      isoValue: this.opts.isoValue,\n      gaussLim: this.opts.gaussLim[this.settings.now.resolution],\n      radScale: this.opts.scale,\n      gridSpacing: this.opts.gridSpacing[this.settings.now.resolution],\n      zClip: this.opts.zClip,\n      visibilitySelector: this.getVisibilitySelector(),\n    };\n  }\n}\n\nQuickSurfaceMode.prototype.id = 'QS';\nQuickSurfaceMode.prototype.name = 'Quick Surface';\nQuickSurfaceMode.prototype.shortName = 'Quick Surf';\nQuickSurfaceMode.prototype.surfaceNames = ['QuickSurfGeo'];\n\nexport default QuickSurfaceMode;\n","import SurfaceMode from './SurfaceMode';\n\nclass IsoSurfaceMode extends SurfaceMode {\n  constructor(excludeProbe, opts) {\n    super(opts);\n    this._excludeProbe = excludeProbe;\n  }\n\n  calcAtomRadius(atom) {\n    return atom.element.radius;\n  }\n\n  getSurfaceOpts() {\n    return {\n      gridSpacing: this.opts.polyComplexity[this.settings.now.resolution],\n      radScale: this._radScale,\n      zClip: this.opts.zClip,\n      visibilitySelector: this.getVisibilitySelector(),\n      probeRadius: this.opts.probeRadius,\n      excludeProbe: this._excludeProbe,\n    };\n  }\n}\n\nIsoSurfaceMode.prototype.id = 'SU';\nIsoSurfaceMode.prototype.name = 'Surface';\nIsoSurfaceMode.prototype.shortName = 'Surface';\nIsoSurfaceMode.prototype.surfaceNames = ['SASSESSurfaceGeo'];\n\nIsoSurfaceMode.prototype._radScale = 1;\nIsoSurfaceMode.prototype._excludeProbe = false;\n\nexport default IsoSurfaceMode;\n","import IsoSurfaceMode from './IsoSurfaceMode';\n\nclass IsoSurfaceSASMode extends IsoSurfaceMode {\n  static id = 'SA';\n\n  constructor(opts) {\n    super(false, opts);\n  }\n}\n\nIsoSurfaceSASMode.prototype.id = 'SA';\nIsoSurfaceSASMode.prototype.name = 'Solvent Accessible Surface';\nIsoSurfaceSASMode.prototype.shortName = 'SAS';\n\nexport default IsoSurfaceSASMode;\n","import IsoSurfaceMode from './IsoSurfaceMode';\n\nclass IsoSurfaceSESMode extends IsoSurfaceMode {\n  static id = 'SE';\n\n  constructor(opts) {\n    super(true, opts);\n  }\n}\n\nIsoSurfaceSESMode.prototype.id = 'SE';\nIsoSurfaceSESMode.prototype.name = 'Solvent Excluded Surface';\nIsoSurfaceSESMode.prototype.shortName = 'SES';\n\nexport default IsoSurfaceSESMode;\n","import SurfaceMode from './SurfaceMode';\n\nclass ContactSurfaceMode extends SurfaceMode {\n  static id = 'CS';\n\n  getSurfaceOpts() {\n    return {\n      probeRadius: this.opts.probeRadius,\n      radScale: this.opts.polyComplexity[this.settings.now.resolution],\n      scaleFactor: this.opts.polyComplexity[this.settings.now.resolution],\n      gridSpacing: 1.0 / this.opts.polyComplexity[this.settings.now.resolution],\n      isoValue: this.opts.isoValue,\n      probePositions: this.opts.probePositions,\n      zClip: this.opts.zClip,\n      visibilitySelector: this.getVisibilitySelector(),\n    };\n  }\n}\n\nContactSurfaceMode.prototype.id = 'CS';\nContactSurfaceMode.prototype.name = 'Contact Surface';\nContactSurfaceMode.prototype.shortName = 'Contact Surf';\nContactSurfaceMode.prototype.isSurface = true;\nContactSurfaceMode.prototype.surfaceNames = ['ContactSurfaceGeo'];\n\nexport default ContactSurfaceMode;\n","import _ from 'lodash';\nimport Mode from './Mode';\n\nclass TextMode extends Mode {\n  static id = 'TX';\n\n  getTemplateOptions() {\n    return this.opts.template;\n  }\n\n  getLabelOpts() {\n    return _.merge(this.opts, {\n      colors: true,\n      adjustColor: true,\n      transparent: true,\n    });\n  }\n}\n\nTextMode.prototype.id = 'TX';\nTextMode.prototype.name = 'Text mode';\nTextMode.prototype.shortName = 'Text';\nTextMode.prototype.depGroups = ['TextLabelsGeo'];\n\nexport default TextMode;\n","import EntityList from '../utils/EntityList';\n\nimport LinesMode from './modes/LinesMode';\nimport LicoriceMode from './modes/LicoriceMode';\nimport BallsAndSticksMode from './modes/BallsAndSticksMode';\nimport VanDerWaalsMode from './modes/VanDerWaalsMode';\nimport TraceMode from './modes/TraceMode';\nimport TubeMode from './modes/TubeMode';\nimport CartoonMode from './modes/CartoonMode';\nimport QuickSurfaceMode from './modes/QuickSurfaceMode';\nimport IsoSurfaceSASMode from './modes/IsoSurfaceSASMode';\nimport IsoSurfaceSESMode from './modes/IsoSurfaceSESMode';\nimport ContactSurfaceMode from './modes/ContactSurfaceMode';\nimport TextMode from './modes/TextMode';\n\nconst modes = new EntityList([\n  LinesMode,\n  LicoriceMode,\n  BallsAndSticksMode,\n  VanDerWaalsMode,\n  TraceMode,\n  TubeMode,\n  CartoonMode,\n  QuickSurfaceMode,\n  IsoSurfaceSASMode,\n  IsoSurfaceSESMode,\n  ContactSurfaceMode,\n  TextMode,\n]);\n\nexport default modes;\n","import _ from 'lodash';\n\nfunction clamp(x, a, b) {\n  return x <= b ? x < 0 ? 0 : x : b;\n}\n\nfunction lerpColor(c1, c2, alpha) {\n  const beta = 1 - alpha;\n  const r1 = (c1 >> 16) & 0xff;\n  const g1 = (c1 >> 8) & 0xff;\n  const b1 = c1 & 0xff;\n  const r2 = (c2 >> 16) & 0xff;\n  const g2 = (c2 >> 8) & 0xff;\n  const b2 = c2 & 0xff;\n  const r = beta * r1 + alpha * r2;\n  const g = beta * g1 + alpha * g2;\n  const b = beta * b1 + alpha * b2;\n  return (r << 16) | (g << 8) | b;\n}\n\n\nclass Palette {\n  constructor(name, id) {\n    this.name = name || 'Custom';\n    this.id = id || 'CP';\n  }\n\n  getElementColor(name, asIs = false) {\n    const color = this.elementColors[name];\n    return color === undefined && !asIs ? this.defaultElementColor : color;\n  }\n\n  getResidueColor(name, asIs = false) {\n    const color = this.residueColors[name];\n    return color === undefined && !asIs ? this.defaultResidueColor : color;\n  }\n\n  getChainColor(name) {\n    let chain = name.charCodeAt(0);\n    chain = ((chain < 0 ? 0 : chain >= 256 ? chain - 256 : chain) & 0x1F)\n      % this.chainColors.length;\n    return this.chainColors[chain];\n  }\n\n  getSecondaryColor(type, asIs = false) {\n    const color = this.secondaryColors[type];\n    return color === undefined && !asIs ? this.defaultSecondaryColor : color;\n  }\n\n  getSequentialColor(index) {\n    const { colors } = this;\n    const len = colors.length;\n    return index < 0 ? colors[(index % len) + len] : colors[index % len];\n  }\n\n  getGradientColor(value, gradientName) {\n    const gradient = this.gradients[gradientName];\n    if (!gradient) {\n      return this.defaultNamedColor;\n    }\n    const count = gradient.length;\n    const index = value * (count - 1);\n    let left = Math.floor(index);\n    const right = clamp(left + 1, 0, count - 1);\n    left = clamp(left, 0, count - 1);\n    return lerpColor(gradient[left], gradient[right], index - left);\n  }\n\n  getNamedColor(name, asIs = false) {\n    const color = this.namedColors[name];\n    return color === undefined && !asIs ? this.defaultNamedColor : color;\n  }\n}\n\n_.assign(Palette.prototype, {\n  colors: [0xFFFFFF, 0xFF0000, 0x00FF00, 0x0000FF, 0x808080],\n\n  minRangeColor: 0x000000,\n  midRangeColor: 0x7F7F7F,\n  maxRangeColor: 0xFFFFFF,\n\n  defaultElementColor: 0xFFFFFF,\n  elementColors: {},\n\n  defaultResidueColor: 0xFFFFFF,\n  residueColors: {},\n\n  chainColors: [0xFFFFFF],\n\n  defaultSecondaryColor: 0xFFFFFF,\n  secondaryColors: {},\n\n  defaultGradientColor: 0x000000,\n\n  defaultNamedColor: 0xFFFFFF,\n  namedColorsArray: [\n    /* eslint-disable no-multi-spaces */\n    ['indianred',               0xcd5c5c],\n    ['lightcoral',              0xf08080],\n    ['salmon',                  0xfa8072],\n    ['darksalmon',              0xe9967a],\n    ['lightsalmon',             0xffa07a],\n    ['crimson',                 0xdc143c],\n    ['red',                     0xff0000],\n    ['firebrick',               0xb22222],\n    ['darkred',                 0x8b0000],\n    ['pink',                    0xffc0cb],\n    ['lightpink',               0xffb6c1],\n    ['hotpink',                 0xff69b4],\n    ['deeppink',                0xff1493],\n    ['mediumvioletred',         0xc71585],\n    ['palevioletred',           0xdb7093],\n    ['coral',                   0xff7f50],\n    ['tomato',                  0xff6347],\n    ['orangered',               0xff4500],\n    ['darkorange',              0xff8c00],\n    ['orange',                  0xffa500],\n    ['gold',                    0xffd700],\n    ['yellow',                  0xffff00],\n    ['lightyellow',             0xffffe0],\n    ['lemonchiffon',            0xfffacd],\n    ['lightgoldenrodyellow',    0xfafad2],\n    ['papayawhip',              0xffefd5],\n    ['moccasin',                0xffe4b5],\n    ['peachpuff',               0xffdab9],\n    ['palegoldenrod',           0xeee8aa],\n    ['khaki',                   0xf0e68c],\n    ['darkkhaki',               0xbdb76b],\n    ['lavender',                0xe6e6fa],\n    ['thistle',                 0xd8bfd8],\n    ['plum',                    0xdda0dd],\n    ['violet',                  0xee82ee],\n    ['orchid',                  0xda70d6],\n    ['fuchsia',                 0xff00ff],\n    ['magenta',                 0xff00ff],\n    ['mediumorchid',            0xba55d3],\n    ['mediumpurple',            0x9370db],\n    ['rebeccapurple',           0x663399],\n    ['blueviolet',              0x8a2be2],\n    ['darkviolet',              0x9400d3],\n    ['darkorchid',              0x9932cc],\n    ['darkmagenta',             0x8b008b],\n    ['purple',                  0x800080],\n    ['indigo',                  0x4b0082],\n    ['slateblue',               0x6a5acd],\n    ['mediumslateblue',         0x7b68ee],\n    ['darkslateblue',           0x483d8b],\n    ['greenyellow',             0xadff2f],\n    ['chartreuse',              0x7fff00],\n    ['lawngreen',               0x7cfc00],\n    ['lime',                    0x00ff00],\n    ['limegreen',               0x32cd32],\n    ['palegreen',               0x98fb98],\n    ['lightgreen',              0x90ee90],\n    ['mediumspringgreen',       0x00fa9a],\n    ['springgreen',             0x00ff7f],\n    ['mediumseagreen',          0x3cb371],\n    ['seagreen',                0x2e8b57],\n    ['forestgreen',             0x228b22],\n    ['green',                   0x008000],\n    ['darkgreen',               0x006400],\n    ['yellowgreen',             0x9acd32],\n    ['olivedrab',               0x6b8e23],\n    ['olive',                   0x808000],\n    ['darkolivegreen',          0x556b2f],\n    ['mediumaquamarine',        0x66cdaa],\n    ['darkseagreen',            0x8fbc8f],\n    ['lightseagreen',           0x20b2aa],\n    ['darkcyan',                0x008b8b],\n    ['teal',                    0x008080],\n    ['aqua',                    0x00ffff],\n    ['cyan',                    0x00ffff],\n    ['lightcyan',               0xe0ffff],\n    ['paleturquoise',           0xafeeee],\n    ['aquamarine',              0x7fffd4],\n    ['turquoise',               0x40e0d0],\n    ['mediumturquoise',         0x48d1cc],\n    ['darkturquoise',           0x00ced1],\n    ['cadetblue',               0x5f9ea0],\n    ['steelblue',               0x4682b4],\n    ['lightsteelblue',          0xb0c4de],\n    ['powderblue',              0xb0e0e6],\n    ['lightblue',               0xadd8e6],\n    ['skyblue',                 0x87ceeb],\n    ['lightskyblue',            0x87cefa],\n    ['deepskyblue',             0x00bfff],\n    ['dodgerblue',              0x1e90ff],\n    ['cornflowerblue',          0x6495ed],\n    ['royalblue',               0x4169e1],\n    ['blue',                    0x0000ff],\n    ['mediumblue',              0x0000cd],\n    ['darkblue',                0x00008b],\n    ['navy',                    0x000080],\n    ['midnightblue',            0x191970],\n    ['cornsilk',                0xfff8dc],\n    ['blanchedalmond',          0xffebcd],\n    ['bisque',                  0xffe4c4],\n    ['navajowhite',             0xffdead],\n    ['wheat',                   0xf5deb3],\n    ['burlywood',               0xdeb887],\n    ['tan',                     0xd2b48c],\n    ['rosybrown',               0xbc8f8f],\n    ['sandybrown',              0xf4a460],\n    ['goldenrod',               0xdaa520],\n    ['darkgoldenrod',           0xb8860b],\n    ['peru',                    0xcd853f],\n    ['chocolate',               0xd2691e],\n    ['saddlebrown',             0x8b4513],\n    ['sienna',                  0xa0522d],\n    ['brown',                   0xa52a2a],\n    ['maroon',                  0x800000],\n    ['white',                   0xffffff],\n    ['snow',                    0xfffafa],\n    ['honeydew',                0xf0fff0],\n    ['mintcream',               0xf5fffa],\n    ['azure',                   0xf0ffff],\n    ['aliceblue',               0xf0f8ff],\n    ['ghostwhite',              0xf8f8ff],\n    ['whitesmoke',              0xf5f5f5],\n    ['seashell',                0xfff5ee],\n    ['beige',                   0xf5f5dc],\n    ['oldlace',                 0xfdf5e6],\n    ['floralwhite',             0xfffaf0],\n    ['ivory',                   0xfffff0],\n    ['antiquewhite',            0xfaebd7],\n    ['linen',                   0xfaf0e6],\n    ['lavenderblush',           0xfff0f5],\n    ['mistyrose',               0xffe4e1],\n    ['gainsboro',               0xdcdcdc],\n    ['lightgray',               0xd3d3d3],\n    ['silver',                  0xc0c0c0],\n    ['darkgray',                0xa9a9a9],\n    ['gray',                    0x808080],\n    ['dimgray',                 0x696969],\n    ['lightslategray',          0x778899],\n    ['slategray',               0x708090],\n    ['darkslategray',           0x2f4f4f],\n    ['black',                   0x000000],\n    /* eslint-enable no-multi-spaces */\n  ],\n\n  namedColors: {},\n  /* eslint-enable no-magic-numbers */\n\n  gradients: {\n    rainbow: [\n      0x0000ff, // blue\n      0x00ffff, // cyan\n      0x00ff00, // green\n      0xffff00, // yellow\n      0xff0000, // red\n    ],\n    temp: [\n      0x0000ff, // blue\n      0x007fff, // light-blue\n      0xffffff, // white\n      0xff7f00, // orange\n      0xff0000, // red\n    ],\n    hot: [\n      0xffffff, // white\n      0xff7f00, // orange\n      0xff0000, // red\n    ],\n    cold: [\n      0xffffff, // white\n      0x007fff, // light-blue\n      0x0000ff, // blue\n    ],\n    'blue-red': [\n      0x0000ff, // blue\n      0xffffff, // white\n      0xff0000, // red\n    ],\n    reds: [\n      0xffffff, // white\n      0xff0000, // red\n    ],\n    blues: [\n      0xffffff, // white\n      0x0000ff, // blue\n    ],\n  },\n});\n\n\nconst { namedColorsArray, namedColors } = Palette.prototype;\n\nfor (let i = 0, { length } = namedColorsArray; i < length; ++i) {\n  const [name, value] = namedColorsArray[i];\n  namedColors[name] = value;\n}\n\nexport default Palette;\n","import Palette from './Palette';\n\nconst palette = new Palette('CPK', 'CP');\n\n// DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\npalette.elementColors = {\n  /* eslint-disable no-magic-numbers */\n  H: 0xFFFFFF,\n  C: 0x202020,\n  N: 0x2060FF,\n  O: 0xEE2010,\n  F: 0x00FF00,\n  P: 0x8020FF,\n  S: 0xFFFF00,\n  CL: 0x00BB00,\n  FE: 0xD0D0D0,\n  CO: 0xD0D0D0,\n  NI: 0xD0D0D0,\n  CU: 0xD0D0D0,\n  BR: 0x008800,\n  I: 0x005500,\n  /* eslint-enable no-magic-numbers */\n};\n\nexport default palette;\n","import Palette from './Palette';\nimport StructuralElement from '../../chem/StructuralElement';\n\nconst palette = new Palette('Jmol', 'JM');\n\npalette.colors = [\n  /* eslint-disable no-magic-numbers */\n  0x0000FF, // blue\n  0x0055FF, //\n  0x00ABFF, //\n  0x00FFFF, // cyan\n  0x00FFAB, //\n  0x00FF55, //\n  0x00FF00, // green\n  0x55FF00, //\n  0xABFF00, //\n  0xFFFF00, // yellow\n  0xFFAB00, //\n  0xFF5500, //\n  0xFF0000, // red\n  0xFF0055, //\n  0xFF00AB, //\n  0xFF00FF, // magenta\n  0xAB00FF, //\n  0x5500FF, //\n  /* eslint-enable no-magic-numbers */\n];\n\n// DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\npalette.elementColors = {\n  /* eslint-disable no-magic-numbers */\n  H: 0xFFFFFF,\n  D: 0xFFFFC0,\n  T: 0xFFFFA0,\n  HE: 0xD9FFFF,\n  LI: 0xCC80FF,\n  BE: 0xC2FF00,\n  B: 0xFFB5B5,\n  C: 0x909090,\n  N: 0x3050F8,\n  O: 0xFF0D0D,\n  F: 0x90E050,\n  NE: 0xB3E3F5,\n  NA: 0xAB5CF2,\n  MG: 0x8AFF00,\n  AL: 0xBFA6A6,\n  SI: 0xF0C8A0,\n  P: 0xFF8000,\n  S: 0xFFFF30,\n  CL: 0x1FF01F,\n  AR: 0x80D1E3,\n  K: 0x8F40D4,\n  CA: 0x3DFF00,\n  SC: 0xE6E6E6,\n  TI: 0xBFC2C7,\n  V: 0xA6A6AB,\n  CR: 0x8A99C7,\n  MN: 0x9C7AC7,\n  FE: 0xE06633,\n  CO: 0xF090A0,\n  NI: 0x50D050,\n  CU: 0xC88033,\n  ZN: 0x7D80B0,\n  GA: 0xC28F8F,\n  GE: 0x668F8F,\n  AS: 0xBD80E3,\n  SE: 0xFFA100,\n  BR: 0xA62929,\n  KR: 0x5CB8D1,\n  RB: 0x702EB0,\n  SR: 0x00FF00,\n  Y: 0x94FFFF,\n  ZR: 0x94E0E0,\n  NB: 0x73C2C9,\n  MO: 0x54B5B5,\n  TC: 0x3B9E9E,\n  RU: 0x248F8F,\n  RH: 0x0A7D8C,\n  PD: 0x006985,\n  AG: 0xC0C0C0,\n  CD: 0xFFD98F,\n  IN: 0xA67573,\n  SN: 0x668080,\n  SB: 0x9E63B5,\n  TE: 0xD47A00,\n  I: 0x940094,\n  XE: 0x429EB0,\n  CS: 0x57178F,\n  BA: 0x00C900,\n  LA: 0x70D4FF,\n  CE: 0xFFFFC7,\n  PR: 0xD9FFC7,\n  ND: 0xC7FFC7,\n  PM: 0xA3FFC7,\n  SM: 0x8FFFC7,\n  EU: 0x61FFC7,\n  GD: 0x45FFC7,\n  TB: 0x30FFC7,\n  DY: 0x1FFFC7,\n  HO: 0x00FF9C,\n  ER: 0x00E675,\n  TM: 0x00D452,\n  YB: 0x00BF38,\n  LU: 0x00AB24,\n  HF: 0x4DC2FF,\n  TA: 0x4DA6FF,\n  W: 0x2194D6,\n  RE: 0x267DAB,\n  OS: 0x266696,\n  IR: 0x175487,\n  PT: 0xD0D0E0,\n  AU: 0xFFD123,\n  HG: 0xB8B8D0,\n  TL: 0xA6544D,\n  PB: 0x575961,\n  BI: 0x9E4FB5,\n  PO: 0xAB5C00,\n  AT: 0x754F45,\n  RN: 0x428296,\n  FR: 0x420066,\n  RA: 0x007D00,\n  AC: 0x70ABFA,\n  TH: 0x00BAFF,\n  PA: 0x00A1FF,\n  U: 0x008FFF,\n  NP: 0x0080FF,\n  PU: 0x006BFF,\n  AM: 0x545CF2,\n  CM: 0x785CE3,\n  BK: 0x8A4FE3,\n  CF: 0xA136D4,\n  ES: 0xB31FD4,\n  FM: 0xB31FBA,\n  MD: 0xB30DA6,\n  NO: 0xBD0D87,\n  LR: 0xC70066,\n  RF: 0xCC0059,\n  DB: 0xD1004F,\n  SG: 0xD90045,\n  BH: 0xE00038,\n  HS: 0xE6002E,\n  MT: 0xEB0026,\n  /* eslint-enable no-magic-numbers */\n};\n\npalette.defaultResidueColor = 0xBEA06E;\n\n// DO NOT EDIT MANUALLY! Autogenerated from residue_types.csv by residue_types.py.\npalette.residueColors = {\n  /* eslint-disable no-magic-numbers */\n  ALA: 0xC8C8C8,\n  ARG: 0x145AFF,\n  ASN: 0x00DCDC,\n  ASP: 0xE60A0A,\n  CYS: 0xE6E600,\n  GLN: 0x00DCDC,\n  GLU: 0xE60A0A,\n  GLY: 0xEBEBEB,\n  HIS: 0x8282D2,\n  ILE: 0x0F820F,\n  LEU: 0x0F820F,\n  LYS: 0x145AFF,\n  MET: 0xE6E600,\n  PHE: 0x3232AA,\n  PRO: 0xDC9682,\n  SER: 0xFA9600,\n  THR: 0xFA9600,\n  TRP: 0xB45AB4,\n  TYR: 0x3232AA,\n  VAL: 0x0F820F,\n  A: 0xA0A0FF,\n  C: 0xFF8C4B,\n  G: 0xFF7070,\n  I: 0x80FFFF,\n  T: 0xA0FFA0,\n  U: 0xFF8080,\n  DA: 0xA0A0FF,\n  DC: 0xFF8C4B,\n  DG: 0xFF7070,\n  DI: 0x80FFFF,\n  DT: 0xA0FFA0,\n  DU: 0xFF8080,\n  '+A': 0xA0A0FF,\n  '+C': 0xFF8C4B,\n  '+G': 0xFF7070,\n  '+I': 0x80FFFF,\n  '+T': 0xA0FFA0,\n  '+U': 0xFF8080,\n  /* eslint-enable no-magic-numbers */\n};\n\npalette.chainColors = [\n  // ' '->0 'A'->1, 'B'->2\n  0xFFffffff, // ' ' & '0' white\n  //\n  0xFFC0D0FF, // skyblue\n  0xFFB0FFB0, // pastel green\n  0xFFFFC0C8, // pink\n  0xFFFFFF80, // pastel yellow\n  0xFFFFC0FF, // pastel magenta\n  0xFFB0F0F0, // pastel cyan\n  0xFFFFD070, // pastel gold\n  0xFFF08080, // lightcoral\n\n  0xFFF5DEB3, // wheat\n  0xFF00BFFF, // deepskyblue\n  0xFFCD5C5C, // indianred\n  0xFF66CDAA, // mediumaquamarine\n  0xFF9ACD32, // yellowgreen\n  0xFFEE82EE, // violet\n  0xFF00CED1, // darkturquoise\n  0xFF00FF7F, // springgreen\n  0xFF3CB371, // mediumseagreen\n\n  0xFF00008B, // darkblue\n  0xFFBDB76B, // darkkhaki\n  0xFF006400, // darkgreen\n  0xFF800000, // maroon\n  0xFF808000, // olive\n  0xFF800080, // purple\n  0xFF008080, // teal\n  0xFFB8860B, // darkgoldenrod\n  0xFFB22222, // firebrick\n];\n\nconst StructuralElementType = StructuralElement.Type;\n\npalette.secondaryColors = {\n  [StructuralElementType.HELIX_ALPHA]: 0xFF0080,\n  [StructuralElementType.HELIX_PI]: 0x600080,\n  [StructuralElementType.HELIX_310]: 0xA00080,\n  [StructuralElementType.STRAND]: 0xFFC800,\n  [StructuralElementType.TURN]: 0x6080FF,\n  dna: 0xAE00FE,\n  rna: 0xFD0162,\n};\n\nexport default palette;\n","import Palette from './Palette';\nimport StructuralElement from '../../chem/StructuralElement';\n\nconst palette = new Palette('VMD', 'VM');\n\npalette.colors = [\n  /* eslint-disable no-magic-numbers */\n  0x0000FF, // blue\n  0xFF0000, // red\n  0x606060, // gray\n  0xFF8000, // orange\n  0xFFFF00, // yellow\n  0x808033, // tan\n  0x999999, // silver\n  0x00FF00, // green\n  0xFFFFFF, // white\n  0xFF9999, // pink\n  0x40C0C0, // cyan\n  0xA600A6, // purple\n  0x80E666, // lime\n  0xE666B3, // mauve\n  0x804D00, // ochre\n  0x8080C0, // ice blue\n  /* eslint-enable no-magic-numbers */\n];\n\npalette.defaultElementColor = 0x804D00;\n\n// DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\npalette.elementColors = {\n  /* eslint-disable no-magic-numbers */\n  H: 0xFFFFFF,\n  C: 0x40BFBF,\n  N: 0x0000FF,\n  O: 0xFF0000,\n  P: 0x808033,\n  S: 0xFFFF00,\n  /* eslint-enable no-magic-numbers */\n};\n\npalette.defaultResidueColor = 0x40C0C0;\n\n// DO NOT EDIT MANUALLY! Autogenerated from residue_types.csv by residue_types.py.\npalette.residueColors = {\n  /* eslint-disable no-magic-numbers */\n  ALA: 0x0000FF,\n  ARG: 0xFFFFFF,\n  ASN: 0x808033,\n  ASP: 0xFF0000,\n  CYS: 0xFFFF00,\n  GLN: 0xFF8000,\n  GLU: 0xFF9999,\n  GLY: 0xFFFFFF,\n  HIS: 0x40C0C0,\n  ILE: 0x00FF00,\n  LEU: 0xFF9999,\n  LYS: 0x40C0C0,\n  MET: 0xFFFF00,\n  PHE: 0xA600A6,\n  PRO: 0x804C00,\n  SER: 0xFFFF00,\n  THR: 0xE666B3,\n  TRP: 0x999999,\n  TYR: 0x00FF00,\n  VAL: 0x808033,\n  A: 0x0000FF,\n  C: 0xFF8000,\n  G: 0xFFFF00,\n  T: 0xA600A6,\n  U: 0x00FF00,\n  DA: 0x0000FF,\n  DC: 0xFF8000,\n  DG: 0xFFFF00,\n  DT: 0xA600A6,\n  DU: 0x00FF00,\n  '+A': 0x0000FF,\n  '+C': 0xFF8000,\n  '+G': 0xFFFF00,\n  '+T': 0xA600A6,\n  '+U': 0x00FF00,\n  WAT: 0x40C0C0,\n  H2O: 0x40C0C0,\n  HOH: 0x40C0C0,\n  /* eslint-enable no-magic-numbers */\n};\n\npalette.chainColors = [0xFFFFFF].concat(palette.colors);\n\nconst StructuralElementType = StructuralElement.Type;\n\npalette.secondaryColors = {\n  [StructuralElementType.HELIX_ALPHA]: 0xA600A6,\n  [StructuralElementType.HELIX_310]: 0x0000FF,\n  [StructuralElementType.HELIX_PI]: 0xFF0000,\n  [StructuralElementType.STRAND]: 0xFFFF00,\n  [StructuralElementType.BRIDGE]: 0x808033,\n  [StructuralElementType.TURN]: 0x40C0C0,\n};\n\nexport default palette;\n","import EntityList from '../utils/EntityList';\n\nimport cpkPalette from './palettes/cpkPalette';\nimport jmolPalette from './palettes/jmolPalette';\nimport vmdPalette from './palettes/vmdPalette';\n\nconst palettes = new EntityList([\n  cpkPalette,\n  jmolPalette,\n  vmdPalette,\n]);\n\nexport default palettes;\n","import _ from 'lodash';\nimport settings from '../../settings';\nimport utils from '../../utils';\nimport palettes from '../palettes';\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with.\n *\n *   These options are copied locally and not kept by reference, so the created instance will not reflect further\n *   changes to the `opts` object. However, changes in defaults **will** affect the colorer after its creation.\n *\n * @exports Colorer\n * @this Colorer\n * @abstract\n * @constructor\n * @classdesc Basic class for all available coloring algorithms used for building and displaying molecule geometry.\n */\nclass Colorer {\n  constructor(opts) {\n    if (this.constructor === Colorer) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    /**\n     * Colorer options inherited (prototyped) from defaults.\n     * @type {object}\n     */\n    this.opts = _.merge(utils.deriveDeep(settings.now.colorers[this.id], true), opts);\n    /**\n     * Palette in use.\n     * @type {Palette}\n     */\n    this.palette = palettes.first;\n  }\n\n  /**\n   * Get Colorer identification, probably with options.\n   * @returns {string|Array} Colorer identifier string ({@link Colorer#id}) or two-element array containing both colorer\n   *   identifier and options ({@link Colorer#opts}).\n   * Options are returned if they were changed during or after colorer creation.\n   */\n  identify() {\n    const diff = utils.objectsDiff(this.opts, settings.now.colorers[this.id]);\n    if (!_.isEmpty(diff)) {\n      return [this.id, diff];\n    }\n    return this.id;\n  }\n}\n\n/**\n * Colorer identifier.\n * @type {string}\n */\n\nColorer.prototype.id = '__';\n\nexport default Colorer;\n","import Colorer from './Colorer';\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @see Element\n *\n * @exports ElementColorer\n * @augments Colorer\n * @constructor\n * @classdesc Coloring algorithm based on chemical element.\n */\nclass ElementColorer extends Colorer {\n  static id = 'EL';\n\n  getAtomColor(atom, _complex) {\n    const type = atom.element.name;\n    if (type === 'C' && this.opts.carbon >= 0) {\n      return this.opts.carbon;\n    }\n    return this.palette.getElementColor(type);\n  }\n\n  getResidueColor(_residue, _complex) {\n    return this.palette.defaultResidueColor;\n  }\n}\n\nElementColorer.prototype.id = 'EL';\nElementColorer.prototype.name = 'Element';\nElementColorer.prototype.shortName = 'Element';\n\nexport default ElementColorer;\n","import Colorer from './Colorer';\n\n/**\n * Coloring algorithm based on residue type.\n *\n * @see ResidueType\n *\n * @exports ResidueTypeColorer\n * @constructor\n */\nclass ResidueTypeColorer extends Colorer {\n  static id = 'RT';\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex);\n  }\n\n  getResidueColor(residue, _complex) {\n    return this.palette.getResidueColor(residue._type._name);\n  }\n}\n\nResidueTypeColorer.prototype.id = 'RT';\nResidueTypeColorer.prototype.name = 'Residue Type';\nResidueTypeColorer.prototype.shortName = 'Residue';\n\nexport default ResidueTypeColorer;\n","import Colorer from './Colorer';\n\nclass SequenceColorer extends Colorer {\n  static id = 'SQ';\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex);\n  }\n\n  getResidueColor(residue, _complex) {\n    const chain = residue._chain;\n    if (chain.minSequence === Number.POSITIVE_INFINITY && chain.maxSequence === Number.NEGATIVE_INFINITY) {\n      return this.palette.defaultNamedColor;\n    }\n    const min = chain.minSequence;\n    const max = chain.maxSequence > min ? chain.maxSequence : min + 1;\n    return this.palette.getGradientColor((residue._sequence - min) / (max - min), this.opts.gradient);\n  }\n}\n\nSequenceColorer.prototype.id = 'SQ';\nSequenceColorer.prototype.name = 'Sequence';\nSequenceColorer.prototype.shortName = 'Sequence';\n\nexport default SequenceColorer;\n","import Colorer from './Colorer';\n\nclass ChainColorer extends Colorer {\n  static id = 'CH';\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex);\n  }\n\n  getResidueColor(residue, _complex) {\n    return this.palette.getChainColor(residue.getChain()._name);\n  }\n}\n\nChainColorer.prototype.id = 'CH';\nChainColorer.prototype.name = 'Chain';\nChainColorer.prototype.shortName = 'Chain';\n\nexport default ChainColorer;\n","import Colorer from './Colorer';\nimport ResidueType from '../../chem/ResidueType';\n\nclass SecondaryStructureColorer extends Colorer {\n  static id = 'SS';\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex);\n  }\n\n  getResidueColor(residue, _complex) {\n    if (residue._type.flags & ResidueType.Flags.DNA) {\n      return this.palette.getSecondaryColor('dna');\n    }\n    if (residue._type.flags & ResidueType.Flags.RNA) {\n      return this.palette.getSecondaryColor('rna');\n    }\n    const secondary = residue.getSecondary();\n    if (secondary) {\n      let color = this.palette.getSecondaryColor(secondary.type, true);\n      if (color === undefined) {\n        color = this.palette.getSecondaryColor(secondary.generic);\n      }\n      return color;\n    }\n    return this.palette.defaultSecondaryColor;\n  }\n}\n\nSecondaryStructureColorer.prototype.id = 'SS';\nSecondaryStructureColorer.prototype.name = 'Secondary Structure';\nSecondaryStructureColorer.prototype.shortName = 'Structure';\n\nexport default SecondaryStructureColorer;\n","import Colorer from './Colorer';\n\nclass UniformColorer extends Colorer {\n  static id = 'UN';\n\n  getAtomColor(_atom, _complex) {\n    return this.opts.color;\n  }\n\n  getResidueColor(_residue, _complex) {\n    return this.opts.color;\n  }\n}\n\nUniformColorer.prototype.id = 'UN';\nUniformColorer.prototype.name = 'Uniform';\nUniformColorer.prototype.shortName = 'Uniform';\n\nexport default UniformColorer;\n","import Colorer from './Colorer';\nimport selectors from '../../chem/selectors';\n\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @exports ConditionalColorer\n * @augments Colorer\n * @constructor\n * @classdesc Bicolor coloring algorithm based on a selector string used as a condition.\n */\nclass ConditionalColorer extends Colorer {\n  static id = 'CO';\n\n  constructor(opts) {\n    super(opts);\n    const parsed = selectors.parse(this.opts.subset);\n    this._subsetCached = parsed.error ? selectors.none() : parsed.selector;\n  }\n\n  getAtomColor(atom, _complex) {\n    return this._subsetCached.includesAtom(atom) ? this.opts.color : this.opts.baseColor;\n  }\n\n  getResidueColor(residue, _complex) {\n    const subset = this._subsetCached;\n    let includes = true;\n    const atoms = residue._atoms;\n    for (let i = 0, n = atoms.length; i < n; ++i) {\n      includes = includes && subset.includesAtom(atoms[i]);\n    }\n    return includes ? this.opts.color : this.opts.baseColor;\n  }\n}\n\nConditionalColorer.prototype.id = 'CO';\nConditionalColorer.prototype.name = 'Conditional';\nConditionalColorer.prototype.shortName = 'Conditional';\n\nexport default ConditionalColorer;\n","import Colorer from './Colorer';\n\nclass ConformationColorer extends Colorer {\n  static id = 'CF';\n\n  getAtomColor(atom, _complex) {\n    return this.palette.getChainColor(String.fromCharCode(atom.location));\n  }\n\n  getResidueColor(_residue, _complex) {\n    return this.palette.defaultResidueColor;\n  }\n}\n\nConformationColorer.prototype.id = 'CF';\nConformationColorer.prototype.name = 'Conformation';\nConformationColorer.prototype.shortName = 'Conformation';\n\nexport default ConformationColorer;\n","import Colorer from './Colorer';\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @see Temperature\n *\n * @exports TemperatureColorer\n * @augments Colorer\n * @constructor\n * @classdesc Coloring algorithm based on temperature of chemical element.\n */\nclass TemperatureColorer extends Colorer {\n  static id = 'TM';\n\n  getAtomColor(atom, _complex) {\n    const { opts } = this;\n    let factor = 1;\n    if (atom.temperature && opts) {\n      if (opts.min === opts.max) {\n        factor = atom.temperature > opts.max ? 1 : 0;\n      } else {\n        factor = (atom.temperature - opts.min) / (opts.max - opts.min);\n      }\n      return this.palette.getGradientColor(factor, opts.gradient);\n    }\n    return this.palette.defaultGradientColor;\n  }\n\n  getResidueColor(residue, _complex) {\n    const { opts } = this;\n    if (!opts) {\n      return this.palette.defaultGradientColor;\n    }\n    if (residue.temperature) {\n      let factor = 0;\n      if (opts.min === opts.max) {\n        factor = residue.temperature > opts.max ? 1 : 0;\n      } else {\n        factor = (residue.temperature - opts.min) / (opts.max - opts.min);\n      }\n      return this.palette.getGradientColor(factor, opts.gradient);\n    }\n    return this.palette.defaultGradientColor;\n  }\n}\n\nTemperatureColorer.prototype.id = 'TM'; // [T]e[M]perature\nTemperatureColorer.prototype.name = 'Temperature';\nTemperatureColorer.prototype.shortName = 'Temperature';\n\nexport default TemperatureColorer;\n","import Colorer from './Colorer';\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @see Occupancy\n *\n * @exports OccupancyColorer\n * @augments Occupancy\n * @constructor\n * @classdesc Coloring algorithm based on occupancy of chemical element.\n */\nclass OccupancyColorer extends Colorer {\n  static id = 'OC';\n\n  getAtomColor(atom, _complex) {\n    const { opts } = this;\n    if (atom.occupancy && opts) {\n      const factor = 1 - atom.occupancy;\n      return this.palette.getGradientColor(factor, opts.gradient);\n    }\n    return this.palette.defaultGradientColor;\n  }\n\n  getResidueColor(residue, _complex) {\n    const { opts } = this;\n    if (!opts) {\n      return this.palette.defaultGradientColor;\n    }\n    if (residue.occupancy > 0) {\n      const factor = 1 - residue.occupancy;\n      return this.palette.getGradientColor(factor, opts.gradient);\n    }\n    return this.palette.defaultGradientColor;\n  }\n}\n\nOccupancyColorer.prototype.id = 'OC'; // [OC]cupancy\nOccupancyColorer.prototype.name = 'Occupancy';\nOccupancyColorer.prototype.shortName = 'Occupancy';\n\nexport default OccupancyColorer;\n","import Colorer from './Colorer';\n\nclass HydrophobicityColorer extends Colorer {\n  static id = 'HY';\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex);\n  }\n\n  getResidueColor(residue, _complex) {\n    let color = this.palette.defaultResidueColor;\n    if (residue._type.hydrophobicity) {\n      // Kyte Doolitle hydro [-4.5,4.5]->[0.1]\n      const min = -4.5;\n      const max = 4.5;\n      color = this.palette.getGradientColor((residue._type.hydrophobicity - min) / (max - min), this.opts.gradient);\n    }\n    return color;\n  }\n}\n\nHydrophobicityColorer.prototype.id = 'HY';\nHydrophobicityColorer.prototype.name = 'Hydrophobicity';\nHydrophobicityColorer.prototype.shortName = 'Hydrophobicity';\n\nexport default HydrophobicityColorer;\n","import Colorer from './Colorer';\n\nclass MoleculeColorer extends Colorer {\n  static id = 'MO';\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex);\n  }\n\n  getResidueColor(residue, _complex) {\n    const molecule = residue._molecule;\n    const count = _complex.getMoleculeCount();\n    if (count > 1) {\n      return this.palette.getGradientColor((molecule.index - 1) / (count - 1), this.opts.gradient);\n    }\n    return this.palette.getGradientColor(0, this.opts.gradient);\n  }\n}\n\nMoleculeColorer.prototype.id = 'MO';\nMoleculeColorer.prototype.name = 'Molecule';\nMoleculeColorer.prototype.shortName = 'Molecule';\n\nexport default MoleculeColorer;\n","import Colorer from './Colorer';\nimport Atom from '../../chem/Atom';\n\nfunction scaleColor(c, factor) {\n  const r1 = (c >> 16) & 0xff;\n  const g1 = (c >> 8) & 0xff;\n  const b1 = c & 0xff;\n  const r = factor * r1;\n  const g = factor * g1;\n  const b = factor * b1;\n  return (r << 16) | (g << 8) | b;\n}\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @exports CarbonColorer\n * @augments Colorer\n * @constructor\n * @classdesc Bicolor coloring algorithm based on selection carbon atoms.\n */\nclass CarbonColorer extends Colorer {\n  static id = 'CB';\n\n  getAtomColor(atom, _complex) {\n    const colorCarbon = this.opts.color;\n    const colorNotCarbon = scaleColor(colorCarbon, this.opts.factor);\n    return (atom.flags & Atom.Flags.CARBON) ? colorCarbon : colorNotCarbon;\n  }\n\n  getResidueColor(_residue, _complex) {\n    return this.opts.color;\n  }\n}\n\nCarbonColorer.prototype.id = 'CB';\nCarbonColorer.prototype.name = 'Carbon';\nCarbonColorer.prototype.shortName = 'Carbon';\n\nexport default CarbonColorer;\n","import EntityList from '../utils/EntityList';\n\nimport ElementColorer from './colorers/ElementColorer';\nimport ResidueTypeColorer from './colorers/ResidueTypeColorer';\nimport SequenceColorer from './colorers/SequenceColorer';\nimport ChainColorer from './colorers/ChainColorer';\nimport SecondaryStructureColorer from './colorers/SecondaryStructureColorer';\nimport UniformColorer from './colorers/UniformColorer';\nimport ConditionalColorer from './colorers/ConditionalColorer';\nimport ConformationColorer from './colorers/ConformationColorer';\nimport TemperatureColorer from './colorers/TemperatureColorer';\nimport OccupancyColorer from './colorers/OccupancyColorer';\nimport HydrophobicityColorer from './colorers/HydrophobicityColorer';\nimport MoleculeColorer from './colorers/MoleculeColorer';\nimport CarbonColorer from './colorers/CarbonColorer';\n\nconst colorers = new EntityList([\n  ElementColorer,\n  ResidueTypeColorer,\n  SequenceColorer,\n  ChainColorer,\n  SecondaryStructureColorer,\n  UniformColorer,\n  ConditionalColorer,\n  ConformationColorer,\n  TemperatureColorer,\n  OccupancyColorer,\n  HydrophobicityColorer,\n  MoleculeColorer,\n  CarbonColorer,\n]);\n\nexport default colorers;\n","import * as THREE from 'three';\nimport EntityList from '../utils/EntityList';\n\nfunction neutralColor(intensity) {\n  return new THREE.Color(intensity, intensity, intensity);\n}\n\nconst materialList = [\n  {\n    id: 'DF',\n    name: 'Diffuse',\n    shortName: 'Diffuse',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 1,\n      opacity: 1.0,\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: false,\n    },\n  }, {\n    id: 'SF',\n    name: 'Soft Plastic',\n    shortName: 'Soft',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.1),\n      shininess: 30,\n      opacity: 1.0,\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: false,\n    },\n  }, {\n    id: 'PL',\n    name: 'Glossy Plastic',\n    shortName: 'Glossy',\n    uberOptions: {\n      diffuse: neutralColor(0.56),\n      specular: neutralColor(0.28),\n      shininess: 100,\n      opacity: 1.0,\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: false,\n    },\n  }, {\n    id: 'ME',\n    name: 'Metal',\n    shortName: 'Metal',\n    uberOptions: {\n      diffuse: neutralColor(0.56),\n      specular: neutralColor(0.55),\n      shininess: 30,\n      opacity: 1.0,\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: false,\n    },\n  }, {\n    id: 'TR',\n    name: 'Transparent',\n    shortName: 'Transparent',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 1,\n      opacity: 0.5,\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: true,\n      toonShading: false,\n    },\n  }, {\n    id: 'GL',\n    name: 'Glass',\n    shortName: 'Glass',\n    uberOptions: {\n      diffuse: neutralColor(0.50),\n      specular: neutralColor(0.65),\n      shininess: 100,\n      opacity: 0.5,\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: true,\n      toonShading: false,\n    },\n  }, {\n    id: 'BA',\n    name: 'Backdrop',\n    shortName: 'Backdrop',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 1,\n      opacity: 1.0,\n    },\n    values: {\n      lights: false,\n      fog: false,\n      depthWrite: false,\n      transparent: false,\n      toonShading: false,\n    },\n  }, {\n    id: 'TN',\n    name: 'Toon',\n    shortName: 'Toon',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 1,\n      opacity: 1.0,\n      toonBorder: new THREE.Vector3(0.35, 0.7, 1.0),\n      toonRange: new THREE.Vector2(0.2, 0.75),\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: true,\n    },\n  }, {\n    id: 'FL',\n    name: 'Flat',\n    shortName: 'Flat',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 0,\n      opacity: 1.0,\n    },\n    values: {\n      lights: false,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n    },\n  },\n];\n\nconst materials = new EntityList(materialList);\n\nexport default materials;\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport UberMaterial from './shaders/UberMaterial';\nimport gfxutils from './gfxutils';\nimport settings from '../settings';\nimport materials from './materials';\nimport chem from '../chem';\n\nconst { selectors } = chem;\n\nclass Representation {\n  constructor(index, mode, colorer, selector) {\n    const startMaterialValues = {\n      clipPlane: settings.now.draft.clipPlane,\n      fogTransparent: settings.now.bg.transparent,\n      shadowmap: settings.now.shadow.on,\n      shadowmapType: settings.now.shadow.type,\n    };\n    this.index = index;\n    this.mode = mode;\n    this.colorer = colorer;\n    this.selector = selector;\n    this.selectorString = '';\n    this.count = 0;\n    this.material = new UberMaterial();\n    this.material.setValues(startMaterialValues);\n    this.material.setUberOptions({ fogAlpha: settings.now.fogAlpha });\n    this.materialPreset = materials.first;\n    this.needsRebuild = true;\n    this.visible = true;\n\n    // apply mode params & preset\n    this.setMode(mode);\n  }\n\n\n  markAtoms(complex) {\n    this.count = complex.markAtoms(this.selector, 1 << this.index);\n    this.needsRebuild = true;\n    return this.count;\n  }\n\n  unmarkAtoms(complex) {\n    complex.clearAtomBits(1 << this.index);\n    this.count = 0;\n  }\n\n  setMode(mode) {\n    this.mode = mode;\n  }\n\n  setMaterialPreset(preset) {\n    this.materialPreset = preset;\n    this.material.setUberOptions(preset.uberOptions);\n    this.material.setValues(preset.values);\n  }\n\n  reset() {\n    this.geo = null;\n    this.selectionGeo = null;\n  }\n\n  buildGeometry(complex) {\n    this.reset();\n    this.needsRebuild = false;\n\n    if (settings.now.ao) {\n      this.material.setValues({ normalsToGBuffer: settings.now.ao });\n    }\n\n    this.geo = this.mode.buildGeometry(complex, this.colorer, 1 << this.index, this.material);\n\n    if (this.material.uberOptions.opacity < 0.99 && settings.now.transparency === 'prepass') {\n      gfxutils.processTransparentMaterial(this.geo, this.material);\n    }\n    this.geo.visible = this.visible;\n\n    gfxutils.processObjRenderOrder(this.geo, this.materialPreset.id);\n    gfxutils.processColFromPosMaterial(this.geo, this.material);\n\n    if (settings.now.shadow.on) {\n      gfxutils.createShadowmapMaterial(this.geo, this.material);\n    }\n\n    return this.geo;\n  }\n\n  buildSelectionGeometry(mask) {\n    let sg = null;\n\n    if (this.geo && ('getSubset' in this.geo)) {\n      const meshes = this.geo.getSubset(mask);\n      if (meshes && meshes.length > 0) {\n        sg = new THREE.Group();\n        sg.matrixAutoUpdate = false;\n        sg.matrix = this.geo.matrix;\n\n        for (let j = 0; j < meshes.length; j++) {\n          const m = meshes[j];\n          sg.add(m);\n        }\n      }\n    }\n\n    if (sg) {\n      sg.visible = this.visible;\n    }\n\n    this.selectionGeo = sg;\n    return this.selectionGeo;\n  }\n\n  /**\n   * Create object that represents difference between current and another rep\n   * anotherRep could be undefined. In this case everything is reported.\n   */\n  compare(repSettings) {\n    const diff = {};\n\n    const selStr = String(this.selector);\n    if (!repSettings || selStr.valueOf() !== String(repSettings.selector).valueOf()) {\n      diff.selector = selStr;\n    }\n\n    const modeDiff = this.mode.identify();\n    if (!repSettings || Array.isArray(modeDiff) || modeDiff !== repSettings.mode) {\n      diff.mode = modeDiff;\n    }\n\n    const colorerDiff = this.colorer.identify();\n    if (!repSettings || Array.isArray(colorerDiff) || colorerDiff !== repSettings.colorer) {\n      diff.colorer = colorerDiff;\n    }\n\n    if (!repSettings || this.materialPreset.id !== repSettings.material) {\n      diff.material = this.materialPreset.id;\n    }\n\n    return diff;\n  }\n\n  /**\n   * Change representation. Write fields what was changed into new object, return it.\n   */\n  change(repSettings, complex, mode, color) {\n    const diff = {};\n\n    // modify selector\n    if (repSettings.selector) {\n      const newSelectorObject = selectors.parse(repSettings.selector).selector;\n      const newSelector = String(newSelectorObject);\n      if (this.selectorString !== newSelector) {\n        diff.selector = newSelector;\n        this.selectorString = newSelector;\n        this.selector = newSelectorObject;\n        this.markAtoms(complex);\n      }\n    }\n\n    // modify mode\n    if (repSettings.mode) {\n      const newMode = repSettings.mode;\n      if (!_.isEqual(this.mode.identify(), newMode)) {\n        diff.mode = newMode;\n        this.setMode(mode);\n      }\n    }\n\n    // modify colorer\n    if (repSettings.colorer) {\n      const newColorer = repSettings.colorer;\n      if (!_.isEqual(this.colorer.identify(), newColorer)) {\n        diff.colorer = newColorer;\n        this.colorer = color;\n      }\n    }\n\n    // modify material\n    if (repSettings.material) {\n      const newMaterial = repSettings.material;\n      if (!_.isEqual(this.materialPreset.id, newMaterial)) {\n        diff.material = newMaterial;\n        this.setMaterialPreset(materials.get(repSettings.material));\n      }\n    }\n\n    return diff;\n  }\n\n  show(visible) {\n    this.visible = visible;\n    if (this.geo) {\n      this.geo.visible = visible;\n    }\n    if (this.selectionGeo) {\n      this.selectionGeo.visible = visible;\n    }\n  }\n}\n\nexport default Representation;\n","import * as THREE from 'three';\nimport logger from './utils/logger';\nimport gfxutils from './gfx/gfxutils';\nimport './gfx/modes';\n\nfunction _traverseComponentGroups(root, component, callback) {\n  const { children } = root;\n  if (!children) {\n    return;\n  }\n\n  for (let i = 0, n = children.length; i < n; ++i) {\n    const child = children[i];\n    if (child._component === component) {\n      callback(child);\n    }\n    if (child instanceof gfxutils.RCGroup) {\n      _traverseComponentGroups(child, component, callback);\n    }\n  }\n}\n\nfunction ComplexEditor() {\n}\n\nclass ComplexComponentEditor extends ComplexEditor {\n  constructor(complexVisual) {\n    super();\n    this._complexVisual = complexVisual;\n    this._inProgress = false;\n  }\n\n  begin() {\n    const complex = this._complexVisual.getComplex();\n\n    // init component matrices\n    this._componentTransforms = [];\n    for (let i = 0; i < complex._components.length; ++i) {\n      const component = complex._components[i];\n      this._componentTransforms[component._index] = new THREE.Object3D();\n    }\n\n    this._inProgress = true;\n\n    return true;\n  }\n\n  apply() {\n    if (!this._inProgress) {\n      return;\n    }\n\n    const complex = this._complexVisual.getComplex();\n\n    for (let i = 0; i < complex._components.length; ++i) {\n      this._bakeComponentTransform(complex._components[i]);\n    }\n\n    complex.onAtomPositionChanged();\n\n    this._resetComponentTransform();\n\n    this._complexVisual.finalizeEdit();\n  }\n\n  discard() {\n    if (!this._inProgress) {\n      return;\n    }\n\n    this._resetComponentTransform();\n\n    this._complexVisual.finalizeEdit();\n  }\n\n  getAltObj() {\n    const res = {\n      objects: [],\n      pivot: new THREE.Vector3(0, 0, 0),\n    };\n\n    const visual = this._complexVisual;\n    const component = visual.getSelectedComponent();\n\n    if (component === null) {\n      return res;\n    }\n\n    const selection = this._complexVisual.getSelectionGeo();\n    const selectionMask = 1 << visual.getSelectionBit();\n    let i;\n    let j;\n    let reprNode;\n    let geo;\n\n    // find all geo nodes for this component\n    _traverseComponentGroups(visual, component, (child) => {\n      res.objects.push(child);\n    });\n\n    // find all selection nodes for this component\n    for (i = 0; i < selection.children.length; ++i) {\n      reprNode = selection.children[i];\n      for (j = 0; j < reprNode.children.length; ++j) {\n        geo = reprNode.children[j];\n        if (geo.hasOwnProperty('_component') && geo._component === component) {\n          res.objects.push(geo);\n        }\n      }\n    }\n\n    // add dummy object that stores component transformation\n    res.objects.push(this._componentTransforms[component._index]);\n\n    const bbmin = new THREE.Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n    const bbmax = new THREE.Vector3(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n\n    component.forEachResidue((residue) => {\n      const atoms = residue._atoms;\n      for (j = 0; j < atoms.length; ++j) {\n        if (atoms[j].mask & selectionMask) {\n          bbmin.min(atoms[j].position);\n          bbmax.max(atoms[j].position);\n        }\n      }\n    });\n\n    res.pivot.lerpVectors(bbmin, bbmax, 0.5);\n    return res;\n  }\n\n  _bakeComponentTransform(component) {\n    const t = this._componentTransforms[component._index];\n    if (t && (!(t.position.x === 0 && t.position.y === 0 && t.position.z === 0)\n      || !(t.quaternion.x === 0 && t.quaternion.y === 0 && t.quaternion.z === 0 && t.quaternion.w === 1))) {\n      t.updateMatrix();\n\n      component.forEachResidue((residue) => {\n        const atoms = residue._atoms;\n        for (let j = 0; j < atoms.length; ++j) {\n          atoms[j].position.applyMatrix4(t.matrix);\n        }\n      });\n    }\n  }\n\n  _resetComponentTransform() {\n    const visual = this._complexVisual;\n    const selection = this._complexVisual.getSelectionGeo();\n    let i;\n    let j;\n    let reprNode;\n    let geo;\n\n    for (i = 0; i < this._componentTransforms.length; ++i) {\n      geo = this._componentTransforms[i];\n      geo.position.set(0, 0, 0);\n      geo.quaternion.set(0, 0, 0, 1);\n    }\n\n    // reset all geo nodes\n    for (i = 0; i < visual.children.length; ++i) {\n      reprNode = visual.children[i];\n      for (j = 0; j < reprNode.children.length; ++j) {\n        geo = reprNode.children[j];\n        if (geo.hasOwnProperty('_component')) {\n          geo.position.set(0, 0, 0);\n          geo.quaternion.set(0, 0, 0, 1);\n        }\n      }\n    }\n\n    // reset all selection nodes\n    for (i = 0; i < selection.children.length; ++i) {\n      reprNode = selection.children[i];\n      for (j = 0; j < reprNode.children.length; ++j) {\n        geo = reprNode.children[j];\n        if (geo.hasOwnProperty('_component')) {\n          geo.position.set(0, 0, 0);\n          geo.quaternion.set(0, 0, 0, 1);\n        }\n      }\n    }\n  }\n}\n\n\nclass ComplexFragmentEditor extends ComplexEditor {\n  constructor(complexVisual) {\n    super();\n    this._complexVisual = complexVisual;\n    this._inProgress = false;\n  }\n\n  begin() {\n    const visual = this._complexVisual;\n    const selection = this._complexVisual.getSelectionGeo();\n\n    const atoms = this._getSelectionBorderAtoms();\n    if (atoms.length < 1 || atoms.length > 2) {\n      logger.error('Can only edit fragments with one or two bound atoms.');\n      return false;\n    }\n\n    this._fragmentBoundAtoms = atoms;\n\n    const selectionMask = 1 << visual.getSelectionBit();\n\n    // hide selected fragment in main model\n    visual.disableSubset(selectionMask, true);\n\n    // hide selection geo in main model\n    for (let k = 0; k < selection.children.length; ++k) {\n      selection.children[k].visible = false;\n    }\n\n    // create visible fragment representation to rotate\n    const pivotPos = atoms[0].position.clone();\n\n    if (atoms.length === 2) {\n      pivotPos.lerp(atoms[1].position, 0.5);\n    }\n\n    this._fragmentGeo = new THREE.Group();\n    visual.add(this._fragmentGeo);\n    this._fragmentGeo.position.copy(pivotPos);\n\n    this._fragmentSelectionGeo = new THREE.Group();\n    selection.add(this._fragmentSelectionGeo);\n    this._fragmentSelectionGeo.position.copy(pivotPos);\n\n    const offset = pivotPos.clone();\n    offset.negate();\n\n    for (let i = 0; i < visual.children.length; ++i) {\n      const g = visual.children[i];\n      if (!('getSubset' in g)) {\n        continue;\n      }\n\n      const vg = new THREE.Group();\n      this._fragmentGeo.add(vg);\n\n      const sg = new THREE.Group();\n      this._fragmentSelectionGeo.add(sg);\n\n      const meshes = g.getSubset(selectionMask, true);\n      for (let j = 0; j < meshes.length; j++) {\n        const m = meshes[j];\n        vg.add(m);\n        m.position.copy(offset);\n      }\n\n      const smeshes = g.getSubset(selectionMask, true);\n      for (let h = 0; h < smeshes.length; h++) {\n        const sm = smeshes[h];\n        sg.add(sm);\n        sm.position.copy(offset);\n      }\n    }\n\n    gfxutils.applySelectionMaterial(this._fragmentSelectionGeo);\n\n    this._inProgress = true;\n    return true;\n  }\n\n  apply() {\n    if (!this._inProgress) {\n      return;\n    }\n\n    const visual = this._complexVisual;\n    const selectionBit = visual.getSelectionBit();\n\n    const p = this._fragmentGeo.position;\n    const m = this._fragmentGeo.matrix.clone();\n    m.multiply(new THREE.Matrix4().makeTranslation(-p.x, -p.y, -p.z));\n\n    this._bakeAtomTransform(m, 1 << selectionBit);\n\n    // show selected fragment in main model\n    visual.enableSubset(1 << selectionBit, true);\n\n    visual.getComplex().onAtomPositionChanged();\n\n    visual.finalizeEdit();\n  }\n\n  discard() {\n    if (!this._inProgress) {\n      return;\n    }\n\n    const visual = this._complexVisual;\n    const selection = this._complexVisual.getSelectionGeo();\n\n    this._fragmentGeo.parent.remove(this._fragmentGeo);\n\n    // show selected fragment in main model\n    visual.enableSubset(1 << visual.getSelectionBit(), true);\n\n    // show selection geo in main model (+ remove fragment selection geo)\n    for (let i = 0; i < selection.children.length; ++i) {\n      const node = selection.children[i];\n      if (node.visible) {\n        selection.remove(node);\n      } else {\n        node.visible = true;\n      }\n    }\n\n    visual.finalizeEdit();\n  }\n\n  isFreeRotationAllowed() {\n    return (this._fragmentBoundAtoms.length < 2);\n  }\n\n  getAltObj() {\n    const res = {\n      objects: [],\n      pivot: new THREE.Vector3(0, 0, 0),\n    };\n\n    res.objects.push(this._fragmentGeo, this._fragmentSelectionGeo);\n\n    const boundAtoms = this._fragmentBoundAtoms;\n    if (boundAtoms.length === 1) {\n      if (boundAtoms[0].bonds.length === 1) {\n        // single external bond allows rotation about bond axis\n        const bond = boundAtoms[0].bonds[0];\n        res.axis = new THREE.Vector3().subVectors(bond._right.position, bond._left.position);\n        res.axis.normalize();\n        res.axis.transformDirection(this._complexVisual.matrixWorld);\n      }\n    } else if (boundAtoms.length === 2) {\n      // two bound atoms allow rotation only about axis running through their centers\n      res.axis = new THREE.Vector3().subVectors(boundAtoms[1].position, boundAtoms[0].position);\n      res.axis.normalize();\n      res.axis.transformDirection(this._complexVisual.matrixWorld);\n    }\n\n    return res;\n  }\n\n  _getSelectionBorderAtoms() {\n    const complex = this._complexVisual.getComplex();\n\n    const selectionMask = 1 << this._complexVisual.getSelectionBit();\n    const atomHash = {};\n\n    complex.forEachBond((bond) => {\n      if (bond._left.mask & selectionMask) {\n        if ((bond._right.mask & selectionMask) === 0) {\n          atomHash[bond._left.index] = 1;\n        }\n      } else if (bond._right.mask & selectionMask) {\n        atomHash[bond._right.index] = 1;\n      }\n    });\n\n    const atoms = [];\n    const keys = Object.keys(atomHash);\n    for (let i = 0, n = keys.length; i < n; ++i) {\n      const idx = keys[i];\n      atoms.push(complex._atoms[idx]);\n    }\n\n    return atoms;\n  }\n\n  _bakeAtomTransform(matrix, mask) {\n    this._complexVisual.getComplex().forEachAtom((atom) => {\n      if (atom.mask & mask) {\n        atom.position.applyMatrix4(matrix);\n      }\n    });\n  }\n}\n\n\nexport default {\n  ComponentEditor: ComplexComponentEditor,\n  FragmentEditor: ComplexFragmentEditor,\n};\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport utils from './utils';\nimport logger from './utils/logger';\nimport chem from './chem';\nimport settings from './settings';\nimport gfxutils from './gfx/gfxutils';\nimport modes from './gfx/modes';\nimport colorers from './gfx/colorers';\nimport palettes from './gfx/palettes';\nimport materials from './gfx/materials';\nimport Representation from './gfx/Representation';\nimport Visual from './Visual';\nimport ComplexVisualEdit from './ComplexVisualEdit';\n\nconst { selectors } = chem;\n\nfunction lookupAndCreate(entityList, specs) {\n  if (!Array.isArray(specs)) {\n    specs = [specs];\n  }\n  const [id, opts] = specs;\n  const Entity = entityList.get(id) || entityList.first;\n  return new Entity(opts);\n}\n\nclass ComplexVisual extends Visual {\n  constructor(name, dataSource) {\n    super(name, dataSource);\n    this._complex = dataSource;\n\n    /** @type {Representation[]} */\n    this._reprList = [];\n    /** @type {?Representation} */\n    this._repr = null;\n    this._reprListChanged = true;\n\n    this._selectionBit = 0;\n    this._reprUsedBits = 0;\n    this._selectionCount = 0;\n\n    this._selectionGeometry = new THREE.Group();\n  }\n\n  getBoundaries() {\n    return this._complex.getBoundaries();\n  }\n\n  release() {\n    if (this._selectionGeometry.parent) {\n      this._selectionGeometry.remove(this._selectionGeometry);\n    }\n    Visual.prototype.release.call(this);\n  }\n\n  getComplex() {\n    return this._complex;\n  }\n\n  getSelectionCount() {\n    return this._selectionCount;\n  }\n\n  getSelectionGeo() {\n    return this._selectionGeometry;\n  }\n\n  getSelectionBit() {\n    return this._selectionBit;\n  }\n\n  getEditor() {\n    return this._editor;\n  }\n\n  resetReps(reps) {\n    // Create all necessary representations\n    if (this._complex) {\n      this._complex.clearAtomBits(~0);\n    }\n    this._reprListChanged = true;\n    this._reprUsedBits = 0;\n    this._reprList.length = reps.length;\n    for (let i = 0, n = reps.length; i < n; ++i) {\n      const rep = reps[i];\n\n      let selector;\n      let selectorString;\n      if (typeof rep.selector === 'string') {\n        selectorString = rep.selector;\n        ({ selector } = selectors.parse(selectorString));\n      } else if (typeof rep.selector === 'undefined') {\n        selectorString = settings.now.presets.default[0].selector;\n        ({ selector } = selectors.parse(selectorString));\n      } else {\n        ({ selector } = rep);\n        selectorString = selector.toString();\n      }\n      const mode = lookupAndCreate(modes, rep.mode);\n      const colorer = lookupAndCreate(colorers, rep.colorer);\n      const material = materials.get(rep.material) || materials.first;\n\n      this._reprList[i] = new Representation(i, mode, colorer, selector);\n      this._reprList[i].setMaterialPreset(material);\n      this._reprList[i].selectorString = selectorString;\n\n      if (this._complex) {\n        this._complex.markAtoms(selector, 1 << i);\n      }\n\n      this._reprUsedBits |= 1 << i;\n    }\n    this._repr = reps.length > 0 ? this._reprList[0] : null;\n\n    this._selectionBit = reps.length;\n    this._reprUsedBits |= 1 << this._selectionBit; // selection uses one bit\n    this._selectionCount = 0;\n\n    if (this._complex) {\n      this._complex.update();\n    }\n  }\n\n  /**\n   * Get number of representations created so far.\n   * @returns {number} Number of reps.\n   */\n  repCount() {\n    return this._reprList.length;\n  }\n\n  /**\n   * Get or set the current representation index.\n   * @param {number=} index - Zero-based index, up to {@link Miew#repCount()}. Defaults to the current one.\n   * @returns {number} The current index.\n   */\n  repCurrent(index) {\n    if (index >= 0 && index < this._reprList.length) {\n      this._repr = this._reprList[index];\n    } else {\n      index = this._reprList.indexOf(this._repr);\n    }\n    return index;\n  }\n\n  /**\n   * Get or set representation by index.\n   * @param {number=} index - Zero-based index, up to {@link Miew#repCount()}. Defaults to the current one.\n   * @param {object=} rep - Optional representation description.\n   * @param {string=} rep.selector - Selector string.\n   * @param {string=} rep.mode - Mode id.\n   * @param {string=} rep.colorer - Colorer id.\n   * @param {string=} rep.material - Material id.\n   * @returns {Object} {desc, index, status} field desc contains rep description, index - index of correspondent rep,\n   * status - one of three strings: 'created', 'changed', ''. 'created' means new rep was created during this function,\n   * 'changed' - rep was changed during this function. '' - something else.\n   */\n  rep(index, rep) {\n    // if index is missing then it is the current\n    if (!rep && (index === undefined || index instanceof Object)) {\n      rep = index;\n      index = this.repCurrent();\n    }\n\n    // fail if out of bounds\n    if (index < 0 || index > this._reprList.length) {\n      logger.error(`Rep ${index} does not exist!`);\n      return null;\n    }\n\n    // a special case of adding just after the end\n    if (index === this._reprList.length) {\n      const res = this.repAdd(rep);\n      logger.warn(`Rep ${index} does not exist! New representation was created.`);\n      return { desc: res.desc, index, status: 'created' };\n    }\n\n    // gather description\n    const target = this._reprList[index];\n    const desc = {\n      selector: target.selectorString,\n      mode: target.mode.identify(),\n      colorer: target.colorer.identify(),\n      material: target.materialPreset.id,\n    };\n\n    // modification is requested\n    if (rep) {\n      // modify\n      const diff = target.change(rep, this._complex,\n        lookupAndCreate(modes, rep.mode),\n        lookupAndCreate(colorers, rep.colorer));\n\n      // something was changed\n      if (!_.isEmpty(diff)) {\n        target.needsRebuild = true;\n        for (const key in diff) {\n          if (diff.hasOwnProperty(key)) {\n            desc[key] = diff[key];\n            logger.debug(`rep[${index}].${key} changed to ${diff[key]}`);\n          }\n        }\n\n        // safety trick: lower resolution for surface modes\n        if (diff.mode && target.mode.isSurface\n          && (settings.now.resolution === 'ultra' || settings.now.resolution === 'high')) {\n          logger.report('Surface resolution was changed to \"medium\" to avoid hang-ups.');\n          settings.set('resolution', 'medium');\n        }\n        return { desc, index, status: 'changed' };\n      }\n    }\n    return { desc, index, status: '' };\n  }\n\n\n  /**\n   * Get representation (not just description) by index.\n   * @param {number=} index - Zero-based index, up to {@link Miew#repCount()}. Defaults to the current one.\n   * @returns {?object} Representation.\n   */\n  repGet(index) {\n    // if index is missing then it is the current\n    if (index === undefined || index instanceof Object) {\n      index = this.repCurrent();\n    }\n\n    // fail if out of bounds\n    if (index < 0 || index >= this._reprList.length) {\n      return null;\n    }\n\n    return this._reprList[index];\n  }\n\n  _getFreeReprIdx() {\n    let bits = this._reprUsedBits;\n    for (let i = 0; i <= ComplexVisual.NUM_REPRESENTATION_BITS; ++i, bits >>= 1) {\n      if ((bits & 1) === 0) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Add new representation.\n   * @param {object=} rep - Representation description.\n   * @returns {Object} {desc, index} field desc contains added rep description, index - index of this rep.\n   */\n  repAdd(rep) {\n    if (this._reprList.length >= ComplexVisual.NUM_REPRESENTATION_BITS) {\n      return null;\n    }\n\n    const newSelectionBit = this._getFreeReprIdx();\n    if (newSelectionBit < 0) {\n      return null; // no more slots for representations\n    }\n\n    const originalSelection = this.buildSelectorFromMask(1 << this._selectionBit);\n\n    // Fill in default values\n    const def = settings.now.presets.default[0];\n    const desc = _.merge({\n      selector: def.selector,\n      mode: def.mode,\n      colorer: def.colorer,\n      material: def.material,\n    }, rep);\n\n    const selector = (typeof desc.selector === 'string') ? selectors.parse(desc.selector).selector : desc.selector;\n    const target = new Representation(\n      this._selectionBit,\n      lookupAndCreate(modes, desc.mode),\n      lookupAndCreate(colorers, desc.colorer),\n      selector,\n    );\n    target.selectorString = selector.toString();\n    target.setMaterialPreset(materials.get(desc.material));\n    target.markAtoms(this._complex);\n    this._reprList.push(target);\n\n    // change selection bit\n    this._selectionBit = newSelectionBit;\n    this._reprUsedBits |= 1 << this._selectionBit;\n\n    // restore selection using new selection bit\n    this._complex.markAtoms(originalSelection, 1 << this._selectionBit);\n\n    return { desc, index: this._reprList.length - 1 };\n  }\n\n  /**\n   * Remove representation.\n   * @param {number=} index - Zero-based representation index.\n   */\n  repRemove(index) {\n    if (index === undefined) {\n      index = this.repCurrent();\n    }\n\n    // catch out of bounds case\n    let count = this._reprList.length;\n    if (index < 0 || index >= count || count <= 1) { // do not allow to remove the single rep\n      return;\n    }\n\n    const target = this._reprList[index];\n    target.unmarkAtoms(this._complex);\n    this._reprUsedBits &= ~(1 << target.index);\n\n    this._reprList.splice(index, 1);\n\n    // update current rep\n    if (target === this._repr) {\n      --count;\n      index = index < count ? index : count - 1;\n      this._repr = this._reprList[index];\n    }\n    this._reprListChanged = true;\n  }\n\n  /**\n   * Hide representation.\n   * @param {number} index - Zero-based representation index.\n   * @param {boolean=} hide - Specify false to make rep visible, true to hide (by default).\n   */\n  repHide(index, hide) {\n    if (hide === undefined) {\n      hide = true;\n    }\n\n    // fail if out of bounds\n    if (index < 0 || index >= this._reprList.length) {\n      return;\n    }\n\n    const target = this._reprList[index];\n    target.show(!hide);\n  }\n\n  /**\n   * Select atoms with selector\n   * @param {Selector} selector - selector\n   * @param {boolean=} append - true to append selection atoms to current selection, false to rewrite selection\n   */\n  select(selector, append) {\n    if (append) {\n      this._selectionCount += this._complex.markAtomsAdditionally(selector, 1 << this._selectionBit);\n    } else {\n      this._selectionCount = this._complex.markAtoms(selector, 1 << this._selectionBit);\n    }\n    this._complex.updateStructuresMask();\n    this.rebuildSelectionGeometry();\n  }\n\n  resetSelectionMask() {\n    if (this._selectionCount !== 0) {\n      this._selectionCount = 0;\n      if (this._complex) {\n        this._complex.clearAtomBits(1 << this._selectionBit);\n      }\n    }\n  }\n\n  updateSelectionMask(pickedObj) {\n    const self = this;\n    const { atom } = pickedObj;\n    let { residue, chain, molecule } = pickedObj;\n    const setMask = 1 << this._selectionBit;\n    const clearMask = ~setMask;\n\n    if (atom) {\n      residue = atom.residue;\n      chain = residue._chain;\n      molecule = residue._molecule;\n\n      if (atom.mask & setMask) {\n        atom.mask &= clearMask;\n        residue._mask &= clearMask;\n        chain._mask &= clearMask;\n        if (molecule) {\n          molecule.mask &= clearMask;\n        }\n        this._selectionCount--;\n      } else {\n        atom.mask |= setMask;\n        this._selectionCount++;\n\n        // select residue if all atoms in it are selected\n        residue.collectMask();\n        // select chain and molecule if all residues in it are selected\n        chain.collectMask();\n        if (molecule) {\n          molecule.collectMask();\n        }\n      }\n    } else if (residue) {\n      chain = residue._chain;\n      molecule = residue._molecule;\n\n      if (residue._mask & setMask) {\n        residue._mask &= clearMask;\n        chain._mask &= clearMask;\n        residue.forEachAtom((a) => {\n          if (a.mask & setMask) {\n            a.mask &= clearMask;\n            self._selectionCount--;\n          }\n        });\n      } else {\n        residue._mask |= setMask;\n        residue.forEachAtom((a) => {\n          if (!(a.mask & setMask)) {\n            a.mask |= setMask;\n            self._selectionCount++;\n          }\n        });\n\n        // select chain and molecule if all residues in it are selected\n        chain.collectMask();\n        if (molecule) {\n          molecule.collectMask();\n        }\n      }\n    } else if (chain || molecule) {\n      const obj = chain || molecule;\n      if (obj._mask & setMask) {\n        obj._mask &= clearMask;\n        obj.forEachResidue((r) => {\n          if (r._mask & setMask) {\n            r._mask &= clearMask;\n            r.forEachAtom((a) => {\n              if (a.mask & setMask) {\n                a.mask &= clearMask;\n                self._selectionCount--;\n              }\n            });\n            r._mask &= clearMask;\n          }\n        });\n      } else {\n        obj._mask |= setMask;\n        obj.forEachResidue((r) => {\n          if (!(r._mask & setMask)) {\n            r._mask |= setMask;\n            r.forEachAtom((a) => {\n              if (!(a.mask & setMask)) {\n                a.mask |= setMask;\n                self._selectionCount++;\n              }\n            });\n            const otherObj = chain ? r.getMolecule() : r.getChain();\n            if (otherObj) {\n              otherObj.collectMask();\n            }\n          }\n        });\n      }\n    } else {\n      this.resetSelectionMask();\n    }\n  }\n\n  expandSelection() {\n    const self = this;\n    const selectionMask = 1 << this._selectionBit;\n    const tmpMask = 1 << 31;\n\n    // mark atoms to add\n    this._complex.forEachBond((bond) => {\n      if (bond._left.mask & selectionMask) {\n        if ((bond._right.mask & selectionMask) === 0) {\n          bond._right.mask |= tmpMask;\n        }\n      } else if (bond._right.mask & selectionMask) {\n        bond._left.mask |= tmpMask;\n      }\n    });\n\n    // select marked atoms\n    const deselectionMask = ~tmpMask;\n    this._complex.forEachAtom((atom) => {\n      if (atom.mask & tmpMask) {\n        atom.mask = (atom.mask & deselectionMask) | selectionMask;\n        ++self._selectionCount;\n      }\n    });\n\n    this._complex.updateStructuresMask();\n  }\n\n  shrinkSelection() {\n    const self = this;\n    const selectionMask = 1 << this._selectionBit;\n    const tmpMask = 1 << 31;\n\n    // mark atoms neighbouring to unselected ones\n    this._complex.forEachBond((bond) => {\n      if (bond._left.mask & selectionMask) {\n        if ((bond._right.mask & selectionMask) === 0) {\n          bond._left.mask |= tmpMask;\n        }\n      } else if (bond._right.mask & selectionMask) {\n        bond._right.mask |= tmpMask;\n      }\n    });\n\n    // mark hanging atoms\n    this._complex.forEachAtom((atom) => {\n      if ((atom.mask & selectionMask) && (atom.bonds.length === 1)) {\n        atom.mask |= tmpMask;\n      }\n    });\n\n    // deselect marked atoms\n    const deselectionMask = ~(selectionMask | tmpMask);\n    this._complex.forEachAtom((atom) => {\n      if (atom.mask & tmpMask) {\n        atom.mask &= deselectionMask;\n        --self._selectionCount;\n      }\n    });\n\n    this._complex.updateStructuresMask();\n  }\n\n  getSelectedComponent() {\n    const selectionMask = 1 << this._selectionBit;\n\n    let component = null;\n    let multiple = false;\n\n    // find which component is selected (exclusively)\n    this._complex.forEachAtom((atom) => {\n      if (atom.mask & selectionMask) {\n        if (component === null) {\n          component = atom.residue._component;\n        } else if (component !== atom.residue._component) {\n          multiple = true;\n        }\n      }\n    });\n\n    return multiple ? null : component;\n  }\n\n  getSelectionCenter(center, includesAtom, selRule) {\n    center.set(0.0, 0.0, 0.0);\n    let count = 0;\n\n    this._complex.forEachAtom((atom) => {\n      if (includesAtom(atom, selRule)) {\n        center.add(atom.position);\n        count++;\n      }\n    });\n    if (count === 0) {\n      return false;\n    }\n    center.divideScalar(count);\n    center.applyMatrix4(this.matrix);\n    return true;\n  }\n\n  needsRebuild() {\n    if (this._reprListChanged) {\n      return true;\n    }\n    const reprList = this._reprList;\n    for (let i = 0, n = reprList.length; i < n; ++i) {\n      const repr = reprList[i];\n      if (repr.needsRebuild) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Rebuild molecule geometry asynchronously.\n   */\n  rebuild() {\n    const self = this;\n\n    // Destroy current geometry\n    gfxutils.clearTree(this);\n\n    return new Promise(((resolve) => {\n      // Nothing to do?\n      const complex = self._complex;\n      if (!complex) {\n        resolve();\n        return;\n      }\n\n      let errorOccured = false;\n      setTimeout(() => {\n        console.time('build');\n        const reprList = self._reprList;\n        const palette = palettes.get(settings.now.palette) || palettes.first;\n        let hasGeometry = false;\n        for (let i = 0, n = reprList.length; i < n; ++i) {\n          const repr = reprList[i];\n          repr.colorer.palette = palette;\n\n          if (repr.needsRebuild) {\n            repr.reset();\n\n            try {\n              repr.buildGeometry(complex);\n            } catch (e) {\n              if (e instanceof utils.OutOfMemoryError) {\n                repr.needsRebuild = false;\n                repr.reset();\n                logger.error(`Not enough memory to build geometry for representation ${repr.index + 1}`);\n                errorOccured = true;\n              } else {\n                throw e;\n              }\n            }\n\n            if (DEBUG && !errorOccured) {\n              logger.debug(`Triangles count: ${gfxutils.countTriangles(repr.geo)}`);\n            }\n          }\n\n          hasGeometry = errorOccured || hasGeometry || gfxutils.groupHasGeometryToRender(repr.geo);\n\n          if (repr.geo) {\n            self.add(repr.geo);\n          }\n        }\n\n        self._reprListChanged = false;\n\n        console.timeEnd('build');\n        resolve();\n      }, 10);\n    }));\n  }\n\n  setNeedsRebuild() {\n    // invalidate all representations\n    const reprList = this._reprList;\n    for (let i = 0, n = reprList.length; i < n; ++i) {\n      reprList[i].needsRebuild = true;\n    }\n  }\n\n  rebuildSelectionGeometry() {\n    const mask = 1 << this._selectionBit;\n\n    gfxutils.clearTree(this._selectionGeometry);\n\n    for (let i = 0, n = this._reprList.length; i < n; ++i) {\n      const repr = this._reprList[i];\n      const sg = repr.buildSelectionGeometry(mask);\n      if (!sg) {\n        continue;\n      }\n\n      this._selectionGeometry.add(sg);\n      for (let j = 0; j < sg.children.length; j++) {\n        const m = sg.children[j];\n\n        // copy component transform (that's not applied yet)\n        // TODO make this code obsolete, accessing editor is bad\n        if (this._editor && this._editor._componentTransforms) {\n          const t = this._editor._componentTransforms[m._component._index];\n          if (t) {\n            m.position.copy(t.position);\n            m.quaternion.copy(t.quaternion);\n          }\n        }\n      }\n\n      gfxutils.applySelectionMaterial(sg);\n    }\n  }\n\n  _buildSelectorFromSortedLists(atoms, residues, chains) {\n    const complex = this._complex;\n\n    function optimizeList(list) {\n      const result = [];\n      let k = 0;\n      let first = NaN;\n      let last = NaN;\n      for (let i = 0, n = list.length; i < n; ++i) {\n        const value = list[i];\n        if (value === last + 1) {\n          last = value;\n        } else {\n          if (!Number.isNaN(first)) {\n            result[k++] = new selectors.Range(first, last);\n          }\n          first = last = value;\n        }\n      }\n      if (!Number.isNaN(first)) {\n        result[k] = new selectors.Range(first, last);\n      }\n      return result;\n    }\n\n    let expression = null;\n    if (chains.length === complex._chains.length) {\n      expression = selectors.all();\n    } else {\n      let selector;\n      if (chains.length > 0) {\n        selector = selectors.chain(chains);\n        expression = expression ? selectors.or(expression, selector) : selector;// NOSONAR\n      }\n      if (Object.keys(residues).length > 0) {\n        for (const ch in residues) {\n          if (residues.hasOwnProperty(ch)) {\n            selector = selectors.and(\n              selectors.chain(ch),\n              selectors.residx(optimizeList(residues[ch])),\n            );\n            expression = expression ? selectors.or(expression, selector) : selector;\n          }\n        }\n      }\n      if (atoms.length > 0) {\n        selector = selectors.serial(optimizeList(atoms));\n        expression = expression ? selectors.or(expression, selector) : selector;\n      }\n\n      if (!expression) {\n        expression = selectors.none();\n      }\n    }\n\n    return expression;\n  }\n\n  buildSelectorFromMask(mask) {\n    const complex = this._complex;\n    const chains = [];\n    const residues = {};\n    const atoms = [];\n\n    complex.forEachChain((chain) => {\n      if (chain._mask & mask) {\n        chains.push(chain._name);\n      }\n    });\n\n    complex.forEachResidue((residue) => {\n      if (residue._mask & mask && !(residue._chain._mask & mask)) {\n        const c = residue._chain._name;\n        if (!(c in residues)) {\n          residues[c] = [residue._index];\n        } else {\n          residues[c].push(residue._index);\n        }\n      }\n    });\n\n    complex.forEachAtom((atom) => {\n      if (atom.mask & mask && !(atom.residue._mask & mask)) {\n        atoms.push(atom.serial);\n      }\n    });\n\n    return this._buildSelectorFromSortedLists(atoms, residues, chains);\n  }\n\n  forSelectedResidues(process) {\n    const selectionMask = 1 << this._selectionBit;\n    this._complex.forEachResidue((residue) => {\n      if (residue._mask & selectionMask) {\n        process(residue);\n      }\n    });\n  }\n\n  beginComponentEdit() {\n    if (this._editor) {\n      return null;\n    }\n\n    const editor = new ComplexVisualEdit.ComponentEditor(this);\n    if (!editor.begin()) {\n      return null;\n    }\n\n    this._editor = editor;\n    return editor;\n  }\n\n  beginFragmentEdit() {\n    if (this._editor) {\n      return null;\n    }\n\n    const editor = new ComplexVisualEdit.FragmentEditor(this);\n    if (!editor.begin()) {\n      return null;\n    }\n\n    this._editor = editor;\n    return editor;\n  }\n\n  // should only be called by editors\n  finalizeEdit() {\n    this._editor = null;\n  }\n\n  setMaterialValues(values, needTraverse = false, process = undefined) {\n    for (let i = 0, n = this._reprList.length; i < n; ++i) {\n      const rep = this._reprList[i];\n      rep.material.setValues(values);\n      if (needTraverse) {\n        rep.geo.traverse((object) => {\n          if (object instanceof THREE.Mesh) {\n            object.material.setValues(values);\n\n            if (process !== undefined) {\n              process(object);\n            }\n\n            object.material.needsUpdate = true;\n          }\n        });\n      }\n    }\n  }\n\n  setUberOptions(values) {\n    for (let i = 0, n = this._reprList.length; i < n; ++i) {\n      const rep = this._reprList[i];\n      rep.material.setUberOptions(values);\n    }\n  }\n\n  /**\n   * Build selector that contains all atoms within given distance from group of atoms\n   * @param {Selector} selector - selector describing source group of atoms\n   * @param {number} radius - distance\n   * @returns {Selector} selector describing result group of atoms\n   */\n  within(selector, radius) {\n    const vw = this._complex.getVoxelWorld();\n    if (vw === null) {\n      return false;\n    }\n\n    // mark atoms of the group as selected\n    const selectionMask = 1 << this._selectionBit;\n    this._complex.markAtoms(selector, selectionMask);\n\n    // mark all atoms within distance as selected\n    if (vw) {\n      vw.forEachAtomWithinDistFromMasked(this._complex, selectionMask, Number(radius), (atom) => {\n        atom.mask |= selectionMask;\n      });\n    }\n\n    // update selection count\n    this._selectionCount = this._complex.countAtomsByMask(selectionMask);\n\n    // update secondary structure mask\n    this._complex.updateStructuresMask();\n\n    return this.buildSelectorFromMask(selectionMask);\n  }\n}\n// 32 bits = 30 bits for reps + 1 for selection + 1 for selection expansion\nComplexVisual.NUM_REPRESENTATION_BITS = 30;\n\nexport default ComplexVisual;\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexVolumeFaces from './VolumeFaces.vert';\nimport fragmentVolumeFaces from './VolumeFaces.frag';\nimport vertexVolume from './Volume.vert';\nimport fragmentVolume from './Volume.frag';\nimport vertexFarPlane from './VolumeFarPlane.vert';\nimport fragmentFarPlane from './VolumeFarPlane.frag';\nimport settings from '../../settings';\n\nconst volumeUniforms = THREE.UniformsUtils.merge([\n  {\n    volumeDim: { type: 'v3', value: new THREE.Vector3(512, 512, 512) },\n    tileTex: { type: 't', value: null },\n    tileTexSize: { type: 'v2', value: new THREE.Vector2(512, 512) },\n    tileStride: { type: 'v2', value: new THREE.Vector2(512, 512) },\n\n    boxAngles: { type: 'v3', value: new THREE.Vector3(1, 1, 1) },\n    delta: { type: 'v3', value: new THREE.Vector3(0, 0, 0) },\n\n    _isoLevel0: { type: 'v2', value: new THREE.Vector3(0.5, 0.75, 1.0) },\n    _flipV: { type: 'f', value: 0.0 },\n    _BFLeft: { type: 't', value: null },\n    _BFRight: { type: 't', value: null },\n    _FFLeft: { type: 't', value: null },\n    _FFRight: { type: 't', value: null },\n    _WFFLeft: { type: 't', value: null },\n    _WFFRight: { type: 't', value: null },\n  },\n]);\n\nfunction overrideUniforms(params, defUniforms) {\n  const uniforms = THREE.UniformsUtils.clone(defUniforms);\n  for (const p in params) {\n    if (uniforms.hasOwnProperty(p)) {\n      uniforms[p].value = params[p];\n    }\n  }\n  return uniforms;\n}\n\nfunction facesPosMaterialParams(params, sideType) {\n  return {\n    uniforms: overrideUniforms(params, {}),\n    vertexShader: vertexVolumeFaces,\n    fragmentShader: fragmentVolumeFaces,\n    transparent: false,\n    depthTest: false,\n    depthWrite: false,\n    side: sideType,\n  };\n}\n\nclass BackFacePosMaterial extends THREE.ShaderMaterial {\n  constructor(params) {\n    const backFaceParams = facesPosMaterialParams(params, THREE.BackSide);\n    super(backFaceParams);\n  }\n}\n\nclass ShaderParams {\n  constructor(params, uniforms, vertexShader, fragmentShader) {\n    this.uniforms = overrideUniforms(params, uniforms);\n    this.vertexShader = vertexShader;\n    this.fragmentShader = fragmentShader;\n    this.transparent = false;\n    this.depthTest = false;\n    this.depthWrite = false;\n    this.side = THREE.FrontSide;\n  }\n}\n\nclass BackFacePosMaterialFarPlane extends THREE.ShaderMaterial {\n  constructor(params) {\n    const matUniforms = THREE.UniformsUtils.merge([\n      {\n        aspectRatio: { type: 'f', value: 0.0 },\n        farZ: { type: 'f', value: 0.0 },\n        tanHalfFOV: { type: 'f', value: 0.0 },\n        matWorld2Volume: { type: '4fv', value: new THREE.Matrix4() },\n      },\n    ]);\n\n    const shaderParams = new ShaderParams(params, matUniforms, vertexFarPlane, fragmentFarPlane);\n    super(shaderParams);\n  }\n}\n\nclass FrontFacePosMaterial extends THREE.ShaderMaterial {\n  constructor(params) {\n    const frontFaceParams = facesPosMaterialParams(params, THREE.FrontSide);\n    super(frontFaceParams);\n  }\n}\n\nclass VolumeMaterial extends THREE.ShaderMaterial {\n  constructor(params) {\n    const shaderParams = new ShaderParams(params, volumeUniforms, vertexVolume, fragmentVolume);\n    shaderParams.transparent = true;\n    shaderParams.depthTest = true;\n\n    super(shaderParams);\n    this.updateDefines();\n  }\n\n  updateDefines() {\n    this.defines = {\n      ISO_MODE: settings.now.modes.VD.isoMode,\n      STEPS_COUNT: settings.now.modes.VD.polyComplexity[settings.now.resolution] * 100,\n    };\n    this.needsUpdate = true;\n  }\n}\n\nexport default {\n  BackFacePosMaterial,\n  BackFacePosMaterialFarPlane,\n  FrontFacePosMaterial,\n  VolumeMaterial,\n};\n","import * as THREE from 'three';\nimport VolumeMaterial from './shaders/VolumeMaterial';\nimport settings from '../settings';\n\nclass VolumeMesh extends THREE.Mesh {\n  volumeInfo = {}; // data for noise filter\n\n  constructor() {\n    const geo = new THREE.BufferGeometry();\n    super(geo);\n    this.clipPlane = new THREE.Plane();\n    const size = new THREE.Vector3(0.5, 0.5, 0.5);\n    this.size = size;\n\n    this.cullFlag = [\n      true, true, true, true,\n      true, true, true, true,\n      false, false, false, false, false, false,\n    ];\n\n    this.faces = [\n      { indices: [], norm: new THREE.Vector3(0, 0, -1) },\n      { indices: [], norm: new THREE.Vector3(0, 0, 1) },\n      { indices: [], norm: new THREE.Vector3(0, -1, 0) },\n      { indices: [], norm: new THREE.Vector3(0, 1, 0) },\n      { indices: [], norm: new THREE.Vector3(-1, 0, 0) },\n      { indices: [], norm: new THREE.Vector3(1, 0, 0) },\n      { indices: [], norm: new THREE.Vector3(0, 0, 0) },\n    ];\n\n    this.vertices = [\n      new THREE.Vector3(-size.x, -size.y, -size.z),\n      new THREE.Vector3(-size.x, size.y, -size.z),\n      new THREE.Vector3(size.x, -size.y, -size.z),\n      new THREE.Vector3(size.x, size.y, -size.z),\n      new THREE.Vector3(-size.x, -size.y, size.z),\n      new THREE.Vector3(-size.x, size.y, size.z),\n      new THREE.Vector3(size.x, -size.y, size.z),\n      new THREE.Vector3(size.x, size.y, size.z),\n      new THREE.Vector3(0.0, 0.0, 0.0), // Placeholder for section\n      new THREE.Vector3(0.0, 0.0, 0.0),\n      new THREE.Vector3(0.0, 0.0, 0.0),\n      new THREE.Vector3(0.0, 0.0, 0.0),\n      new THREE.Vector3(0.0, 0.0, 0.0),\n      new THREE.Vector3(0.0, 0.0, 0.0),\n    ];\n\n    geo.setAttribute('position', new THREE.BufferAttribute(new Float32Array(this.vertices.length * 3), 3));\n\n    this.name = 'VolumeMesh';\n  }\n\n  static _corners = [\n    // x, y, z, edge1, edge2, edge3\n    [-1, -1, -1, 0, 4, 8],\n    [1, -1, -1, 0, 5, 9],\n    [1, 1, -1, 1, 5, 10],\n    [-1, 1, -1, 1, 4, 11],\n    [-1, -1, 1, 2, 6, 8],\n    [1, -1, 1, 2, 7, 9],\n    [1, 1, 1, 3, 7, 10],\n    [-1, 1, 1, 3, 6, 11],\n  ];\n\n  static _edges = [\n    // corner1, corner2, center_x, center_y, center_z\n    [0, 1, 0, -1, -1],\n    [2, 3, 0, 1, -1],\n    [4, 5, 0, -1, 1],\n    [6, 7, 0, 1, 1],\n    [0, 3, -1, 0, -1],\n    [1, 2, 1, 0, -1],\n    [4, 7, -1, 0, 1],\n    [5, 6, 1, 0, 1],\n    [0, 4, -1, -1, 0],\n    [1, 5, 1, -1, 0],\n    [2, 6, -1, 1, 0],\n    [3, 7, 1, 1, 0],\n  ];\n\n  static _edgeIntersections = (function () {\n    const edgeIntersections = [];\n    for (let j = 0; j < 12; ++j) {\n      edgeIntersections.push(new THREE.Vector3());\n    }\n    return edgeIntersections;\n  }());\n\n  _updateVertices() {\n    // Algorithm:\n    // 1. Get plane parameters\n    // 2. Compute culling flags for all vertices\n    // 3. If intersection occurs => compute from 3 to 6 intersection points\n    const corners = VolumeMesh._corners;\n    const edges = VolumeMesh._edges;\n    const edgeIntersections = VolumeMesh._edgeIntersections;\n\n    let i;\n\n    const norm = this.clipPlane.normal;\n    const D = this.clipPlane.constant;\n\n    const vert = this.vertices;\n    const { size } = this;\n\n    const cornerMark = [0, 0, 0, 0, 0, 0, 0, 0];\n    const edgeMark = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1];\n\n    const curEdge = new THREE.Vector3();\n    let curEdgeInter = null;\n\n    function CheckX() {\n      if (norm.x === 0) return 0;\n      const x = -(norm.dot(curEdge) + D) / norm.x;\n      if (-size.x <= x && x <= size.x) {\n        curEdgeInter.set(x, curEdge.y, curEdge.z);\n        if (x === size.x) return 2;\n        if (x === -size.x) return -2;\n        return 1;\n      }\n      return 0;\n    }\n\n    function CheckY() {\n      if (norm.y === 0) return 0;\n      const y = -(norm.dot(curEdge) + D) / norm.y;\n      if (-size.y <= y && y <= size.y) {\n        curEdgeInter.set(curEdge.x, y, curEdge.z);\n        if (y === size.y) return 2;\n        if (y === -size.y) return -2;\n        return 1;\n      }\n      return 0;\n    }\n\n    function CheckZ() {\n      if (norm.z === 0) return 0;\n      const z = -(norm.dot(curEdge) + D) / norm.z;\n      if (-size.z <= z && z <= size.z) {\n        curEdgeInter.set(curEdge.x, curEdge.y, z);\n        if (z === size.z) return 2;\n        if (z === -size.z) return -2;\n        return 1;\n      }\n      return 0;\n    }\n\n    // for each edge\n    for (let curEdgeIdx = 0; curEdgeIdx < 12; ++curEdgeIdx) {\n      const curEdgeSource = edges[curEdgeIdx];\n      curEdgeInter = edgeIntersections[curEdgeIdx];\n\n      curEdge.set(curEdgeSource[2], curEdgeSource[3], curEdgeSource[4]);\n      curEdge.multiply(size);\n\n      // calculate intersection point\n      let flag = 0;\n      if (curEdgeSource[2] === 0) flag = CheckX();\n      if (curEdgeSource[3] === 0) flag = CheckY();\n      if (curEdgeSource[4] === 0) flag = CheckZ();\n\n      // mark corresponding corner (if plane cuts through one)\n      if (flag === -2) {\n        cornerMark[curEdgeSource[0]] = 1;\n      } else if (flag === 2) {\n        cornerMark[curEdgeSource[1]] = 1;\n      } else if (flag === 0) {\n        // edge is not intersected by the plane (doesn't produce a vertex)\n        edgeMark[curEdgeIdx] = 0;\n      }\n    }\n\n    const face = {\n      indices: [],\n      norm: norm.clone().negate(),\n    };\n\n    let nextVertex = 8;\n\n    // for each marked corner\n    for (i = 0; i < 8; ++i) {\n      if (cornerMark[i] === 1) {\n        // add corner as vertex to the face\n        vert[nextVertex].set(corners[i][0], corners[i][1], corners[i][2]).multiply(size);\n        face.indices.push(nextVertex++);\n        // skip adjacent edges\n        edgeMark[corners[i][3]] = 0;\n        edgeMark[corners[i][4]] = 0;\n        edgeMark[corners[i][5]] = 0;\n      }\n    }\n\n    // for each edge that has internal intersection\n    for (i = 0; i < 12; ++i) {\n      if (edgeMark[i] === 1) {\n        // add intersection point as vertex to the face\n        vert[nextVertex].copy(edgeIntersections[i]);\n        face.indices.push(nextVertex++);\n      }\n    }\n\n    this.faces[6] = face;\n\n    const diff = new THREE.Vector3();\n    const coplanarPoint = new THREE.Vector3();\n    this.clipPlane.coplanarPoint(coplanarPoint);\n    for (i = 0; i < vert.length; ++i) {\n      this.cullFlag[i] = false;\n      if (i < 8) {\n        // corners should be culled by clipping plane\n        diff.subVectors(vert[i], coplanarPoint);\n        this.cullFlag[i] = (norm.dot(diff) >= 0.0);\n      } else if (i < 8 + face.indices.length) {\n        // cross section vertices don't get culled\n        this.cullFlag[i] = true;\n      }\n    }\n\n    // write data to vertex buffer\n    const positions = this.geometry.getAttribute('position');\n    let idx = 0;\n    for (i = 0; i < vert.length; ++i) {\n      positions.array[idx++] = vert[i].x;\n      positions.array[idx++] = vert[i].y;\n      positions.array[idx++] = vert[i].z;\n    }\n    positions.needsUpdate = true;\n  }\n\n  _collectVertices(face, filter) {\n    let i;\n    const vert = this.vertices;\n    face.indices = [];\n    for (i = 0; i < vert.length; ++i) {\n      if (this.cullFlag[i] && filter(vert[i])) {\n        face.indices.push(i);\n      }\n    }\n  }\n\n  _sortIndices(face, right) {\n    let i;\n    let j;\n    const vert = this.vertices;\n    const angle = [];\n\n    const dir = new THREE.Vector3();\n    for (i = 1; i < face.indices.length; ++i) {\n      dir.subVectors(vert[face.indices[i]], vert[face.indices[0]]);\n      dir.normalize();\n      dir.cross(right);\n      dir.negate();\n      angle[i] = face.norm.dot(dir);\n    }\n\n    // Exchange sort\n    for (i = 1; i < face.indices.length - 1; ++i) {\n      for (j = i + 1; j < face.indices.length; ++j) {\n        if (angle[j] < angle[i]) {\n          // swap\n          let t = angle[i];\n          angle[i] = angle[j];\n          angle[j] = t;\n\n          t = face.indices[i];\n          face.indices[i] = face.indices[j];\n          face.indices[j] = t;\n        }\n      }\n    }\n  }\n\n  _updateIndices() {\n    // Algorithm:\n    // 1. Get plane vertices (from 3 to 6 vertices)\n    // 2. Get \"right\" vector in plane\n    // 3. Sort vertices using Graham-like method\n    // 4. Create indices\n\n    let i;\n    let faceIdx;\n    let face;\n    const vert = this.vertices;\n    const { size } = this;\n\n    this._collectVertices(this.faces[0], (vertex) => vertex.z === -size.z);\n    this._collectVertices(this.faces[1], (vertex) => vertex.z === size.z);\n    this._collectVertices(this.faces[2], (vertex) => vertex.y === -size.y);\n    this._collectVertices(this.faces[3], (vertex) => vertex.y === size.y);\n    this._collectVertices(this.faces[4], (vertex) => vertex.x === -size.x);\n    this._collectVertices(this.faces[5], (vertex) => vertex.x === size.x);\n\n    const vCenter = new THREE.Vector3();\n    const vRight = new THREE.Vector3();\n    const vDir = new THREE.Vector3();\n\n    for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n      face = this.faces[faceIdx];\n\n      if (face.indices.length === 0) continue;\n\n      vCenter.set(0, 0, 0);\n      for (i = 0; i < face.indices.length; ++i) {\n        vCenter.add(vert[face.indices[i]]);\n      }\n      vCenter.multiplyScalar(1.0 / face.indices.length);\n      vRight.subVectors(vert[face.indices[0]], vCenter);\n      vRight.normalize();\n\n      const rightProj = [];\n      for (i = 0; i < face.indices.length; ++i) {\n        vDir.subVectors(vert[face.indices[i]], vCenter);\n        rightProj[i] = vDir.dot(vRight);\n      }\n      for (i = 1; i < face.indices.length; ++i) {\n        if (rightProj[i] < rightProj[0]) {\n          // swap\n          let t = rightProj[0];\n          rightProj[0] = rightProj[i];\n          rightProj[i] = t;\n\n          [t] = face.indices;\n          face.indices[0] = face.indices[i];\n          face.indices[i] = t;\n        }\n      }\n\n      this._sortIndices(face, vRight);\n    }\n\n    let numIndices = 0;\n    for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n      face = this.faces[faceIdx];\n      if (face.indices.length >= 3) {\n        numIndices += 3 * (face.indices.length - 2);\n      }\n    }\n    let offset = 0;\n    const indices = new Uint16Array(numIndices);\n    for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n      face = this.faces[faceIdx];\n      for (i = 0; i < face.indices.length - 2; ++i) {\n        indices[offset] = face.indices[0]; // eslint-disable-line prefer-destructuring\n        indices[offset + 1] = face.indices[i + 1];\n        indices[offset + 2] = face.indices[i + 2];\n        offset += 3;\n      }\n    }\n\n    this.geometry.setIndex(new THREE.BufferAttribute(indices, 1));\n  }\n\n  setDataSource(dataSource) {\n    const vm = new VolumeMaterial.VolumeMaterial();\n    const dim = dataSource.getDimensions();\n    const stride = dataSource.getTiledTextureStride();\n    const texture = dataSource.buildTiledTexture();\n    const bbox = dataSource.getBox();\n    vm.uniforms.volumeDim.value.set(dim[0], dim[1], dim[2]);\n    vm.uniforms.tileTex.value = texture;\n    vm.uniforms.tileTexSize.value.set(texture.image.width, texture.image.height);\n    vm.uniforms.tileStride.value.set(stride[0], stride[1]);\n    Object.assign(this.volumeInfo, dataSource.getVolumeInfo());\n\n    const volInfo = this.volumeInfo;\n    vm.uniforms.delta.value.copy(volInfo.delta);\n    vm.uniforms.boxAngles.value.set(volInfo.obtuseAngle[0], volInfo.obtuseAngle[1], volInfo.obtuseAngle[2]);\n\n    this.material = vm;\n\n    bbox.getSize(this.scale);\n    bbox.getCenter(this.position);\n  }\n\n  _updateIsoLevel() {\n    const { kSigma, kSigmaMed, kSigmaMax } = settings.now.modes.VD;\n    const volInfo = this.volumeInfo;\n    const mean = volInfo.dmean - volInfo.dmin;\n    const span = volInfo.dmax - volInfo.dmin;\n    const level = (k) => (mean + k * volInfo.sd) / span;\n    this.material.uniforms._isoLevel0.value.set(level(kSigma), level(kSigmaMed), level(kSigmaMax));\n  }\n\n  static _nearClipPlaneOffset = 0.2;\n\n  static _pos = new THREE.Vector3();\n\n  static _norm = new THREE.Vector3();\n\n  static _norm4D = new THREE.Vector4();\n\n  static _matrixWorldToLocal = new THREE.Matrix4();\n\n  static _clipPlane = new THREE.Plane();\n\n  rebuild(camera) {\n    const nearClipPlaneOffset = VolumeMesh._nearClipPlaneOffset;\n    const pos = VolumeMesh._pos;\n    const norm = VolumeMesh._norm;\n    const norm4D = VolumeMesh._norm4D;\n    const matrixWorldToLocal = VolumeMesh._matrixWorldToLocal;\n    const clipPlane = VolumeMesh._clipPlane;\n\n\n    this._updateIsoLevel();\n\n    // get clip plane in local space\n    camera.getWorldDirection(norm);\n    camera.getWorldPosition(pos);\n    pos.addScaledVector(norm, camera.near + nearClipPlaneOffset);\n\n    // transform pos to local CS\n    matrixWorldToLocal.getInverse(this.matrixWorld);\n    pos.applyMatrix4(matrixWorldToLocal);\n\n    // transform norm to local CS\n    norm4D.set(norm.x, norm.y, norm.z, 0.0); // NOTE: use homogeneous norm for proper transformation\n    norm4D.applyMatrix4(matrixWorldToLocal);\n    norm.copy(norm4D);\n    norm.normalize();\n\n    clipPlane.setFromNormalAndCoplanarPoint(norm, pos);\n\n    if (!this.clipPlane.equals(clipPlane)) {\n      this.clipPlane = clipPlane.clone();\n      this._updateVertices();\n      this._updateIndices();\n    }\n  }\n}\n\n\nexport default VolumeMesh;\n","import * as THREE from 'three';\nimport gfxutils from './gfxutils';\n\nclass VolumeBounds {\n  static _projectionTable = { // corresponds between (origin axes and angles between them) and between saving vector coordinates\n    XY: ['x', 2],\n    XZ: ['y', 1],\n    YZ: ['z', 0],\n  };\n\n  constructor(bBox, volInfo) {\n    const { delta } = volInfo; // {x: XY, y : XZ, z: YZ}\n    const { obtuseAngle } = volInfo; // 1 - obtuse, 0 - acute\n\n    const bSize = new THREE.Vector3();\n    bBox.getSize(bSize);\n    bSize.multiplyScalar(0.5);\n\n    const offsetVert = this._getBaseVertices(delta, obtuseAngle);\n\n    const geometry = new THREE.Geometry();\n\n    for (let i = 0; i < 4; i++) {\n      geometry.vertices.push(offsetVert[i].clone().multiply(bSize));\n      geometry.vertices.push(offsetVert[(i + 1) % 4].clone().multiply(bSize));\n    }\n    const translation = new THREE.Vector3(2 * bSize.x * (1 - delta.x - delta.y), 0, 0);\n    for (let i = 0; i < 8; i++) {\n      geometry.vertices.push(geometry.vertices[i].clone().add(translation));\n    }\n    for (let i = 0; i < 4; i++) {\n      geometry.vertices.push(geometry.vertices[i * 2].clone());\n      geometry.vertices.push(geometry.vertices[i * 2 + 8].clone());\n    }\n    const center = new THREE.Vector3();\n    bBox.getCenter(center);\n    geometry.vertices.forEach((vertex) => vertex.add(center)); // pivot shift\n\n    this._lines = new THREE.LineSegments(geometry, new THREE.LineBasicMaterial({ color: 0xFFFFFF }));\n    this._lines.layers.set(gfxutils.LAYERS.VOLUME);\n  }\n\n  // Set one edge (4 points) of frame, from which with parallel transfer  the rest of the frame points can be obtained\n  _getBaseVertices(delta, obtuseAngle) {\n    const projTable = VolumeBounds._projectionTable;\n\n    const proj = ((index, inv) => { // tricky function to take account of projections: their position(related to box) and sign\n      const currDelta = delta[projTable[index][0]];\n      const angleValue = -0.5 * (inv - 1) + inv * obtuseAngle[projTable[index][1]];// inv = 1: alpha; inv = -1: 1 - alpha\n      return angleValue * currDelta;\n    });\n\n    const offsetVert = [\n      new THREE.Vector3(-1 + 2 * (proj('XZ', 1) + proj('XY', 1)), -1 + 2 * proj('YZ', 1), -1),\n      new THREE.Vector3(-1 + 2 * (proj('XZ', -1) + proj('XY', 1)), -1 + 2 * proj('YZ', -1), 1),\n      new THREE.Vector3(-1 + 2 * (proj('XZ', -1) + proj('XY', -1)), 1 - 2 * proj('YZ', 1), 1),\n      new THREE.Vector3(-1 + 2 * (proj('XZ', 1) + proj('XY', -1)), 1 - 2 * proj('YZ', -1), -1),\n    ];\n\n    return offsetVert;\n  }\n\n  getMesh() {\n    return this._lines;\n  }\n}\n\nexport default VolumeBounds;\n","import * as THREE from 'three';\nimport VolumeMaterial from './shaders/VolumeMaterial';\nimport meshes from './meshes/meshes';\nimport gfxutils from './gfxutils';\n\n// Thes geometric far plane is required for correct filling in the BFTexture in case, when far plane cuts the volume\n// cube. In cut place of cube there is no correct data in BFTexture and volume rendering integral is calculated\n// with errors.\n// Far plane cuts the cube in case of large volume scale (zoom), because farplane doesn't change\nclass VolumeFarPlane {\n  // create plane with unit corners coords (for future rescale in vshader according to camera properties)\n  constructor(volume, width, height) {\n    const planeGeo = this._initPlaneGeo(width, height);\n\n    const mat = new VolumeMaterial.BackFacePosMaterialFarPlane();\n    this._plane = new meshes.Mesh(planeGeo, mat);\n    this._plane.frustumCulled = false;\n    this._plane.doubleSided = true;\n    const matWorldToVolume = new THREE.Matrix4();\n\n    this._plane._onBeforeRender = function (_renderer, _scene, camera, _geometry, _material, _group) {\n      const { material } = this;\n      if (!volume || !material) {\n        return;\n      }\n\n      // count point in world at farplane place\n      const planeCamPos = new THREE.Vector4(0, 0, -(camera.far - 0.1), 1);\n      planeCamPos.applyMatrix4(camera.matrixWorld);\n\n      // recalc matrices to make plane be placed as farplane in the World relative to camera\n      this.matrix.identity();\n      this.matrix.makeTranslation(planeCamPos.x, planeCamPos.y, planeCamPos.z);\n      this.matrixWorld.copy(this.matrix);\n      this.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, this.matrixWorld);\n      this.normalMatrix.getNormalMatrix(this.modelViewMatrix);\n\n      // build worldToVolume matrix to transform plane into volumeCS (volumeCS coords are written to BackFaceTexture)\n      const volumeMatrix = volume.matrixWorld;\n      matWorldToVolume.getInverse(volumeMatrix);\n\n      // update material props\n      material.uniforms.aspectRatio.value = camera.aspect;\n      material.uniforms.farZ.value = camera.far;\n      material.uniforms.tanHalfFOV.value = Math.tan(THREE.Math.DEG2RAD * 0.5 * camera.fov);\n      material.uniforms.matWorld2Volume.value = matWorldToVolume;\n    };\n\n    // set it to special layer to draw only into BFTexture\n    this._plane.layers.set(gfxutils.LAYERS.VOLUME_BFPLANE);\n  }\n\n  _initPlaneGeo(width, height) {\n    const planeGeo = new THREE.Geometry();\n\n    width = width || 1;\n    height = height || 1;\n\n    planeGeo.vertices.push(new THREE.Vector3(-0.5 * width, 0.5 * height, 0));\n    planeGeo.vertices.push(new THREE.Vector3(0.5 * width, 0.5 * height, 0));\n    planeGeo.vertices.push(new THREE.Vector3(-0.5 * width, -0.5 * height, 0));\n    planeGeo.vertices.push(new THREE.Vector3(0.5 * width, -0.5 * height, 0));\n\n    planeGeo.faces.push(new THREE.Face3(0, 2, 1));\n    planeGeo.faces.push(new THREE.Face3(2, 3, 1));\n\n    return planeGeo;\n  }\n\n  getMesh() {\n    return this._plane;\n  }\n}\n\nexport default VolumeFarPlane;\n","import * as THREE from 'three';\nimport utils from './utils';\nimport VolumeMesh from './gfx/VolumeMesh';\nimport VolumeBounds from './gfx/VolumeBounds';\nimport VolumeFarPlane from './gfx/VolumeFarPlane';\nimport Visual from './Visual';\nimport settings from './settings';\n\nfunction VolumeVisual(name, dataSource) {\n  Visual.call(this, name, dataSource);\n\n  this._mesh = new VolumeMesh();\n  this._mesh.setDataSource(dataSource);\n  this.add(this._mesh);\n\n  this._frame = new VolumeBounds(this.getBoundaries().boundingBox, this._mesh.volumeInfo);\n  this.add(this._frame.getMesh());\n  this.showFrame(settings.now.modes.VD.frame);\n\n  this._farPlane = new VolumeFarPlane(this._mesh, 2, 2);\n  this.add(this._farPlane.getMesh());\n}\n\nutils.deriveClass(VolumeVisual, Visual);\n\nVolumeVisual.prototype.getBoundaries = function () {\n  const box = this._dataSource.getBox();\n  const sphere = new THREE.Sphere();\n  box.getBoundingSphere(sphere);\n\n  return {\n    boundingBox: box,\n    boundingSphere: sphere,\n  };\n};\n\nVolumeVisual.prototype.getMesh = function () {\n  return this._mesh;\n};\n\nVolumeVisual.prototype.showFrame = function (needShow) {\n  this._frame.getMesh().material.visible = needShow;\n};\n\nexport default VolumeVisual;\n","import Timer from './Timer';\n\n/**\n * @deprecated since 0.8.6. Will be removed in next major version\n */\nfunction Profiler() {\n  // bind method to get current time\n  this.now = Timer.now;\n\n  this._startTime = 0;\n  this._times = [];\n}\n\nProfiler.prototype.start = function () {\n  this._startTime = this.now();\n};\n\nProfiler.prototype.end = function () {\n  if (this._startTime !== 0) {\n    this._times.push(this.now() - this._startTime);\n  }\n};\n\nProfiler.prototype.rawMean = function () {\n  const n = this._times.length;\n  let mean = 0;\n  for (let i = 0; i < n; ++i) {\n    mean += this._times[i];\n  }\n  return mean / n;\n};\n\nProfiler.prototype.mean = function () {\n  return this._robustMean(this._times);\n};\n\nProfiler.prototype.deviation = function (mean) {\n  return this._robustDeviation(this._times, mean);\n};\n\nProfiler.prototype.min = function () {\n  return this._robustMin(this._times);\n};\n\nProfiler.prototype._robustMean = function (values) {\n  const first = Math.round(values.length * 0.1);\n  const n = values.length - Math.round(values.length * 0.2);\n  values.sort((a, b) => a - b);\n  let mean = 0;\n  for (let i = first; i < n; ++i) {\n    mean += values[i];\n  }\n  return mean / n;\n};\n\nProfiler.prototype._robustDeviation = function (values, mean) {\n  const n = values.length;\n  const deltas = new Array(n);\n  for (let i = 0; i < n; ++i) {\n    deltas[i] = (values[i] - mean) * (values[i] - mean);\n  }\n  deltas.sort((a, b) => a - b);\n  return Math.sqrt(this._robustMean(deltas));\n};\n\nProfiler.prototype._robustMin = function (values) {\n  const first = Math.round(values.length * 0.05);\n  const n = Math.round(values.length * 0.1);\n  values.sort((a, b) => a - b);\n  let mean = 0;\n  for (let i = 0; i < n; ++i) {\n    mean += values[first + i];\n  }\n  return mean / n;\n};\n\nexport default Profiler;\n","import * as THREE from 'three';\nimport Profiler from '../Profiler';\n\n/**\n * Profiler tool.\n * @deprecated since 0.8.6\n */\nfunction GfxProfiler(renderer) {\n  this._renderer = renderer;\n  this._prepareTest();\n}\n\nGfxProfiler.prototype._prepareTest = function () {\n  this._scene = new THREE.Scene();\n\n  const geo = new THREE.PlaneGeometry(10, 10, 128, 128);\n  const mat = new THREE.MeshBasicMaterial({ color: this._renderer.getClearColor() });\n\n  for (let j = 0; j < 300; ++j) {\n    const plane = new THREE.Mesh(geo, mat);\n    this._scene.add(plane);\n  }\n\n  this._camera = new THREE.PerspectiveCamera(45, 1, 1, 2000);\n  this._camera.position.z = 30;\n\n  this._prof = new Profiler();\n};\n\nGfxProfiler.prototype.run = function () {\n  for (let i = 0; i < 100; ++i) {\n    this._prof.start();\n    this._renderer.setRenderTarget(this._target);\n    this._renderer.render(this._scene, this._camera);\n    this._prof.end();\n  }\n};\n\nGfxProfiler.prototype.runOnTicks = function (maxResults, skipMs, timeLimitMs) {\n  const self = this;\n\n  if (typeof maxResults === 'undefined') {\n    maxResults = 50;\n  }\n\n  if (typeof skipMs === 'undefined') {\n    skipMs = 1000.0;\n  }\n\n  if (typeof timeLimitMs === 'undefined') {\n    timeLimitMs = 10000.0;\n  }\n\n  let count = -1;\n  const startTime = this._prof.now();\n\n  return new Promise(((resolve) => {\n    function onTick() {\n      self._renderer.render(self._scene, self._camera);\n\n      const elapsedMs = self._prof.now() - startTime;\n\n      // we're skipping some frames to get more stable FPS\n      if (elapsedMs > skipMs) {\n        self._prof.end();\n        self._prof.start();\n        ++count;\n      }\n\n      if (elapsedMs > timeLimitMs || count === maxResults) {\n        resolve(Math.max(count, 0));\n      } else {\n        requestAnimationFrame(onTick);\n      }\n    }\n\n    requestAnimationFrame(onTick);\n  }));\n};\n\n\nGfxProfiler.prototype.mean = function () {\n  return this._prof ? this._prof.rawMean() : 0.0;\n};\n\nGfxProfiler.prototype.min = function () {\n  return this._prof ? this._prof.min() : 0.0;\n};\n\nexport default GfxProfiler;\n","import EntityList from '../../utils/EntityList';\n\n/**\n * A list of available loaders.\n * @extends EntityList\n */\nclass LoaderList extends EntityList {\n  /**\n   * Create a list of loaders.\n   * The loaders are indexed by supported source types (`.types` property of a Loader\n   * subclass).\n   * The loaders can be retrieved later by matching against specs (see {@link LoaderList#find}).\n   *\n   * @param {!Array<function(new:Loader)>=} someLoaders A list of {@link Loader} subclasses to\n   *   automatically register at creation time.\n   * @see LoaderList#register\n   */\n  constructor(someLoaders = []) {\n    super(someLoaders, ['types']);\n  }\n\n  /**\n   * Find a suitable loader for a source type.\n   *\n   * @param {Object} specs Loader specifications.\n   * @param {string=} specs.type Supported source type.\n   * @param {*=} specs.source Source to load from.\n   */\n  find(specs) {\n    let list = [];\n    if (specs.type) {\n      list = this._dict.types[specs.type.toLowerCase()] || [];\n    } else if (specs.source) {\n      return this._list.filter((SomeLoader) => SomeLoader.canProbablyLoad && SomeLoader.canProbablyLoad(specs.source));\n    }\n    return [...list];\n  }\n}\n\nexport default LoaderList;\n","import EventDispatcher from '../../utils/EventDispatcher';\nimport makeContextDependent from '../../utils/makeContextDependent';\n\nexport default class Loader extends EventDispatcher {\n  constructor(source, options) {\n    super();\n    this._source = source;\n    this._options = options || {};\n    this._abort = false;\n    this._agent = null;\n  }\n\n  load() {\n    return Promise.reject(new Error('Loading from this source is not implemented'));\n  }\n\n  abort() {\n    this._abort = true;\n    if (this._agent) {\n      this._agent.abort();\n    }\n  }\n\n  static extractName(_source) {\n    return undefined;\n  }\n}\n\nmakeContextDependent(Loader.prototype);\n","import Loader from './Loader';\n\nexport default class FileLoader extends Loader {\n  constructor(source, options) {\n    super(source, options);\n\n    options = this._options;\n    this._binary = options.binary === true;\n  }\n\n  load() {\n    return new Promise((resolve, reject) => {\n      if (this._abort) {\n        throw new Error('Loading aborted');\n      }\n\n      const blob = this._source;\n      const reader = this._agent = new FileReader();\n\n      reader.addEventListener('load', () => {\n        resolve(reader.result);\n      });\n      reader.addEventListener('error', () => {\n        reject(reader.error);\n      });\n      reader.addEventListener('abort', () => {\n        reject(new Error('Loading aborted'));\n      });\n      reader.addEventListener('progress', (event) => {\n        this.dispatchEvent(event);\n      });\n\n      if (this._binary) {\n        reader.readAsArrayBuffer(blob);\n      } else {\n        reader.readAsText(blob);\n      }\n    });\n  }\n\n  static canProbablyLoad(source) {\n    return (File && source instanceof File) || (Blob && source instanceof Blob);\n  }\n\n  static extractName(source) {\n    return source && source.name;\n  }\n}\n\nFileLoader.types = ['file', 'blob'];\n","import _ from 'lodash';\nimport Loader from './Loader';\n\n// we don't need to detect all kinds of URLs, just the evident ones\nconst urlStartRegexp = /^(https?|ftp):\\/\\//i;\n\nexport default class XHRLoader extends Loader {\n  constructor(source, options) {\n    super(source, options);\n\n    options = this._options;\n    this._binary = (options.binary === true);\n  }\n\n  load() {\n    return new Promise((resolve, reject) => {\n      if (this._abort) {\n        throw new Error('Loading aborted');\n      }\n\n      const url = this._source;\n      const request = this._agent = new XMLHttpRequest();\n\n      request.addEventListener('load', () => {\n        if (request.status === 200) {\n          resolve(request.response);\n        } else {\n          reject(new Error(`HTTP ${request.status} while fetching ${url}`));\n        }\n      });\n      request.addEventListener('error', () => {\n        reject(new Error('HTTP request failed'));\n      });\n      request.addEventListener('abort', () => {\n        reject(new Error('Loading aborted'));\n      });\n      request.addEventListener('progress', (event) => {\n        this.dispatchEvent(event);\n      });\n\n      request.open('GET', url);\n      if (this._binary) {\n        request.responseType = 'arraybuffer';\n      } else {\n        request.responseType = 'text';\n      }\n      request.send();\n    });\n  }\n\n  static canProbablyLoad(source) {\n    return _.isString(source) && urlStartRegexp.test(source);\n  }\n\n  static extractName(source) {\n    if (source) {\n      const last = (source.indexOf('?') + 1 || source.lastIndexOf('#') + 1 || source.length + 1) - 1;\n      return source.slice(source.lastIndexOf('/', last) + 1, last);\n    }\n    return undefined;\n  }\n}\n\nXHRLoader.types = ['url'];\n","import Loader from './Loader';\n\nexport default class ImmediateLoader extends Loader {\n  load() {\n    return new Promise((resolve) => {\n      if (this._abort) {\n        throw new Error('Loading aborted');\n      }\n      resolve(this._source);\n    });\n  }\n\n  static canProbablyLoad(_source) {\n    return false;\n  }\n}\n\nImmediateLoader.types = ['immediate'];\n","import LoaderList from './loaders/LoaderList';\n\nimport FileLoader from './loaders/FileLoader';\nimport XHRLoader from './loaders/XHRLoader';\nimport ImmediateLoader from './loaders/ImmediateLoader';\n\nexport default new LoaderList([\n  // note: order might be important\n  FileLoader,\n  XHRLoader,\n  ImmediateLoader,\n]);\n","import EntityList from '../../utils/EntityList';\n\n/**\n * A list of available parsers.\n * @extends EntityList\n */\nclass ParserList extends EntityList {\n  /**\n   * Create a list of parsers.\n   * The parsers are indexed by supported data formats and file extensions (`.formats` and\n   * `.extensions` properties of a Parser subclass).\n   * The parsers can be retrieved later by matching against specs (see {@link ParsrerList#find}).\n   *\n   * @param {!Array<function(new:Parser)>=} someParsers A list of {@link Parser} subclasses to\n   *   automatically register at creation time.\n   * @see ParserList#register\n   */\n  constructor(someParsers = []) {\n    super(someParsers, ['formats', 'extensions']);\n  }\n\n  /**\n   * Find a suitable parser for data.\n   *\n   * @param {Object} specs Parser specifications.\n   * @param {string=} specs.format Supported data format.\n   * @param {string=} specs.ext Supported filename extension.\n   * @param {*=} specs.data Data to parse.\n   */\n  find(specs) {\n    let list = [];\n    if (specs.format) {\n      list = this._dict.formats[specs.format.toLowerCase()] || [];\n    } else if (specs.ext) {\n      list = this._dict.extensions[specs.ext.toLowerCase()] || [];\n    }\n    // autodetect only if no format is forced\n    if (list.length === 0 && !specs.format && specs.data) {\n      return this._list.filter((SomeParser) => SomeParser.canProbablyParse && SomeParser.canProbablyParse(specs.data));\n    }\n    return [...list];\n  }\n}\n\nexport default ParserList;\n","import makeContextDependent from '../../utils/makeContextDependent';\n\nexport default class Parser {\n  constructor(data, options) {\n    this._data = data;\n    this._options = options || {};\n    this._abort = false;\n  }\n\n  parseSync() {\n    throw new Error('Parsing this type of data is not implemented');\n  }\n\n  parse() {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        try {\n          if (this._abort) {\n            return reject(new Error('Parsing aborted'));\n          }\n          return resolve(this.parseSync());\n        } catch (error) {\n          return reject(error);\n        }\n      });\n    });\n  }\n\n  // only for volume Parsers\n  getModel() {\n    this.model._parseHeader(this._data);\n    return this.model;\n  }\n\n  abort() {\n    this._abort = true;\n  }\n}\n\nmakeContextDependent(Parser.prototype);\n","import * as THREE from 'three';\n\n/**\n * Parser helper for PDB tag \"REMARK 290\".\n *\n * @exports Remark290\n * @constructor\n */\nclass Remark290 {\n  constructor() {\n    /** @type {THREE.Matrix4[]} */\n    this.matrices = [];\n\n    /** @type {?THREE.Matrix4} */\n    this._matrix = null;\n    /** @type {number} */\n    this._matrixIndex = -1;\n  }\n\n  /**\n   * Parse a single line of a stream.\n   * @param {PDBStream} stream - stream to parse\n   */\n\n  parse(stream) {\n    /** @type {?THREE.Matrix4} */\n    let matrix = this._matrix;\n\n    if (stream.readString(12, 18) === '  SMTRY') {\n      const matrixRow = stream.readCharCode(19) - 49; // convert '1', '2', or '3' -> 0, 1, or 2\n      const matrixData = stream.readString(20, 80).trim().split(/\\s+/);\n      const matrixIndex = parseInt(matrixData[0], 10);\n      if (this._matrix === null || matrixIndex !== this._matrixIndex) {\n        // TODO: assert(matrixIndex === this.matrices.length + 1);\n        this._matrixIndex = matrixIndex;\n        this._matrix = matrix = new THREE.Matrix4();\n        this.matrices[this.matrices.length] = matrix;\n      }\n\n      const { elements } = matrix;\n      elements[matrixRow] = parseFloat(matrixData[1]);\n      elements[matrixRow + 4] = parseFloat(matrixData[2]);\n      elements[matrixRow + 8] = parseFloat(matrixData[3]);\n      elements[matrixRow + 12] = parseFloat(matrixData[4]);\n    }\n  }\n}\n\nRemark290.prototype.id = 290;\n\nexport default Remark290;\n","import * as THREE from 'three';\nimport chem from '../../../chem';\n\nconst { Assembly } = chem;\n\n/**\n * Parser helper for PDB tag \"REMARK 350\".\n *\n * @exports Remark350\n * @constructor\n */\nclass Remark350 {\n  constructor(complex) {\n    /** @type {Complex} */\n    this._complex = complex;\n    /** @type {Assembly[]} */\n    this.assemblies = [];\n\n    /** @type {?Assembly} */\n    this._assembly = null;\n    /** @type {?THREE.Matrix4} */\n    this._matrix = null;\n    /** @type {number} */\n    this._matrixIndex = -1;\n  }\n\n  /**\n   * Parse a single line of a stream.\n   * @param {PDBStream} stream - stream to parse\n   */\n\n  parse(stream) {\n    /** @type {?Assembly} */\n    let assembly = this._assembly;\n    /** @type {?THREE.Matrix4} */\n    let matrix = this._matrix;\n\n    if (assembly && stream.readString(12, 18) === '  BIOMT') {\n      const matrixRow = stream.readCharCode(19) - 49; // convert '1', '2', or '3' -> 0, 1, or 2\n      const matrixData = stream.readString(20, 80).trim().split(/\\s+/);\n      const matrixIndex = parseInt(matrixData[0], 10);\n      if (this._matrix === null || matrixIndex !== this._matrixIndex) {\n        // TODO: assert(matrixIndex === assembly.matrices.length + 1);\n        this._matrixIndex = matrixIndex;\n        this._matrix = matrix = new THREE.Matrix4();\n        assembly.addMatrix(matrix);\n      }\n\n      const { elements } = matrix;\n      elements[matrixRow] = parseFloat(matrixData[1]);\n      elements[matrixRow + 4] = parseFloat(matrixData[2]);\n      elements[matrixRow + 8] = parseFloat(matrixData[3]);\n      elements[matrixRow + 12] = parseFloat(matrixData[4]);\n    } else if (assembly && stream.readString(35, 41) === 'CHAINS:') {\n      const entries = stream.readString(42, 80).split(',');\n      for (let i = 0, n = entries.length; i < n; ++i) {\n        const chain = entries[i].trim();\n        if (chain.length > 0) {\n          assembly.addChain(chain);\n        }\n      }\n    } else if (stream.readString(12, 23) === 'BIOMOLECULE:') {\n      // assert molIndex === this.assemblies.length + 1\n      this._matrix = null;\n      this._matrixIndex = -1;\n      this._assembly = assembly = new Assembly(this._complex);\n      this.assemblies.push(assembly);\n    }\n  }\n}\n\nRemark350.prototype.id = 350;\n\nexport default Remark350;\n","/** Helper class for stream-like reading input files. */\nclass PDBStream {\n  /**\n   * Create a stream\n   * @param {String} data Input data\n   */\n  constructor(data) {\n    /** @type String */\n    this._data = data; // Input file\n    /** @type Number */\n    this._start = 0; // Starting position of line\n    /** @type Number */\n    this._nextCR = -1; // Position of next CR (0x0D)\n    /** @type Number */\n    this._nextLF = -1; // Position of next LF (0x0A)\n    /** @type Number */\n    this._next = -1; // End position of line\n    /** @type Number */\n    this._end = data.length; // End of data\n\n    this.next();\n  }\n\n  /**\n   * Reading next line.\n   * @returns {String} Next line in data (ending with LF or CR)\n   */\n  readLine() {\n    return this._data.slice(this._start, this._next);\n  }\n\n  /**\n   * Reading character from position.\n   * @param {Number} pos - Position in current line.\n   * @returns {String} Character from position\n   */\n  readChar(pos) {\n    pos = this._start + pos - 1;\n    return pos < this._next ? this._data[pos] : ' ';\n  }\n\n  /**\n   * Reading character code from position.\n   * @param {Number} pos - Position in current line.\n   * @returns {Number} Character code from position\n   */\n  readCharCode(pos) {\n    pos = this._start + pos - 1;\n    return pos < this._next ? this._data.charCodeAt(pos) : 32;\n  }\n\n  /**\n   * Reading string from begin to end points.\n   * For a reason unknown, numbering assumed not to start from 0, but from 1.\n   * @param {Number} begin - Begin point in current line.\n   * @param {Number} end - End point in current line.\n   * @returns {String} String from begin to end\n   */\n  readString(begin, end) {\n    const from = this._start + begin - 1;\n    const to = this._start + end;\n    return this._data.slice(from, to < this._next ? to : this._next);\n  }\n\n  /**\n   * Reading integer from begin to end points.\n   * @param {Number} begin - Begin point in current line.\n   * @param {Number} end - End point in current line.\n   * @returns {Number} Integer from begin to end\n   */\n  readInt(begin, end) {\n    return parseInt(this.readString(begin, end), 10);\n  }\n\n  /**\n   * Reading float from begin to end points.\n   * @param {Number} begin - Begin point in current line.\n   * @param {Number} end - End point in current line.\n   * @returns {Number} Float from begin to end\n   */\n  readFloat(begin, end) {\n    return parseFloat(this.readString(begin, end));\n  }\n\n  /**\n   * Checking for end of data.\n   * @returns {boolean} True if data is ended, false otherwise\n   */\n  end() {\n    return this._start >= this._end;\n  }\n\n  /**\n   * Procedure to re-arrange current pointers in data.\n   */\n  next() {\n    const start = this._next + 1;\n    this._start = start < this._end ? start : this._end;\n\n    // support CR, LF, CR+LF line endings\n    // do not support LF+CR, CR+CR+LF, and other strange combinations\n\n    if (this._start > this._nextCR) {\n      this._nextCR = (this._data.indexOf('\\r', this._start) + 1 || this._end + 1) - 1;\n    }\n    if (this._start > this._nextLF) {\n      this._nextLF = (this._data.indexOf('\\n', this._start) + 1 || this._end + 1) - 1;\n    }\n    this._next = this._nextCR + 1 < this._nextLF ? this._nextCR : this._nextLF;\n  }\n}\n\nexport default PDBStream;\n","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Parser from './Parser';\nimport chem from '../../chem';\nimport Remark290 from './pdb/Remark290';\nimport Remark350 from './pdb/Remark350';\nimport PDBStream from './PDBStream';\n\nconst {\n  Complex,\n  Element,\n  Helix,\n  Sheet,\n  Strand,\n  Bond,\n  Molecule,\n} = chem;\n\nconst TAG_LENGTH = 6;\n\nfunction nameToElement(name) {\n  // http://www.wwpdb.org/documentation/file-format-content/format33/sect9.html#ATOM\n  //\n  // http://www.cgl.ucsf.edu/chimera/docs/UsersGuide/tutorials/pdbintro.html#note1\n  //\n  // Atom names start with element symbols right-justified in columns 13-14\n  // as permitted by the length of the name. For example, the symbol FE for\n  // iron appears in columns 13-14, whereas the symbol C for carbon appears\n  // in column 14 (see Misaligned Atom Names). If an atom name has four\n  // characters, however, it must start in column 13 even if the element\n  // symbol is a single character (for example, see Hydrogen Atoms).\n\n  const veryLong = name.trim().length === 4;\n  return name.slice(0, veryLong ? 1 : 2).trim();\n}\n\n// the most frequently used beginnings; although HEADER is mandatory, it is often missing in handmade files\nconst pdbStartRegexp = /^(HEADER\\s|COMPND\\s|REMARK\\s|ATOM {2}|HETATM|MODEL )/i;\n\nconst remarkParsers = {\n  // NOTE: please forget the idea to build the method name in runtime, it can be obfuscated.\n  290: Remark290,\n  350: Remark350,\n};\n\nclass PDBParser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n\n    this._complex = null;\n    this._chain = null;\n    this._residue = null;\n    this._sheet = null;\n    this._serialAtomMap = null;\n    this._modelId = 1;\n    this._compaundFound = false;\n    this._biomoleculeFound = false;\n    this._allowedChainsIDs = null;\n    this._lastMolId = -1;\n\n    this._remarks = {};\n    this._remark = null;\n\n    this._molecules = [];\n    this._molecule = null;\n    this._compndCurrToken = '';\n\n    this._options.fileType = 'pdb';\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && pdbStartRegexp.test(data);\n  }\n\n  _finalize() {\n    this._fixBondsArray();\n    this._fixChains();\n\n    // keep crystallographic symmetry transformations\n    const remark290 = this._remarks[290];\n    this._complex.symmetry = _.isUndefined(remark290) ? [] : remark290.matrices;\n\n    // add loaded biological assemblies\n    const remark350 = this._remarks[350];\n    this._complex.units = this._complex.units.concat(_.isUndefined(remark350) ? [] : remark350.assemblies);\n\n    // add loaded macromolecules\n    this._finalizeMolecules();\n\n    // create secondary structure etc.\n    this._complex.finalize({\n      needAutoBonding: true,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap,\n    });\n  }\n\n  _finalizeMolecules() {\n    // get chains from complex\n    const chainDict = {};\n    let i;\n    const chains = this._complex._chains;\n    for (i = 0; i < chains.length; ++i) {\n      const chainObj = chains[i];\n      const chainName = chainObj._name;\n      chainDict[chainName] = chainObj;\n    }\n\n    // aggregate residues from chains\n    for (i = 0; i < this._molecules.length; i++) {\n      const m = this._molecules[i];\n      let residues = [];\n      for (let j = 0; j < m._chains.length; j++) {\n        const name = m._chains[j];\n        const chain = chainDict[name];\n        residues = residues.concat(chain._residues.slice());\n      }\n      const molecule = new Molecule(this._complex, m._name, i + 1);\n      molecule.residues = residues;\n      this._complex._molecules[i] = molecule;\n    }\n  }\n\n  _fixChains() {\n    const idChainMap = {};\n    const complex = this._complex;\n\n    // prepare\n    for (let i = 0; i < complex._chains.length; i++) {\n      const chain = complex._chains[i];\n      idChainMap[chain._name.charCodeAt(0)] = chain;\n    }\n  }\n\n  // FIXME: This function is redundant, CONECT records always follow ATOM and HETATM. Build the map online.\n  _fixBondsArray() {\n    const serialAtomMap = this._serialAtomMap = {};\n    const complex = this._complex;\n\n    const atoms = complex._atoms;\n    for (let i = 0, ni = atoms.length; i < ni; ++i) {\n      const atom = atoms[i];\n      serialAtomMap[atom.serial] = atom;\n    }\n\n    const bonds = complex._bonds;\n    const { logger } = this;\n    for (let j = 0, nj = bonds.length; j < nj; ++j) {\n      const bond = bonds[j];\n      if (bond._right < bond._left) {\n        logger.debug('_fixBondsArray: Logic error.');\n      }\n      bond._left = serialAtomMap[bond._left] || null;\n      bond._right = serialAtomMap[bond._right] || null;\n    }\n  }\n\n  _parseATOM(stream) {\n    if (this._modelId !== 1) {\n      return;\n    }\n\n    /* eslint-disable no-magic-numbers */\n    const het = stream.readCharCode(1) === 0x48;\n\n    // field names according to wwPDB Format\n    // NOTE: Chimera allows (nonstandard) use of columns 6-11 for the integer atom serial number in ATOM records.\n    const serial = het ? stream.readInt(7, 11) : stream.readInt(6, 11);\n    let name = stream.readString(13, 16);\n    const altLoc = stream.readChar(17);\n    const resName = stream.readString(18, 20).trim();\n    const chainID = stream.readChar(22);\n    const resSeq = stream.readInt(23, 26);\n    const iCode = stream.readChar(27);\n    const x = stream.readFloat(31, 38);\n    const y = stream.readFloat(39, 46);\n    const z = stream.readFloat(47, 54);\n    const occupancy = stream.readFloat(55, 60);\n    const tempFactor = stream.readFloat(61, 66);\n    const element = stream.readString(77, 78).trim() || nameToElement(name);\n    const charge = stream.readInt(79, 80) || 0;\n    /* eslint-enable no-magic-numbers */\n    // skip waters (there may be lots of them)\n    if (this.settings.now.nowater) {\n      if (resName === 'HOH' || resName === 'WAT') {\n        return;\n      }\n    }\n\n    // PDB uses positional system for atom names. It helps derive element type from the name\n    // but names may include extra spaces. From this point on we don't need those spaces anymore.\n    name = name.trim();\n\n    const type = Element.getByName(element);\n    const role = Element.Role[name]; // FIXME: Maybe should use type as additional index (\" CA \" vs. \"CA  \")\n\n    // NOTE: Residues of a particular chain are not required to be listed next to each other.\n    // https://github.com/biasmv/pv/commit/7319b898b7473ba380c26699e3b028b2b1a7e1a1\n    let chain = this._chain;\n    if (!chain || chain.getName() !== chainID) {\n      this._chain = chain = this._complex.getChain(chainID) || this._complex.addChain(chainID);\n      this._residue = null;\n    }\n\n    let residue = this._residue;\n    if (!residue || residue.getSequence() !== resSeq || residue.getICode() !== iCode) {\n      this._residue = residue = chain.addResidue(resName, resSeq, iCode);\n    }\n\n    const xyz = new THREE.Vector3(x, y, z);\n    residue.addAtom(name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge);\n  }\n\n  _parseENDMDL() {\n    this._modelId += 1;\n  }\n\n  _parseCONECT(stream) {\n    /* eslint-disable no-magic-numbers */\n    const serial0 = stream.readInt(7, 11);\n    const serial1 = stream.readInt(12, 16);\n    const serial2 = stream.readInt(17, 21);\n    const serial3 = stream.readInt(22, 26);\n    const serial4 = stream.readInt(27, 31);\n    /* eslint-enable no-magic-numbers */\n\n    const complex = this._complex;\n\n    // Keep bonds ordered by atom serial\n    if (serial1 && serial1 > serial0) {\n      complex.addBond(serial0, serial1, 0, Bond.BondType.UNKNOWN, true);\n    }\n    if (serial2 && serial2 > serial0) {\n      complex.addBond(serial0, serial2, 0, Bond.BondType.UNKNOWN, true);\n    }\n    if (serial3 && serial3 > serial0) {\n      complex.addBond(serial0, serial3, 0, Bond.BondType.UNKNOWN, true);\n    }\n    if (serial4 && serial4 > serial0) {\n      complex.addBond(serial0, serial4, 0, Bond.BondType.UNKNOWN, true);\n    }\n  }\n\n  _parseCOMPND(stream) {\n    /* eslint-disable no-magic-numbers */\n    const str = stream.readString(11, 80);\n    const tokenIdx = str.indexOf(':');\n    this._compndCurrToken = tokenIdx > 0 ? str.substring(0, tokenIdx).trim() : this._compndCurrToken;\n    /* eslint-enable no-magic-numbers */\n\n    // start reading new molecule\n    if (this._compndCurrToken === 'MOL_ID') {\n      this._molecule = { _index: '', _chains: [] };\n      this._molecule._index = parseInt(str.substring(tokenIdx + 1, str.indexOf(';')), 10);\n      this._molecules.push(this._molecule);\n      // parse molecule name\n    } else if (this._compndCurrToken === 'MOLECULE' && this._molecule != null) {\n      this._molecule._name = str.substring(tokenIdx + 1, str.indexOf(';')).trim();\n      // parse molecule chains\n    } else if (this._compndCurrToken === 'CHAIN' && this._molecule != null) {\n      let chainStr = str.substring(tokenIdx + 1, 80).trim();\n      const lastChar = chainStr[chainStr.length - 1];\n      if (lastChar === ';' || lastChar === ',') {\n        chainStr = chainStr.slice(0, -1);\n      }\n      chainStr = chainStr.replace(/\\s+/g, '');\n      const chains = chainStr.split(',');\n      this._molecule._chains = this._molecule._chains.concat(chains);\n    }\n  }\n\n  _parseREMARK(stream) {\n    /* eslint-disable no-magic-numbers */\n    const remarkNum = stream.readInt(8, 10);\n    /* eslint-enable no-magic-numbers */\n\n    // create remark parser if needed\n    let remark = this._remarks[remarkNum];\n    if (_.isUndefined(remark)) {\n      const RemarkParser = remarkParsers[remarkNum];\n      if (_.isFunction(RemarkParser)) {\n        this._remarks[remarkNum] = remark = new RemarkParser(this._complex);\n      }\n    }\n\n    // delegate parsing\n    if (!_.isUndefined(remark)) {\n      remark.parse(stream);\n    }\n  }\n\n  _parseHELIX(stream) {\n    /* eslint-disable no-magic-numbers */\n    const fields = [20, 22, 32, 34];\n    /* eslint-enable no-magic-numbers */\n    this._parseSTRUCTURE(stream, fields, (obj) => {\n      this._complex.addHelix(obj);\n      this._complex.structures.push(obj);\n    });\n  }\n\n  _parseSHEET(stream) {\n    /* eslint-disable no-magic-numbers */\n    const fields = [22, 23, 33, 34];\n    /* eslint-enable no-magic-numbers */\n    this._parseSTRUCTURE(stream, fields, (obj) => {\n      this._complex.addSheet(obj);\n    });\n  }\n\n  _parseSTRUCTURE(stream, pars, adder) {\n    const startId = 0;\n    const startIndex = 1;\n    const endId = 2;\n    const endIndex = 3;\n\n    // identify fields: debugging and stuff\n    /* eslint-disable no-magic-numbers */\n    const codeOfS = 0x53;\n    const serialNumber = stream.readInt(8, 10);\n    const structureName = stream.readString(12, 14).trim(); // FIXME: LString(3) forbids trim()\n    const comment = stream.readString(41, 70).trim();\n    const helLength = stream.readInt(72, 76);\n    const helixClass = stream.readInt(39, 40);\n    const shWidth = stream.readInt(15, 16);\n    const shCur = stream.readInt(42, 45);\n    const shPrev = stream.readInt(57, 60);\n    /* eslint-enable no-magic-numbers */\n    // file fields\n    const startChainID = stream.readString(pars[startId], pars[endId] + 1).charCodeAt(0);\n    const endChainID = stream.readString(pars[endId], pars[endId] + 1).charCodeAt(0);\n    const startSequenceNumber = stream.readInt(pars[startIndex], pars[startIndex] + 3);\n    let iCodeStr = stream.readString(pars[startIndex] + 4, pars[startIndex] + 4);\n    let startICode = 0;\n\n    if (iCodeStr.length > 0) {\n      startICode = iCodeStr.charCodeAt(0);\n    }\n    const endSequenceNumber = stream.readInt(pars[endIndex], pars[endIndex] + 3);\n    iCodeStr = stream.readString(pars[endIndex] + 4, pars[endIndex] + 4);\n    let endICode = 0;\n    if (iCodeStr.length > 0) {\n      endICode = iCodeStr.charCodeAt(0);\n    }\n\n    let obj;\n    let cs = this._sheet;\n    if (stream.readCharCode(1) === codeOfS) {\n      if (cs !== null && cs.getName() !== structureName) {\n        cs = null;\n        this._sheet = null;\n      }\n      if (cs === null) {\n        this._sheet = obj = new Sheet(structureName, shWidth);\n        adder(obj);\n      } else {\n        obj = cs;\n      }\n      const strand = new Strand(\n        obj,\n        this._complex.getUnifiedSerial(startChainID, startSequenceNumber, startICode),\n        this._complex.getUnifiedSerial(endChainID, endSequenceNumber, endICode),\n        helixClass, shCur, shPrev,\n      );\n      obj.addStrand(strand);\n      this._complex.structures.push(strand);\n    } else {\n      obj = new Helix(\n        helixClass,\n        this._complex.getUnifiedSerial(startChainID, startSequenceNumber, startICode),\n        this._complex.getUnifiedSerial(endChainID, endSequenceNumber, endICode),\n        serialNumber, structureName, comment, helLength,\n      );\n      adder(obj);\n    }\n  }\n\n  _parseHEADER(stream) {\n    const { metadata } = this._complex;\n    metadata.classification = stream.readString(11, 50).trim();\n    metadata.date = stream.readString(51, 59).trim();\n\n    const id = stream.readString(63, 66).trim();\n    metadata.id = id;\n    if (id) {\n      this._complex.name = id;\n    }\n    metadata.format = 'pdb';\n  }\n\n  _parseTITLE(stream) {\n    const { metadata } = this._complex;\n    metadata.title = metadata.title || [];\n\n    const line = stream.readInt(9, 10) || 1;\n    metadata.title[line - 1] = stream.readString(11, 80).trim();\n  }\n\n  static tagParsers = {\n    HEADER: PDBParser.prototype._parseHEADER,\n    'TITLE ': PDBParser.prototype._parseTITLE,\n    'ATOM  ': PDBParser.prototype._parseATOM,\n    HETATM: PDBParser.prototype._parseATOM,\n    ENDMDL: PDBParser.prototype._parseENDMDL,\n    CONECT: PDBParser.prototype._parseCONECT,\n    COMPND: PDBParser.prototype._parseCOMPND,\n    REMARK: PDBParser.prototype._parseREMARK,\n    // 'SOURCE': PDBParser.prototype._parseSOURCE,\n    'HELIX ': PDBParser.prototype._parseHELIX,\n    'SHEET ': PDBParser.prototype._parseSHEET,\n\n    // nonstandard extension to allow range 100,000 - 999,999\n    'ATOM 1': PDBParser.prototype._parseATOM,\n    'ATOM 2': PDBParser.prototype._parseATOM,\n    'ATOM 3': PDBParser.prototype._parseATOM,\n    'ATOM 4': PDBParser.prototype._parseATOM,\n    'ATOM 5': PDBParser.prototype._parseATOM,\n    'ATOM 6': PDBParser.prototype._parseATOM,\n    'ATOM 7': PDBParser.prototype._parseATOM,\n    'ATOM 8': PDBParser.prototype._parseATOM,\n    'ATOM 9': PDBParser.prototype._parseATOM,\n  };\n\n  parseSync() {\n    const stream = new PDBStream(this._data);\n    const result = this._complex = new Complex();\n\n    // parse PDB line by line\n    while (!stream.end()) {\n      const tag = stream.readString(1, TAG_LENGTH);\n      const func = PDBParser.tagParsers[tag];\n      if (_.isFunction(func)) {\n        func.call(this, stream);\n      }\n      stream.next();\n    }\n\n    // Resolve indices and serials to objects\n    this._finalize();\n\n    // cleanup\n    this._serialAtomMap = null;\n    this._sheet = null;\n    this._residue = null;\n    this._chain = null;\n    this._complex = null;\n\n    if (result.getAtomCount() === 0) {\n      throw new Error('The data does not contain valid atoms');\n    }\n\n    return result;\n  }\n}\n\nPDBParser.formats = ['pdb'];\nPDBParser.extensions = ['.pdb', '.ent'];\n\nexport default PDBParser;\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport Parser from './Parser';\nimport chem from '../../chem';\n\nconst {\n  Complex,\n  Element,\n  SGroup,\n  Bond,\n} = chem;\n\nconst cOrderCharCodes = {\n  A: 0,\n  S: 1,\n  D: 2,\n  T: 3,\n};\n\nconst cmlStartRegexp = /\\s*<\\?xml\\b[^?>]*\\?>\\s*<(?:cml|molecule)\\b/i;\n\nclass CMLParser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n    this._complex = null;\n    this._residue = null;\n    this._serialAtomMap = null;\n    this._modelId = 1;\n    this._lastMolId = -1;\n    this._readOnlyOneMolecule = false;\n    this._options.fileType = 'cml';\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && cmlStartRegexp.test(data);\n  }\n\n  _rebuidBondIndexes(atoms, bonds) {\n    const count = atoms.length;\n    for (let i = 0; i < count; i++) {\n      const atomId = atoms[i].id;\n\n      const countBonds = bonds.length;\n      for (let j = 0; j < countBonds; j++) {\n        const idxs = bonds[j].atomRefs2.split(' ');\n        if (idxs[0] === atomId) {\n          bonds[j].start = i;\n        }\n\n        if (idxs[1] === atomId) {\n          bonds[j].end = i;\n        }\n      }\n    }\n  }\n\n  _createSGroup(molecule, moleculeArr) {\n    const newGroup = new SGroup(\n      molecule.id, molecule.fieldData,\n      new THREE.Vector3(parseFloat(molecule.x), parseFloat(molecule.y), 0), molecule.atomRefs, molecule,\n    );\n    if (molecule.placement === 'Relative') {\n      newGroup._center = new THREE.Vector3(0, 0, 0);\n    }\n    if (molecule.fieldName === 'MDLBG_FRAGMENT_CHARGE') {\n      newGroup._charge = parseInt(molecule.fieldData, 10) || 0;\n    }\n    if (molecule.fieldName === 'MDLBG_FRAGMENT_COEFFICIENT') {\n      newGroup._repeat = parseInt(molecule.fieldData, 10) || 1;\n    }\n    moleculeArr.push(newGroup);\n  }\n\n  _extractSGroup(molecule, moleculeArr) {\n    if (!Array.isArray(moleculeArr)) {\n      moleculeArr = [];\n    }\n\n    if (molecule) {\n      if (Array.isArray(molecule)) {\n        const count = molecule.length;\n        for (let i = 0; i < count; i++) {\n          if (molecule[i].molecule) {\n            moleculeArr = moleculeArr.concat(this._extractSGroup(molecule[i].molecule));\n          }\n          this._createSGroup(molecule[i], moleculeArr);\n        }\n      } else {\n        if (molecule.molecule) {\n          if (molecule.molecule) {\n            moleculeArr = moleculeArr.concat(this._extractSGroup(molecule.molecule));\n          }\n        }\n        this._createSGroup(molecule, moleculeArr);\n      }\n    }\n\n    return moleculeArr;\n  }\n\n\n  _extractSGroups(molecule, atoms) {\n    const moleculeArr = this._extractSGroup(molecule);\n\n\n    const count = atoms.length;\n    let i;\n    let j;\n\n    for (i = 0; i < count; i++) {\n      const atomId = atoms[i].id;\n      for (j = 0; j < moleculeArr.length; j++) {\n        const firstAtomRef = moleculeArr[j]._atoms.split(' ')[0];\n        if (firstAtomRef === atomId) {\n          if (!atoms[i].sgroupRef) {\n            atoms[i].sgroupRef = [];\n          }\n          atoms[i].sgroupRef.push(moleculeArr[j]);\n        }\n      }\n    }\n    // build sGroups centers\n    let atomMap = {}; // sgrpmap cache\n    let mapEntry = null;\n    const nLimon = 100000000;\n    const bLow = new THREE.Vector3(nLimon, nLimon, nLimon);\n    const bHight = new THREE.Vector3(-nLimon, -nLimon, -nLimon);\n\n    function cycleFuncInner(e) {\n      mapEntry = atomMap[e];\n      if (mapEntry) {\n        moleculeArr[j]._atoms.push(mapEntry.a);\n      }\n    }\n\n    function cycleFunc(e) {\n      mapEntry = atomMap[e];\n      if (mapEntry) {\n        bLow.set(Math.min(bLow.x, mapEntry.x), Math.min(bLow.y, mapEntry.y), Math.min(bLow.z, mapEntry.z));\n        bHight.set(Math.max(bHight.x, mapEntry.x), Math.max(bHight.y, mapEntry.y), Math.max(bHight.z, mapEntry.z));\n        cycleFuncInner(e);\n      }\n    }\n\n    for (i = 0; i < atoms.length; i++) {\n      atomMap[atoms[i].id] = {};\n      atomMap[atoms[i].id].x = atoms[i].x2;\n      if (atoms[i].x3) {\n        atomMap[atoms[i].id].x = atoms[i].x3;\n      }\n      atomMap[atoms[i].id].x = parseFloat(atomMap[atoms[i].id].x);\n      atomMap[atoms[i].id].y = atoms[i].y2;\n      if (atoms[i].y3) {\n        atomMap[atoms[i].id].y = atoms[i].y3;\n      }\n      atomMap[atoms[i].id].y = parseFloat(atomMap[atoms[i].id].y);\n      atomMap[atoms[i].id].z = '0.0';\n      if (atoms[i].z3) {\n        atomMap[atoms[i].id].z = atoms[i].z3;\n      }\n      atomMap[atoms[i].id].z = parseFloat(atomMap[atoms[i].id].z);\n      atomMap[atoms[i].id].a = atoms[i];\n    }\n\n    let atomsRef;\n    for (j = 0; j < moleculeArr.length; j++) {\n      if (moleculeArr[j]._center !== null) {\n        bLow.set(nLimon, nLimon, nLimon);\n        bHight.set(-nLimon, -nLimon, -nLimon);\n        atomsRef = moleculeArr[j]._atoms.split(' ');\n        moleculeArr[j]._atoms = [];\n        atomsRef.forEach(cycleFunc);\n\n        moleculeArr[j]._center.addVectors(bLow, bHight);\n        moleculeArr[j]._center.multiplyScalar(0.5);\n      } else {\n        atomsRef = moleculeArr[j]._atoms.split(' ');\n        moleculeArr[j]._atoms = [];\n        atomsRef.forEach(cycleFuncInner);\n      }\n    }\n    atomMap = null;\n  }\n\n\n  _traverseData(dom) {\n    function isArray(o) {\n      return Object.prototype.toString.apply(o) === '[object Array]';\n    }\n\n    function parseNode(xmlNode, result) {\n      if (xmlNode.nodeName === '#text' && xmlNode.nodeValue.trim() === '') {\n        return;\n      }\n\n      const jsonNode = {};\n      jsonNode.xmlNode = xmlNode;\n      const existing = result[xmlNode.nodeName];\n      if (existing) {\n        if (!isArray(existing)) {\n          result[xmlNode.nodeName] = [existing, jsonNode];\n        } else {\n          result[xmlNode.nodeName].push(jsonNode);\n        }\n      } else {\n        result[xmlNode.nodeName] = jsonNode;\n      }\n\n      let length;\n      let i;\n      if (xmlNode.attributes) {\n        ({ length } = xmlNode.attributes);\n        for (i = 0; i < length; i++) {\n          const attribute = xmlNode.attributes[i];\n          jsonNode[attribute.nodeName] = attribute.nodeValue;\n        }\n      }\n\n      ({ length } = xmlNode.childNodes);\n      for (i = 0; i < length; i++) {\n        parseNode(xmlNode.childNodes[i], jsonNode);\n      }\n    }\n\n    const result = {};\n    if (dom.childNodes.length) {\n      parseNode(dom.childNodes[0], result);\n    }\n\n    return result;\n  }\n\n  _findSuitableMolecule(data, molSet) {\n    for (const key in data) {\n      if (key === 'xmlNode') {\n        continue;\n      } else if (key === 'molecule') {\n        if (data.molecule) {\n          if (data.molecule.atomArray && data.molecule.atomArray.atom) {\n            molSet.push(data);\n          }\n          if (Array.isArray(data.molecule)) {\n            for (let i = 0; i < data.molecule.length; i++) {\n              if (data.molecule[i].atomArray && data.molecule[i].atomArray.atom) {\n                molSet.push({ molecule: data.molecule[i] });\n              }\n            }\n          }\n        }\n      } else if (data[key] && data[key] !== null && typeof (data[key]) === 'object') {\n        this._findSuitableMolecule(data[key], molSet);\n      }\n    }\n  }\n\n  _selectComponents(text) {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(text, 'application/xml');\n    const traversedData = this._traverseData(doc);\n    let rawData;\n    const self = this;\n\n    function prepareComponentCompound(data) {\n      let atoms = [];\n      if (data.molecule && data.molecule.atomArray && data.molecule.atomArray.atom) {\n        if (!Array.isArray(data.molecule.atomArray.atom)) {\n          atoms.push(data.molecule.atomArray.atom);\n        } else {\n          atoms = data.molecule.atomArray.atom;\n        }\n      } else if (!data.molecule) {\n        const ret = {};\n        ret.atomLabels = null;\n        ret.labelsCount = 1;\n        return ret;\n      }\n\n      if (data.molecule.molecule) {\n        self._extractSGroups(data.molecule.molecule, atoms);\n      }\n\n      let atom;\n      let count = atoms.length;\n      for (let i = 0; i < count; i++) {\n        atom = atoms[i];\n        atom.edges = [];\n      }\n\n      let localBond = [];\n      if (data.molecule.bondArray && data.molecule.bondArray.bond) {\n        if (!Array.isArray(data.molecule.bondArray.bond)) {\n          localBond.push(data.molecule.bondArray.bond);\n        } else {\n          localBond = data.molecule.bondArray.bond;\n        }\n      }\n      let bond;\n      count = localBond.length;\n      self._rebuidBondIndexes(atoms, localBond);\n\n      function addCurrBond(index) {\n        bond = localBond[index];\n        atom = atoms[bond.start];\n        if (!atom) {\n          return false;\n        }\n        atom.edges.push(bond.end);\n        atom = atoms[bond.end];\n        if (!atom) {\n          return false;\n        }\n        atom.edges.push(bond.start);\n        return true;\n      }\n\n      for (let i = 0; i < count; i++) {\n        if (!addCurrBond(i)) {\n          // ignore invalid bond\n          continue;\n        }\n        const orderAttr = bond.xmlNode.getAttribute('order');\n        const tc = parseInt(orderAttr, 10);\n        // the default bond order is unknown\n        localBond[i].order = 0;\n        localBond[i].type = Bond.BondType.UNKNOWN;\n        if (tc > 1) {\n          localBond[i].order = tc;\n        } else {\n          // another option - bond order is a string\n          const order = cOrderCharCodes[orderAttr];\n          if (order !== undefined) {\n            localBond[i].order = order;\n            if (orderAttr === 'A') {\n              localBond[i].type = Bond.BondType.AROMATIC;\n            }\n          }\n        }\n      }\n\n      count = atoms.length;\n      for (let i = 0; i < count; i++) {\n        atom = atoms[i];\n        atom.edges.sort();\n      }\n\n      const labels = self._breadWidthSearch(atoms, 0); // for now\n\n      const retStruct = {};\n      retStruct.atoms = atoms;\n      retStruct.bonds = localBond;\n      retStruct.labels = labels.atomLabels;\n      retStruct.count = Math.min(1, labels.labelsCount); // for now\n      retStruct.curr = -1;\n      retStruct.originalCML = doc;\n\n      return retStruct;\n    }\n\n    if (traversedData.cml) {\n      rawData = traversedData.cml;\n    } else {\n      rawData = traversedData;\n    }\n    const retData = [];\n    const filteredData = [];\n    this._findSuitableMolecule(rawData, filteredData);\n    if (this._readOnlyOneMolecule && filteredData.length > 1) {\n      filteredData.splice(1, filteredData.length - 1);\n    }\n    filteredData.forEach((d) => {\n      const rd = prepareComponentCompound(d);\n      if (rd.atoms.length > 0) {\n        retData.push(rd);\n      }\n    });\n    return retData;\n  }\n\n  _packLabel(compId, molId) {\n    const shift = 16;\n    return (molId << shift) + compId;\n  }\n\n  _unpackLabel(l) {\n    const shift = 16;\n    const mask = (1 << shift) - 1;\n    return { molId: l >>> shift, compId: l & mask };\n  }\n\n  _breadWidthSearch(atoms, molID) {\n    const atomLabels = new Array(atoms.length);\n\n    let id;\n    for (id = 0; id < atomLabels.length; id++) {\n      atomLabels[id] = this._packLabel(0, molID);\n    }\n\n    const breadthQueue = [];\n    let componentID = 0;\n    let labeledAtoms = atoms.length;\n\n    while (labeledAtoms > 0) {\n      componentID++;\n\n      let startID = -1;\n      for (id = 0; id < atomLabels.length; id++) {\n        if (this._unpackLabel(atomLabels[id]).compId === 0) {\n          startID = id;\n          break;\n        }\n      }\n\n      if (startID < 0) {\n        break;\n      }\n\n      // Bread first search\n      breadthQueue.push(atoms[startID]);\n      atomLabels[startID] = this._packLabel(componentID, molID);\n      labeledAtoms--;\n\n      while (breadthQueue.length > 0) {\n        const curr = breadthQueue.shift();\n        if (!curr) {\n          continue;\n        }\n\n        for (let i = 0; i < curr.edges.length; i++) {\n          if (atomLabels[curr.edges[i]] !== componentID) {\n            breadthQueue.push(atoms[curr.edges[i]]);\n            atomLabels[curr.edges[i]] = componentID;\n            labeledAtoms--;\n          }\n        }\n      }\n    }\n    const ret = {};\n    ret.atomLabels = atomLabels;\n    ret.labelsCount = componentID;\n    return ret;\n  }\n\n  _parseBond(eAtom, mainAtom, order, type) {\n    if (eAtom >= 0) {\n      const h = [Math.min(eAtom, mainAtom), Math.max(eAtom, mainAtom)];\n      this._complex.addBond(h[0], h[1], order, type, true);\n    }\n  }\n\n  _fixBondsArray() {\n    const serialAtomMap = this._serialAtomMap = {};\n    const complex = this._complex;\n\n    const atoms = complex._atoms;\n    for (let i = 0, ni = atoms.length; i < ni; ++i) {\n      const atom = atoms[i];\n      serialAtomMap[atom.serial] = atom;\n    }\n\n    const bonds = complex._bonds;\n    const { logger } = this;\n    for (let j = 0, nj = bonds.length; j < nj; ++j) {\n      const bond = bonds[j];\n      if (bond._right < bond._left) {\n        logger.debug('_fixBondsArray: Logic error.');\n      }\n      bond._left = serialAtomMap[bond._left] || null;\n      bond._right = serialAtomMap[bond._right] || null;\n    }\n  }\n\n  _parseSet(varData) {\n    const complex = this._complex = new Complex();\n    const data = varData;\n    const currentLabel = data.curr;\n    const { atoms, labels } = data;\n    let atom = null;\n    let i;\n    let j;\n    const count = atoms.length;\n\n    function addFunc(a) {\n      a.xmlNodeRef = atom;\n      if (atom.x2) {\n        atom.x3 = atom.x2;\n        delete atom.x2;\n      }\n      if (atom.y2) {\n        atom.y3 = atom.y2;\n        delete atom.y2;\n      }\n      if (!(atom.z3)) {\n        atom.z3 = '0.0';\n      }\n      atom.complexAtom = a;\n    }\n\n    let chains = {};\n    // parse atoms in label order\n    const reorder = [];\n    for (i = 0; i < count; i++) {\n      reorder.push(i);\n    }\n    reorder.sort((a, b) => labels[a] - labels[b]);\n    for (i = 0; i < count; i++) {\n      const atomCharge = 0;\n      const lLabel = labels[reorder[i]];\n      if (this._unpackLabel(lLabel).molId === this._unpackLabel(currentLabel).molId) {\n        atom = atoms[reorder[i]];\n        const atomFullNameStruct = atom.elementType;\n\n        if (atom.sgroupRef) {\n          const countRef = atom.sgroupRef.length;\n          for (let k = 0; k < countRef; ++k) {\n            complex._sgroups.push(atom.sgroupRef[k]);\n          }\n        }\n\n        if (atom.x3 || atom.x2) {\n          const currAtomComp = this._unpackLabel(lLabel).compId;\n          // use ' ' by default instead of synthetic creation of chain names\n          const chainID = ' '; //= String.fromCharCode('A'.charCodeAt(0) + currAtomComp);\n          const resSeq = currAtomComp;\n          const iCode = ' ';\n          let strLabel = currAtomComp.toString();\n          if (strLabel.length === 1) {\n            strLabel = `0${strLabel}`;\n          }\n          const resName = `N${strLabel}`;\n          let chain = chains[chainID];\n          if (!chain || chain.getName() !== chainID) {\n            chains[chainID] = chain = this._complex.getChain(chainID) || this._complex.addChain(chainID);\n            this._residue = null;\n          }\n\n          let residue = this._residue;\n          if (!residue || residue.getSequence() !== resSeq || residue.getICode() !== iCode) {\n            this._residue = residue = chain.addResidue(resName, resSeq, iCode);\n          }\n\n          // _x, _y, _z, mname, mindex, atomNameFull, atomName, chainID, serial, isHet, atlLocInd, atomNameToTypeF\n          let xyz = null;\n          if (atom.x3) {\n            xyz = new THREE.Vector3(parseFloat(atom.x3), parseFloat(atom.y3), parseFloat(atom.z3));\n          } else if (atom.x2) {\n            xyz = new THREE.Vector3(parseFloat(atom.x2), parseFloat(atom.y2), 0);\n          }\n          let element = Element.ByName[atom.elementType.toUpperCase()];\n          if (!element) {\n            element = (JSON.parse(JSON.stringify(Element.ByName[\n              Object.keys(Element.ByName)[Object.keys(Element.ByName).length - 1]])));\n            element.number += 1;\n            element.name = atom.elementType.toUpperCase();\n            element.fullName = 'Unknown';\n            Element.ByName[atom.elementType.toUpperCase()] = element;\n          }\n          const atomSerial = parseInt(atom.id.replace(/[^0-9]/, ''), 10);\n          const added = residue.addAtom(\n            atomFullNameStruct, element, xyz, Element.Role.SG,\n            true, atomSerial, ' ', 1.0, 0.0, atomCharge,\n          );\n          if (atom.hydrogenCount) {\n            added.hydrogenCount = parseInt(atom.hydrogenCount, 10);\n          }\n          if (atom.mrvValence) {\n            added.valence = parseInt(atom.mrvValence, 10);\n          }\n          addFunc(added);\n        }\n      }\n    }\n    chains = null;// NOSONAR\n    for (i = 0; i < data.bonds.length; i++) {\n      const cb = data.bonds[i];\n      if (this._unpackLabel(labels[cb.start]).molId === this._unpackLabel(currentLabel).molId\n          && this._unpackLabel(labels[cb.end]).molId === this._unpackLabel(currentLabel).molId) {\n        atom = atoms[cb.start];\n        if (!atom || !(atoms[cb.end])) {\n          continue; // skip invalid\n        }\n        this._parseBond(\n          parseInt(atom.id.replace(/[^0-9]/, ''), 10),\n          parseInt(atoms[cb.end].id.replace(/[^0-9]/, ''), 10), cb.order, cb.type,\n        );\n      }\n    }\n\n    for (i = 0; i < this._complex.getSGroupCount(); i++) {\n      const sGrp = this._complex.getSGroups()[i];\n      for (j = 0; j < sGrp._atoms.length; j++) {\n        sGrp._atoms[j] = sGrp._atoms[j].complexAtom;\n      }\n    }\n    for (i = 0; i < count; i++) {\n      if (this._unpackLabel(labels[i]).molId === this._unpackLabel(currentLabel).molId) {\n        atom = atoms[i];\n        atom.complexAtom = null;\n        delete atom.complexAtom;\n      }\n    }\n    this._complex.originalCML = data.originalCML;\n    this._fixBondsArray();\n    complex.finalize({\n      needAutoBonding: false,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap,\n    });\n    this._serialAtomMap = null;\n    this._complex = null;\n    return complex;\n  }\n\n  parseSync() {\n    const complexes = [];\n    const self = this;\n    const moleculaSet = this._selectComponents(this._data);\n    moleculaSet.forEach((molSet) => {\n      molSet.curr = 2;\n      if (molSet.count === 0) {\n        molSet.count = 1;\n      }\n      for (let i = 0; i < molSet.count; i++) {\n        molSet.curr = (i + 1);\n        complexes.push(self._parseSet(molSet, false));\n      }\n    });\n\n    let totalAtomsParsed = 0;\n    complexes.forEach((c) => {\n      totalAtomsParsed += c.getAtomCount();\n    });\n    if (totalAtomsParsed <= 0) {\n      throw new Error('The data does not contain valid atoms');\n    }\n\n    if (complexes.length > 1) {\n      const joinedComplex = new Complex();\n      joinedComplex.joinComplexes(complexes);\n      joinedComplex.originalCML = complexes[0].originalCML;\n      return joinedComplex;\n    }\n    if (complexes.length === 1) {\n      return complexes[0];\n    }\n    return new Complex();\n  }\n}\n\n\nCMLParser.formats = ['cml'];\nCMLParser.extensions = ['.cml'];\n\nexport default CMLParser;\n","!function(r,t){if(\"function\"==typeof define&&define.amd)define([\"exports\"],t);else if(\"object\"==typeof exports&&\"undefined\"!=typeof module)t(exports);else t(r.MMTF=r.MMTF||{})}(this,function(r){\"use strict\";function t(r,t,n){for(var e=(r.byteLength,0),i=n.length;i>e;e++){var o=n.charCodeAt(e);if(128>o)r.setUint8(t++,o>>>0&127|0);else if(2048>o)r.setUint8(t++,o>>>6&31|192),r.setUint8(t++,o>>>0&63|128);else if(65536>o)r.setUint8(t++,o>>>12&15|224),r.setUint8(t++,o>>>6&63|128),r.setUint8(t++,o>>>0&63|128);else{if(!(1114112>o))throw new Error(\"bad codepoint \"+o);r.setUint8(t++,o>>>18&7|240),r.setUint8(t++,o>>>12&63|128),r.setUint8(t++,o>>>6&63|128),r.setUint8(t++,o>>>0&63|128)}}}function n(r){for(var t=0,n=0,e=r.length;e>n;n++){var i=r.charCodeAt(n);if(128>i)t+=1;else if(2048>i)t+=2;else if(65536>i)t+=3;else{if(!(1114112>i))throw new Error(\"bad codepoint \"+i);t+=4}}return t}function e(r,i,o){var a=typeof r;if(\"string\"===a){var u=n(r);if(32>u)return i.setUint8(o,160|u),t(i,o+1,r),1+u;if(256>u)return i.setUint8(o,217),i.setUint8(o+1,u),t(i,o+2,r),2+u;if(65536>u)return i.setUint8(o,218),i.setUint16(o+1,u),t(i,o+3,r),3+u;if(4294967296>u)return i.setUint8(o,219),i.setUint32(o+1,u),t(i,o+5,r),5+u}if(r instanceof Uint8Array){var u=r.byteLength,s=new Uint8Array(i.buffer);if(256>u)return i.setUint8(o,196),i.setUint8(o+1,u),s.set(r,o+2),2+u;if(65536>u)return i.setUint8(o,197),i.setUint16(o+1,u),s.set(r,o+3),3+u;if(4294967296>u)return i.setUint8(o,198),i.setUint32(o+1,u),s.set(r,o+5),5+u}if(\"number\"===a){if(!isFinite(r))throw new Error(\"Number not finite: \"+r);if(Math.floor(r)!==r)return i.setUint8(o,203),i.setFloat64(o+1,r),9;if(r>=0){if(128>r)return i.setUint8(o,r),1;if(256>r)return i.setUint8(o,204),i.setUint8(o+1,r),2;if(65536>r)return i.setUint8(o,205),i.setUint16(o+1,r),3;if(4294967296>r)return i.setUint8(o,206),i.setUint32(o+1,r),5;throw new Error(\"Number too big 0x\"+r.toString(16))}if(r>=-32)return i.setInt8(o,r),1;if(r>=-128)return i.setUint8(o,208),i.setInt8(o+1,r),2;if(r>=-32768)return i.setUint8(o,209),i.setInt16(o+1,r),3;if(r>=-2147483648)return i.setUint8(o,210),i.setInt32(o+1,r),5;throw new Error(\"Number too small -0x\"+(-r).toString(16).substr(1))}if(null===r)return i.setUint8(o,192),1;if(\"boolean\"===a)return i.setUint8(o,r?195:194),1;if(\"object\"===a){var u,f=0,c=Array.isArray(r);if(c)u=r.length;else{var d=Object.keys(r);u=d.length}var f;if(16>u?(i.setUint8(o,u|(c?144:128)),f=1):65536>u?(i.setUint8(o,c?220:222),i.setUint16(o+1,u),f=3):4294967296>u&&(i.setUint8(o,c?221:223),i.setUint32(o+1,u),f=5),c)for(var l=0;u>l;l++)f+=e(r[l],i,o+f);else for(var l=0;u>l;l++){var v=d[l];f+=e(v,i,o+f),f+=e(r[v],i,o+f)}return f}throw new Error(\"Unknown type \"+a)}function i(r){var t=typeof r;if(\"string\"===t){var e=n(r);if(32>e)return 1+e;if(256>e)return 2+e;if(65536>e)return 3+e;if(4294967296>e)return 5+e}if(r instanceof Uint8Array){var e=r.byteLength;if(256>e)return 2+e;if(65536>e)return 3+e;if(4294967296>e)return 5+e}if(\"number\"===t){if(Math.floor(r)!==r)return 9;if(r>=0){if(128>r)return 1;if(256>r)return 2;if(65536>r)return 3;if(4294967296>r)return 5;throw new Error(\"Number too big 0x\"+r.toString(16))}if(r>=-32)return 1;if(r>=-128)return 2;if(r>=-32768)return 3;if(r>=-2147483648)return 5;throw new Error(\"Number too small -0x\"+r.toString(16).substr(1))}if(\"boolean\"===t||null===r)return 1;if(\"object\"===t){var e,o=0;if(Array.isArray(r)){e=r.length;for(var a=0;e>a;a++)o+=i(r[a])}else{var u=Object.keys(r);e=u.length;for(var a=0;e>a;a++){var s=u[a];o+=i(s)+i(r[s])}}if(16>e)return 1+o;if(65536>e)return 3+o;if(4294967296>e)return 5+o;throw new Error(\"Array or object too long 0x\"+e.toString(16))}throw new Error(\"Unknown type \"+t)}function o(r){var t=new ArrayBuffer(i(r)),n=new DataView(t);return e(r,n,0),new Uint8Array(t)}function a(r,t,n){return t?new r(t.buffer,t.byteOffset,t.byteLength/(n||1)):void 0}function u(r){return a(DataView,r)}function s(r){return a(Uint8Array,r)}function f(r){return a(Int8Array,r)}function c(r){return a(Int32Array,r,4)}function d(r){return a(Float32Array,r,4)}function l(r,t){var n=r.length/2;t||(t=new Int16Array(n));for(var e=0,i=0;n>e;++e,i+=2)t[e]=r[i]<<8^r[i+1]<<0;return t}function v(r,t){var n=r.length;t||(t=new Uint8Array(2*n));for(var e=u(t),i=0;n>i;++i)e.setInt16(2*i,r[i]);return s(t)}function g(r,t){var n=r.length/4;t||(t=new Int32Array(n));for(var e=0,i=0;n>e;++e,i+=4)t[e]=r[i]<<24^r[i+1]<<16^r[i+2]<<8^r[i+3]<<0;return t}function L(r,t){var n=r.length;t||(t=new Uint8Array(4*n));for(var e=u(t),i=0;n>i;++i)e.setInt32(4*i,r[i]);return s(t)}function h(r,t){var n=r.length;t||(t=new Float32Array(n/4));for(var e=u(t),i=u(r),o=0,a=0,s=n/4;s>o;++o,a+=4)e.setFloat32(a,i.getFloat32(a),!0);return t}function y(r,t,n){var e=r.length,i=1/t;n||(n=new Float32Array(e));for(var o=0;e>o;++o)n[o]=r[o]*i;return n}function m(r,t,n){var e=r.length;n||(n=new Int32Array(e));for(var i=0;e>i;++i)n[i]=Math.round(r[i]*t);return n}function p(r,t){var n,e;if(!t){var i=0;for(n=0,e=r.length;e>n;n+=2)i+=r[n+1];t=new r.constructor(i)}var o=0;for(n=0,e=r.length;e>n;n+=2)for(var a=r[n],u=r[n+1],s=0;u>s;++s)t[o]=a,++o;return t}function U(r){if(0===r.length)return new Int32Array;var t,n,e=2;for(t=1,n=r.length;n>t;++t)r[t-1]!==r[t]&&(e+=2);var i=new Int32Array(e),o=0,a=1;for(t=1,n=r.length;n>t;++t)r[t-1]!==r[t]?(i[o]=r[t-1],i[o+1]=a,a=1,o+=2):++a;return i[o]=r[r.length-1],i[o+1]=a,i}function b(r,t){var n=r.length;t||(t=new r.constructor(n)),n&&(t[0]=r[0]);for(var e=1;n>e;++e)t[e]=r[e]+t[e-1];return t}function I(r,t){var n=r.length;t||(t=new r.constructor(n)),t[0]=r[0];for(var e=1;n>e;++e)t[e]=r[e]-r[e-1];return t}function w(r,t){var n,e,i=r instanceof Int8Array?127:32767,o=-i-1,a=r.length;if(!t){var u=0;for(n=0;a>n;++n)r[n]<i&&r[n]>o&&++u;t=new Int32Array(u)}for(n=0,e=0;a>n;){for(var s=0;r[n]===i||r[n]===o;)s+=r[n],++n;s+=r[n],++n,t[e]=s,++e}return t}function C(r,t){var n,e=t?127:32767,i=-e-1,o=r.length,a=0;for(n=0;o>n;++n){var u=r[n];0===u?++a:a+=u===e||u===i?2:u>0?Math.ceil(u/e):Math.ceil(u/i)}var s=t?new Int8Array(a):new Int16Array(a),f=0;for(n=0;o>n;++n){var u=r[n];if(u>=0)for(;u>=e;)s[f]=e,++f,u-=e;else for(;i>=u;)s[f]=i,++f,u-=i;s[f]=u,++f}return s}function A(r,t){return b(p(r),t)}function x(r){return U(I(r))}function M(r,t,n){return y(p(r,c(n)),t,n)}function F(r,t){return U(m(r,t))}function S(r,t,n){return y(b(r,c(n)),t,n)}function E(r,t,n){return I(m(r,t),n)}function N(r,t,n){return y(w(r,c(n)),t,n)}function O(r,t,n){var e=w(r,c(n));return S(e,t,d(e))}function T(r,t,n){return C(E(r,t),n)}function k(r){var t=u(r),n=t.getInt32(0),e=t.getInt32(4),i=r.subarray(8,12),r=r.subarray(12);return[n,r,e,i]}function j(r,t,n,e){var i=new ArrayBuffer(12+e.byteLength),o=new Uint8Array(i),a=new DataView(i);return a.setInt32(0,r),a.setInt32(4,t),n&&o.set(n,8),o.set(e,12),o}function q(r){var t=r.length,n=s(r);return j(2,t,void 0,n)}function D(r){var t=r.length,n=L(r);return j(4,t,void 0,n)}function P(r,t){var n=r.length/t,e=L([t]),i=s(r);return j(5,n,e,i)}function z(r){var t=r.length,n=L(U(r));return j(6,t,void 0,n)}function B(r){var t=r.length,n=L(x(r));return j(8,t,void 0,n)}function V(r,t){var n=r.length,e=L([t]),i=L(F(r,t));return j(9,n,e,i)}function G(r,t){var n=r.length,e=L([t]),i=v(T(r,t));return j(10,n,e,i)}function R(r){var t={};return rr.forEach(function(n){void 0!==r[n]&&(t[n]=r[n])}),r.bondAtomList&&(t.bondAtomList=D(r.bondAtomList)),r.bondOrderList&&(t.bondOrderList=q(r.bondOrderList)),t.xCoordList=G(r.xCoordList,1e3),t.yCoordList=G(r.yCoordList,1e3),t.zCoordList=G(r.zCoordList,1e3),r.bFactorList&&(t.bFactorList=G(r.bFactorList,100)),r.atomIdList&&(t.atomIdList=B(r.atomIdList)),r.altLocList&&(t.altLocList=z(r.altLocList)),r.occupancyList&&(t.occupancyList=V(r.occupancyList,100)),t.groupIdList=B(r.groupIdList),t.groupTypeList=D(r.groupTypeList),r.secStructList&&(t.secStructList=q(r.secStructList,1)),r.insCodeList&&(t.insCodeList=z(r.insCodeList)),r.sequenceIndexList&&(t.sequenceIndexList=B(r.sequenceIndexList)),t.chainIdList=P(r.chainIdList,4),r.chainNameList&&(t.chainNameList=P(r.chainNameList,4)),t}function H(r){function t(r){for(var t={},n=0;r>n;n++){var e=o();t[e]=o()}return t}function n(t){var n=r.subarray(a,a+t);return a+=t,n}function e(t){var n=r.subarray(a,a+t);a+=t;var e=65535;if(t>e){for(var i=[],o=0;o<n.length;o+=e)i.push(String.fromCharCode.apply(null,n.subarray(o,o+e)));return i.join(\"\")}return String.fromCharCode.apply(null,n)}function i(r){for(var t=new Array(r),n=0;r>n;n++)t[n]=o();return t}function o(){var o,s,f=r[a];if(0===(128&f))return a++,f;if(128===(240&f))return s=15&f,a++,t(s);if(144===(240&f))return s=15&f,a++,i(s);if(160===(224&f))return s=31&f,a++,e(s);if(224===(224&f))return o=u.getInt8(a),a++,o;switch(f){case 192:return a++,null;case 194:return a++,!1;case 195:return a++,!0;case 196:return s=u.getUint8(a+1),a+=2,n(s);case 197:return s=u.getUint16(a+1),a+=3,n(s);case 198:return s=u.getUint32(a+1),a+=5,n(s);case 202:return o=u.getFloat32(a+1),a+=5,o;case 203:return o=u.getFloat64(a+1),a+=9,o;case 204:return o=r[a+1],a+=2,o;case 205:return o=u.getUint16(a+1),a+=3,o;case 206:return o=u.getUint32(a+1),a+=5,o;case 208:return o=u.getInt8(a+1),a+=2,o;case 209:return o=u.getInt16(a+1),a+=3,o;case 210:return o=u.getInt32(a+1),a+=5,o;case 217:return s=u.getUint8(a+1),a+=2,e(s);case 218:return s=u.getUint16(a+1),a+=3,e(s);case 219:return s=u.getUint32(a+1),a+=5,e(s);case 220:return s=u.getUint16(a+1),a+=3,i(s);case 221:return s=u.getUint32(a+1),a+=5,i(s);case 222:return s=u.getUint16(a+1),a+=3,t(s);case 223:return s=u.getUint32(a+1),a+=5,t(s)}throw new Error(\"Unknown type 0x\"+f.toString(16))}var a=0,u=new DataView(r.buffer);return o()}function W(r,t,n,e){switch(r){case 1:return h(t);case 2:return f(t);case 3:return l(t);case 4:return g(t);case 5:return s(t);case 6:return p(g(t),new Uint8Array(n));case 7:return p(g(t));case 8:return A(g(t));case 9:return M(g(t),g(e)[0]);case 10:return O(l(t),g(e)[0]);case 11:return y(l(t),g(e)[0]);case 12:return N(l(t),g(e)[0]);case 13:return N(f(t),g(e)[0]);case 14:return w(l(t));case 15:return w(f(t))}}function X(r,t){t=t||{};var n=t.ignoreFields,e={};return nr.forEach(function(t){var i=n?-1!==n.indexOf(t):!1,o=r[t];i||void 0===o||(o instanceof Uint8Array?e[t]=W.apply(null,k(o)):e[t]=o)}),e}function J(r){return String.fromCharCode.apply(null,r).replace(/\\0/g,\"\")}function K(r,t,n){n=n||{};var e,i,o,a,u,s,f=n.firstModelOnly,c=t.onModel,d=t.onChain,l=t.onGroup,v=t.onAtom,g=t.onBond,L=0,h=0,y=0,m=0,p=0,U=-1,b=r.chainNameList,I=r.secStructList,w=r.insCodeList,C=r.sequenceIndexList,A=r.atomIdList,x=r.bFactorList,M=r.altLocList,F=r.occupancyList,S=r.bondAtomList,E=r.bondOrderList;for(e=0,i=r.chainsPerModel.length;i>e&&!(f&&L>0);++e){var N=r.chainsPerModel[L];for(c&&c({chainCount:N,modelIndex:L}),o=0;N>o;++o){var O=r.groupsPerChain[h];if(d){var T=J(r.chainIdList.subarray(4*h,4*h+4)),k=null;b&&(k=J(b.subarray(4*h,4*h+4))),d({groupCount:O,chainIndex:h,modelIndex:L,chainId:T,chainName:k})}for(a=0;O>a;++a){var j=r.groupList[r.groupTypeList[y]],q=j.atomNameList.length;if(l){var D=null;I&&(D=I[y]);var P=null;r.insCodeList&&(P=String.fromCharCode(w[y]));var z=null;C&&(z=C[y]),l({atomCount:q,groupIndex:y,chainIndex:h,modelIndex:L,groupId:r.groupIdList[y],groupType:r.groupTypeList[y],groupName:j.groupName,singleLetterCode:j.singleLetterCode,chemCompType:j.chemCompType,secStruct:D,insCode:P,sequenceIndex:z})}for(u=0;q>u;++u){if(v){var B=null;A&&(B=A[m]);var V=null;x&&(V=x[m]);var G=null;M&&(G=String.fromCharCode(M[m]));var R=null;F&&(R=F[m]),v({atomIndex:m,groupIndex:y,chainIndex:h,modelIndex:L,atomId:B,element:j.elementList[u],atomName:j.atomNameList[u],formalCharge:j.formalChargeList[u],xCoord:r.xCoordList[m],yCoord:r.yCoordList[m],zCoord:r.zCoordList[m],bFactor:V,altLoc:G,occupancy:R})}m+=1}if(g){var H=j.bondAtomList;for(u=0,s=j.bondOrderList.length;s>u;++u)g({atomIndex1:m-q+H[2*u],atomIndex2:m-q+H[2*u+1],bondOrder:j.bondOrderList[u]})}y+=1}h+=1}if(p=U+1,U=m-1,g&&S)for(u=0,s=S.length;s>u;u+=2){var W=S[u],X=S[u+1];(W>=p&&U>=W||X>=p&&U>=X)&&g({atomIndex1:W,atomIndex2:X,bondOrder:E?E[u/2]:null})}L+=1}}function Q(r){return o(R(r))}function Y(r,t){r instanceof ArrayBuffer&&(r=new Uint8Array(r));var n;return n=r instanceof Uint8Array?H(r):r,X(n,t)}function Z(r,t,n,e){function i(){try{var r=Y(o.response);n(r)}catch(t){e(t)}}var o=new XMLHttpRequest;o.addEventListener(\"load\",i,!0),o.addEventListener(\"error\",e,!0),o.responseType=\"arraybuffer\",o.open(\"GET\",t+r.toUpperCase()),o.send()}function $(r,t,n){Z(r,or,t,n)}function _(r,t,n){Z(r,ar,t,n)}var rr=[\"mmtfVersion\",\"mmtfProducer\",\"unitCell\",\"spaceGroup\",\"structureId\",\"title\",\"depositionDate\",\"releaseDate\",\"experimentalMethods\",\"resolution\",\"rFree\",\"rWork\",\"bioAssemblyList\",\"ncsOperatorList\",\"entityList\",\"groupList\",\"numBonds\",\"numAtoms\",\"numGroups\",\"numChains\",\"numModels\",\"groupsPerChain\",\"chainsPerModel\"],tr=[\"xCoordList\",\"yCoordList\",\"zCoordList\",\"groupIdList\",\"groupTypeList\",\"chainIdList\",\"bFactorList\",\"atomIdList\",\"altLocList\",\"occupancyList\",\"secStructList\",\"insCodeList\",\"sequenceIndexList\",\"chainNameList\",\"bondAtomList\",\"bondOrderList\"],nr=rr.concat(tr),er=\"v1.1.0dev\",ir=\"//mmtf.rcsb.org/v1.0/\",or=ir+\"full/\",ar=ir+\"reduced/\";r.encode=Q,r.decode=Y,r.traverse=K,r.fetch=$,r.fetchReduced=_,r.version=er,r.fetchUrl=or,r.fetchReducedUrl=ar,r.encodeMsgpack=o,r.encodeMmtf=R,r.decodeMsgpack=H,r.decodeMmtf=X});","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Parser from './Parser';\nimport chem from '../../chem';\nimport MMTF from '../../../vendor/js/mmtf';\nimport StructuralElement from '../../chem/StructuralElement';\n\nconst {\n  Complex,\n  Chain,\n  Atom,\n  Element,\n  Helix,\n  Sheet,\n  Strand,\n  Bond,\n  Assembly,\n  Molecule,\n} = chem;\n\nclass ArrayComparator {\n  constructor(original) {\n    this._original = Array.from(original);\n    this._original.sort();\n\n    this._sum = 0;\n    for (let i = 0; i < this._original.length; ++i) {\n      this._sum += this._original[i];\n    }\n  }\n\n  compare(candidate) {\n    const len = candidate.length;\n    if (len !== this._original.length) {\n      return false;\n    }\n\n    let sum = 0;\n    let i;\n    for (i = 0; i < len; ++i) {\n      sum += candidate[i];\n    }\n\n    if (sum !== this._sum) {\n      return false;\n    }\n\n    const sorted = Array.from(candidate);\n    sorted.sort();\n\n    for (i = 0; i < len; ++i) {\n      if (sorted[i] !== this._original[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n}\n\nArrayComparator.prototype.constructor = ArrayComparator;\n\nconst StructuralElementType = StructuralElement.Type;\n\n// see https://github.com/rcsb/mmtf-javascript/blob/master/src/mmtf-traverse.js\nconst secStructToType = [\n  StructuralElementType.HELIX_PI, // 0\n  StructuralElementType.BEND, // 1\n  StructuralElementType.HELIX_ALPHA, // 2\n  StructuralElementType.STRAND, // 3\n  StructuralElementType.HELIX_310, // 4\n  StructuralElementType.BRIDGE, // 5\n  StructuralElementType.TURN, // 6\n  StructuralElementType.COIL, // 7\n];\n\nfunction getFirstByte(buf) {\n  const bytes = new Uint8Array(buf, 0, 1);\n  return bytes[0];\n}\n\nclass MMTFParser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n    this._options.fileType = 'mmtf';\n  }\n\n  static canProbablyParse(data) {\n    // check if it's binary MessagePack format containing a map (dictionary)\n    // see https://github.com/msgpack/msgpack/blob/master/spec.md\n    return _.isArrayBuffer(data) && ((getFirstByte(data) | 1) === 0xDF);\n  }\n\n  _onModel(_modelData) {\n  }\n\n  _onChain(chainData) {\n    if (chainData.modelIndex !== 0) {\n      return;\n    }\n\n    const chain = new Chain(this._complex, chainData.chainName);\n    this._complex._chains[chainData.chainIndex] = chain;\n    chain._index = chainData.chainIndex;\n  }\n\n  _onGroup(groupData) {\n    if (groupData.modelIndex !== 0) {\n      return;\n    }\n\n    if (this.settings.now.nowater) {\n      // skip water\n      if (groupData.groupName === 'HOH' || groupData.groupName === 'WAT') {\n        return;\n      }\n    }\n\n    const chain = this._complex._chains[groupData.chainIndex];\n    const icode = !groupData.insCode.charCodeAt(0) ? '' : groupData.insCode;\n    const residue = chain.addResidue(groupData.groupName, groupData.groupId, icode);\n    residue._index = groupData.groupIndex;\n\n    this._updateSecStructure(this._complex, residue, groupData);\n  }\n\n  _onAtom(atomData) {\n    if (atomData.modelIndex !== 0) {\n      return;\n    }\n\n    const altLoc = !atomData.altLoc.charCodeAt(0) ? '' : atomData.altLoc;\n    const atom = new Atom(\n      atomData.groupIndex, // we store residue index here to replace it later with actual reference\n      atomData.atomName,\n      Element.getByName(atomData.element.toUpperCase()),\n      new THREE.Vector3(atomData.xCoord, atomData.yCoord, atomData.zCoord),\n      Element.Role[atomData.atomName],\n      false, // hetero atoms will be marked later\n      atomData.atomId,\n      altLoc,\n      atomData.occupancy,\n      atomData.bFactor,\n      atomData.formalCharge,\n    );\n\n    this._complex._atoms[atomData.atomIndex] = atom;\n    atom.index = atomData.atomIndex;\n\n    this._serialAtomMap[atomData.atomId] = atom;\n  }\n\n  _onBond(bondData) {\n    const right = Math.max(bondData.atomIndex1, bondData.atomIndex2);\n    if (right >= this._complex._atoms.length) {\n      return;\n    }\n    const left = Math.min(bondData.atomIndex1, bondData.atomIndex2);\n    this._complex.addBond(\n      this._complex._atoms[left], this._complex._atoms[right],\n      bondData.bondOrder, Bond.BondType.UNKNOWN, true,\n    );\n  }\n\n  _updateSecStructure(complex, residue, groupData) {\n    const helixClasses = [3, -1, 1, -1, 5];\n\n    if (!_.isUndefined(groupData) && groupData.secStruct === this._ssType) {\n      residue._secondary = this._ssStruct;\n      if (this._ssStruct) {\n        this._ssStruct.term = residue;\n      }\n      return;\n    }\n\n    if (!_.isUndefined(groupData)) {\n      // start new secondary structure\n      const type = secStructToType[groupData.secStruct];\n      this._ssType = groupData.secStruct;\n      this._ssStart = residue;\n\n      let struct = null;\n      switch (this._ssType) {\n        case -1: // undefined\n        case 7: // coil\n          break;\n        case 0: // pi helix\n        case 2: // alpha helix\n        case 4: // 3-10 helix\n          struct = new Helix(helixClasses[this._ssType], residue, residue, 0, '', '', 0);\n          complex._helices.push(struct);\n          break;\n        case 3: { // extended\n          const sheet = new Sheet('', 0);\n          complex._sheets.push(sheet);\n          struct = new Strand(sheet, residue, residue, 0, null, null);\n          break;\n        }\n        default:\n          if (type !== undefined) {\n            struct = new StructuralElement(type, residue, residue);\n          }\n          break;\n      }\n\n      this._ssStruct = struct;\n      residue._secondary = struct;\n      if (struct) {\n        complex.structures.push(struct);\n      }\n    }\n  }\n\n  _updateMolecules(mmtfData) {\n    const entities = mmtfData.entityList;\n    if (!entities) {\n      return;\n    }\n\n    const chainsInModel0 = mmtfData.chainsPerModel[0];\n    for (let i = 0; i < entities.length; i++) {\n      const entity = entities[i];\n      const chains = entity.chainIndexList;\n      let residues = [];\n      for (let j = 0; j < chains.length; j++) {\n        const chainIndex = chains[j];\n        // skip chains in models other than the first one\n        if (chainIndex >= chainsInModel0) {\n          continue;\n        }\n        const chain = this._complex._chains[chainIndex];\n        residues = residues.concat(chain._residues.slice());\n      }\n      const molecule = new Molecule(this._complex, entity.description, i + 1);\n      molecule.residues = residues;\n      this._complex._molecules[i] = molecule;\n    }\n  }\n\n  // populate complex with chains, residues and atoms\n  _traverse(mmtfData) {\n    const self = this;\n\n    // get metadata\n    const { metadata } = this._complex;\n    metadata.id = mmtfData.structureId;\n    metadata.title = [];\n    metadata.title[0] = mmtfData.title;\n    metadata.date = mmtfData.releaseDate;\n    metadata.format = 'mmtf';\n\n    // create event callback functions\n    const eventCallbacks = {\n      onModel(modelData) {\n        self._onModel(modelData);\n      },\n      onChain(chainData) {\n        self._onChain(chainData);\n      },\n      onGroup(groupData) {\n        self._onGroup(groupData);\n      },\n      onAtom(atomData) {\n        self._onAtom(atomData);\n      },\n      onBond(bondData) {\n        self._onBond(bondData);\n      },\n    };\n\n    // temporary variables used during traversal to track secondary structures\n    this._ssType = -1;\n    this._ssStruct = null;\n    this._ssStart = null;\n\n    // traverse the structure and listen to the events\n    MMTF.traverse(mmtfData, eventCallbacks);\n\n    this._updateSecStructure(this._complex);\n    this._updateMolecules(mmtfData);\n  }\n\n  // During traversal atoms and residues don't come sequentially\n  // so a residue for certain atom can be unavailable. Thus we\n  // store residue index in atom.\n  // This function being called after traversal replaces the index\n  // with actual reference, and also populates atom lists in residues.\n  _linkAtomsToResidues() {\n    for (let i = 0; i < this._complex._atoms.length; ++i) {\n      const atom = this._complex._atoms[i];\n      const residue = this._complex._residues[atom.residue];\n      atom.residue = residue;\n      residue._atoms.push(atom);\n    }\n  }\n\n  _findSynonymousChains() {\n    const named = {};\n    for (let i = 0; i < this._complex._chains.length; ++i) {\n      const chain = this._complex._chains[i];\n      const name = chain.getName();\n      if (!named.hasOwnProperty(name)) {\n        named[name] = [];\n      }\n\n      named[name].push(chain._index);\n    }\n\n    return named;\n  }\n\n  // NOTE: This function relies on original chain indices, so it must be called before any magic happens to chains.\n  _parseAssemblyInfo(mmtfData) {\n    let i;\n    let j;\n    let k;\n    const assemblies = [];\n    const { logger } = this;\n\n    for (i = 0; i < mmtfData.bioAssemblyList.length; ++i) {\n      const baInfo = mmtfData.bioAssemblyList[i];\n      if (baInfo.transformList.length === 0) {\n        continue;\n      }\n\n      const chains = baInfo.transformList[0].chainIndexList;\n      const chainListCheck = new ArrayComparator(chains);\n\n      // build list of chain names\n      const chainNames = {};\n      for (j = 0; j < chains.length; ++j) {\n        chainNames[this._complex._chains[chains[j]].getName()] = 1;\n      }\n\n      // all chains with the same name should belong to assembly if one of them belongs\n      const allChains = [];\n      let name;\n      for (name in chainNames) {\n        if (chainNames.hasOwnProperty(name)) {\n          // just concat arrays -- there should be no duplicates\n          Array.prototype.push.apply(allChains, this._chainsByName[name]);\n        }\n      }\n      if (!chainListCheck.compare(allChains)) {\n        // assembly is missing some of the chains\n        logger.debug('MMTF: Assembly is missing some of the synonymous chains. Skipping...');\n      }\n\n      const a = new Assembly(this._complex);\n\n      // add chains to assembly\n      for (name in chainNames) {\n        if (chainNames.hasOwnProperty(name)) {\n          a.addChain(name);\n        }\n      }\n\n      // add unique matrices to assembly\n      a.addMatrix(new THREE.Matrix4().fromArray(baInfo.transformList[0].matrix).transpose());\n      for (j = 1; j < baInfo.transformList.length; ++j) {\n        const transform = baInfo.transformList[j];\n\n        if (!chainListCheck.compare(transform.chainIndexList)) {\n          // list of chains for this transform doesn't match that for other transforms\n          // this is illegal in our structure\n          logger.debug('MMTF: Chain lists differ for different transforms in one assembly. Skipping...');\n          continue;\n        }\n\n        const m = new THREE.Matrix4().fromArray(transform.matrix).transpose();\n\n        // check if matrix is already in the list\n        for (k = 0; k < a.matrices.length; ++k) {\n          if (a.matrices[k].equals(m)) {\n            break;\n          }\n        }\n\n        if (k === a.matrices.length) {\n          a.addMatrix(m);\n        }\n      }\n\n      a.finalize();\n      assemblies.push(a);\n    }\n\n    return assemblies;\n  }\n\n  // NOTE: This function relies on original chain indices, so it must be called before any magic happens to chains.\n  _markHeteroAtoms(mmtfData) {\n    const chainsInModel0 = mmtfData.chainsPerModel[0];\n    for (let i = 0; i < mmtfData.entityList.length; ++i) {\n      const entity = mmtfData.entityList[i];\n      if (entity.type !== 'polymer') {\n        for (let j = 0; j < entity.chainIndexList.length; ++j) {\n          const chainIndex = entity.chainIndexList[j];\n          // skip chains in models other than the first one\n          if (chainIndex >= chainsInModel0) {\n            continue;\n          }\n          const chain = this._complex._chains[chainIndex];\n          for (let k = 0; k < chain._residues.length; ++k) {\n            const res = chain._residues[k];\n            for (let m = 0; m < res._atoms.length; ++m) {\n              res._atoms[m].het = true;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // joins chains with the same name into single chain\n  _joinSynonymousChains() {\n    let i;\n    let j;\n\n    const primaryChainsArray = [];\n    const primaryChainsHash = {};\n\n    // join chains\n    for (i = 0; i < this._complex._chains.length; ++i) {\n      const chain = this._complex._chains[i];\n      const name = chain.getName();\n      if (!primaryChainsHash.hasOwnProperty(name)) {\n        // new name -- this is a primary chain\n        primaryChainsHash[name] = chain;\n        chain._index = primaryChainsArray.length; // update index as this array will later replace original chain list\n        primaryChainsArray.push(chain);\n        continue;\n      }\n\n      // this chain should be joined with the primary chain of the same name\n      const primary = primaryChainsHash[name];\n      for (j = 0; j < chain._residues.length; ++j) {\n        const residue = chain._residues[j];\n        primary._residues.push(residue);\n        residue._chain = primary;\n      }\n    }\n\n    // replace chains list with one containing only primary chains\n    // dropping references to all chains but primary\n    this._complex._chains = primaryChainsArray;\n  }\n\n  parseSync() {\n    const mmtfData = MMTF.decode(this._data);\n\n    this._complex = new Complex();\n    this._serialAtomMap = {}; // filled during traversal\n\n    this._traverse(mmtfData);\n    this._linkAtomsToResidues();\n    this._markHeteroAtoms(mmtfData);\n    this._chainsByName = this._findSynonymousChains();\n    Array.prototype.push.apply(this._complex.units, this._parseAssemblyInfo(mmtfData));\n    this._joinSynonymousChains();\n\n    this._complex.finalize({\n      needAutoBonding: false,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap,\n    });\n\n    return this._complex;\n  }\n}\n\nMMTFParser.formats = ['mmtf'];\nMMTFParser.extensions = ['.mmtf'];\nMMTFParser.binary = true;\n\nexport default MMTFParser;\n","class ParsingError extends Error {\n  constructor(message, line, column) {\n    super(`data:${line}:${column}: ${message}`);\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ParsingError);\n    }\n\n    this.name = 'ParsingError';\n    this.parseLine = line;\n    this.parseColumn = column;\n  }\n}\n\nexport default ParsingError;\n","import _ from 'lodash';\nimport ParsingError from './ParsingError';\n\n// Implemented and being tested against: https://www.iucr.org/resources/cif/spec/version1.1/cifsyntax\n\nfunction _isWhitespace(ch) {\n  return ch === 32 || ch === 10 || ch === 13 || ch === 9;\n}\n\nfunction _inlineIndexOf(ch0, str, idx) {\n  const len = str.length;\n  let ch = -1;\n  while (idx < len) {\n    ch = str.charCodeAt(idx);\n    if (ch === ch0 || ch === 10) {\n      break;\n    }\n    ++idx;\n  }\n  return ch === ch0 ? idx : -1;\n}\n\nexport default function readCIF(source) {\n  let i = 0;\n  let j = 0;\n  const n = source.length;\n  let code = NaN;\n  let newline = true;\n  let line = 1;\n  let column = 1;\n  let begin;\n  let state = 0; // 0 - start, 1 - block, 2 - item, 3 - loop, 4 - values, 5 - value\n  const result = {};\n  let block = {};\n  let keys = [];\n  let keysCount = 0;\n  let key = '';\n  let values = [];\n  let valuesCount = 0;\n  let value;\n\n  function _parseValue() {\n    let val;\n    if ((code === 46 || code === 63) && (i + 1 >= n || _isWhitespace(source.charCodeAt(i + 1)))) { // '.' or '?' .....\n      // it's a missing value\n      ++column;\n      ++i;\n      return undefined;\n    }\n    if (newline && code === 59) { // ';' ......................................................................\n      // parse multi-line string\n      j = i;\n      let lines = 0;\n      do {\n        j = _inlineIndexOf(10, source, j + 1); // '\\n'\n        if (j === -1) {\n          throw new ParsingError('Unterminated text block found', line, column);\n        }\n        ++lines;\n      } while ((j + 1 < n && source.charCodeAt(j + 1) !== code) || j + 1 >= n);\n      val = source.substring(i + 1, j).replace(/\\r/g, '');\n      i = j + 2;\n      line += lines;\n      column = 1;\n      newline = false;\n      return val;\n    }\n    if (code === 39 || code === 34) { // ''' or '\"' ...........................................................\n      // parse quoted string\n      j = i;\n      do {\n        j = _inlineIndexOf(code, source, j + 1);\n        if (j === -1) {\n          throw new ParsingError('Unterminated quoted string found', line, column);\n        }\n      } while (j + 1 < n && !_isWhitespace(source.charCodeAt(j + 1)));\n      val = source.substring(i + 1, j);\n      column += j - i + 1;\n      i = j + 1;\n      return val;\n    } // ......................................................................................................\n    // parse until the first whitespace\n    j = i;\n    while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n      ++j;\n    }\n    val = source.substring(i, j);\n    column += j - i;\n    i = j;\n    // try to convert to a number\n    const num = Number(val);\n    if (!Number.isNaN(num)) {\n      return num;\n    }\n    // or leave as an unquoted string\n    return val;\n  }\n\n  function _storeKey(tag) {\n    keys[keysCount++] = tag;\n  }\n\n  function _storeValue(val) {\n    const keyIndex = valuesCount % keysCount;\n    values[keyIndex].push(val);\n    ++valuesCount;\n    return val;\n  }\n\n  while (i <= n) {\n    code = source.charCodeAt(i); // 'NaN' in place of '<eof>'\n    if (code === 13) { // '\\r' .......................................................................................\n      // just ignore\n    } else if (code === 10) { // '\\n' ................................................................................\n      // take note of new lines\n      newline = true;\n      ++line;\n      column = 1;\n    } else {\n      // process inline characters\n      if (code === 32 || code === 9) { // ' ' or '\\t' ................................................................\n        // just ignore\n      } else if (code === 35) { // '#' ...............................................................................\n        // skip the comment until before the end of the line\n        i = _inlineIndexOf(10, source, i + 1); // '\\n'\n        if (i === -1) {\n          break;\n        } else {\n          continue; // don't forget to process the new line\n        }\n      } else if (state === 0) { // start =============================================================================\n        if ((code === 68 || code === 100) && source.substr(i + 1, 4).toLowerCase() === 'ata_') { // 'data_' ..........\n          j = i + 5;\n          begin = j;\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j;\n          }\n          column += j - i;\n          i = j;\n          if (begin < i) {\n            // add new data block\n            result[source.substring(begin, i)] = block = {};\n            state = 1; // block\n            continue; // don't forget to process the whitespace\n          } else {\n            throw new ParsingError('Data block name missing', line, column);\n          }\n        } else if (Number.isNaN(code)) { // <eof> ....................................................................\n          break;\n        } else { // ..................................................................................................\n          throw new ParsingError(`Unexpected character in state ${state}`, line, column);\n        }\n      } else if (state === 1) { // block =============================================================================\n        if ((code === 68 || code === 100) && source.substr(i + 1, 4).toLowerCase() === 'ata_') { // 'data_' ..........\n          state = 0; // start\n          continue; // parse again in a different state\n        } else if (code === 95) { // '_' .............................................................................\n          j = i + 1;\n          begin = j;\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j;\n          }\n          column += j - i;\n          i = j;\n          if (begin < i) {\n            // start new item\n            key = source.substring(begin, i);\n            state = 2; // item\n            continue; // don't forget to process the whitespace\n          } else {\n            throw new ParsingError('Tag name missing', line, column);\n          }\n        } else if ((code === 76 || code === 108) && source.substr(i + 1, 4).toLowerCase() === 'oop_') { // 'loop_' ...\n          i += 5;\n          column += 5;\n          if (i < n && !_isWhitespace(source.charCodeAt(i))) {\n            throw new ParsingError(`Unexpected character in state ${state}`, line, column);\n          } else {\n            // start new loop\n            keys = [];\n            keysCount = 0;\n            values = [];\n            valuesCount = 0;\n            state = 3; // loop\n            continue; // don't forget to process the whitespace\n          }\n        } else if (Number.isNaN(code)) { // <eof> ....................................................................\n          break;\n        } else { // ..................................................................................................\n          throw new ParsingError(`Unexpected character in state ${state}`, line, column);\n        }\n      } else if (state === 2) { // item ==============================================================================\n        if (Number.isNaN(code)) {\n          break;\n        }\n        value = _parseValue();\n        _.set(block, key, value);\n        state = 1; // block\n        continue;\n      } else if (state === 3) { // loop ==============================================================================\n        if (code === 95) { // '_' ....................................................................................\n          j = i + 1;\n          begin = j;\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j;\n          }\n          column += j - i;\n          i = j;\n          if (begin < i) {\n            // add new key\n            _storeKey(source.substring(begin, i));\n            continue; // don't forget to process the whitespace\n          } else {\n            throw new ParsingError('Tag name missing', line, column);\n          }\n        } else { // ..................................................................................................\n          if (keysCount > 0) {\n            for (let keyIndex = 0; keyIndex < keysCount; ++keyIndex) {\n              value = [];\n              values[keyIndex] = value;\n              _.set(block, keys[keyIndex], value);\n            }\n            state = 4;\n            continue; // parse again in a different state\n          }\n          throw new ParsingError('Data tags are missing inside a loop', line, column);\n        }\n      } else if (state === 4) { // values ============================================================================\n        if ((code === 68 || code === 100) && source.substr(i + 1, 4).toLowerCase() === 'ata_') { // 'data_' ..........\n          state = 0; // start\n        } else if (code === 95) { // '_' .............................................................................\n          state = 1; // block\n        } else if ((code === 76 || code === 108) && source.substr(i + 1, 4).toLowerCase() === 'oop_') { // 'loop_' ...\n          state = 1; // block\n        } else if (Number.isNaN(code)) { // <eof> ....................................................................\n          state = 0;\n        } else { // ..................................................................................................\n          _storeValue(_parseValue());\n        }\n        continue; // parse again in a different state\n      } else { // ====================================================================================================\n        throw new ParsingError(`Unexpected internal state ${state}`, line, column);\n      }\n\n      newline = false;\n      ++column;\n    }\n    ++i;\n  }\n\n  if (state === 2) { // item\n    throw new ParsingError(`Unexpected end of file in state ${state}`, line, column);\n  }\n\n  return result;\n}\n","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Parser from './Parser';\nimport chem from '../../chem';\nimport StructuralElement from '../../chem/StructuralElement';\nimport readCIF from './readCIF';\n\nconst {\n  Complex,\n  Element,\n  Helix,\n  Sheet,\n  Strand,\n  Assembly,\n  Molecule,\n} = chem;\n\nconst cRequiredAtomFields = [\n  'auth_seq_id',\n  'Cartn_x',\n  'Cartn_y',\n  'Cartn_z',\n  'label_atom_id',\n];\n\nconst cSecondaryCoding = {\n  helx: 'helix',\n  turn: 'turn',\n  strn: 'strand',\n};\n\nfunction getTypeFromId(string) {\n  const typeId = /[A-Za-z]+/.exec(string);\n  if (!typeId) {\n    return null;\n  }\n\n  return cSecondaryCoding[typeId[0].toLowerCase()];\n}\n\n/**\n * Make valid object an array\n * @param arrayLikeObject\n * @return {array, object} array or object\n */\nfunction arrize(arrayLikeObject) {\n  if (arrayLikeObject === null || arrayLikeObject === undefined || _.isArray(arrayLikeObject)) {\n    return arrayLikeObject;\n  }\n  return [arrayLikeObject];\n}\n\nfunction nameToElement(name) {\n  // http://www.wwpdb.org/documentation/file-format-content/format33/sect9.html#ATOM\n  //\n  // http://www.cgl.ucsf.edu/chimera/docs/UsersGuide/tutorials/pdbintro.html#note1\n  //\n  // Atom names start with element symbols right-justified in columns 13-14\n  // as permitted by the length of the name. For example, the symbol FE for\n  // iron appears in columns 13-14, whereas the symbol C for carbon appears\n  // in column 14 (see Misaligned Atom Names). If an atom name has four\n  // characters, however, it must start in column 13 even if the element\n  // symbol is a single character (for example, see Hydrogen Atoms).\n\n  const veryLong = name.trim().length === 4;\n  return name.slice(0, veryLong ? 1 : 2).trim();\n}\n\nclass AtomDataError extends Error {\n  constructor(message) {\n    super();\n    this.name = 'AtomDataError';\n    this.message = message;\n  }\n}\n\nfunction _getOperations(operList) {\n  if (!operList) {\n    return null;\n  }\n  const idc = arrize(operList.id);\n  const { matrix, vector } = operList;\n  if (!idc || !matrix || !vector) {\n    return null;\n  }\n\n  const ops = [];\n  for (let i = 0, n = idc.length; i < n; ++i) {\n    const mtx = new THREE.Matrix4();\n    const { elements } = mtx;\n\n    for (let row = 0; row < 3; ++row) {\n      const matrixData = matrix[row + 1];\n      elements[row] = arrize(matrixData[1])[i];\n      elements[row + 4] = arrize(matrixData[2])[i];\n      elements[row + 8] = arrize(matrixData[3])[i];\n      elements[row + 12] = arrize(vector[row + 1])[i];\n    }\n    ops[idc[i]] = mtx;\n  }\n  return ops;\n}\n\nfunction _extractOperations(assemblyGen, opsDict) {\n  assemblyGen = _.isString(assemblyGen) ? assemblyGen : `${assemblyGen}`;\n  const l = assemblyGen.replace(/\\)\\s*\\(/g, '!').replace(/[()']/g, '');\n  const groupStr = l.split('!');\n  const gps = [];\n\n  for (let grIdx = 0, grCount = groupStr.length; grIdx < grCount; ++grIdx) {\n    const gr = groupStr[grIdx].split(',');\n    const gp = [];\n    let idx = 0;\n    for (let i = 0, n = gr.length; i < n; ++i) {\n      const s = gr[i];\n      if (s.includes('-')) {\n        const es = s.split('-');\n        let j = parseInt(es[0], 10);\n        const m = parseInt(es[1], 10);\n        for (; j <= m; ++j) {\n          gp[idx++] = opsDict[j];\n        }\n      } else {\n        gp[idx++] = opsDict[s];\n      }\n    }\n    gps.push(gp);\n  }\n\n  // traverse all groups from the end of array and make all mults\n  const matrices = [];\n  let cnt = 0;\n  function traverse(level, mtx) {\n    for (let ii = 0, nn = gps[level].length; ii < nn; ++ii) {\n      const newMtx = mtx ? mtx.clone() : new THREE.Matrix4();\n      newMtx.multiplyMatrices(gps[level][ii], newMtx);\n      if (level === 0) {\n        matrices[cnt++] = newMtx;\n      } else {\n        traverse(level - 1, newMtx);\n      }\n    }\n  }\n  traverse(gps.length - 1);\n  return matrices;\n}\n\nclass CIFParser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n    this.asymDict = {};\n    this.molecules = [];\n    this._options.fileType = 'cif';\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && /^\\s*data_/i.test(data);\n  }\n\n  parseSync() {\n    this.logger.info('Parsing CIF file..');\n    const data = readCIF(this._data);\n    return this._toComplex(data);\n  }\n\n  /**\n   * Convert intermediate structure into our valid Complex object\n   * @param cifData intermediate CIF object\n   * @returns {Complex} complex\n   * @private\n   */\n  _toComplex(cifData) {\n    const complex = new Complex();\n    const complexData = cifData[Object.keys(cifData)[0]];\n    this._extractAtoms(complex, complexData);\n    this._extractSecondary(complex, complexData);\n    this._extractAssemblies(complex, complexData);\n    this._extractMolecules(complex, complexData);\n    this._extractMetadata(complex, complexData);\n    complex.finalize({\n      needAutoBonding: true,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n    });\n\n    return complex;\n  }\n\n\n  /**\n   * Extract metadata\n   * @param complex structure to fill\n   * @param complexData complex data from CIF file\n   * @private\n   */\n\n  _extractMetadata(complex, complexData) {\n    const { metadata } = complex;\n    metadata.id = complexData.entry.id;\n    metadata.classification = complexData.struct_keywords.pdbx_keywords;\n    const databaserev = complexData.database_PDB_rev;\n    metadata.date = (databaserev && databaserev.date_original) ? databaserev.date_original : '';\n    metadata.format = 'cif';\n    metadata.title = [];\n    metadata.title[0] = complexData.struct.title;\n  }\n\n  /**\n   * Extract molecules information from CIF structure (should be called strictly after _extractAtoms)\n   * @param complexData complex data from CIF file\n   * @private\n   */\n  _extractMolecules(complex, complexData) {\n    const molData = complexData.entity;\n    const names = arrize(molData.pdbx_description);\n    const count = names.length;\n    let i;\n\n    // molecules names from cif\n    for (i = 0; i < count; i++) {\n      this.molecules[i].name = names[i];\n    }\n\n    // reorganize molecules for complex and check chains\n    const molecules = complex.getMolecules();\n    for (i = 0; i < count; i++) {\n      const molecule = this.molecules[i];\n      molecules[i] = new Molecule(complex, molecule.name, i + 1);\n      molecules[i].residues = molecule.residues;\n    }\n  }\n\n  /**\n   * Extract atom information from CIF structure and fill complex\n   * @param {Complex} complex\n   * @param complexData complex data from CIF file\n   * @private\n   */\n  _extractAtoms(complex, complexData) {\n    const atomData = complexData.atom_site;\n    if (!atomData) {\n      throw new AtomDataError('CIF parsing error: atom_site is not specified!');\n    }\n\n    for (let f = 0, n = cRequiredAtomFields.length; f < n; ++f) {\n      if (!atomData[cRequiredAtomFields[f]]) {\n        throw new AtomDataError(`CIF parsing error: requires field ${cRequiredAtomFields[f]} not found!`);\n      }\n    }\n\n    const { asymDict } = this;\n    // required fields\n    const resIdc = arrize(atomData.auth_seq_id);\n    const x = arrize(atomData.Cartn_x);\n    const y = arrize(atomData.Cartn_y);\n    const z = arrize(atomData.Cartn_z);\n    const names = arrize(atomData.label_atom_id);\n    const count = names.length;\n    // optional fields\n    const group = arrize(atomData.group_PDB) || [];\n    const chainIdc = arrize(atomData.auth_asym_id) || [];\n    const chainLabelIdc = arrize(atomData.label_asym_id) || [];\n    const serials = arrize(atomData.id) || [];\n    const iCodes = arrize(atomData.pdbx_PDB_ins_code) || [];\n    const resNames = arrize(atomData.label_comp_id) || [];\n    const elements = arrize(atomData.type_symbol) || [];\n    const tempFactors = arrize(atomData.B_iso_or_equiv) || [];\n    const occupancies = arrize(atomData.occupancy) || [];\n    const charges = arrize(atomData.pdbx_formal_charge) || [];\n    const altLocs = arrize(atomData.label_alt_id) || [];\n    const models = arrize(atomData.pdbx_PDB_model_num) || [];\n    const molecules = arrize(atomData.label_entity_id) || [];\n\n    let chain = null;\n    let residue = null;\n    for (let i = 0; i < count; ++i) {\n      const model = models[i] || 1;\n      if (model !== 1) {\n        continue;\n      }\n      const chainID = String(chainIdc[i] || ' ');\n\n      if (!chain || chain.getName() !== chainID) {\n        chain = complex.getChain(chainID) || complex.addChain(chainID);\n      }\n      asymDict[String(chainLabelIdc[i] || ' ')] = chainID;\n      const resSeq = resIdc[i];\n      const iCode = String(iCodes[i] || ' ');\n      const resName = String(resNames[i] || '');\n      if (!residue || residue.getSequence() !== resSeq || residue.getICode() !== iCode) {\n        residue = chain.addResidue(resName, resSeq, iCode);\n\n        // store molecule (entity)\n        const moleculeIdx = molecules[i] - 1;\n        let entity = this.molecules[moleculeIdx];\n        if (!entity) {\n          this.molecules[moleculeIdx] = { name: '', residues: [] };\n          entity = this.molecules[moleculeIdx];\n        }\n        entity.residues.push(residue);\n      }\n\n      const name = names[i];\n      const element = elements[i] || nameToElement(name);\n      const type = Element.getByName(element);\n      const role = Element.Role[name.trim()];\n      const xyz = new THREE.Vector3(x[i], y[i], z[i]);\n      const het = group[i] === 'HETATM' || false;\n      const serial = serials[i] || i;\n      const tempFactor = tempFactors[i] || 0.0;\n      const occupancy = occupancies[i] || 0.0;\n      const altLoc = String(altLocs[i] || '');\n      const charge = charges[i] || 0;\n\n      residue.addAtom(\n        name, type, xyz,\n        role, het, serial, altLoc, occupancy, tempFactor, charge,\n      );\n    }\n  }\n\n  /**\n   * Extracts secondary structure information from CIF intermediate data\n   * and adds it into complex\n   * @param {Complex} complex - complex to fill\n   * @param complexData - CIF complex data\n   * @private\n   */\n  _extractSecondary(complex, complexData) {\n    if (complexData.struct_conf) {\n      this._extractConfs(complex, complexData.struct_conf);\n    }\n    if (complexData.struct_sheet_range) {\n      this._extractSheets(complex, complexData.struct_sheet_range);\n    }\n  }\n\n  /**\n   * Extracts sheets information from CIF intermediate data\n   * and adds it into complex\n   * @param {Complex} complex\n   * @param sheetData\n   * @private\n   */\n  _extractSheets(complex, sheetData) {\n    const { asymDict } = this;\n    if (!sheetData.sheet_id || !sheetData.id || !sheetData.beg_label_seq_id || !sheetData.end_label_seq_id\n      || !sheetData.beg_label_asym_id) {\n      return;\n    }\n    // Strand(sheet, start, end, sense, cur, prev)\n    const sheets = complex._sheets;\n\n    function getSheet(name) {\n      const n = sheets.length;\n      for (let i = 0; i < n; ++i) {\n        if (sheets[i]._name === name) {\n          return sheets[i];\n        }\n      }\n      sheets[n] = new Sheet(name, 0);\n      return sheets[n];\n    }\n\n    const sheetNames = arrize(sheetData.sheet_id);\n    const strandNames = arrize(sheetData.id);\n    const starts = arrize(sheetData.beg_auth_seq_id);\n    const ends = arrize(sheetData.end_auth_seq_id);\n    const chains = arrize(sheetData.beg_label_asym_id);\n    const stICodes = arrize(sheetData.pdbx_beg_PDB_ins_code) || [];\n    const endICodes = arrize(sheetData.pdbx_end_PDB_ins_code) || [];\n\n    for (let i = 0, n = strandNames.length; i < n; ++i) {\n      const chain = complex.getChain(asymDict[chains[i]]);\n      const sheet = getSheet(sheetNames[i]);\n      const startIdx = starts[i];\n      const endIdx = ends[i];\n      const startICode = stICodes[i] || ' ';\n      const endICode = endICodes[i] || ' ';\n\n      const start = chain.findResidue(startIdx, startICode);\n      const end = chain.findResidue(endIdx, endICode);\n\n      // TODO think about last condition\n      if (!start || !end) {\n        continue;\n      }\n\n      const strand = new Strand(sheet, start[0], end[0], 0, null, null);\n      const residues = chain.getResidues();\n      for (let r = start[1]; r <= end[1]; ++r) {\n        residues[r]._secondary = strand;\n      }\n      sheet.addStrand(strand);\n      complex.structures.push(strand);\n    }\n  }\n\n  /**\n   * Extracts helix/turn/strand(?) information from CIF intermediate data\n   * and adds it into complex\n   * @param {Complex} complex\n   * @param helicesData\n   * @private\n   */\n  _extractConfs(complex, helicesData) {\n    const { asymDict } = this;\n    if (!helicesData.conf_type_id || !helicesData.beg_label_seq_id || !helicesData.end_label_seq_id\n      || !helicesData.beg_label_asym_id) {\n      return;\n    }\n\n    const types = arrize(helicesData.conf_type_id);\n    const starts = arrize(helicesData.beg_auth_seq_id);\n    const stICodes = arrize(helicesData.pdbx_beg_PDB_ins_code) || [];\n    const ends = arrize(helicesData.end_auth_seq_id);\n    const endICodes = arrize(helicesData.pdbx_end_PDB_ins_code) || [];\n    const comments = arrize(helicesData.details) || [];\n    const lengths = arrize(helicesData.pdbx_PDB_helix_length) || [];\n    const helixClasses = arrize(helicesData.pdbx_PDB_helix_class) || [];\n    const names = arrize(helicesData.id) || [];\n    const chains = arrize(helicesData.beg_label_asym_id);\n\n    for (let i = 0, n = types.length; i < n; ++i) {\n      const type = getTypeFromId(types[i]);\n      if (!type) {\n        continue;\n      }\n      const name = names[i] || types[i];\n      const chain = complex.getChain(asymDict[chains[i]]);\n\n      const startIdx = starts[i];\n      const endIdx = ends[i];\n      const startICode = stICodes[i] || ' ';\n      const endICode = endICodes[i] || ' ';\n\n      const start = chain.findResidue(startIdx, startICode);\n      const end = chain.findResidue(endIdx, endICode);\n\n      // TODO think about last condition\n      if (!start || !end) {\n        continue;\n      }\n      const comment = comments[i] || '';\n      const length = lengths[i] || 0;\n      const helixClass = helixClasses[i] || ' ';\n      let struct;\n      if (type === 'helix') {\n        const idx = complex._helices.length;\n        struct = new Helix(helixClass, start[0], end[0], idx, name, comment, length);\n        complex.addHelix(struct);\n        complex.structures.push(struct);\n      } else if (type === 'turn') {\n        struct = new StructuralElement(StructuralElement.Type.TURN, start[0], end[0]);\n        complex.structures.push(struct);\n      } else {\n        struct = null;\n      }\n      if (!struct) {\n        continue;\n      }\n      const residues = chain.getResidues();\n      for (let r = start[1]; r <= end[1]; ++r) {\n        residues[r]._secondary = struct;\n      }\n    }\n  }\n\n\n  /**\n   * Extract biological assemblies information from CIF structure and fill complex\n   * @param {Complex} complex\n   * @param complexData complex data from CIF file\n   * @private\n   */\n  _extractAssemblies(complex, complexData) {\n    const { asymDict } = this;\n    const asmGen = complexData.pdbx_struct_assembly_gen;\n    if (!asmGen) {\n      return;\n    }\n\n    const asmIdx = arrize(asmGen.assembly_id);\n    const asmOper = arrize(asmGen.oper_expression);\n    const asmList = arrize(asmGen.asym_id_list);\n    if (!asmIdx || !asmOper || !asmList) {\n      return;\n    }\n\n    const operList = _getOperations(complexData.pdbx_struct_oper_list);\n    if (!operList) {\n      return;\n    }\n\n    for (let i = 0, n = asmIdx.length; i < n; ++i) {\n      const asm = new Assembly(complex);\n      const assemblyOps = _extractOperations(asmOper[i], operList);\n      const entries = asmList[i].split(',');\n      for (let ii = 0, nn = entries.length; ii < nn; ++ii) {\n        const chain = entries[ii].trim();\n        if (chain.length > 0) {\n          asm.addChain(asymDict[chain]);\n        }\n      }\n      asm.matrices = assemblyOps;\n      complex.units.push(asm);\n    }\n  }\n}\n\nCIFParser.formats = ['cif', 'mmcif'];\nCIFParser.extensions = ['.cif', '.mmcif'];\n\nexport default CIFParser;\n","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Volume from '../../chem/Volume';\n\nexport const valueType = {\n  singular: 0,\n  vector: 1,\n  array: 2,\n  buffer: 3,\n};\n\nclass VolumeModel {\n  _xyz2crs = [];\n\n  _origin = new THREE.Vector3(0, 0, 0);\n\n  constructor() {\n    this._header = {};\n    this._boxSize = new THREE.Vector3();\n    this._boxStart = new THREE.Vector3();\n    this._header.delta = {};\n    this._header.extent = [];\n    this._header.nstart = [];\n    this._header.grid = [];\n    this._header.crs2xyz = [];\n    this._header.cellDims = new THREE.Vector3();\n    this._header.angles = [];\n    this._header.origin = new THREE.Vector3(0, 0, 0);\n    this._header.dmin = 0;\n    this._header.dmean = 0;\n    this._header.dmax = 0;\n  }\n\n  _typedCheck() {\n    if (_.isTypedArray(this._buff)) {\n      this._buff = this._buff.buffer;\n    } else if (!_.isArrayBuffer(this._buff)) {\n      throw new TypeError('Expected ArrayBuffer or TypedArray');\n    }\n  }\n\n  _fillHeader(headerFormat, arrays) {\n    for (const key in headerFormat) {\n      if (headerFormat.hasOwnProperty(key)) {\n        switch (headerFormat[key][0]) {\n          case valueType.singular:\n            this._header[key] = arrays[headerFormat[key][1]][headerFormat[key][2]];\n            break;\n\n          case valueType.array:\n            this._parseArray(this._header[key], arrays[headerFormat[key][1]], headerFormat[key][2]);\n            break;\n\n          case valueType.vector:\n            this._parseVector(this._header[key], arrays[headerFormat[key][1]], headerFormat[key][2]);\n            break;\n\n          case valueType.buffer:\n            this._header[key] = new Uint8Array(\n              arrays[headerFormat[key][1]],\n              [headerFormat[key][2]] * 4,\n              [headerFormat[key][3]] * 4,\n            );\n            break;\n\n          default:\n            break;\n        }\n      }\n    }\n  }\n\n  _parseVector(vector, arr, pos) {\n    [vector.x, vector.y, vector.z] = [arr[pos], arr[pos + 1], arr[pos + 2]];\n  }\n\n  _parseArray(vector, arr, pos) {\n    vector[0] = arr[pos];\n    vector[1] = arr[pos + 1];\n    vector[2] = arr[pos + 2];\n  }\n\n  _parseHeader(_buffer) {}\n\n  _setAxisIndices() {}\n\n  _setOrigins() {}\n\n  _getAxis() {\n    const header = this._header;\n\n    const xScale = header.cellDims.x / header.grid[0];\n    const yScale = header.cellDims.y / header.grid[1];\n    const zScale = header.cellDims.z / header.grid[2];\n\n    const [alpha, beta, gamma] = header.angles;\n\n    const z1 = Math.cos(beta);\n    const z2 = (Math.cos(alpha) - Math.cos(beta)\n      * Math.cos(gamma)) / Math.sin(gamma);\n    const z3 = Math.sqrt(1.0 - z1 * z1 - z2 * z2);\n\n    const xaxis = new THREE.Vector3(xScale, 0, 0);\n    const yaxis = new THREE.Vector3(Math.cos(gamma) * yScale, Math.sin(gamma) * yScale, 0);\n    const zaxis = new THREE.Vector3(z1 * zScale, z2 * zScale, z3 * zScale);\n\n    return [xaxis, yaxis, zaxis];\n  }\n\n  _getXYZdim() {\n    return [this._header.extent[this._xyz2crs[0]],\n      this._header.extent[this._xyz2crs[1]],\n      this._header.extent[this._xyz2crs[2]]];\n  }\n\n  _getVolumeInfo() {\n    const volInfo = _.pick(this._header, ['dmean', 'dmin', 'dmax', 'sd', 'delta']);\n    volInfo.obtuseAngle = this._header.angles.map((angle) => Number(angle >= (Math.PI / 2)));\n    return volInfo;\n  }\n\n  _setBoxParams(xaxis, yaxis, zaxis) {\n    // if axes are not orthogonal, the origins might not match with box coordinates - need to make shift\n    let shiftX = 0;\n    let shiftY = 0;\n    const [alpha, beta, gamma] = this._header.angles;\n\n    if (gamma >= Math.PI / 2) {\n      shiftX += Math.abs(yaxis.x);\n    }\n    if (beta >= Math.PI / 2) {\n      shiftX += Math.abs(zaxis.x);\n    }\n    if (alpha >= Math.PI / 2) {\n      shiftY += Math.abs(zaxis.y);\n    }\n\n    this._boxStart = new THREE.Vector3(this._origin.x - shiftX, this._origin.y - shiftY, this._origin.z);\n    this._boxSize = new THREE.Vector3(\n      Math.abs(xaxis.x) + Math.abs(yaxis.x) + Math.abs(zaxis.x),\n      Math.abs(yaxis.y) + Math.abs(zaxis.y),\n      Math.abs(zaxis.z),\n    );\n\n    const delta = (axe, proj) => (Math.abs(axe[proj]) / this._boxSize[proj]);\n    this._header.delta.x = delta(yaxis, 'x');\n    this._header.delta.y = delta(zaxis, 'x');\n    this._header.delta.z = delta(zaxis, 'y');\n  }\n\n  _getXYZbox() {\n    return new THREE.Box3(this._boxStart.clone(), this._boxStart.clone().add(this._boxSize));\n  }\n\n  _toXYZData() {}\n\n  parse(data) {\n    this._parseHeader(data);\n    this._setOrigins();\n    return new Volume(Float32Array, this._getXYZdim(), this._getXYZbox(), 1, this._toXYZData(), this._getVolumeInfo());\n  }\n}\n\nexport default VolumeModel;\n","import Parser from './Parser';\nimport VolumeModel, { valueType } from './VolumeModel';\n\nconst CCP4Header = {\n  extent: [valueType.array, 'u32', 0],\n  type: [valueType.singular, 'u32', 3],\n  nstart: [valueType.array, 'i32', 4],\n  grid: [valueType.array, 'u32', 7],\n  cellDims: [valueType.vector, 'f32', 10],\n  angles: [valueType.array, 'f32', 13],\n  crs2xyz: [valueType.array, 'i32', 16],\n  dmin: [valueType.singular, 'f32', 19],\n  dmax: [valueType.singular, 'f32', 20],\n  dmean: [valueType.singular, 'f32', 21],\n  ispg: [valueType.singular, 'u32', 22],\n  nsymbt: [valueType.singular, 'u32', 23],\n  lksflg: [valueType.singular, 'u32', 24],\n  customData: [valueType.buffer, 'buffer', 25, 9],\n  origin: [valueType.vector, 'f32', 34],\n  map: [valueType.buffer, 'buffer', 52, 1],\n  machine: [valueType.singular, 'u32', 53],\n  sd: [valueType.singular, 'f32', 54],\n  nlabel: [valueType.singular, 'f32', 55],\n  label: [valueType.buffer, 'buffer', 56, 200],\n};\n\nclass Ccp4Model extends VolumeModel {\n  // read header (http://www.ccp4.ac.uk/html/maplib.html)\n  _parseHeader(_buffer) {\n    this._buff = _buffer;\n    this._typedCheck();\n    const arrays = {};\n    arrays.u32 = new Uint32Array(this._buff, 0, 56);\n    arrays.i32 = new Int32Array(this._buff, 0, 56);\n    arrays.f32 = new Float32Array(this._buff, 0, 56);\n    arrays.buffer = this._buff;\n    const header = this._header;\n\n    this._fillHeader(CCP4Header, arrays);\n\n    // calculate non-orthogonal unit cell coordinates\n    header.angles.forEach((angle, i, a) => { a[i] *= Math.PI / 180.0; });\n  }\n\n  _setAxisIndices() {\n    const header = this._header;\n\n    if (header.cellDims.x === 0.0 && header.cellDims.y === 0.0 && header.cellDims.z === 0.0) {\n      header.cellDims.set(1.0, 1.0, 1.0);\n    }\n    // Apply header conversion\n    // Mapping between CCP4 column, row, section and VMD x, y, z.\n    const { crs2xyz } = this._header;\n    if (crs2xyz[0] === 0 && crs2xyz[1] === 0 && crs2xyz[2] === 0) {\n      crs2xyz[0] = 1;\n      crs2xyz[1] = 2;\n      crs2xyz[2] = 3;\n    }\n\n    const xyz2crs = this._xyz2crs;\n    xyz2crs[crs2xyz[0] - 1] = 0; // column\n    xyz2crs[crs2xyz[1] - 1] = 1; // row\n    xyz2crs[crs2xyz[2] - 1] = 2; // section\n  }\n\n\n  _setOrigins() {\n    const [xaxis, yaxis, zaxis] = this._getAxis();\n    this._setAxisIndices();\n\n    const header = this._header;\n    const xyz2crs = this._xyz2crs;\n    // Handle both MRC-2000 and older format maps\n    if (header.origin.x === 0.0 && header.origin.y === 0.0 && header.origin.z === 0.0) {\n      this._origin.addScaledVector(xaxis, header.nstart[xyz2crs[0]]);\n      this._origin.addScaledVector(yaxis, header.nstart[xyz2crs[1]]);\n      this._origin.addScaledVector(zaxis, header.nstart[xyz2crs[2]]);\n    } else {\n      this._origin = header.origin;\n      // Use ORIGIN records rather than old n[xyz]start records\n      //   http://www2.mrc-lmb.cam.ac.uk/image2000.html\n      // XXX the ORIGIN field is only used by the EM community, and\n      // has undefined meaning for non-orthogonal maps and/or non-cubic voxels, etc.\n    }\n    xaxis.multiplyScalar(header.extent[xyz2crs[0]] - 1);\n    yaxis.multiplyScalar(header.extent[xyz2crs[1]] - 1);\n    zaxis.multiplyScalar(header.extent[xyz2crs[2]] - 1);\n\n    if (header.type === 2) {\n      this._data = new Float32Array(\n        this._buff,\n        1024 + header.nsymbt,\n        header.extent[0] * header.extent[1] * header.extent[2],\n      );\n    } else {\n      throw new Error(`CCP4: Unsupported format ${header.type}`);\n    }\n\n    this._setBoxParams(xaxis, yaxis, zaxis);\n  }\n\n  _toXYZData() {\n    const header = this._header;\n    const data = this._data;\n    const xyz2crs = this._xyz2crs;\n    const xyzData = new Float32Array(data.length);\n\n    const dim = this._getXYZdim();\n    const xSize = dim[0];\n    const ySize = dim[1];\n\n    let crsIdx = 0;\n    const coord = [];\n    let x;\n    let y;\n    let z;\n    for (coord[2] = 0; coord[2] < header.extent[2]; coord[2]++) { // Site\n      for (coord[1] = 0; coord[1] < header.extent[1]; coord[1]++) { // Row\n        for (coord[0] = 0; coord[0] < header.extent[0]; coord[0]++, crsIdx++) { // Column\n          x = coord[xyz2crs[0]];\n          y = coord[xyz2crs[1]];\n          z = coord[xyz2crs[2]];\n          xyzData[x + xSize * (y + ySize * z)] = data[crsIdx];\n        }\n      }\n    }\n\n    return xyzData;\n  }\n}\n\nclass CCP4Parser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n    this._options.fileType = 'ccp4';\n    this.model = new Ccp4Model();\n  }\n\n  static canProbablyParse(_data) {\n    return false; // Autodetection is not implemented yet\n  }\n\n  parseSync() {\n    return this.model.parse(this._data);\n  }\n}\n\nCCP4Parser.formats = ['ccp4'];\nCCP4Parser.extensions = ['.ccp4', '.map', '.mrc'];\nCCP4Parser.binary = true;\n\nexport default CCP4Parser;\n","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Parser from './Parser';\nimport chem from '../../chem';\n\nconst { Complex, Element, Molecule } = chem;\n\nclass XYZParser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n\n    this._complex = null;\n    this._atomsInf = null;\n\n    this._options.fileType = 'xyz';\n    this._fileName = options.name;\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && /^\\s*\\d+ *\\n[^\\n]*\\n\\s*\\w{1,3}\\s+-?\\d/.test(data);\n  }\n\n  _parseToAtomsInf(source) {\n    const endnAtoms = source.indexOf('\\n');\n    const nAtoms = parseInt(source.substring(0, endnAtoms), 10);\n    const endComment = source.indexOf('\\n', endnAtoms + 1);\n    let comment = source.slice(endnAtoms + 1, endComment).trim();\n    if (comment.length === 0) {\n      comment = this._fileName;\n    }\n\n    const startAtomsInf = endComment + source.substring(endComment).search(/\\S/);\n    this._atomsInf = source.substring(startAtomsInf).split(/[\\s,]*\\n[\\s,]*/);\n    if (!Number.isNaN(nAtoms) && (this._atomsInf.length - 1 !== nAtoms)) {\n      this._complex.error = {\n        message: 'wrong number of atoms',\n      };\n      return;\n    }\n\n    this._complex.metadata.format = 'xyz';\n    this._complex.name = comment;\n  }\n\n  _parseAtomsInf() {\n    const het = true;\n    const altLoc = ' ';\n    const occupancy = 1;\n    const tempFactor = 1;\n    const charge = 0;\n\n    const chain = this._complex.addChain('A');\n    const residue = chain.addResidue('UNK', 1, ' ');\n\n    for (let i = 0; i < this._atomsInf.length - 1; i++) {\n      const words = this._atomsInf[i].split(/[\\s,]+/);\n\n      if (words.length !== 4) {\n        this._complex.error = {\n          message: 'missed parameters',\n        };\n        break;\n      }\n\n      const serial = i + 1;\n      const name = words[0];\n      const xyz = new THREE.Vector3(parseFloat(words[1]), parseFloat(words[2]), parseFloat(words[3]));\n      const type = Element.getByName(name);\n      const role = undefined;\n\n      residue.addAtom(name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge);\n    }\n\n    const molecule = new Molecule(this._complex, this._complex.name, 1);\n    molecule.residues = residue;\n    this._complex._molecules[0] = molecule;\n  }\n\n  parseSync() {\n    const result = this._complex = new Complex();\n\n    this._parseToAtomsInf(this._data);\n    this._parseAtomsInf();\n\n    this._complex.finalize({\n      needAutoBonding: true,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap,\n    });\n\n    this._complex = null;\n    this._atomsInf = null;\n\n    if (result.error) {\n      throw new Error(result.error.message);\n    }\n    return result;\n  }\n\n  static formats = ['xyz'];\n\n  static extensions = ['.xyz'];\n}\n\nexport default XYZParser;\n","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Parser from './Parser';\nimport chem from '../../chem';\n\nconst { Complex, Element } = chem;\n\nclass PubChemParser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n    this._options.fileType = 'pubchem+json';\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && data[0] === '{';\n  }\n\n  parseSync() {\n    this.logger.info('Parsing PubChem JSON file...');\n    return this._toComplex(JSON.parse(this._data));\n  }\n\n  _toComplex(jsonData) {\n    const complex = new Complex();\n    const complexData = jsonData.PC_Compounds && jsonData.PC_Compounds[0];\n    if (complexData) {\n      this._extractAtoms(complex, complexData);\n      complex.finalize({\n        needAutoBonding: false,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing,\n      });\n    }\n    return complex;\n  }\n\n  _extractAtoms(complex, complexData) {\n    let aids = complexData.atoms && complexData.atoms.aid;\n    let elements = aids && complexData.atoms.element;\n    if (!elements || aids.length !== elements.length) {\n      throw new Error('Unable to parse atom elements');\n    }\n    elements = _.fromPairs(_.zip(aids, elements));\n    const atoms = {};\n\n    const coords = complexData.coords && complexData.coords[0];\n    const model = coords && coords.conformers && coords.conformers[0];\n    const xs = model && model.x;\n    const ys = model && model.y;\n    const zs = (model && model.z) || [];\n    aids = coords && coords.aid;\n    if (!aids || !xs || !ys) {\n      throw new Error('Coordinates are not found in the file');\n    }\n\n    const chain = complex.addChain(' ');\n    const residue = chain.addResidue('UNK', 1, ' ');\n\n    for (let i = 0, n = aids.length; i < n; ++i) {\n      const aid = aids[i];\n      const element = Element.ByAtomicNumber[elements[aid]];\n      const xyz = new THREE.Vector3(xs[i], ys[i], zs[i] || 0.0);\n      atoms[aid] = residue.addAtom(element.name, element, xyz, undefined, true, aid, ' ', 1.0, 0.0, 0);\n    }\n\n    const aids1 = complexData.bonds && complexData.bonds.aid1;\n    const aids2 = complexData.bonds && complexData.bonds.aid2;\n    const orders = (complexData.bonds && complexData.bonds.order) || [];\n    if (!aids1 || !aids2 || aids1.length !== aids2.length) {\n      return;\n    }\n\n    for (let j = 0, m = aids1.length; j < m; ++j) {\n      complex.addBond(atoms[aids1[j]], atoms[aids2[j]], orders[j] || 1, 0, true);\n    }\n  }\n}\n\n\nPubChemParser.formats = ['pubchem', 'pubchem+json', 'pc'];\nPubChemParser.extensions = ['.json'];\n\nexport default PubChemParser;\n","import _ from 'lodash';\n\nexport default class SDFStream {\n  constructor(data) {\n    this._strings = data.split(/\\r?\\n|\\r/);\n    this._currentStart = 0;\n    this._currentStringIndx = 0;\n  }\n\n  setStart(start) {\n    if (start >= this._strings.length) {\n      this._currentStart = this._strings.length - 1;\n      this._currentStringIndx = this._strings.length - 1;\n    } else {\n      this._currentStart = start;\n      this._currentStringIndx = start;\n    }\n  }\n\n  getNextString() {\n    return this._strings[++this._currentStringIndx];\n  }\n\n  getCurrentString() {\n    return this._strings[this._currentStringIndx];\n  }\n\n  getStringFromStart(numb) {\n    this._currentStringIndx = this._currentStart + numb;\n    return this._strings[this._currentStart + numb];\n  }\n\n  findNextDataItem() {\n    let curStr = this.getNextString();\n    let res = false;\n    while (!_.isUndefined(curStr) && curStr.trim() !== '$$$$') {\n      if (curStr.match(/>\\s+<(.*)>/)) {\n        res = true;\n        break;\n      }\n      curStr = this.getNextString();\n    }\n\n    return res;\n  }\n\n  findNextCompoundStart() {\n    let curStr = this.getCurrentString();\n    while (!_.isUndefined(curStr) && curStr.trim() !== '$$$$') {\n      curStr = this.getNextString();\n    }\n    this.setStart(++this._currentStringIndx);\n    return this.probablyHaveDataToParse();\n  }\n\n  probablyHaveDataToParse() {\n    return this._currentStringIndx < this._strings.length - 2;\n  }\n}\n","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Parser from './Parser';\nimport chem from '../../chem';\nimport SDFStream from './SDFStream';\nimport Assembly from '../../chem/Assembly';\n\nconst {\n  Complex,\n  Element,\n  Bond,\n  Molecule,\n} = chem;\n\nconst chargeMap = [0, 3, 2, 1, 0, -1, -2, -3];\nconst orderMap = [0, 1, 2, 3, 1, 1, 1, 2];\nconst typeMap = [\n  Bond.BondType.UNKNOWN, // 0 - error\n  Bond.BondType.COVALENT, // 1 - single\n  Bond.BondType.COVALENT, // 2 - double\n  Bond.BondType.COVALENT, // 3 - triple\n  Bond.BondType.AROMATIC, // 4 - aromatic\n  Bond.BondType.UNKNOWN, // 5 - single or double\n  Bond.BondType.AROMATIC, // 6 - single or aromatic\n  Bond.BondType.AROMATIC, // 7 - double or aromatic\n  // 8 - any\n  // 9 - coordination\n  // 10 - hydrogen\n];\n\nconst sdfAndMolRegexp = /.*(M\\s\\sEND).*|.*(^$$$$).*|.*>\\s+<(.+)>.*/;\nconst sdfRegExp = /.*($$$$).*|.*>\\s+<(.+)>.*/;\n\nconst fileFormat = { SDF: 'sdf', MOL: 'mol' };\n\nconst possibleNameTags = ['PUBCHEM_IUPAC_TRADITIONAL_NAME', /PUBCHEM_(.+)_NAME/, /(.+)name/, /(.+)NAME/];\nconst possibleIDTags = ['PUBCHEM_COMPOUND_CID', 'id', 'ID', /.*CID/, /.*ID/, /.*id/];\nconst possibleTitleTags = ['msg', 'MSG', 'message', 'title', 'description', 'desc'];\nconst tagsNames = ['name', 'id', 'title'];\nconst tags = { name: possibleNameTags, id: possibleIDTags, title: possibleTitleTags };\n\nfunction buildChainID(index) {\n  if (!index) {\n    return 'A';\n  }\n\n  const codes = [];\n  while (index) {\n    codes.push(65 + (index % 26));\n    index = Math.trunc(index / 26);\n  }\n  if (codes.length > 1) {\n    codes.reverse();\n    codes[0] -= 1;\n  }\n\n  return String.fromCharCode(...codes);\n}\n\nexport default class SDFParser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n    this._format = 'sdf';\n    this._complex = null;\n    this._chain = null;\n    this._residue = null;\n    this._molecules = null;\n    this._metadata = {};\n    this._metadata.molecules = [];\n    this._currentMolProps = {};\n    this._compoundIndx = -1;\n    this._assemblies = [];\n    this._atomsParsed = 0;\n    this._atomsIndexes = [];\n  }\n\n  canProbablyParse(data) {\n    return _.isString(data) && sdfAndMolRegexp.test(data);\n  }\n\n  _parseHeader(stream) {\n    const molecule = {};\n    molecule.name = stream.getStringFromStart(0);\n    const date = parseInt(stream.getStringFromStart(1).substr(10, 6).trim(), 10);\n    molecule.date = date.toString() || '';\n    molecule.title = stream.getStringFromStart(2);\n    this._metadata.molecules.push(molecule);\n  }\n\n  _parseAtoms(stream, atomsNum) {\n    let curStr;\n    let serial = this._atomsParsed;\n\n    // each molecule = chain\\residue\n    const chainID = buildChainID(this._compoundIndx);\n    const resName = 'UNK';\n    const resSeq = 1;\n\n    this._chain = this._complex.getChain(chainID) || this._complex.addChain(chainID);\n    this._residue = this._chain.addResidue(resName, resSeq, ' ');\n\n    for (let i = 0; i < atomsNum; i++) {\n      curStr = stream.getNextString();\n      serial++;\n      const x = parseFloat(curStr.substr(0, 10));\n      const y = parseFloat(curStr.substr(10, 10));\n      const z = parseFloat(curStr.substr(20, 10));\n      const charge = chargeMap[parseInt(curStr.substr(36, 3), 10)];\n      const xyz = new THREE.Vector3(x, y, z);\n      let name = curStr.substr(31, 3).trim().toUpperCase();\n      const type = Element.getByName(name);\n      if (!this._atomsIndexes[name]) {\n        this._atomsIndexes[name] = 0;\n      }\n      this._atomsIndexes[name] += 1;\n      name += this._atomsIndexes[name]; // every atom need to have unique name.\n\n      this._residue.addAtom(name, type, xyz, undefined, true, serial, ' ', 1.0, 0.0, charge);\n    }\n  }\n\n  _parseBonds(stream, bondsNum) {\n    let curStr;\n\n    for (let i = 0; i < bondsNum; i++) {\n      curStr = stream.getNextString();\n      let atom1 = parseInt(curStr.substr(0, 3), 10) + this._atomsParsed;\n      let atom2 = parseInt(curStr.substr(3, 3), 10) + this._atomsParsed;\n      const bondType = parseInt(curStr.substr(6, 3), 10);\n\n      if (atom1 > atom2) {\n        [atom1, atom2] = [atom2, atom1];\n      }\n      this._complex.addBond(atom1, atom2,\n        orderMap[bondType] || 1,\n        typeMap[bondType] || Bond.BondType.UNKNOWN,\n        true);\n    }\n  }\n\n  _parseMOL(stream) {\n    this._compoundIndx++;\n\n    this._parseHeader(stream);\n    const countsLine = stream.getStringFromStart(3);\n    const atomsNum = parseInt(countsLine.substr(0, 3), 10);\n    const bondsNum = parseInt(countsLine.substr(3, 3), 10);\n    this._parseAtoms(stream, atomsNum);\n    this._parseBonds(stream, bondsNum);\n\n    this._atomsParsed += atomsNum;\n\n    this._metadata.molecules[this._compoundIndx]._residues = [];\n    this._metadata.molecules[this._compoundIndx]._residues.push(this._residue);\n  }\n\n  _parseDataItem(stream) {\n    const tag = stream.getCurrentString();\n\n    let data = [];\n    let curStr = stream.getNextString();\n\n    // read data\n    while (curStr.trim() !== '') {\n      data.push(curStr);\n      curStr = stream.getNextString();\n    }\n    if (data.length === 1) {\n      [data] = data;\n    }\n    this._currentMolProps[tag.replace(/[<>]/g, '').trim()] = data;\n  }\n\n  _parseCompound(stream) {\n    this._parseMOL(stream);\n\n    // parse data items block\n    if (this._format === fileFormat.SDF) {\n      this._currentMolProps = {};\n      while (stream.findNextDataItem()) {\n        this._parseDataItem(stream);\n      }\n      if (Object.keys(this._currentMolProps).length !== 0) {\n        const molecule = this._metadata.molecules[this._compoundIndx];\n        molecule.props = this._currentMolProps;\n        this._tryToUpdateMoleculeData(molecule);\n      }\n    }\n  }\n\n  _fixBondsArray() {\n    const serialAtomMap = this._serialAtomMap;\n    const complex = this._complex;\n\n    const bonds = complex._bonds;\n    for (let j = 0; j < bonds.length; j++) {\n      const bond = bonds[j];\n      if (bond._right < bond._left) {\n        console.log('_fixBondsArray: Logic error.');\n      }\n      bond._left = serialAtomMap[bond._left] || null;\n      bond._right = serialAtomMap[bond._right] || null;\n    }\n  }\n\n  _buildAssemblies() {\n    const chains = this._complex._chains;\n\n    if (chains.length === 1) {\n      return this._assemblies;\n    }\n\n    for (let i = 0; i < chains.length; i++) {\n      const assembly = new Assembly(this._complex);\n      const matrix = new THREE.Matrix4();\n      assembly.addMatrix(matrix);\n      assembly.addChain(chains[i]._name);\n      this._assemblies.push(assembly);\n    }\n\n    return this._assemblies;\n  }\n\n  _buildMolecules() {\n    this._complex._molecules = [];\n    const { molecules } = this._metadata;\n    for (let i = 0; i < molecules.length; i++) {\n      const molecule = new Molecule(this._complex, molecules[i].name, i + 1);\n      molecule.residues = molecules[i]._residues;\n      this._complex._molecules[i] = molecule;\n    }\n\n    return this._complex._molecules;\n  }\n\n  _searchTag(tag, props) {\n    for (let i = 0; i < props.length; i++) {\n      if ((tag instanceof RegExp && tag.test(props[i].tag)) || tag === props[i].tag) {\n        return props[i].data;\n      }\n    }\n    return undefined;\n  }\n\n  _tryToFind(tagsList, props) {\n    for (let j = 0; j < tagsList.length; j++) {\n      const res = this._searchTag(tagsList[j], props);\n      if (res) {\n        return res;\n      }\n    }\n    return undefined;\n  }\n\n  _tryToUpdateMoleculeData(molecule) {\n    let res = false;\n    for (let i = 0; i < tagsNames.length; i++) {\n      const tagPossibleNames = tags[tagsNames[i]];\n      const data = this._tryToFind(tagPossibleNames, molecule.props);\n      if (data) {\n        molecule[tagsNames[i]] = data;\n        res = true;\n      }\n    }\n\n    molecule.name = molecule.name || molecule.id;\n    if (molecule.name.match(/^\\d+$/)) {\n      molecule.name = `CID: ${molecule.name}`;\n    }\n\n    return res;\n  }\n\n  _finalizeMetadata() {\n    const { molecules } = this._metadata;\n    const { metadata } = this._complex;\n    const complex = this._complex;\n\n    if (molecules.length === 1) {\n      complex.name = molecules[0].name;\n      metadata.title = molecules[0].title;\n      metadata.date = molecules[0].date;\n      metadata.properties = molecules[0].props;\n    } else if (molecules.length > 1) {\n      metadata.molecules = [];\n      for (let i = 0; i < molecules.length; i++) {\n        metadata.molecules.push({\n          name: molecules[i].name, date: molecules[i].date, title: molecules[i].title, properties: molecules[i].props,\n        });\n      }\n    }\n  }\n\n  _finalize() {\n    const serialAtomMap = this._serialAtomMap = {};\n    const atoms = this._complex._atoms;\n\n    for (let i = 0; i < atoms.length; i++) {\n      const atom = atoms[i];\n      serialAtomMap[atom.serial] = atom;\n    }\n\n    this._complex._finalizeBonds();\n    this._fixBondsArray();\n    this._finalizeMetadata();\n    this._buildAssemblies();\n    this._complex.units = this._complex.units.concat(this._assemblies);\n    this._buildMolecules();\n    this._complex.finalize({\n      needAutoBonding: false, detectAromaticLoops: false, enableEditing: false, serialAtomMap: this._serialAtomMap,\n    });\n  }\n\n  defineFormat(data) {\n    let format;\n    if (sdfRegExp.test(data)) {\n      format = fileFormat.SDF;\n    } else {\n      format = fileFormat.MOL;\n    }\n\n    return format;\n  }\n\n  parseSync() {\n    const result = this._complex = new Complex();\n    const stream = new SDFStream(this._data);\n\n    this._format = this.defineFormat(this._data);\n    result.metadata.format = this._format;\n\n    do {\n      this._parseCompound(stream);\n    } while (stream.findNextCompoundStart());\n\n    this._finalize();\n\n    return result;\n  }\n}\n\nSDFParser.formats = ['mol', 'sdf'];\nSDFParser.extensions = ['.mol', '.sdf'];\n","import * as THREE from 'three';\nimport Parser from './Parser';\nimport VolumeModel, { valueType } from './VolumeModel';\n\n// http://www.uoxray.uoregon.edu/tnt/manual/node104.html\nconst DSN6Header = {\n  nstart: [valueType.array, 'i16', 0],\n  extent: [valueType.array, 'i16', 3],\n  grid: [valueType.array, 'i16', 6],\n  cellDims: [valueType.vector, 'i16', 9],\n  angles: [valueType.array, 'i16', 12],\n  div: [valueType.singular, 'i16', 15],\n  adder: [valueType.singular, 'i16', 16],\n  scaleFactor: [valueType.singular, 'i16', 17],\n};\n\nclass DSN6Model extends VolumeModel {\n  _parseHeader(_buffer) {\n    this._buff = _buffer;\n    this._typedCheck();\n\n    const arrays = {};\n    arrays.i16 = new Int16Array(this._buff);\n\n    // check and reverse if big endian\n    if (arrays.i16[18] !== 100) {\n      for (let i = 0, n = arrays.i16.length; i < n; ++i) {\n        const val = arrays.i16[i];\n        arrays.i16[i] = ((val & 0xff) << 8) | ((val >> 8) & 0xff);\n      }\n    }\n    if (arrays.i16[18] !== 100) {\n      throw new Error('DSN6: Incorrect format ');\n    }\n\n    const header = this._header;\n\n    this._fillHeader(DSN6Header, arrays);\n    header.cellDims.multiplyScalar(1.0 / header.scaleFactor);\n    header.angles.forEach((angle, i, a) => { a[i] *= (Math.PI / 180.0) / header.scaleFactor; });\n    header.div /= 100;\n  }\n\n  _setAxisIndices() {\n    this._xyz2crs[0] = 0;\n    this._xyz2crs[1] = 1;\n    this._xyz2crs[2] = 2;\n  }\n\n  _setOrigins() {\n    const header = this._header;\n    const [xaxis, yaxis, zaxis] = this._getAxis();\n    this._setAxisIndices();\n\n    this._origin.addScaledVector(xaxis, header.nstart[0]);\n    this._origin.addScaledVector(yaxis, header.nstart[1]);\n    this._origin.addScaledVector(zaxis, header.nstart[2]);\n\n    xaxis.multiplyScalar(header.extent[0]);\n    yaxis.multiplyScalar(header.extent[1]);\n    zaxis.multiplyScalar(header.extent[2]);\n\n    this._setBoxParams(xaxis, yaxis, zaxis);\n  }\n\n  _pointCalculate(xyzData, byteBuffer, z, y, x, pos, i) {\n    const header = this._header;\n\n    if (x < header.extent[0] && y < header.extent[1] && z < header.extent[2]) {\n      const idx = x + header.extent[0] * (y + header.extent[1] * z);\n      xyzData[idx] = (byteBuffer[pos.counter] - header.adder) / header.div;\n      ++pos.counter;\n    } else {\n      pos.counter += 8 - i;\n      return false;\n    }\n    return true;\n  }\n\n  _blockCalculate(xyzData, byteBuffer, zBlock, yBlock, xBlock, pos) {\n    for (let k = 0; k < 8; ++k) {\n      const z = 8 * zBlock + k;\n      for (let j = 0; j < 8; ++j) {\n        const y = 8 * yBlock + j;\n        let inRange = true;\n        let i = 0;\n        while (inRange && i < 8) {\n          const x = 8 * xBlock + i;\n          inRange = this._pointCalculate(xyzData, byteBuffer, z, y, x, pos, i);\n          i++;\n        }\n      }\n    }\n  }\n\n  _toXYZData() {\n    const header = this._header;\n    const byteBuffer = new Uint8Array(this._buff);\n    const xyzData = new Float32Array(header.extent[0] * header.extent[1] * header.extent[2]);\n\n    const blocks = new THREE.Vector3(header.extent[0] / 8, header.extent[1] / 8, header.extent[2] / 8);\n\n    const pos = {};\n    pos.counter = 512;\n\n    for (let zBlock = 0; zBlock < blocks.z; ++zBlock) {\n      for (let yBlock = 0; yBlock < blocks.y; ++yBlock) {\n        for (let xBlock = 0; xBlock < blocks.x; ++xBlock) {\n          this._blockCalculate(xyzData, byteBuffer, zBlock, yBlock, xBlock, pos);\n        }\n      }\n    }\n    this._calculateInfoParams(xyzData);\n    return xyzData;\n  }\n\n  _calculateInfoParams(xyzData) {\n    this._header.dmean /= xyzData.length;\n    let dispersion = 0;\n    let minDensity = xyzData[0];\n    let maxDensity = xyzData[0];\n    for (let j = 0; j < xyzData.length; j++) {\n      dispersion += (this._header.dmean - xyzData[j]) ** 2;\n\n      if (xyzData[j] < minDensity) {\n        minDensity = xyzData[j];\n      }\n      if (xyzData[j] > maxDensity) {\n        maxDensity = xyzData[j];\n      }\n    }\n    this._header.sd = Math.sqrt(dispersion / xyzData.length);\n    this._header.dmax = maxDensity;\n    this._header.dmin = minDensity;\n  }\n}\n\nclass DSN6Parser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n    this._options.fileType = 'dsn6';\n    this.model = new DSN6Model();\n  }\n\n  static canParse(data, options) {\n    if (!data) {\n      return false;\n    }\n    return data instanceof ArrayBuffer && Parser.checkDataTypeOptions(options, 'dsn6');\n  }\n\n  static canProbablyParse(_data) {\n    return false;\n  }\n\n  parseSync() {\n    return this.model.parse(this._data);\n  }\n}\n\nDSN6Parser.formats = ['dsn6'];\nDSN6Parser.extensions = ['.dsn6', '.omap'];\nDSN6Parser.binary = true;\n\nexport default DSN6Parser;\n","import PDBStream from './PDBStream';\n\n/**\n * Little helper class for GRO Parser usage.\n * @extends PDBStream\n */\nclass GROReader extends PDBStream {\n  constructor(data) {\n    super(data);\n    /** @type Number */\n    this._next = -1; // End position of line\n    this.next();\n  }\n\n  /**\n   * Getting end of string.\n   * @returns {Number} Pointer to end of string\n   */\n  getNext() {\n    return this._next;\n  }\n}\n\nexport default GROReader;\n","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Parser from './Parser';\nimport chem from '../../chem';\nimport GROReader from './GROReader';\n\n\nconst {\n  Complex,\n  Element,\n  Molecule,\n} = chem;\n\n/**\n * Gromos87 file format parser.\n * @extends Parser\n */\nclass GROParser extends Parser {\n  /**\n   * Create parser for .gro file format\n   *\n   * @param {String} data Input file\n   * @param {String} options Input options (optional field)\n   */\n  constructor(data, options) {\n    super(data, options);\n    /** @type Date */\n    this._time = null; // Time in ps, optional field for animations\n    /** @type Number */\n    this._numAtoms = null; // Number of atoms in complex\n    /** @type Number */\n    this._residueNumber = null; // Number of exact residue\n    /** @type String */\n    this._residueName = ''; // Scientific name of exact residue\n    /** @type String */\n    this._atomName = ''; // Scientific name of exact atom\n    /** @type Number */\n    this._atomNumber = null; // Sorted number of exact atom\n    /** @type Array */\n    this._atomPosition = []; // Array which contains x, y, z position of exact atom\n    /** @type Array */\n    this._atomVelocity = []; // Array which contains x, y, z velocity of exact atom (optional)\n    /** @type Complex */\n    this._complex = null; // Complex structure for unified molecule representation\n    /** @type Vector3 */\n    this._molecules = []; // Molecules array\n    /** @type Molecule */\n    this._molecule = null; // Single molecule\n    /** @type String */\n    this._options.filetype = 'gro'; // Extension of data file.\n  }\n\n  /**\n   * General check for possibility of parsing.\n   * @param {String} data - Input file\n   * @returns {boolean} true if this file is in ascii, false otherwise\n   */\n  canProbablyParse(data) {\n    return _.isString(this._data) && /^\\s*[^\\n]*\\n\\s*\\d+ *\\n\\s*\\d+[^\\n\\d]{3}\\s*\\w+\\s*\\d+\\s*-?\\d/.test(data);\n  }\n\n  /**\n   * Parsing title of molecule complex.\n   * NOTE: that names are ESTIMATES, there is no strict rules in Gromos87 standard for first line in input file.\n   * @param {GROReader} line - Line containing title and time.\n   */\n  _parseTitle(line) {\n    const { metadata } = this._complex;\n    metadata.id = line.readLine().trim();\n    metadata.name = metadata.id.slice(metadata.id.lastIndexOf('\\\\') + 1, metadata.id.lastIndexOf('.'));\n    metadata.format = 'gro';\n  }\n\n  /**\n   * Parsing line containing number of atoms information.\n   * @param {GROReader} line - Line containing number of atoms.\n   */\n  _parseNumberOfAtoms(line) {\n    this._numAtoms = line.readInt(0, line.getNext());\n    if (Number.isNaN(this._numAtoms)) {\n      throw new Error('Line 2 is not representing atom number. Consider checking input file');\n    }\n  }\n\n  /**\n   * Parsing line containing information about residues, atoms etc. Also information about box vectors.\n   * Format of atoms MUST (by Gromos87 standard) be this: (note that numbering starts not from 0, but from 1!)\n   * ResidueNumber[1 - 5]  ResidueName[6 - 10] AtomName[11 - 15] AtomNumber[16 - 20] Position[21 - 45] Velocity[46 - 69]\n   * @param {GROReader} line - Line containing information about atom.\n   */\n  _parseAtom(line) {\n    this._residueNumber = line.readInt(1, 5);\n    this._residueName = line.readString(6, 10).trim();\n    this._atomName = line.readString(11, 15).trim();\n    this._atomNumber = line.readInt(16, 20);\n    const positionX = line.readFloat(21, 28) * 10;\n    const positionY = line.readFloat(29, 36) * 10;\n    const positionZ = line.readFloat(37, 45) * 10;\n    if (Number.isNaN(positionX) || Number.isNaN(positionY) || Number.isNaN(positionZ)) {\n      this._complex.error = {\n        message: `Atom position is invalid in \"${line.readLine()}\"`,\n      };\n      return;\n    }\n    /* const velocityX = line.readFloat(46, 53);\n    const velocityY = line.readFloat(54, 61);\n    const velocityZ = line.readFloat(62, 69); */\n    /* Adding residue and atom to complex structure */\n    const type = Element.getByName(this._atomName[0]); /* MAGIC 0. REASONS: This name is something like \"CA\", where\n     C - is an element an A is something else. But what about Calcium? */\n    if (type.fullName === 'Unknown') {\n      this._complex.error = {\n        message: `${this._atomName[0]} hasn't been recognised as an atom name.`,\n      };\n      return;\n    }\n    const role = Element.Role[this._atomName];\n    /* Firstly, create a dummy chain */\n    let chain = this._chain;\n    if (!chain) {\n      this._chain = chain = this._complex.addChain('A');\n    }\n    /* Secondly, add residue to that chain */\n    let residue = this._residue;\n    if (!residue || residue.getSequence() !== this._residueNumber) {\n      this._residue = residue = chain.addResidue(this._residueName, this._residueNumber, ' ');\n    }\n    /* Lastly, add atom to that residue */\n    this._atomPosition = new THREE.Vector3(positionX, positionY, positionZ);\n    /* Adding default constants to correct atom addition process */\n    const het = true;\n    const altLoc = ' ';\n    const occupancy = 1;\n    const tempFactor = 1;\n    const charge = 0;\n    residue.addAtom(this._atomName, type, this._atomPosition, role, het, this._atomNumber, altLoc, occupancy, tempFactor, charge);\n  }\n\n  /**\n   * Some finalizing procedures. In '.gro' file format there is only 1 chain and 1 molecule.\n   */\n  _finalize() {\n    const molecule = new Molecule(this._complex, this._complex.metadata.name, 1);\n    // aggregate residues from chain\n    molecule.residues = this._chain._residues;\n    molecule._chains = this._chain;\n    this._complex._molecules[0] = molecule;\n    this._molecules.push(molecule);\n    this._complex.finalize({\n      needAutoBonding: true,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap,\n    });\n  }\n\n  /**\n   * Main parsing procedure.\n   * @returns {Complex} Complex structure for visualizing.\n   */\n  parseSync() {\n    /* Create \"Complex\" variable */\n    const result = this._complex = new Complex();\n    /* Parse input file line-by-line */\n    const reader = new GROReader(this._data);\n    let counter = 0; /* Simple counter regarding to format of .gro file */\n    /* First two lines - technical information, other lines - Atoms */\n    this._parseTitle(reader);\n    reader.next();\n    this._parseNumberOfAtoms(reader);\n    reader.next();\n    for (counter = 0; counter < this._numAtoms; ++counter) {\n      if (!reader.end()) {\n        this._parseAtom(reader);\n        reader.next();\n      } else break;\n    }\n    /* If number of atoms in second line is less then actual atoms in file */\n    if (counter < this._numAtoms) {\n      this._complex.error = {\n        message: 'File ended unexpectedly.',\n      };\n    }\n    /* Catch errors occurred in parsing process */\n    if (result.error) {\n      throw new Error(result.error.message);\n    }\n\n    /* Finalizing data */\n    this._finalize();\n\n    /* Cleaning up */\n    this._atomPosition = null;\n    this._complex = null;\n    this._molecules = null;\n    this._molecule = null;\n\n    /* Return resulting Complex variable */\n    return result;\n  }\n}\n\nGROParser.formats = ['gro'];\nGROParser.extensions = ['.gro'];\n\nexport default GROParser;\n","import * as THREE from 'three';\nimport Parser from './Parser';\nimport chem from '../../chem';\n\nconst {\n  Complex,\n  Element,\n  Bond,\n  Molecule,\n} = chem;\n\nconst orderMap = {\n  un: 0,\n  1: 1,\n  2: 2,\n  3: 3,\n  ar: 1,\n  am: 1,\n  nc: 0,\n  du: 1,\n};\nconst typeMap = {\n  un: Bond.BondType.UNKNOWN, // unknown (cannot be determined from the parameter tables)\n  1: Bond.BondType.COVALENT, // single\n  2: Bond.BondType.COVALENT, // double\n  3: Bond.BondType.COVALENT, // triple\n  ar: Bond.BondType.AROMATIC, // aromatic\n  am: Bond.BondType.COVALENT, // amide\n  nc: Bond.BondType.UNKNOWN, // not connected\n  du: Bond.BondType.COVALENT, // dummy\n};\n\nconst resNumberRegex = /\\d+$/;\nconst spacesRegex = /\\s+/;\n\nfunction splitToFields(str) {\n  return str.trim().split(spacesRegex);\n}\n/* There is no jsdoc documentation because of eslint corrections:\n * not all Parser methods are implemented\n */\n\nclass MOL2Parser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n\n    this._complex = null;\n    this._chain = null;\n    this._residue = null;\n    this._compoundIndx = -1;\n\n    this._molecules = [];\n    this._molecule = null;\n\n    this._currPosIdx = 0;\n    this._currStartIdx = 0;\n\n    this._serialAtomMap = {};\n\n    this._options.fileType = 'mol2';\n  }\n\n  _parseRawStrings(data) {\n    return data.split(/\\r?\\n|\\r/);\n  }\n\n  _toStringFromStart(numb, MOL2Data) {\n    const newPosIdx = this._currStartIdx + numb;\n    this._currPosIdx = (newPosIdx < MOL2Data.length) ? newPosIdx : this._currStartIdx;\n  }\n\n  _toHeaderString(header, MOL2Data) {\n    this._toStringFromStart(0, MOL2Data);\n    while (this._currPosIdx < MOL2Data.length) {\n      if (MOL2Data[this._currPosIdx].match(`@<TRIPOS>${header}`)) {\n        return;\n      }\n      this._currPosIdx++;\n    }\n    this._toStringFromStart(0, MOL2Data);\n  }\n\n  _toStringFromHeader(header, numb, MOL2Data) {\n    this._toHeaderString(header, MOL2Data);\n    const newPosIdx = this._currPosIdx + numb;\n\n    if (MOL2Data[this._currPosIdx].match(`@<TRIPOS>${header}`) && newPosIdx < MOL2Data.length) {\n      this._currPosIdx = newPosIdx;\n    }\n  }\n\n  _setStart(startPos, MOL2Data) {\n    if (startPos >= MOL2Data.length) {\n      this._currStartIdx = this._currPosIdx = MOL2Data.length - 1;\n    } else {\n      this._currStartIdx = this._currPosIdx = startPos;\n    }\n  }\n\n  _probablyHaveDataToParse(MOL2Data) {\n    return this._currPosIdx < MOL2Data.length - 2;\n  }\n\n  _findNextCompoundStart(MOL2Data) {\n    while (this._currPosIdx < MOL2Data.length && MOL2Data[this._currPosIdx].trim() !== '@<TRIPOS>MOLECULE>') {\n      this._currPosIdx++;\n    }\n    this._setStart(++this._currPosIdx, MOL2Data);\n    return this._probablyHaveDataToParse(MOL2Data);\n  }\n\n  _parseMolecule(MOL2Data) {\n    this._toHeaderString('MOLECULE', MOL2Data);\n\n    const { metadata } = this._complex;\n    metadata.name = MOL2Data[++this._currPosIdx];\n    metadata.format = 'mol2';\n\n    this._molecule = { _index: '', _chains: [] };\n    this._molecule._index = this._compoundIndx + 1;\n    this._molecules.push(this._molecule);\n  }\n\n  /* Atom format description:\n   * atomId atomName x y z element [resSeq [resName [charge [statusBit]]]]\n   * statusBits is the internal SYBYL status bits associated with the atom.\n   * These should never be set by the user.\n   * Source: http://chemyang.ccnu.edu.cn/ccb/server/AIMMS/mol2.pdf\n   */\n  _parseAtoms(atomsNum, MOL2Data) {\n    this._toHeaderString('ATOM', MOL2Data);\n\n    for (let i = 0; i < atomsNum; i++) {\n      const parsedStr = splitToFields(MOL2Data[++this._currPosIdx]);\n\n      if (parsedStr.length < 6) {\n        throw new Error('MOL2 parsing error: Not enough information to create atom!');\n      }\n      const atomId = parseInt(parsedStr[0], 10);\n      const atomName = parsedStr[1];\n\n      const x = parseFloat(parsedStr[2]);\n      const y = parseFloat(parsedStr[3]);\n      const z = parseFloat(parsedStr[4]);\n\n      const element = parsedStr[5].split('.')[0].toUpperCase();\n\n      let charge = 0;\n      if (parsedStr.length >= 9) {\n        charge = parseFloat(parsedStr[8]) || 0.0;\n      }\n\n      let chain = this._chain;\n      if (!chain) {\n        // .mol2 may contain information about multiple molecules, but they can't be visualized\n        // at the same time now. There is no need to create different chain IDs then.\n        this._chain = chain = this._complex.getChain('A') || this._complex.addChain('A');\n        this._residue = null;\n      }\n      if (!this._setResidue(parsedStr)) {\n        continue;\n      }\n\n      // These fields are not listed in mol2 format. Set them default.\n      // Atoms and het atoms doesn't differ in .mol2,\n      // but het atoms have special residues. It can be used in next updates\n      const het = false;\n      const altLoc = ' ';\n      const occupancy = 1.0;\n      const tempFactor = 0.0;\n      const type = Element.getByName(element);\n      const role = Element.Role[atomName];\n\n      const xyz = new THREE.Vector3(x, y, z);\n      this._residue.addAtom(atomName, type, xyz, role, het, atomId, altLoc, occupancy, tempFactor, charge);\n    }\n  }\n\n  _setResidue(parsedStr) {\n    let resSeq = 1;\n    let resName = 'UNK'; // The same meaning has '<0>' in some mol2 files\n\n    if (parsedStr.length >= 7) {\n      resSeq = parseInt(parsedStr[6], 10);\n    }\n    if (parsedStr.length >= 8 && parsedStr[7] !== '<0>') {\n      resName = parsedStr[7].replace(resNumberRegex, '');\n    }\n    if (this.settings.now.nowater) {\n      if (resName === 'HOH' || resName === 'WAT') {\n        return false;\n      }\n    }\n    const residue = this._residue;\n    const chain = this._chain;\n    if (!residue || residue.getSequence() !== resSeq) {\n      this._residue = chain.addResidue(resName, resSeq, 'A');\n    }\n    return true;\n  }\n\n  /* Bond format description\n   * bondId originAtomId targetAtomId bondType [statusBits]\n   */\n  _parseBonds(bondsNum, MOL2Data) {\n    this._toHeaderString('BOND', MOL2Data);\n\n    for (let i = 0; i < bondsNum; i++) {\n      const parsedStr = splitToFields(MOL2Data[++this._currPosIdx]);\n\n      if (parsedStr.length < 3) {\n        throw new Error('MOL2 parsing error: Missing information about bonds!');\n      }\n\n      let originAtomId = parseInt(parsedStr[1], 10);\n      let targetAtomId = parseInt(parsedStr[2], 10);\n      const bondType = parsedStr[3];\n\n      if (originAtomId > targetAtomId) {\n        [originAtomId, targetAtomId] = [targetAtomId, originAtomId];\n      }\n      this._complex.addBond(originAtomId, targetAtomId,\n        orderMap[bondType] || 0,\n        typeMap[bondType] || Bond.BondType.UNKNOWN,\n        true);\n    }\n  }\n\n  _fixSerialAtoms() {\n    const atoms = this._complex._atoms;\n    for (let i = 0; i < atoms.length; i++) {\n      const atom = atoms[i];\n      this._serialAtomMap[atom.serial] = atom;\n    }\n  }\n\n  _fixBondsArray() {\n    const serialAtomMap = this._serialAtomMap;\n    const complex = this._complex;\n\n    if (Object.keys(serialAtomMap).length === 0) {\n      throw new Error('MOL2 parsing error: Missing atom information!');\n    }\n\n    const bonds = complex._bonds;\n    for (let j = 0; j < bonds.length; j++) {\n      const bond = bonds[j];\n      bond._left = serialAtomMap[bond._left] || null;\n      bond._right = serialAtomMap[bond._right] || null;\n    }\n  }\n\n  _finalizeMolecules() {\n    // Get chain from complex\n    const chain = this._complex._chains[0];\n    this._complex._molecules = [];\n\n    // Aggregate residues from chains\n    // (to be precise from the chain 'A')\n    for (let i = 0; i < this._molecules.length; i++) {\n      const currMolecule = this._molecules[i];\n      const molResidues = chain._residues;\n      const molecule = new Molecule(this._complex, currMolecule._name, i + 1);\n      molecule.residues = molResidues;\n      this._complex._molecules[i] = molecule;\n    }\n  }\n\n  _finalize() {\n    this._complex._finalizeBonds();\n    this._fixSerialAtoms();\n    this._fixBondsArray();\n    this._finalizeMolecules();\n\n    this._complex.finalize({\n      needAutoBonding: false,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap,\n    });\n  }\n\n  _parseCompound(MOL2Data) {\n    this._compoundIndx++;\n    this._parseMolecule(MOL2Data);\n\n    // Ignoring comments and everything before @<TRIPOS>MOLECULE block\n    this._toStringFromHeader('MOLECULE', 2, MOL2Data);\n\n    const parsedStr = MOL2Data[this._currPosIdx].trim().split(spacesRegex);\n    const atomsNum = parsedStr[0];\n    const bondsNum = parsedStr[1];\n\n    this._parseAtoms(atomsNum, MOL2Data);\n    this._parseBonds(bondsNum, MOL2Data);\n  }\n\n  parseSync() {\n    const result = this._complex = new Complex();\n    const MOL2Data = this._parseRawStrings(this._data);\n    do {\n      this._parseCompound(MOL2Data);\n    } while (this._findNextCompoundStart(MOL2Data));\n\n    this._finalize();\n\n    return result;\n  }\n}\n\nMOL2Parser.formats = ['mol2'];\nMOL2Parser.extensions = ['.mol2', '.ml2', '.sy2'];\n\nexport default MOL2Parser;\n","import ParserList from './parsers/ParserList';\n\nimport PDBParser from './parsers/PDBParser';\nimport CMLParser from './parsers/CMLParser';\nimport MMTFParser from './parsers/MMTFParser';\nimport CIFParser from './parsers/CIFParser';\nimport CCP4Parser from './parsers/CCP4Parser';\nimport XYZParser from './parsers/XYZParser';\nimport PubChemParser from './parsers/PubChemParser';\nimport SDFParser from './parsers/SDFParser';\nimport DSN6Parser from './parsers/DSN6Parser';\nimport GROParser from './parsers/GROParser';\nimport MOL2Parser from './parsers/MOL2Parser';\n\nexport default new ParserList([\n  // note: order might be important\n  PDBParser,\n  CIFParser,\n  MMTFParser,\n  XYZParser,\n  CMLParser,\n  PubChemParser,\n  SDFParser,\n  CCP4Parser,\n  DSN6Parser,\n  GROParser,\n  MOL2Parser,\n]);\n","import EntityList from '../../utils/EntityList';\n\n/**\n * A list of available exporters.\n * @extends EntityList\n */\nclass ExporterList extends EntityList {\n  /**\n   * Create a list of exporters.\n   * The exporters are indexed by supported data formats (`.formats` and\n   * `.extensions` properties of a Exporter subclass).\n   * The Exporters can be retrieved later by matching against specs (see {@link ExporterList#find}).\n   *\n   * @param {!Array<function(new:Exporter)>=} someExporters A list of {@link Exporter} subclasses to\n   *   automatically register at creation time.\n   * @see ExporterList#register\n   */\n  constructor(someExporters = []) {\n    super(someExporters, ['formats']);\n  }\n\n  /**\n   * Find a suitable exporter for data.\n   *\n   * @param {Object} specs Exporter specifications.\n   * @param {string=} specs.format Supported data format.\n   * @param {*=} specs.data Data to export.\n   */\n  find(specs) {\n    let list = [];\n    if (specs.format) {\n      list = this._dict.formats[specs.format.toLowerCase()] || [];\n    }\n    return [...list];\n  }\n}\n\nexport default ExporterList;\n","import makeContextDependent from '../../utils/makeContextDependent';\n\nexport default class Exporter {\n  constructor(source, options) {\n    this._source = source;\n    this._options = options || {};\n    this._abort = false;\n  }\n\n  exportSync() {\n    throw new Error('Exporting to this source is not implemented');\n  }\n\n  export() {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        try {\n          if (this._abort) {\n            return reject(new Error('Export aborted'));\n          }\n          return resolve(this.exportSync());\n        } catch (error) {\n          return reject(error);\n        }\n      });\n    });\n  }\n\n  abort() {\n    this._abort = true;\n  }\n}\n\nmakeContextDependent(Exporter.prototype);\n","import _ from 'lodash';\nimport { Matrix4 } from 'three';\n\nexport default class PDBResult {\n  constructor() {\n    this._resultArray = [];\n    this._currentStr = -1;\n    this._tag = null;\n    this._fixedNumeration = false;\n    this._numeration = false;\n    this._tagStrNum = 0;\n  }\n\n  getResult() {\n    this.writeString('\\n', 81, 81);\n    return this._resultArray.join('');\n  }\n\n  _currentStrLength() {\n    const curStr = this._resultArray[this._currentStr];\n    return curStr ? curStr.length : 0;\n  }\n\n  // numeration can be number or boolean\n  // if numeration is number then just put this number to 8-10 pos in string\n  // if numeration is boolean then increase number for all new strings\n  newTag(tag, numeration) {\n    if (!tag) {\n      this._tag = null;\n    } else {\n      this._tag = tag;\n    }\n    if (!_.isUndefined(numeration)) {\n      if (_.isNumber(numeration)) {\n        this._tagStrNum = numeration;\n        this._numeration = true;\n        this._fixedNumeration = true;\n      } else if (_.isBoolean(numeration)) {\n        this._tagStrNum = 0;\n        this._numeration = numeration;\n        this._fixedNumeration = false;\n      }\n    } else {\n      this._numeration = false;\n      this._fixedNumeration = false;\n      this._tagStrNum = 0;\n    }\n  }\n\n  newString(tag) {\n    this.writeString('\\n', 81, 81);\n    this._currentStr++;\n    this._resultArray.push('');\n\n    if (tag) {\n      this.writeString(tag, 1, 6);\n    } else if (this._tag) {\n      this.writeString(this._tag, 1, 6);\n    }\n\n    if (this._numeration) {\n      if (!this._fixedNumeration) {\n        this._tagStrNum++;\n      }\n      if (this._tagStrNum !== 1) {\n        this.writeString(this._tagStrNum.toString(), 10, 8);\n      }\n    }\n  }\n\n  writeEntireString(string, maxStrPos, concat) {\n    if (!maxStrPos) {\n      maxStrPos = 81;\n    }\n    for (let j = 0; j < string.length; j++) {\n      if (this._currentStrLength() === maxStrPos && j !== string.length - 1) {\n        this.newString();\n        if (concat) { // pretty hardcoddy\n          this.writeString(concat.tag, concat.begin, concat.end);\n        }\n      }\n      if (string[j] === '\\n') {\n        this.newString();\n      } else {\n        this.writeString(string[j]);\n      }\n    }\n  }\n\n  writeString(string, begin, end) {\n    let curStr = this._resultArray[this._currentStr];\n    let str;\n\n    const curStrLength = curStr ? curStr.length : 0;\n\n    if (_.isUndefined(string)) {\n      return;\n    }\n\n    if (!_.isNumber(begin)) {\n      begin = curStrLength + 1;\n    }\n\n    if (!_.isNumber(end)) {\n      end = curStrLength + string.length;\n    }\n\n    if (!_.isString(string)) {\n      str = string.toString();\n    } else {\n      str = string;\n    }\n\n    const finish = begin < end ? end : begin;\n    const start = begin < end ? begin : end;\n\n    if (str.length > Math.abs(begin - end) + 1) {\n      str = str.substr(0, Math.abs(begin - end + 1));\n    }\n\n    // spaces before start of new data\n    if (start > curStrLength + 1) {\n      this._resultArray[this._currentStr] += ' '.repeat(start - curStrLength - 1);\n    } else if (start <= curStrLength) {\n      const cStr = this._resultArray[this._currentStr];\n      this._resultArray[this._currentStr] = cStr.slice(0, start - 1);\n    }\n\n    // if reverse order\n    // reverse order of end and begin means that user wants to align text right\n    if (end < begin) {\n      const len = begin - end + 1;\n      str = ' '.repeat(len - str.length) + str;\n    }\n\n    // some hardcode fix for space between string numeration and data\n    // (see pdb file format description)\n    if (start === 11 && this._numeration && this._tagStrNum !== 1) {\n      str = ` ${str}`;\n    }\n\n    // append new data to string\n    this._resultArray[this._currentStr] += str;\n    curStr = this._resultArray[this._currentStr];\n\n    if (finish > curStr.length) {\n      this._resultArray[this._currentStr] += ' '.repeat(finish - curStr.length);\n    }\n  }\n\n  writeBondsArray(bonds, atom) {\n    const bondsArrays = this._getSubArrays(bonds, 4);\n\n    for (let k = 0; k < bondsArrays.length; k++) {\n      this.newString();\n      this.writeString(atom.serial, 11, 7);\n\n      for (let j = 0; j < bondsArrays[k].length; j++) {\n        const serial = (bondsArrays[k][j]._left.serial === atom.serial)\n          ? bondsArrays[k][j]._right.serial : bondsArrays[k][j]._left.serial;\n\n        this.writeString(serial, 16 + 5 * j, 12 + 5 * j);\n      }\n    }\n  }\n\n  _getSubArrays(arr, subArraySize) {\n    const subArrays = [];\n    for (let i = 0; i < arr.length; i += subArraySize) {\n      subArrays.push(arr.slice(i, i + subArraySize));\n    }\n    return subArrays;\n  }\n\n  // function for writing matrix in Remark290 and Remark350 tags\n  // (see pdb file description)\n  writeMatrix(matrix, matrixIndx, tag) {\n    for (let j = 0; j < 3; j++) {\n      this.newString();\n      this.writeString(tag, 14, 18);\n      this.writeString((j + 1).toString(), 19, 19);\n      this.writeString(matrixIndx.toString(), 23, 20);\n      for (let k = 0; k < 3; k++) {\n        const numb = parseFloat(matrix.elements[j * 4 + k]).toFixed(6);\n        this.writeString(numb.toString(), 33 + k * 10, 24 + k * 10);\n      }\n\n      const numb = parseFloat(matrix.elements[j * 4 + 3]).toFixed(5);\n      this.writeString(numb.toString(), 68, 55);\n    }\n  }\n\n  writeMatrices(matrices, string) {\n    if (!matrices) {\n      return;\n    }\n    const matrix = new Matrix4();\n    for (let j = 0; j < matrices.length; j++) {\n      matrix.copy(matrices[j]).transpose();\n      this.writeMatrix(matrix, j + 1, string);\n    }\n  }\n}\n","import _ from 'lodash';\nimport Complex from '../../chem/Complex';\nimport Exporter from './Exporter';\nimport PDBResult from './PDBResult';\nimport Assembly from '../../chem/Assembly';\nimport { typeByPDBHelixClass } from '../../chem/Helix';\n\nexport default class PDBExporter extends Exporter {\n  constructor(source, options) {\n    super(source, options);\n    this._tags = ['HEADER', 'TITLE', 'COMPND', 'REMARK', 'HELIX', 'SHEET', 'ATOM and HETATM', 'CONECT'];\n    this._result = null;\n    this._tagExtractors = {\n      HEADER: this._extractHEADER,\n      TITLE: this._extractTITLE,\n      'ATOM and HETATM': this._extractATOM,\n      CONECT: this._extractCONECT,\n      COMPND: this._extractCOMPND,\n      REMARK: this._extractREMARK,\n      HELIX: this._extractHELIX,\n      SHEET: this._extractSHEET,\n    };\n    this._stringForRemark350 = 'COORDINATES FOR A COMPLETE MULTIMER REPRESENTING THE KNOWN\\n'\n                             + 'BIOLOGICALLY SIGNIFICANT OLIGOMERIZATION STATE OF THE\\n'\n                             + 'MOLECULE CAN BE GENERATED BY APPLYING BIOMT TRANSFORMATIONS\\n'\n                             + 'GIVEN BELOW.  BOTH NON-CRYSTALLOGRAPHIC AND\\n'\n                             + 'CRYSTALLOGRAPHIC OPERATIONS ARE GIVEN.';\n\n    this._stringForRemark290 = 'CRYSTALLOGRAPHIC SYMMETRY TRANSFORMATIONS\\n'\n                             + 'THE FOLLOWING TRANSFORMATIONS OPERATE ON THE ATOM/HETATM\\n'\n                             + 'RECORDS IN THIS ENTRY TO PRODUCE CRYSTALLOGRAPHICALLY\\n'\n                             + 'RELATED MOLECULES.';\n  }\n\n  exportSync() {\n    const result = new PDBResult();\n    if (!this._source) {\n      return this._result;\n    }\n\n    for (let i = 0; i < this._tags.length; i++) {\n      const tag = this._tags[i];\n      const func = this._tagExtractors[tag];\n      if (_.isFunction(func)) {\n        func.call(this, result);\n      }\n    }\n\n    this._result = result.getResult();\n\n    return this._result;\n  }\n\n  _extractHEADER(result) {\n    if (!this._source.metadata) {\n      return;\n    }\n    const { metadata } = this._source;\n    result.newTag('HEADER');\n    result.newString();\n    if (metadata.classification) {\n      result.writeString(metadata.classification, 11, 50);\n    }\n    if (metadata.date) {\n      result.writeString(metadata.date, 51, 59);\n    }\n    if (metadata.id) {\n      result.writeString(metadata.id, 63, 66);\n    }\n  }\n\n  _extractTITLE(result) {\n    if (!this._source.metadata) {\n      return;\n    }\n    const { metadata } = this._source;\n    if (!metadata.title) {\n      return;\n    }\n    result.newTag('TITLE', true);\n    for (let i = 0; i < metadata.title.length; i++) {\n      result.newString();\n      result.writeString(metadata.title[i], 11, 80);\n    }\n  }\n\n  _extractCONECT(result) {\n    if (!this._source._atoms) {\n      return;\n    }\n\n    const atoms = this._source._atoms;\n    result.newTag('CONECT');\n\n    for (let i = 0; i < atoms.length; i++) {\n      const fixedBonds = atoms[i].bonds.filter((bond) => bond._fixed);\n      if (fixedBonds.length !== 0) {\n        result.writeBondsArray(fixedBonds.reverse(), atoms[i]);\n      }\n    }\n  }\n\n  _extractSHEET(result) {\n    if (!this._source._sheets) {\n      return;\n    }\n\n    result.newTag('SHEET');\n\n    const sheets = this._source._sheets;\n    for (let i = 0; i < sheets.length; i++) {\n      if (sheets[i]._strands) {\n        const strands = sheets[i]._strands;\n        for (let j = 0; j < strands.length; j++) {\n          result.newString();\n          result.writeString(j + 1, 10, 8);\n          result.writeString(sheets[i]._name, 14, 12);\n          result.writeString(strands.length, 16, 15);\n          result.writeString(strands[j].init._type._name, 18, 20);\n          result.writeString(strands[j].init._chain._name, 22, 22);\n          result.writeString(strands[j].init._sequence, 26, 23);\n          result.writeString(strands[j].init._icode, 27, 27);\n          result.writeString(strands[j].term._type._name, 29, 31);\n          result.writeString(strands[j].init._chain._name, 33, 33);\n          result.writeString(strands[j].term._sequence, 37, 34);\n          result.writeString(strands[j].term._icode, 38, 38);\n          result.writeString(strands[j].sense, 40, 39);\n        }\n      }\n    }\n  }\n\n  _extractHELIX(result) {\n    if (!this._source._helices) {\n      return;\n    }\n\n    result.newTag('HELIX');\n    const helices = this._source._helices;\n    for (let i = 0; i < helices.length; i++) {\n      const helix = helices[i];\n      const helixClass = _.invert(typeByPDBHelixClass);\n      result.newString();\n      result.writeString(helix.serial, 10, 8);\n      result.writeString(helix.name, 14, 12);\n      result.writeString(helix.init._type._name, 16, 18);\n      result.writeString(helix.init._chain._name, 20, 20);\n      result.writeString(helix.init._sequence, 25, 22);\n      result.writeString(helix.init._icode, 26, 26);\n      result.writeString(helix.term._type._name, 28, 30);\n      result.writeString(helix.term._chain._name, 32, 32);\n      result.writeString(helix.term._sequence, 37, 34);\n      result.writeString(helix.term._icode, 38, 38);\n      result.writeString(helixClass[helix.type], 40, 39);\n      result.writeString(helix.comment, 41, 70);\n      result.writeString(helix.length, 76, 72);\n    }\n  }\n\n  _extractATOM(result) {\n    if (!this._source._atoms) {\n      return;\n    }\n    const atoms = this._source._atoms;\n\n    for (let i = 0; i < atoms.length; i++) {\n      const tag = atoms[i].het ? 'HETATM' : 'ATOM';\n      result.newString(tag);\n      const startIndx = (atoms[i].element.name.length > 1 || atoms[i].name.length > 3) ? 13 : 14;\n      result.writeString(atoms[i].serial, 11, 7);\n      result.writeString(atoms[i].name, startIndx, 16);\n      result.writeString(String.fromCharCode(atoms[i].location), 17, 17);\n      result.writeString(atoms[i].residue._type._name, 20, 18);\n      result.writeString(atoms[i].residue._chain._name, 22, 22);\n      result.writeString(atoms[i].residue._sequence, 26, 23);\n      result.writeString(atoms[i].residue._icode, 27, 27);\n      result.writeString(atoms[i].position.x.toFixed(3), 38, 31);\n      result.writeString(atoms[i].position.y.toFixed(3), 46, 39);\n      result.writeString(atoms[i].position.z.toFixed(3), 54, 47);\n      result.writeString(atoms[i].occupancy.toFixed(2), 60, 55);\n      result.writeString(atoms[i].temperature.toFixed(2), 66, 61);\n      result.writeString(atoms[i].element.name, 78, 77);\n      if (atoms[i].charge) {\n        result.writeString(atoms[i].charge, 79, 80);\n      }\n    }\n  }\n\n  _extractCOMPND(result) {\n    if (!this._source._molecules) {\n      return;\n    }\n    const molecules = this._source._molecules;\n    result.newTag('COMPND', true);\n\n    for (let i = 0; i < molecules.length; i++) {\n      const chains = this._getMoleculeChains(molecules[i]);\n      result.newString();\n      result.writeString(`MOL_ID: ${molecules[i].index};`, 11, 80);\n      result.newString();\n      result.writeString(`MOLECULE: ${molecules[i].name};`, 11, 80);\n      result.newString();\n      result.writeString('CHAIN: ', 11, 18);\n      const chainsString = `${chains.join(', ')};`;\n      result.writeEntireString(chainsString, 81);\n    }\n  }\n\n  _extractREMARK(result) {\n    this._Remark290(result);\n    this._Remark350(result);\n  }\n\n  _Remark290(result) {\n    if (!this._source.symmetry) {\n      return;\n    }\n\n    if (this._source.symmetry.length !== 0) {\n      const matrices = this._source.symmetry;\n      result.newTag('REMARK', 290);\n      result.newString();\n      result.newString();\n      result.writeEntireString(this._stringForRemark290);\n      result.writeMatrices(matrices, 'SMTRY');\n      result.newString();\n      result.newString();\n      result.writeString('REMARK: NULL', 11, 80);\n    }\n  }\n\n  _Remark350(result) {\n    if (!this._source.units) {\n      return;\n    }\n    const { units } = this._source;\n    let biomolIndx = 0;\n\n    result.newTag('REMARK', 350);\n    result.newString();\n    result.newString();\n    result.writeEntireString(this._stringForRemark350);\n\n    const assemblies = units.filter((unit) => unit instanceof Assembly);\n\n    for (let i = 0; i < assemblies.length; i++) {\n      result.newString();\n      result.newString();\n      biomolIndx++;\n      result.writeString(`BIOMOLECULE: ${biomolIndx}`, 11, 80);\n      const chains = assemblies[i].chains.join(', ');\n      result.newString();\n      result.writeString('APPLY THE FOLLOWING TO CHAINS: ');\n      result.writeEntireString(chains, 69, { tag: 'AND CHAINS: ', begin: 31, end: 42 });\n\n      const { matrices } = assemblies[i];\n      result.writeMatrices(matrices, 'BIOMT');\n    }\n  }\n\n  _getMoleculeChains(molecule) {\n    function getChainName(residue) {\n      return residue._chain._name;\n    }\n    const chainNames = molecule.residues.map(getChainName);\n    return chainNames.filter((item, pos) => chainNames.indexOf(item) === pos);\n  }\n}\n\nPDBExporter.formats = ['pdb'];\nPDBExporter.SourceClass = Complex;\n","import * as THREE from 'three';\n\nconst FBX_POS_SIZE = 3;\nconst FBX_NORM_SIZE = 3;\nconst FBX_COL_SIZE = 4;\n\nfunction copyFbxPoint3(src, srcIdx, dst, dstIdx) {\n  dst[dstIdx] = src[srcIdx];\n  dst[dstIdx + 1] = src[srcIdx + 1];\n  dst[dstIdx + 2] = src[srcIdx + 2];\n}\n\nfunction copyFbxPoint4(src, srcIdx, dst, dstIdx, value) {\n  dst[dstIdx] = src[srcIdx];\n  dst[dstIdx + 1] = src[srcIdx + 1];\n  dst[dstIdx + 2] = src[srcIdx + 2];\n  dst[dstIdx + 3] = value;\n}\n\nconst vector4 = new THREE.Vector4();\nfunction copyTransformedPoint3(src, srcIdx, dst, dstIdx, opts) {\n  vector4.set(src[srcIdx], src[srcIdx + 1], src[srcIdx + 2], opts.w);\n  vector4.applyMatrix4(opts.matrix);\n  dst[dstIdx] = vector4.x;\n  dst[dstIdx + 1] = vector4.y;\n  dst[dstIdx + 2] = vector4.z;\n}\n\nfunction setSubArray(src, dst, count, copyFunctor, functorOpts) {\n  if ((dst.array.length - dst.start) / dst.stride < count\n    || (src.array.length - src.start) / src.stride < count) {\n    return; // we've got no space\n  }\n  if (src.stride === dst.stride) { // stride is the same\n    dst.array.set(src.array, dst.start);\n  } else {\n    let idx = dst.start;\n    let arridx = src.start;\n    for (let i = 0; i < count; ++i, idx += dst.stride, arridx += src.stride) {\n      copyFunctor(src.array, arridx, dst.array, idx, functorOpts);\n    }\n  }\n}\n\nexport default class FBXModel {\n  constructor() {\n    this.positions = null;\n    this.normals = null;\n    this.colors = null;\n    this.indices = null;\n    this.lastPos = 0;\n    this.lastNorm = 0;\n    this.lastCol = 0;\n    this.lastIdx = 0;\n  }\n\n  init(vertsCount, indsCount) {\n    this.positions = new Float32Array(vertsCount * FBX_POS_SIZE);\n    this.normals = new Float32Array(vertsCount * FBX_NORM_SIZE);\n    this.colors = new Float32Array(vertsCount * FBX_COL_SIZE);\n    this.indices = new Int32Array(indsCount);\n  }\n\n  setPositions(array, start, count, stride) {\n    const src = {\n      array,\n      start,\n      stride,\n    };\n    const dst = {\n      array: this.positions,\n      start: this.lastPos,\n      stride: FBX_POS_SIZE,\n    };\n    setSubArray(src, dst, count, copyFbxPoint3);\n    this.lastPos += count * FBX_POS_SIZE;\n  }\n\n  setTransformedPositions(array, start, count, stride, matrix) {\n    let idx = this.lastPos;\n    let arrIdx = start;\n    const opts = { matrix, w: 1 };\n    for (let i = 0; i < count; ++i, arrIdx += stride, idx += FBX_POS_SIZE) {\n      copyTransformedPoint3(array, arrIdx, this.positions, idx, opts);\n    }\n    this.lastPos += count * FBX_POS_SIZE;\n  }\n\n  setNormals(array, start, count, stride) {\n    const src = {\n      array,\n      start,\n      stride,\n    };\n    const dst = {\n      array: this.normals,\n      start: this.lastNorm,\n      stride: FBX_NORM_SIZE,\n    };\n    setSubArray(src, dst, count, copyFbxPoint3);\n    this.lastNorm += count * FBX_NORM_SIZE;\n  }\n\n  setTransformedNormals(array, start, count, stride, matrix) {\n    let idx = this.lastNorm;\n    let arrIdx = start;\n    const opts = { matrix, w: 0 };\n    for (let i = 0; i < count; ++i, arrIdx += stride, idx += FBX_NORM_SIZE) {\n      copyTransformedPoint3(array, arrIdx, this.normals, idx, opts);\n    }\n    this.lastNorm += count * FBX_NORM_SIZE;\n  }\n\n  setColors(array, start, count, stride) {\n    const src = {\n      array,\n      start,\n      stride,\n    };\n    const dst = {\n      array: this.colors,\n      start: this.lastCol,\n      stride: FBX_COL_SIZE,\n    };\n    setSubArray(src, dst, count, copyFbxPoint4, 1);\n    this.lastCol += count * FBX_COL_SIZE;\n  }\n\n  setIndices(array, start, count) {\n    this.indices.set(array, this.lastIdx);\n    this.lastIdx += count;\n  }\n\n  setShiftedIndices(array, count, shift) {\n    const shifted = array.map((x) => x + shift);\n    this.setIndices(shifted, 0, count);\n  }\n\n  getVerticesNumber() {\n    return this.lastPos / FBX_POS_SIZE;\n  }\n\n  addInstance(matrix, geo) {\n    // add indices at first to take old number of vertices for shift\n    const currentCount = this.getVerticesNumber();\n    this.setShiftedIndices(geo.indices, geo.indices.length, currentCount);\n    // simply write vertices at empty space\n    const size = geo.itemSize;\n    this.setTransformedPositions(geo.positions, 0, geo.vertsCount, size.position, matrix);\n    this.setTransformedNormals(geo.normals, 0, geo.vertsCount, size.normal, matrix);\n    this.setColors(geo.colors, 0, geo.vertsCount, size.color);\n  }\n}\n","/** Base class for fbx geometry contains simply organized attributes: positions+normals+colors, indices. */\nexport default class FBXGeometry {\n  /**\n   * Create a base geo with necessary members.\n   */\n  constructor() {\n    this.positions = null;\n    this.normals = null;\n    this.colors = null;\n    this.indices = null;\n    this.vertsCount = 0;\n    this.itemSize = null;\n  }\n\n  /**\n   * Initialize base geo storing items info from attributes.\n   * @param {Object} geo - THREE.Geometry.\n   */\n  init(geo, _info) {\n    const { attributes } = geo;\n    // save item size\n    this.itemSize = {\n      position: attributes.position.itemSize,\n      normal: attributes.normal.itemSize,\n      color: attributes.color.itemSize,\n    };\n  }\n}\n","import FBXGeometry from './FBXGeometry';\n\n/**\n * Fbx geometry, that copies positions+normals, indexes and creates colors filled with defined value.\n * @extends FBXGeometry\n */\nexport default class FBX1CGeometry extends FBXGeometry {\n  /**\n   * Initialize geo storing positions, normals, indices and create colors.\n   * @param {Object} geo - THREE.Geometry.\n   */\n  init(geo, _info) {\n    super.init(geo, _info);\n    const {\n      attributes: {\n        position,\n        normal,\n      },\n      index,\n    } = geo;\n    // copy vertices attributes\n    this.vertsCount = position.count;\n    this.positions = position.array;\n    this.normals = normal.array;\n    // create color array\n    this.colors = new Float32Array(this.vertsCount * this.itemSize.color);\n    // indices\n    this.indices = index.array;\n  }\n\n  /**\n   * Set defined color for all items in color attribute\n   * @param {Object} color - THREE.Color.\n   */\n  setColors(color) {\n    let offset = 0;\n    for (let i = 0, l = this.colors.length, cl = this.itemSize.color; i < l; i += cl) {\n      this.colors[offset++] = color.r;\n      this.colors[offset++] = color.g;\n      this.colors[offset++] = color.b;\n    }\n  }\n}\n","import FBXGeometry from './FBXGeometry';\n\n/**\n * Fbx geometry, that copies positions+normals, indexes from cylinder  geometry and creates colors filled with two\n * defined values.\n * @extends FBXGeometry\n */\nexport default class FBX2CCylinder extends FBXGeometry {\n  constructor() {\n    super();\n    this._cutRawStart = 0;\n    this._cutRawEnd = 0;\n    this._facesPerSlice = 0;\n  }\n\n  /**\n   * Initialize geo by creating new attributes, because we extend number of vertices to make cylinder two-colored.\n   * Indices remain the same. We process open- end close-ended cylinders and consider cylinders od 2 segments\n   * in height ONLY.\n   * NOTE: cylinder consists of 2 height segments and stores parts in the order: tube, topCap, bottomCap\n   * @param {Object} geo - THREE.Geometry.\n   * @param {Object} info - information needed for geo extend\n   */\n  init(geo, info) {\n    super.init(geo, info);\n    const {\n      attributes: {\n        position,\n      },\n      index,\n    } = geo;\n    // extend vertices arrays\n    this.vertsCount = position.count + info.addPerCylinder;\n    this._facesPerSlice = info.addPerCylinder;\n    this.positions = new Float32Array(this.vertsCount * position.itemSize);\n    this.normals = new Float32Array(this.vertsCount * this.itemSize.normal);\n    this.colors = new Float32Array(this.vertsCount * this.itemSize.color);\n    this._extendVertices(geo, info);\n    // number of indices stays the same\n    this.indices = new Uint32Array(index.count);\n    this._extendIndices(geo, info);\n  }\n\n  /** Extend vertex attributes to have one more slice to make sharp middle startColor-endColor line. */\n  _extendVertices(geo, info) {\n    const { position } = geo.attributes;\n    const { normal } = geo.attributes;\n    const geoParams = geo.getGeoParams();\n    const cutRaw = 1; // we expect cylinders of 2 segments in height => so half segment = 1\n    this._cutRawStart = cutRaw * geoParams.radialSegments;\n    this._cutRawEnd = this._cutRawStart + info.addPerCylinder;\n    { // write first half of cylinder\n      let temp = position.array.slice(0, this._cutRawEnd * position.itemSize);\n      this.positions.set(temp, 0);\n      temp = normal.array.slice(0, this._cutRawEnd * normal.itemSize);\n      this.normals.set(temp, 0);\n    }\n    { // write second part of cylinder\n      let temp = position.array.slice(this._cutRawStart * position.itemSize, position.array.length);\n      this.positions.set(temp, this._cutRawEnd * position.itemSize);\n      temp = normal.array.slice(this._cutRawStart * normal.itemSize, normal.array.length);\n      this.normals.set(temp, this._cutRawEnd * normal.itemSize);\n    }\n  }\n\n  /** Shift values of second part (+caps) indices by newly added vertices count. Number of faces remains the same. */\n  _extendIndices(geo, info) {\n    const { index } = geo;\n    const indicesPerQuad = 6; // quad = 2 triangles => 6 indices\n    const startToShift = info.addPerCylinder * indicesPerQuad;\n    const shift = info.addPerCylinder;\n    let shifted = index.array.slice(startToShift, index.count);\n    shifted = shifted.map((x) => x + shift); // shift only the endings\n    this.indices.set(index.array, 0);\n    this.indices.set(shifted, startToShift);\n  }\n\n  /**\n   * Set defined colors: (first part + bottom cap), (second part + top cap)\n   * @param {number} start - start color index\n   * @param {number} end - start color index\n   * @param {array} array - array of colors\n   * @param {array} color - color value components\n   */\n  _setColorRange(start, end, array, color) {\n    const colorSize = color.length;\n    for (let i = start; i < end; i += colorSize) {\n      array.set(color, i);\n    }\n  }\n\n  /**\n   * Set defined colors: (first part + bottom cap), (second part + top cap)\n   * @param {Object} color1 - THREE.Color.\n   * @param {Object} color2 - THREE.Color.\n   */\n  setColors(color1, color2) {\n    const colorSize = this.itemSize.color;\n    const part1End = this._cutRawEnd * colorSize;\n    const part2End = part1End * 2;\n    this._setColorRange(0, part1End, this.colors, color1.toArray());\n    this._setColorRange(part1End, part2End, this.colors, color2.toArray());\n    if (part2End < this.colors.length) { // cylinder has caps, lets paint them\n      const capSize = (this._facesPerSlice + 1) * colorSize;\n      const cap1End = part2End + capSize;\n      this._setColorRange(part2End, cap1End, this.colors, color2.toArray());\n      const cap2End = cap1End + capSize; // should be equal to this.colors.length;\n      this._setColorRange(cap1End, cap2End, this.colors, color1.toArray());\n    }\n  }\n}\n","import _ from 'lodash';\nimport * as THREE from 'three';\n\nimport utils from '../../../utils';\nimport gfxutils from '../../../gfx/gfxutils';\nimport logger from '../../../utils/logger';\n\nimport FBXModel from './FBXModel';\nimport ThickLineMesh from '../../../gfx/meshes/ThickLineMesh';\nimport ZSpriteMesh from '../../../gfx/meshes/ZSpriteMesh';\nimport InstancedSpheresGeometry from '../../../gfx/geometries/InstancedSpheresGeometry';\nimport Instanced2CCylindersGeometry from '../../../gfx/geometries/Instanced2CCylindersGeometry';\nimport FBX1CGeometry from './FBX1CGeometry';\nimport FBX2CCylinder from './FBX2CCylinder';\n\nexport default class FBXInfoExtractor {\n  constructor() {\n    this._materials = [];\n    this._models = [];\n  }\n\n  process(data) {\n    this._extractModelsAndMaterials(data);\n\n\n    const models = this._flattenModels();\n\n    return {\n      name: data.name,\n      models,\n      materials: this._materials,\n    };\n  }\n\n  /**\n   * Extract fbx object information from ComplexVisual\n   * @param {object} data - complexVisual to get geometry info from\n   */\n  _extractModelsAndMaterials(data) {\n    const layersOfInterest = new THREE.Layers();\n    layersOfInterest.set(gfxutils.LAYERS.DEFAULT);\n    layersOfInterest.enable(gfxutils.LAYERS.TRANSPARENT);\n    data.traverse((object) => {\n      if (object instanceof THREE.Mesh && object.layers.test(layersOfInterest) && this.checkExportAbility(object)) {\n        if (object.geometry.type === 'InstancedBufferGeometry') {\n          this._collectInstancedGeoInfo(object);\n        } else {\n          this._collectGeoInfo(object);\n        }\n      }\n    });\n  }\n\n  /**\n   * Reworking indices buffer, see https://banexdevblog.wordpress.com/2014/06/23/a-quick-tutorial-about-the-fbx-ascii-format/\n   * basically, every triangle in Miew has been represented hat way (e.g.) : 0,1,7, but we must (for FBX) rework that\n   * into: 0,1,-8.\n   * @param {array} indices - belongs to [0, maxVertIndex]\n   */\n  _reworkIndices(indices) {\n    const faceSize = 3;\n    for (let i = faceSize - 1; i < indices.length; i += faceSize) {\n      indices[i] *= -1;\n      indices[i]--;\n    }\n  }\n\n  /**\n   * Combine geometry from several models having the same material into one Model and finally prepare indices\n    * @returns {array} models, combined by material id\n   */\n  _flattenModels() {\n    let overallVertsCount = 0;\n    function shift(x) {\n      return x + overallVertsCount;\n    }\n    const combined = [];\n    // flatten models geometry\n    for (let i = 0, n = this._models.length; i < n; i++) {\n      const models = this._models[i];\n      let indices = [];\n      let positions = [];\n      let normals = [];\n      let colors = [];\n      // reorganize every attributes as array of arrays\n      overallVertsCount = 0;\n      for (let j = 0; j < models.length; j++) {\n        const m = models[j];\n        indices.push(m.indices.map(shift));\n        overallVertsCount += m.getVerticesNumber();\n        positions.push(m.positions);\n        normals.push(m.normals);\n        colors.push(m.colors);\n      }\n      // join all subarrays into one\n      indices = utils.mergeTypedArraysUnsafe(indices);\n      this._reworkIndices(indices);\n      positions = utils.mergeTypedArraysUnsafe(positions);\n      normals = utils.mergeTypedArraysUnsafe(normals);\n      colors = utils.mergeTypedArraysUnsafe(colors);\n      combined.push({\n        indices,\n        positions,\n        normals,\n        colors,\n        verticesCount: overallVertsCount,\n      });\n    }\n    return combined;\n  }\n\n  /**\n   * Check ability to export the kind of mesh.\n   * @param {object} mesh - given mesh to check\n   * @returns {boolean} result of check\n   */\n  checkExportAbility(mesh) {\n    // check mesh on not being empty\n    if (mesh.geometry.attributes.position.count === 0) {\n      return false;\n    }\n    // check type of mesh\n    // if (mesh.geometry.isInstancedBufferGeometry && settings.now.zSprites) {\n    if (mesh instanceof ZSpriteMesh) {\n      logger.warn('Currently we cannot export \\'sprites\\' modes, like BS, WV, LC. Please turn of settings \\'zSprites\\' and try again');\n      return false;\n    }\n    if (mesh instanceof ThickLineMesh) {\n      logger.warn('Currently we cannot export Lines mode');\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Save geometry info from common mesh, like Surface or Cartoon\n   */\n  _collectGeoInfo(mesh) {\n    const {\n      geometry: {\n        attributes: {\n          position,\n          color,\n          normal,\n        },\n        index,\n      },\n      matrix,\n    } = mesh;\n\n    const model = new FBXModel();\n    const vertCount = position.count;\n    model.init(vertCount, index.count);\n    if (matrix.isIdentity()) {\n      model.setPositions(position.array, 0, vertCount, position.itemSize);\n      model.setNormals(normal.array, 0, vertCount, normal.itemSize);\n    } else {\n      model.setTransformedPositions(position.array, 0, vertCount, position.itemSize, matrix);\n      model.setTransformedNormals(normal.array, 0, vertCount, normal.itemSize, matrix);\n    }\n    model.setColors(color.array, 0, vertCount, color.itemSize);\n    model.setIndices(index.array, 0, index.count);\n    const material = this._collectMaterialInfo(mesh);\n    this._addToPool(model, material);\n  }\n\n  /**\n   * Collect instanced spheres geometry and materials.\n   * @param {object} mesh - mesh with instanced spheres info\n   */\n  _collectSpheresInfo(mesh) {\n    const {\n      geometry: {\n        attributes: {\n          position,\n          color,\n        },\n        index,\n      },\n      matrix,\n    } = mesh;\n\n    const model = new FBXModel();\n    const instCount = mesh.geometry.maxInstancedCount;\n    const vertCount = position.count;\n    const indsCount = index.count;\n    model.init(instCount * vertCount, instCount * indsCount);\n    const geo = new FBX1CGeometry();\n    geo.init(mesh.geometry);\n    const instMatrix = new THREE.Matrix4();\n    const objMatrix = new THREE.Matrix4();\n    const sphereColor = new THREE.Color();\n    for (let instanceIndex = 0; instanceIndex < instCount; ++instanceIndex) {\n      // update colors in geometry\n      const colorIdx = instanceIndex * color.itemSize;\n      sphereColor.fromArray(color.array, colorIdx);\n      geo.setColors(sphereColor);\n      // add instance to the model\n      this._getSphereInstanceMatrix(mesh.geometry, instanceIndex, instMatrix);\n      objMatrix.multiplyMatrices(matrix, instMatrix);\n      model.addInstance(objMatrix, geo);\n    }\n    const material = this._collectMaterialInfo(mesh);\n    this._addToPool(model, material);\n  }\n\n  /**\n   * Getting all instanced cylinders from given mesh.\n   * Divide cylinder (add additional vertexes) for prettiness therefore algorithm is a bit complicated\n   * @param {object} mesh - given mesh with instanced cylinders\n   */\n  _collectCylindersInfo(mesh) {\n    const {\n      geometry: {\n        attributes: {\n          position,\n          color,\n          color2,\n        },\n        index,\n      },\n      matrix,\n    } = mesh;\n\n    const model = new FBXModel();\n    const instCount = mesh.geometry.maxInstancedCount;\n    const oneCCylinder = new FBX1CGeometry();\n    oneCCylinder.init(mesh.geometry);\n    const splittingInfo = this._gatherCylindersColoringInfo(mesh.geometry);\n    let twoCCylinder = null;\n    if (splittingInfo.needToSplit > 0) {\n      twoCCylinder = new FBX2CCylinder();\n      twoCCylinder.init(mesh.geometry, splittingInfo);\n    }\n    const additionalVertsCount = splittingInfo.addPerCylinder * splittingInfo.needToSplit;\n    const vertCount = position.count;\n    const indsCount = index.count;\n    model.init(instCount * vertCount + additionalVertsCount, instCount * indsCount);\n    const instMatrix = new THREE.Matrix4();\n    const objMatrix = new THREE.Matrix4();\n    const colorStart = new THREE.Color();\n    const colorEnd = new THREE.Color();\n    let geo = {};\n    for (let instanceIndex = 0; instanceIndex < instCount; ++instanceIndex) {\n      // update colors in geometry\n      const colorIdx = instanceIndex * color.itemSize;\n      if (splittingInfo.is2Colored[instanceIndex]) {\n        // .color2 contains starting color, and .color contains starting color (see uber.frag ATTR_COLOR2)\n        colorStart.fromArray(color2.array, colorIdx);\n        colorEnd.fromArray(color.array, colorIdx);\n        if (twoCCylinder) {\n          twoCCylinder.setColors(colorStart, colorEnd);\n          geo = twoCCylinder;\n        }\n      } else {\n        // has one color per cylinder\n        colorStart.fromArray(color.array, colorIdx);\n        oneCCylinder.setColors(colorStart);\n        geo = oneCCylinder;\n      }\n      // add instance to the model\n      this._getCylinderInstanceMatrix(mesh.geometry, instanceIndex, instMatrix);\n      objMatrix.multiplyMatrices(matrix, instMatrix);\n      model.addInstance(objMatrix, geo);\n    }\n    const material = this._collectMaterialInfo(mesh);\n    this._addToPool(model, material);\n  }\n\n  /**\n   * Adding model to pool of models or extend existing ones\n   * @param {object} model - model to add\n   * @param {object} material - material to add\n   */\n  _addToPool(model, material) {\n    const materialIdx = this._checkExistingMaterial(material);\n    if (materialIdx < 0) { // new model-material pair\n      this._models.push([model]);\n      this._materials.push(material);\n    } else { // add model to existing model-material pair\n      const models = this._models[materialIdx];\n      models.push(model);\n    }\n  }\n\n  /**\n   * Checking if given material already was registered in materials pool (no need to create new one)\n   * @param {object} material - given material\n   * @returns {number} number of model-material pair\n   */\n  _checkExistingMaterial(material) {\n    return _.findIndex(this._materials, (m) => _.isEqual(m, material));\n  }\n\n  _gatherCylindersColoringInfo(geo) {\n    const instCount = geo.maxInstancedCount;\n    const color1 = geo.attributes.color.array;\n    const color2 = geo.attributes.color2.array;\n    const stride = geo.attributes.color.itemSize;\n    const is2Colored = new Array(instCount);\n    // analyze color instance attributes\n    let needToSplit = 0;\n    let colIdx = 0;\n    for (let i = 0; i < instCount; i++, colIdx += stride) {\n      const differs = (Math.abs(color1[colIdx] - color2[colIdx]) > 0.0000001) // compare ending colors\n        || (Math.abs(color1[colIdx + 1] - color2[colIdx + 1]) > 0.0000001)\n        || (Math.abs(color1[colIdx + 2] - color2[colIdx + 2]) > 0.0000001);\n      is2Colored[i] = differs;\n      needToSplit += differs; // count number of 2-colored cylinders\n    }\n    // calc number of vertices to add into 2-colored\n    const geoParams = geo.getGeoParams();\n    const addPerCylinder = geoParams.radialSegments;\n    return { is2Colored, needToSplit, addPerCylinder };\n  }\n\n  /**\n   * Collect instanced models and materials.\n   * @param {object} mesh - given mesh with instanced something (spheres or cylinders)\n   */\n  _collectInstancedGeoInfo(mesh) {\n    if (mesh.geometry instanceof InstancedSpheresGeometry) {\n      this._collectSpheresInfo(mesh);\n    } else if (mesh.geometry instanceof Instanced2CCylindersGeometry) {\n      this._collectCylindersInfo(mesh);\n    }\n  }\n\n  /**\n   * Collect Material info from given mesh.\n   * @param {object} mesh - given mesh with material info\n   * @returns {object} material\n   */\n  _collectMaterialInfo(mesh) {\n    const { uberOptions } = mesh.material;\n    return ({\n      diffuse: uberOptions.diffuse.toArray(),\n      opacity: uberOptions.opacity,\n      shininess: uberOptions.shininess,\n      specular: uberOptions.specular.toArray(),\n    });\n  }\n\n  _getCylinderInstanceMatrix(geo, instIdx, matrix) {\n    const matVector1 = geo.attributes.matVector1.array;\n    const matVector2 = geo.attributes.matVector2.array;\n    const matVector3 = geo.attributes.matVector3.array;\n    const idxOffset = instIdx * 4; // used 4 because offset arrays are stored in quads\n    matrix.set(matVector1[idxOffset], matVector1[idxOffset + 1], matVector1[idxOffset + 2], matVector1[idxOffset + 3],\n      matVector2[idxOffset], matVector2[idxOffset + 1], matVector2[idxOffset + 2], matVector2[idxOffset + 3],\n      matVector3[idxOffset], matVector3[idxOffset + 1], matVector3[idxOffset + 2], matVector3[idxOffset + 3],\n      0, 0, 0, 1);\n  }\n\n  _getSphereInstanceMatrix(geo, instIdx, matrix) {\n    const { offset } = geo.attributes;\n    const idx = instIdx * offset.itemSize;\n    const x = offset.array[idx];\n    const y = offset.array[idx + 1];\n    const z = offset.array[idx + 2];\n    const scale = offset.array[idx + 3];\n    matrix.set(\n      scale, 0, 0, x,\n      0, scale, 0, y,\n      0, 0, scale, z,\n      0, 0, 0, 1,\n    );\n  }\n}\n","// Forming default definitions block\nconst defaultDefinitions = `\nDefinitions:  {\n  Version: 100\n  Count: 3\n  ObjectType: \"Model\" {\n    Count: 1\n  }\n  ObjectType: \"Geometry\" {\n    Count: 1\n  }\n  ObjectType: \"Material\" {\n    Count: 1\n  }\n  ObjectType: \"Pose\" {\n    Count: 1\n  }\n  ObjectType: \"GlobalSettings\" {\n    Count: 1\n  }\n} `;\n\n// Default model properties\nconst defaultProperties = `Properties60: {\n      Property: \"QuaternionInterpolate\", \"bool\", \"\",0\n      Property: \"Visibility\", \"Visibility\", \"A\",1\n      Property: \"Lcl Translation\", \"Lcl Translation\", \"A\",0.000000000000000,0.000000000000000,-1789.238037109375000\n      Property: \"Lcl Rotation\", \"Lcl Rotation\", \"A\",0.000009334667643,-0.000000000000000,0.000000000000000\n      Property: \"Lcl Scaling\", \"Lcl Scaling\", \"A\",1.000000000000000,1.000000000000000,1.000000000000000\n      Property: \"RotationOffset\", \"Vector3D\", \"\",0,0,0\n      Property: \"RotationPivot\", \"Vector3D\", \"\",0,0,0\n      Property: \"ScalingOffset\", \"Vector3D\", \"\",0,0,0\n      Property: \"ScalingPivot\", \"Vector3D\", \"\",0,0,0\n      Property: \"TranslationActive\", \"bool\", \"\",0\n      Property: \"TranslationMin\", \"Vector3D\", \"\",0,0,0\n      Property: \"TranslationMax\", \"Vector3D\", \"\",0,0,0\n      Property: \"TranslationMinX\", \"bool\", \"\",0\n      Property: \"TranslationMinY\", \"bool\", \"\",0\n      Property: \"TranslationMinZ\", \"bool\", \"\",0\n      Property: \"TranslationMaxX\", \"bool\", \"\",0\n      Property: \"TranslationMaxY\", \"bool\", \"\",0\n      Property: \"TranslationMaxZ\", \"bool\", \"\",0\n      Property: \"RotationOrder\", \"enum\", \"\",0\n      Property: \"RotationSpaceForLimitOnly\", \"bool\", \"\",0\n      Property: \"AxisLen\", \"double\", \"\",10\n      Property: \"PreRotation\", \"Vector3D\", \"\",0,0,0\n      Property: \"PostRotation\", \"Vector3D\", \"\",0,0,0\n      Property: \"RotationActive\", \"bool\", \"\",0\n      Property: \"RotationMin\", \"Vector3D\", \"\",0,0,0\n      Property: \"RotationMax\", \"Vector3D\", \"\",0,0,0\n      Property: \"RotationMinX\", \"bool\", \"\",0\n      Property: \"RotationMinY\", \"bool\", \"\",0\n      Property: \"RotationMinZ\", \"bool\", \"\",0\n      Property: \"RotationMaxX\", \"bool\", \"\",0\n      Property: \"RotationMaxY\", \"bool\", \"\",0\n      Property: \"RotationMaxZ\", \"bool\", \"\",0\n      Property: \"RotationStiffnessX\", \"double\", \"\",0\n      Property: \"RotationStiffnessY\", \"double\", \"\",0\n      Property: \"RotationStiffnessZ\", \"double\", \"\",0\n      Property: \"MinDampRangeX\", \"double\", \"\",0\n      Property: \"MinDampRangeY\", \"double\", \"\",0\n      Property: \"MinDampRangeZ\", \"double\", \"\",0\n      Property: \"MaxDampRangeX\", \"double\", \"\",0\n      Property: \"MaxDampRangeY\", \"double\", \"\",0\n      Property: \"MaxDampRangeZ\", \"double\", \"\",0\n      Property: \"MinDampStrengthX\", \"double\", \"\",0\n      Property: \"MinDampStrengthY\", \"double\", \"\",0\n      Property: \"MinDampStrengthZ\", \"double\", \"\",0\n      Property: \"MaxDampStrengthX\", \"double\", \"\",0\n      Property: \"MaxDampStrengthY\", \"double\", \"\",0\n      Property: \"MaxDampStrengthZ\", \"double\", \"\",0\n      Property: \"PreferedAngleX\", \"double\", \"\",0\n      Property: \"PreferedAngleY\", \"double\", \"\",0\n      Property: \"PreferedAngleZ\", \"double\", \"\",0\n      Property: \"InheritType\", \"enum\", \"\",0\n      Property: \"ScalingActive\", \"bool\", \"\",0\n      Property: \"ScalingMin\", \"Vector3D\", \"\",1,1,1\n      Property: \"ScalingMax\", \"Vector3D\", \"\",1,1,1\n      Property: \"ScalingMinX\", \"bool\", \"\",0\n      Property: \"ScalingMinY\", \"bool\", \"\",0\n      Property: \"ScalingMinZ\", \"bool\", \"\",0\n      Property: \"ScalingMaxX\", \"bool\", \"\",0\n      Property: \"ScalingMaxY\", \"bool\", \"\",0\n      Property: \"ScalingMaxZ\", \"bool\", \"\",0\n      Property: \"GeometricTranslation\", \"Vector3D\", \"\",0,0,0\n      Property: \"GeometricRotation\", \"Vector3D\", \"\",0,0,0\n      Property: \"GeometricScaling\", \"Vector3D\", \"\",1,1,1\n      Property: \"LookAtProperty\", \"object\", \"\"\n      Property: \"UpVectorProperty\", \"object\", \"\"\n      Property: \"Show\", \"bool\", \"\",1\n      Property: \"NegativePercentShapeSupport\", \"bool\", \"\",1\n      Property: \"DefaultAttributeIndex\", \"int\", \"\",0\n      Property: \"Color\", \"Color\", \"A+\",0,0,0\n      Property: \"Size\", \"double\", \"\",100\n      Property: \"Look\", \"enum\", \"\",1\n    }`;\n\n// Default materials layer\nconst defaultMaterialLayer = `\n    LayerElementMaterial: 0 {\n      Version: 101\n      Name: \"\"\n      MappingInformationType: \"AllSame\"\n      ReferenceInformationType: \"Direct\"\n      Materials: 0\n    }`;\n\n// Default layers block\nconst defaultLayerBlock = `\n    Layer: 0 {\n      Version: 100\n      LayerElement:  {\n        Type: \"LayerElementNormal\"\n        TypedIndex: 0\n      }\n      LayerElement:  {\n        Type: \"LayerElementColor\"\n        TypedIndex: 0\n      }\n      LayerElement:  {\n        Type: \"LayerElementMaterial\"\n        TypedIndex: 0\n      }\n    }`;\n\n/**\n * globalSettings info in output file.\n */\nconst globalSettings = `GlobalSettings: {\n    Version: 1000\n    Properties60:  {\n      Property: \"UpAxis\", \"int\", \"\",1\n      Property: \"UpAxisSign\", \"int\", \"\",1\n      Property: \"FrontAxis\", \"int\", \"\",2\n      Property: \"FrontAxisSign\", \"int\", \"\",1\n      Property: \"CoordAxis\", \"int\", \"\",0\n      Property: \"CoordAxisSign\", \"int\", \"\",1\n      Property: \"UnitScaleFactor\", \"double\", \"\",1\n    }\n  }`;\n\nexport default class FBXResult {\n  constructor() {\n    this._resultArray = [];\n    this._info = null;\n  }\n\n  getResult(info) {\n    this._info = info;\n    this._resultArray.push(this._writeHeader());\n    this._resultArray.push(this._writeDefinitions());\n    this._resultArray.push(this._writeObjects(info.models, info.materials));\n    this._resultArray.push(this._writeRelations());\n    this._resultArray.push(this._writeConnections()); // connections between models and materials)\n    this._info = null;\n    return this._resultArray.join('');\n  }\n\n  /**\n   * Add FBXHeader info to output file.\n   * Some fields are really confusing, but it seems that all listed fields are very informative\n   */\n  _writeHeader() {\n    const FBXHeaderVersion = 1003; // 1003 is some number which appears to present in many 6.1 ASCII files\n    const FBXVersion = 6100; // Mandatory and only supported version\n    const date = new Date();\n    const timeStampVersion = 1000;\n    const creator = `Miew FBX Exporter v${this._info.version}`; // Supposed to be an engine\n\n    return `; FBX 6.1.0 project file\n; Created by ${creator} Copyright (c) 2015-2020 EPAM Systems, Inc.\n; For support please contact miew@epam.com\n; ----------------------------------------------------\n\nFBXHeaderExtension:  {\n  FBXHeaderVersion: ${FBXHeaderVersion}\n  FBXVersion: ${FBXVersion}\n  CreationTimeStamp:  {\n    Version: ${timeStampVersion}\n    Year: ${date.getFullYear()}\n    Month: ${date.getMonth() + 1} \n    Day: ${date.getDate()}\n    Hour: ${date.getHours()}\n    Minute: ${date.getMinutes()}\n    Second: ${date.getSeconds()}\n    Millisecond: ${date.getMilliseconds()}\n  }\n  Creator: \"${creator}\"\n  OtherFlags:  {\n    FlagPLE: 0\n  }\n}\nCreationTime: \"${date}\"\nCreator: \"${creator}\"  \n`;\n  }\n\n  /**\n   * Add Definitions info to output file.\n   * Not exactly sure if this section is template section (as it is in 7.4+) or it should every time be like this\n   */\n  _writeDefinitions() {\n    return `\n; Object definitions\n;------------------------------------------------------------------\n\n${defaultDefinitions}\n`;\n  }\n\n  /**\n   * Adding gathered information about Models to resulting string.\n   * Reminder - there may be more then 1 model in scene, but we must place materials after ALL models.\n   * @returns {string} string containing all models (vertices, indices, colors, normals etc)\n   */\n  _models() {\n    const modelVersion = 232;\n    let allModels = '';\n    const { models } = this._info;\n    for (let i = 0; i < models.length; ++i) {\n      const model = models[i];\n      const vertCount = model.verticesCount;\n      allModels += `\n  Model: \"Model::${this._info.name}_${i}\", \"Mesh\" {\n    Version: ${modelVersion} \n    ${defaultProperties}\n    ${this._verticesIndices(model.positions, model.indices)}\n    ${this._normalLayer(model.normals)} \n    ${this._colorLayer(model.colors, vertCount)} \n    ${defaultMaterialLayer}  \n    ${defaultLayerBlock}\n  }`;\n    }\n    return allModels;\n  }\n\n  /**\n   * Add Material info to result\n   */\n  _materials() {\n    const materialVersion = 102;\n    let allMaterials = '';\n    const { materials } = this._info;\n    for (let i = 0; i < materials.length; ++i) {\n      const material = materials[i];\n      allMaterials += `\n  Material: \"Material::${this._info.name}_${i}_default\", \"\" {\n    Version: ${materialVersion}\n    ShadingModel: \"lambert\"\n    MultiLayer: 0\n    ${this._materialProperties(material)}\n  }`;\n    }\n    return allMaterials;\n  }\n\n  /**\n   * Add Objects info to output file.\n   */\n  _writeObjects() {\n    return `\n; Object properties\n;------------------------------------------------------------------\n\nObjects:  {\n  ${this._models()}\n  ${this._materials()}\n  ${globalSettings}\n}\n`;\n  }\n\n  /**\n   * Add Relations info to output file.\n   */\n  _writeRelations() {\n    let modelsList = '';\n    for (let i = 0; i < this._info.models.length; ++i) {\n      modelsList += `\n  Model: \"Model::${this._info.name}_${i}\", \"Mesh\" {\n  }`;\n    }\n    let materialList = '';\n    for (let i = 0; i < this._info.materials.length; ++i) {\n      materialList += `\n  Material: \"Material::${this._info.name}_${i}_default\", \"\" {\n  }`;\n    }\n\n    return `\n; Object relations\n;------------------------------------------------------------------\n\nRelations:  {\n  ${modelsList}\n  Model: \"Model::Producer Perspective\", \"Camera\" {\n  }\n  Model: \"Model::Producer Top\", \"Camera\" {\n  }\n  Model: \"Model::Producer Bottom\", \"Camera\" {\n  }\n  Model: \"Model::Producer Front\", \"Camera\" {\n  }\n  Model: \"Model::Producer Back\", \"Camera\" {\n  }\n  Model: \"Model::Producer Right\", \"Camera\" {\n  }\n  Model: \"Model::Producer Left\", \"Camera\" {\n  }\n  Model: \"Model::Camera Switcher\", \"CameraSwitcher\" {\n  }\n  ${materialList}\n}`;\n  }\n\n  /**\n   * Add Connections info to output file.\n   */\n  _writeConnections() {\n    let modelsList = '';\n    const { name } = this._info;\n    for (let i = 0; i < this._info.models.length; ++i) {\n      modelsList += `\n  Connect: \"OO\", \"Model::${name}_${i}\", \"Model::Scene\"`;\n    }\n\n    let materialList = '';\n    for (let i = 0; i < this._info.materials.length; ++i) {\n      materialList += `\n  Connect: \"OO\", \"Material::${name}_${i}_default\", \"Model::${name}_${i}\"`;\n    }\n\n    return `\n; Object connections\n;------------------------------------------------------------------\n\nConnections:  {\n  ${modelsList}\n  ${materialList}\n}`;\n  }\n\n  /**\n   * Write float array to string with limited precision\n   * @param {Float32Array} array - array to be fixed\n   * @returns {String} String with fixed floats\n   */\n  _floatArrayToString(array) {\n    const str = [];\n    for (let i = 0; i < array.length; ++i) {\n      str[i] = array[i].toFixed(6);\n    }\n    return str.join(',');\n  }\n\n  /**\n   * Adding color layer to resulting file\n   * @param {Float32Array} colorArray attribute\n   * @param {number} vertCount - number of vertices in the model\n   * @returns {string} color layer info\n   */\n  _colorLayer(colorArray, vertCount) {\n    const layerElementColorNumber = 0;\n    const layerElementColorVersion = 101;\n    const layerElementColorName = '';\n    const colorsStr = this._floatArrayToString(colorArray);\n    // Mapping Information type and Reference Information type are mandatory for our Miew! Must not be changed\n    // As said [..Array(...)] - fastest and easiest way to produce [0, 1, .....] array\n    const colorIndices = [...Array(vertCount).keys()];\n    return `\n    LayerElementColor: ${layerElementColorNumber} {\n      Version: ${layerElementColorVersion}\n      Name: \"${layerElementColorName}\"\n      MappingInformationType: \"ByVertice\"\n      ReferenceInformationType: \"Direct\"\n      Colors: ${colorsStr}\n      ColorIndex: ${colorIndices}\n    }`;\n  }\n\n  /**\n   * Adding normal layer to resulting file\n   * @param {Float32Array} normalArray attribute\n   * @returns {string} normal layer info\n   */\n  _normalLayer(normalArray) {\n    const layerElementNormalNumber = 0;\n    const layerElementNormalVersion = 101;\n    const layerElementNormalName = '';\n    const normalsStr = this._floatArrayToString(normalArray);\n    // Mapping Information type and Reference Information type are mandatory for our Miew! Must not be changed\n    return `\n    LayerElementNormal: ${layerElementNormalNumber} {\n      Version: ${layerElementNormalVersion}\n      Name: \"${layerElementNormalName}\"\n      MappingInformationType: \"ByVertice\"\n      ReferenceInformationType: \"Direct\" \n      Normals: ${normalsStr}\n    }`;\n  }\n\n  /**\n   * Adding vertices and indices to resulting string\n   * @return {string} resulting string in FBX notation\n   */\n  _verticesIndices(positions, indices) {\n    const multiLayer = 0;\n    const multiTake = 1;\n    const shading = 'Y';\n    const culling = 'CullingOff';\n    const geometryVersion = 124;\n    const vertStr = this._floatArrayToString(positions);\n    /* About _correctArrayNotation: Float32Arrays will contains only Float32 numbers, which implies that it will be floating points with 17 numbers after point.\n    * We cannot (and it's logically incorrect) save all this information, so we convert this Float32Array into Array-like object with numbers with only 6 numbers after point\n    * Reminder - this is big memory loss (as we must save at one moment two arrays with similar information) */\n    return `MultiLayer: ${multiLayer}\n    MultiTake: ${multiTake}\n    Shading: ${shading}\n    Culling: \"${culling}\"\n    Vertices: ${vertStr}\n    PolygonVertexIndex: ${indices}\n    GeometryVersion: ${geometryVersion}`;\n  }\n\n  /**\n   * Forming material properties block.\n   * @param {Object} material - given material of model\n   * @returns {String} material properties string\n   */\n  _materialProperties(material) {\n    return `Properties60:  {\n      Property: \"ShadingModel\", \"KString\", \"\", \"Lambert\"\n      Property: \"MultiLayer\", \"bool\", \"\",0\n      Property: \"EmissiveColor\", \"ColorRGB\", \"\",0,0,0\n      Property: \"EmissiveFactor\", \"double\", \"\",0.0000\n      Property: \"AmbientColor\", \"ColorRGB\", \"\",1,1,1\n      Property: \"AmbientFactor\", \"double\", \"\",0.0000\n      Property: \"DiffuseColor\", \"ColorRGB\", \"\",${material.diffuse}\n      Property: \"DiffuseFactor\", \"double\", \"\",1.0000\n      Property: \"Bump\", \"Vector3D\", \"\",0,0,0\n      Property: \"TransparentColor\", \"ColorRGB\", \"\",1,1,1\n      Property: \"TransparencyFactor\", \"double\", \"\",0.0000\n      Property: \"SpecularColor\", \"ColorRGB\", \"\",${material.specular}\n      Property: \"SpecularFactor\", \"double\", \"\",1.0000\n      Property: \"ShininessExponent\", \"double\", \"\",${material.shininess}\n      Property: \"ReflectionColor\", \"ColorRGB\", \"\",0,0,0\n      Property: \"ReflectionFactor\", \"double\", \"\",1\n      Property: \"Ambient\", \"ColorRGB\", \"\",1,1,1\n      Property: \"Diffuse\", \"ColorRGB\", \"\",${material.diffuse}\n      Property: \"Specular\", \"ColorRGB\", \"\",${material.specular}\n      Property: \"Shininess\", \"double\", \"\",${material.shininess}\n      Property: \"Opacity\", \"double\", \"\",${material.opacity}\n      Property: \"Reflectivity\", \"double\", \"\",0\n    }`;\n  }\n}\n","import Exporter from './Exporter';\nimport FBXInfoExtractor from './fbx/FBXInfoExtractor';\nimport FBXResult from './fbx/FBXResult';\nimport ComplexVisual from '../../ComplexVisual';\n\nexport default class FBXExporter extends Exporter {\n  constructor(source, options) {\n    super(source, options);\n    // Data\n    this._data = source;\n    this._version = options.miewVersion || '0.0-UNSPECIFIED';\n    this._extractor = new FBXInfoExtractor();\n  }\n\n  /**\n   * Entry point to exporter.\n   */\n  exportSync() {\n    // Creating mandatory blocks\n    const result = new FBXResult();\n    if (!this._source) {\n      return this._result;\n    }\n\n    const info = this._extractor.process(this._data);\n    info.version = this._version;\n    this._result = result.getResult(info);\n    return this._result;\n  }\n}\n\nFBXExporter.formats = ['fbx'];\nFBXExporter.SourceClass = ComplexVisual;\n","import ExporterList from './exporters/ExporterList';\n\nimport PDBExporter from './exporters/PDBExporter';\nimport FBXExporter from './exporters/FBXExporter';\n\nexport default new ExporterList([\n  PDBExporter,\n  FBXExporter,\n]);\n","import loaders from './loaders';\nimport parsers from './parsers';\nimport exporters from './exporters';\n\nexport default {\n  loaders,\n  parsers,\n  exporters,\n};\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nimport * as THREE from 'three';\nimport CSS2DObject from './CSS2DObject';\n\nconst tempColor = new THREE.Color();\n\nclass CSS2DRenderer {\n  constructor() {\n    this._width = 0;\n    this._height = 0;\n    this._widthHalf = 0;\n    this._heightHalf = 0;\n\n    this._vector = new THREE.Vector3();\n    this._viewMatrix = new THREE.Matrix4();\n    this._projectionMatrix = new THREE.Matrix4();\n\n    this._domElement = document.createElement('div');\n    this._domElement.style.overflow = 'hidden';\n    this._domElement.style.position = 'absolute';\n    this._domElement.style.top = '0';\n    this._domElement.style.zIndex = '0'; // start a new Stacking Context to enclose all z-ordered children\n    this._domElement.style.pointerEvents = 'none';\n  }\n\n  getElement() {\n    return this._domElement;\n  }\n\n  reset() {\n    const myNode = this.getElement();\n    while (myNode.firstChild) {\n      myNode.removeChild(myNode.firstChild);\n    }\n  }\n\n  setSize(width, height) {\n    this._width = width;\n    this._height = height;\n\n    this._widthHalf = this._width / 2;\n    this._heightHalf = this._height / 2;\n\n    this._domElement.style.width = `${width}px`;\n    this._domElement.style.height = `${height}px`;\n  }\n\n  _renderObject(object, camera, scene) {\n    function lerpColorAsHex(a, b, t) {\n      tempColor.setHex(a);\n      tempColor.lerp(b, t);\n      return `#${tempColor.getHexString()}`;\n    }\n\n    function colorAsHex(a) {\n      tempColor.setHex(a);\n      return `#${tempColor.getHexString()}`;\n    }\n\n    if (object instanceof CSS2DObject) {\n      this._vector.setFromMatrixPosition(object.matrixWorld);\n\n      if (object.userData !== undefined && object.userData.offset !== undefined) {\n        const localOffset = new THREE.Vector3(object.userData.offset.x, object.userData.offset.y, 0);\n        this._vector.add(localOffset.multiplyScalar(object.matrixWorld.getMaxScaleOnAxis()));\n      }\n\n      this._vector.applyMatrix4(this._viewMatrix);\n\n      const visibility = this._vector.z > -camera.near ? 'hidden' : 'visible';\n      const zIndex = 10000 * (camera.far - (-this._vector.z)) / (camera.far - camera.near);\n\n      const element = object.getElement();\n      if (typeof scene.fog === 'undefined') {\n        element.style.color = colorAsHex(object.userData.color);\n        if (object.userData.background !== 'transparent') {\n          element.style.background = colorAsHex(object.userData.background);\n        }\n      } else {\n        const fogFactor = THREE.Math.smoothstep(-this._vector.z, scene.fog.near, scene.fog.far);\n        element.style.color = lerpColorAsHex(object.userData.color, scene.fog.color, fogFactor);\n        if (object.userData.background !== 'transparent') {\n          element.style.background = lerpColorAsHex(object.userData.background, scene.fog.color, fogFactor);\n        }\n      }\n\n      this._vector.applyMatrix4(this._projectionMatrix);\n\n      const style = `${object.userData !== {} ? object.userData.translation : 'translate(-50%, -50%) '\n      }translate(${this._vector.x * this._widthHalf + this._widthHalf}px,${\n        -this._vector.y * this._heightHalf + this._heightHalf}px)`;\n      element.style.visibility = visibility;\n      element.style.WebkitTransform = style;\n      element.style.MozTransform = style;\n      element.style.oTransform = style;\n      element.style.transform = style;\n      element.style.zIndex = Number(zIndex).toFixed(0);\n\n      if (element.parentNode !== this._domElement) {\n        this._domElement.appendChild(element);\n      }\n    }\n\n    for (let i = 0, l = object.children.length; i < l; i++) {\n      this._renderObject(object.children[i], camera, scene);\n    }\n  }\n\n  render(scene, camera) {\n    scene.updateMatrixWorld();\n\n    if (camera.parent === null) {\n      camera.updateMatrixWorld();\n    }\n\n    camera.matrixWorldInverse.getInverse(camera.matrixWorld);\n\n    this._viewMatrix.copy(camera.matrixWorldInverse.getInverse(camera.matrixWorld));\n    this._projectionMatrix.copy(camera.projectionMatrix);\n\n    this._renderObject(scene, camera, scene);\n  }\n}\nexport default CSS2DRenderer;\n","import * as THREE from 'three';\nimport Timer from '../Timer';\nimport settings from '../settings';\nimport EventDispatcher from '../utils/EventDispatcher';\n\nconst VK_SPACE = 32;\nconst VK_LEFT = 37;\nconst VK_UP = 38;\nconst VK_RIGHT = 39;\nconst VK_DOWN = 40;\n\nconst STATE = {\n  NONE: -1, ROTATE: 0, TRANSLATE: 1, SCALE: 2, TRANSLATE_PIVOT: 3,\n};\n\n// pausing for this amount of time before releasing mouse button prevents inertial rotation (seconds)\nconst FULL_STOP_THRESHOLD = 0.1;\n\nconst quaternion = new THREE.Quaternion();\nconst matrix4 = new THREE.Matrix4();\n\n// pivot -- local offset of the rotation pivot point\nfunction ObjectHandler(objects, camera, pivot, options) {\n  this.objects = objects;\n  [this.object] = objects;\n  this.camera = camera;\n  this.pivot = pivot;\n  this.axis = new THREE.Vector3(0, 0, 1);\n  this.options = options;\n\n  this.lastRotation = {\n    axis: new THREE.Vector3(),\n    angle: 0.0,\n  };\n}\n\nObjectHandler.prototype._rotate = (function () {\n  const p = new THREE.Vector3();\n  const q = new THREE.Quaternion();\n  const s = new THREE.Vector3();\n\n  const m = new THREE.Matrix4();\n\n  return function (quat) {\n    const zeroPivot = (this.pivot.x === 0.0 && this.pivot.y === 0.0 && this.pivot.z === 0.0);\n\n    m.copy(this.object.matrix);\n\n    if (zeroPivot) {\n      m.multiply(matrix4.makeRotationFromQuaternion(quat));\n    } else {\n      m.multiply(matrix4.makeTranslation(this.pivot.x, this.pivot.y, this.pivot.z));\n      m.multiply(matrix4.makeRotationFromQuaternion(quat));\n      m.multiply(matrix4.makeTranslation(-this.pivot.x, -this.pivot.y, -this.pivot.z));\n    }\n\n    m.decompose(p, q, s);\n\n    // update objects\n    if (!zeroPivot) {\n      for (let i = 0; i < this.objects.length; ++i) {\n        this.objects[i].position.copy(p);\n      }\n    }\n\n    for (let j = 0; j < this.objects.length; ++j) {\n      this.objects[j].quaternion.copy(q);\n      this.objects[j].updateMatrix();\n    }\n  };\n}());\n\nObjectHandler.prototype.setObjects = function (objects) {\n  this.objects = objects;\n  [this.object] = objects;\n};\n\nObjectHandler.prototype.rotate = (function () {\n  const rot = {\n    axis: new THREE.Vector3(),\n    angle: 0.0,\n  };\n\n  return function (quat, mousePrevPos, mouseCurPos, aboutAxis) {\n    this.mouse2rotation(rot, mousePrevPos, mouseCurPos, aboutAxis);\n    quat.setFromAxisAngle(rot.axis, rot.angle);\n\n    if (rot.angle) {\n      this._rotate(quat);\n    }\n\n    this.lastRotation = rot;\n  };\n}());\n\nObjectHandler.prototype.translate = (function () {\n  const dir = new THREE.Vector3();\n  const pivot = new THREE.Vector3();\n\n  return function (delta) {\n    // reverse-project viewport movement to view coords (compensate for screen aspect ratio)\n    dir.set(\n      delta.x / this.camera.projectionMatrix.elements[0],\n      delta.y / this.camera.projectionMatrix.elements[5], 0,\n    );\n    let dist = dir.length();\n    dir.normalize();\n\n    // transform movement direction to object local coords\n    dir.transformDirection(matrix4.getInverse(this.object.matrixWorld));\n\n    // visible translate distance shouldn't depend on camera-to-object distance\n    pivot.copy(this.pivot);\n    this.object.localToWorld(pivot);\n    dist *= Math.abs(pivot.z - this.camera.position.z);\n\n    // visible translate distance shouldn't depend on object scale\n    dist /= this.object.matrixWorld.getMaxScaleOnAxis();\n\n    // all objects are translated similar to principal object\n    // (we assume they all have identical pivot and scale)\n    for (let i = 0; i < this.objects.length; ++i) {\n      this.objects[i].translateOnAxis(dir, dist);\n    }\n  };\n}());\n\nObjectHandler.prototype.update = (function () {\n  const axis = new THREE.Vector3();\n\n  return function (timeSinceLastUpdate, timeSinceMove) {\n    if (settings.now.autoRotation !== 0.0) {\n      // auto-rotation with constant speed\n\n      // if rotation axis is fixed or hasn't been defined yet\n      if (settings.now.autoRotationAxisFixed || this.lastRotation.axis.length() === 0.0) {\n        // use Y-axis (transformed to local object coords)\n        axis.set(0, 1, 0).transformDirection(matrix4.getInverse(this.object.matrixWorld));\n      } else {\n        // use axis defined by last user rotation\n        axis.copy(this.lastRotation.axis);\n      }\n\n      this._rotate(quaternion.setFromAxisAngle(axis, settings.now.autoRotation * timeSinceLastUpdate));\n      return true;\n    }\n\n    if (this.options.intertia && this.lastRotation.angle) {\n      // inertial object rotation\n      const angle = this.lastRotation.angle * ((1.0 - this.options.dynamicDampingFactor) ** (40.0 * timeSinceMove));\n\n      if (Math.abs(angle) <= this.options.intertiaThreshold) {\n        this.lastRotation.angle = 0.0;\n      } else {\n        this._rotate(quaternion.setFromAxisAngle(this.lastRotation.axis, angle));\n        return true;\n      }\n    }\n\n    return false;\n  };\n}());\n\nObjectHandler.prototype.stop = function () {\n  this.lastRotation.angle = 0.0;\n};\n\n// calculate (axis, angle) pair from mouse/touch movement\nObjectHandler.prototype.mouse2rotation = (function () {\n  const center = new THREE.Vector3();\n\n  const eye = new THREE.Vector3();\n  const eyeDirection = new THREE.Vector3();\n\n  const cameraUpDirection = new THREE.Vector3();\n  const cameraSidewaysDirection = new THREE.Vector3();\n\n  const moveDirection = new THREE.Vector3();\n\n  const mouseDelta = new THREE.Vector2();\n\n  return function (rot, mousePrev, mouseCur, aboutAxis) {\n    if (aboutAxis) {\n      rot.axis.copy(this.axis);\n      rot.angle = this.options.axisRotateFactor * (mouseCur.y - mousePrev.y);\n\n      /* cool method that allows rotation around Z axis to be \"tied\" to mouse cursor\n\n        res.axis.copy(this.axis);\n\n        var pivot = this.pivot.clone();\n        this.object.localToWorld(pivot);\n        pivot.project(this.camera);\n\n        var v1 = new THREE.Vector3(mousePrev.x, mousePrev.y, this.camera.position.z);\n        v1.sub(pivot);\n        var v2 = new THREE.Vector3(mouseCur.x, mouseCur.y, this.camera.position.z);\n        v2.sub(pivot);\n\n        v1.sub(res.axis.clone().multiplyScalar(v1.dot(res.axis)));\n        v2.sub(res.axis.clone().multiplyScalar(v2.dot(res.axis)));\n\n        var abs = v1.length() * v2.length();\n        if (abs > 0) {\n          res.angle = res.axis.dot(v1.cross(v2)) / abs;\n        }\n      */\n    } else {\n      mouseDelta.subVectors(mouseCur, mousePrev);\n      const angle = mouseDelta.length();\n      if (angle === 0.0) {\n        return;\n      }\n\n      center.copy(this.pivot);\n      this.object.localToWorld(center);\n      eye.subVectors(this.camera.position, center);\n      eyeDirection.copy(eye).normalize();\n\n      cameraUpDirection.copy(this.camera.up).normalize();\n      cameraSidewaysDirection.crossVectors(cameraUpDirection, eyeDirection).normalize();\n\n      cameraUpDirection.setLength(mouseDelta.y);\n      cameraSidewaysDirection.setLength(mouseDelta.x);\n\n      moveDirection.copy(cameraUpDirection.add(cameraSidewaysDirection));\n\n      rot.axis.crossVectors(moveDirection, eye);\n\n      rot.angle = -angle * this.options.rotateFactor;\n    }\n\n    rot.axis.transformDirection(matrix4.getInverse(this.object.matrixWorld));\n\n    // make sure angle is always positive (thus 'axis' defines both axis and direction of rotation)\n    if (rot.angle < 0.0) {\n      rot.axis.negate();\n      rot.angle = -rot.angle;\n    }\n  };\n}());\n\nfunction ObjectControls(object, objectPivot, camera, domElement, getAltObj) {\n  EventDispatcher.call(this);\n  const self = this;\n\n  this.object = object;\n  this.objectPivot = objectPivot;\n  this.camera = camera;\n  this.domElement = (typeof domElement !== 'undefined') ? domElement : document;\n  this.getAltObj = getAltObj;\n\n  // API\n\n  this.enabled = true;\n  this.hotkeysEnabled = true;\n\n  this.screen = {\n    left: 0, top: 0, width: 0, height: 0,\n  };\n\n  this.options = {\n    rotateFactor: Math.PI, // full screen slide (along short side) would roughly mean 180 deg. rotation\n    axisRotateFactor: 4 * Math.PI, // full screen slide (along short side) would roughly mean 720 deg. rotation\n    intertia: true,\n    dynamicDampingFactor: 0.1,\n    intertiaThreshold: 1e-3,\n  };\n\n  // internals\n\n  this._state = STATE.NONE;\n\n  this._mousePrevPos = new THREE.Vector2();\n  this._mouseCurPos = new THREE.Vector2();\n\n  this._mainObj = new ObjectHandler([this.object], this.camera, new THREE.Vector3(0, 0, 0), this.options);\n  this._altObj = new ObjectHandler([this.object], this.camera, new THREE.Vector3(0, 0, 0), this.options);\n  this._affectedObj = this._mainObj;\n  this._isAltObjFreeRotationAllowed = true;\n  this._isTranslationAllowed = true;\n  this._isKeysTranslatingObj = false;\n\n  this._pressedKeys = [];\n\n  this._clock = new Timer();\n  this._clock.start();\n  this._lastUpdateTime = this._clock.getElapsedTime();\n\n  // events\n  this._listeners = [\n    {\n      obj: self.domElement,\n      type: 'mousedown',\n      handler(e) {\n        self.mousedown(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'mouseup',\n      handler(e) {\n        self.mouseup(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'mousemove',\n      handler(e) {\n        self.mousemove(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'mousewheel',\n      handler(e) {\n        self.mousewheel(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'DOMMouseScroll',\n      handler(e) {\n        self.mousewheel(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'mouseout',\n      handler(e) {\n        self.mouseup(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'touchstart',\n      handler(e) {\n        self.touchstartend(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'touchend',\n      handler(e) {\n        self.touchstartend(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'touchmove',\n      handler(e) {\n        self.touchmove(e);\n      },\n    },\n    {\n      obj: self.getKeyBindObject(),\n      type: 'keydown',\n      handler(e) {\n        self.keydownup(e);\n      },\n    },\n    {\n      obj: self.getKeyBindObject(),\n      type: 'keyup',\n      handler(e) {\n        self.keydownup(e);\n      },\n    },\n    {\n      obj: window,\n      type: 'resize',\n      handler() {\n        self.handleResize();\n      },\n    },\n    {\n      obj: window,\n      type: 'blur',\n      handler() {\n        self.resetKeys();\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'contextmenu',\n      handler(e) {\n        self.contextmenu(e);\n      },\n    }];\n\n  for (let i = 0; i < this._listeners.length; i++) {\n    const l = this._listeners[i];\n    l.obj.addEventListener(l.type, l.handler);\n  }\n\n  this.handleResize();\n\n  this.resetKeys();\n\n  // force an update at start\n  this.update();\n}\n\n// methods\n\nObjectControls.prototype = Object.create(EventDispatcher.prototype);\nObjectControls.prototype.constructor = ObjectControls;\n\nObjectControls.prototype.resetKeys = function () {\n  this._pressedKeys[VK_SPACE] = false;\n  this._pressedKeys[VK_LEFT] = false;\n  this._pressedKeys[VK_UP] = false;\n  this._pressedKeys[VK_RIGHT] = false;\n  this._pressedKeys[VK_DOWN] = false;\n};\n\nObjectControls.prototype.contextmenu = function (e) {\n  e.stopPropagation();\n  e.preventDefault();\n};\n\nObjectControls.prototype.handleResize = function () {\n  if (this.domElement === document) {\n    this.screen.left = 0;\n    this.screen.top = 0;\n    this.screen.width = window.innerWidth;\n    this.screen.height = window.innerHeight;\n  } else {\n    const box = this.domElement.getBoundingClientRect();\n    // adjustments come from similar code in the jquery offset() function\n    const d = this.domElement.ownerDocument.documentElement;\n    this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n    this.screen.top = box.top + window.pageYOffset - d.clientTop;\n    this.screen.width = box.width;\n    this.screen.height = box.height;\n  }\n};\n\nObjectControls.prototype.enable = function (enable) {\n  this.enabled = enable;\n};\n\nObjectControls.prototype.enableHotkeys = function (enable) {\n  this.hotkeysEnabled = enable;\n};\n\nObjectControls.prototype.allowTranslation = function (allow) {\n  this._isTranslationAllowed = allow;\n};\n\nObjectControls.prototype.allowAltObjFreeRotation = function (allow) {\n  this._isAltObjFreeRotationAllowed = allow;\n};\n\nObjectControls.prototype.keysTranslateObj = function (on) {\n  this._isKeysTranslatingObj = on;\n};\n\nObjectControls.prototype.isEditingAltObj = function () {\n  return ((this._state === STATE.ROTATE) || (this._state === STATE.TRANSLATE))\n            && (this._affectedObj === this._altObj);\n};\n\n// convert page coords of mouse/touch to uniform coords with smaller side being [-0.5, 0.5]\n// (uniform coords keep direct proportion with screen distance travelled by mouse regardless of screen aspect ratio)\nObjectControls.prototype.convertMouseToOnCircle = function (coords, pageX, pageY) {\n  const screenSize = Math.min(this.screen.width, this.screen.height);\n\n  if (screenSize === 0) {\n    coords.set(0, 0);\n    return;\n  }\n\n  coords.set(\n    ((pageX - this.screen.width * 0.5 - this.screen.left) / screenSize),\n    ((0.5 * this.screen.height + this.screen.top - pageY) / screenSize),\n  );\n};\n\n// convert page coords of mouse/touch to viewport coords with both sides being [-1, 1]\n// (those are non-uniform coords affected by screen aspect ratio)\nObjectControls.prototype.convertMouseToViewport = function (coords, pageX, pageY) {\n  if (this.screen.width === 0 || this.screen.height === 0) {\n    coords.set(0, 0);\n    return;\n  }\n\n  coords.set(\n    (2.0 * (pageX - this.screen.width * 0.5 - this.screen.left) / this.screen.width),\n    (2.0 * (0.5 * this.screen.height + this.screen.top - pageY) / this.screen.height),\n  );\n};\n\nObjectControls.prototype.stop = function () {\n  this._mainObj.stop();\n  this._altObj.stop();\n};\n\n// rotate object based on latest mouse/touch movement\nObjectControls.prototype.rotateByMouse = (function () {\n  const quat = new THREE.Quaternion();\n\n  return function (aboutZAxis) {\n    this._affectedObj.rotate(quat, this._mousePrevPos, this._mouseCurPos, aboutZAxis);\n    this.dispatchEvent({ type: 'change', action: 'rotate', quaternion: quat });\n  };\n}());\n\n// rotate object by specified quaternion\nObjectControls.prototype.rotate = function (quat) {\n  this.object.quaternion.multiply(quat);\n  this.dispatchEvent({ type: 'change', action: 'rotate', quaternion: quat });\n};\n\n// get object's orientation\nObjectControls.prototype.getOrientation = function () {\n  return this.object.quaternion;\n};\n\n// set object's orientation\nObjectControls.prototype.setOrientation = function (quat) {\n  this.object.quaternion.copy(quat);\n};\n\n// translate object based on latest mouse/touch movement\nObjectControls.prototype.translate = (function () {\n  const delta = new THREE.Vector2();\n  return function () {\n    delta.subVectors(this._mouseCurPos, this._mousePrevPos);\n    this._affectedObj.translate(delta);\n    this.dispatchEvent({ type: 'change', action: 'translate' });\n  };\n}());\n\n// get object scale\nObjectControls.prototype.getScale = function () {\n  return this.object.scale.x;\n};\n\n// set uniform object scale\nObjectControls.prototype.setScale = function (scale) {\n  this.object.scale.set(scale, scale, scale);\n};\n\n// scale object by factor (factor should be greater than zero)\nObjectControls.prototype.scale = function (factor) {\n  if (factor <= 0) {\n    return;\n  }\n  this.setScale(this.object.scale.x * factor);\n  this.dispatchEvent({ type: 'change', action: 'zoom', factor });\n};\n\nObjectControls.prototype.update = (function () {\n  const shift = new THREE.Vector2();\n\n  return function () {\n    const curTime = this._clock.getElapsedTime();\n    const timeSinceLastUpdate = curTime - this._lastUpdateTime;\n\n    // update object handler\n    if (this._state === STATE.NONE) {\n      const timeSinceMove = curTime - this._lastMouseMoveTime;\n      if (this._mainObj.update(timeSinceLastUpdate, timeSinceMove)\n        || this._altObj.update(timeSinceLastUpdate, timeSinceMove)) {\n        this.dispatchEvent({ type: 'change', action: 'auto' });\n      }\n    }\n\n    // apply arrow keys\n    if (this._isKeysTranslatingObj) {\n      const speedX = Number(this._pressedKeys[VK_RIGHT]) - Number(this._pressedKeys[VK_LEFT]);\n      const speedY = Number(this._pressedKeys[VK_UP]) - Number(this._pressedKeys[VK_DOWN]);\n      if (speedX !== 0.0 || speedY !== 0.0) {\n        const delta = timeSinceLastUpdate;\n\n        // update object translation\n        const altObj = this.getAltObj();\n        if (altObj.objects.length > 0) {\n          this._altObj.setObjects(altObj.objects);\n          this._altObj.pivot = altObj.pivot;\n\n          if ('axis' in altObj) {\n            this._altObj.axis = altObj.axis.clone();\n          } else {\n            this._altObj.axis.set(0, 0, 1);\n          }\n\n          shift.set(delta * speedX, delta * speedY);\n          this._altObj.translate(shift);\n          this.dispatchEvent({ type: 'change', action: 'translate' });\n        }\n      }\n    }\n\n    this._lastUpdateTime = curTime;\n  };\n}());\n\nObjectControls.prototype.reset = function () {\n  this._state = STATE.NONE;\n\n  this.object.quaternion.copy(quaternion.set(0, 0, 0, 1));\n};\n\n// listeners\n\nObjectControls.prototype.mousedown = function (event) {\n  if (this.enabled === false || this._state !== STATE.NONE) {\n    return;\n  }\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  if (this._state === STATE.NONE) {\n    if (event.button === 2 || (event.button === 0 && this._pressedKeys[VK_SPACE])) {\n      this._state = STATE.TRANSLATE_PIVOT;\n    } else if (event.button === 0) {\n      this._affectedObj.stop(); // can edit only one object at a time\n\n      let workWithAltObj = false;\n\n      if (event.altKey) {\n        const altObj = this.getAltObj();\n        workWithAltObj = (altObj.objects.length > 0);\n        if (workWithAltObj) {\n          this._altObj.setObjects(altObj.objects);\n          this._altObj.pivot = altObj.pivot;\n\n          if ('axis' in altObj) {\n            this._altObj.axis = altObj.axis.clone();\n          } else {\n            this._altObj.axis.set(0, 0, 1);\n          }\n        }\n      }\n\n      this._affectedObj = workWithAltObj ? this._altObj : this._mainObj;\n\n      this._state = (workWithAltObj && event.ctrlKey && this._isTranslationAllowed) ? STATE.TRANSLATE : STATE.ROTATE;\n    }\n  }\n\n  if (this._state === STATE.ROTATE) {\n    this.convertMouseToOnCircle(this._mouseCurPos, event.pageX, event.pageY);\n    this._mousePrevPos.copy(this._mouseCurPos);\n  }\n\n  if (this._state === STATE.TRANSLATE || this._state === STATE.TRANSLATE_PIVOT) {\n    this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY);\n    this._mousePrevPos.copy(this._mouseCurPos);\n  }\n};\n\nObjectControls.prototype.mousemove = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return;\n  }\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  switch (this._state) {\n    case STATE.ROTATE:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToOnCircle(this._mouseCurPos, event.pageX, event.pageY);\n      this.rotateByMouse((event.altKey && !this._isAltObjFreeRotationAllowed) || event.shiftKey);\n      this._lastMouseMoveTime = this._clock.getElapsedTime();\n      break;\n\n    case STATE.TRANSLATE:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY);\n      this.translate();\n      break;\n\n    case STATE.TRANSLATE_PIVOT:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY);\n      this.translatePivotByMouse();\n      break;\n\n    default: break;\n  }\n};\n\nObjectControls.prototype.mousewheel = function (event) {\n  if (this.enabled === false || !settings.now.zooming || this._state !== STATE.NONE || event.shiftKey) {\n    return;\n  }\n\n  event.preventDefault();\n\n  let delta = 0;\n\n  if (event.wheelDelta) {\n    // WebKit / Opera / Explorer 9\n    delta = event.wheelDelta / 40;\n  } else if (event.detail) {\n    // Firefox\n    delta = -event.detail / 3;\n  }\n\n  let factor = 1.0 + delta * 0.05;\n  factor = Math.max(factor, 0.01);\n  this.scale(factor);\n};\n\nObjectControls.prototype.mouseup = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return;\n  }\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  this._state = STATE.NONE;\n\n  if (this._clock.getElapsedTime() - this._lastMouseMoveTime > FULL_STOP_THRESHOLD) {\n    this._affectedObj.stop();\n  }\n};\n\nObjectControls.prototype.touchstartend = function (event) {\n  if (this.enabled === false) {\n    return;\n  }\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  switch (event.touches.length) {\n    case 1:\n      this._state = STATE.ROTATE;\n      this.convertMouseToOnCircle(this._mouseCurPos, event.touches[0].pageX, event.touches[0].pageY);\n      this._mousePrevPos.copy(this._mouseCurPos);\n      break;\n\n    case 2: {\n      // prevent inertial rotation\n      this._mainObj.stop();\n      this._altObj.stop();\n\n      this._state = STATE.SCALE;\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      this._touchDistanceCur = this._touchDistanceStart = Math.sqrt(dx * dx + dy * dy);\n      this._scaleStart = this.object.scale.x;\n      break;\n    }\n\n    default:\n      this._state = STATE.NONE;\n  }\n};\n\nObjectControls.prototype.touchmove = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return;\n  }\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  switch (this._state) {\n    case STATE.ROTATE:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToOnCircle(this._mouseCurPos, event.touches[0].pageX, event.touches[0].pageY);\n      this.rotateByMouse(false);\n\n      this._lastMouseMoveTime = this._clock.getElapsedTime();\n      break;\n\n    case STATE.SCALE:\n      if (settings.now.zooming) {\n        // update scale\n        const dx = event.touches[0].pageX - event.touches[1].pageX;\n        const dy = event.touches[0].pageY - event.touches[1].pageY;\n        this._touchDistanceCur = Math.sqrt(dx * dx + dy * dy);\n        const newScale = this._scaleStart * this._touchDistanceCur / this._touchDistanceStart;\n        const factor = newScale / this.object.scale.x;\n        this.scale(factor);\n      }\n      break;\n\n    default:\n  }\n};\n\nObjectControls.prototype.keydownup = function (event) {\n  if (this.enabled === false || this.hotkeysEnabled === false) {\n    return;\n  }\n\n  switch (event.keyCode) {\n    case VK_SPACE:\n    case VK_LEFT:\n    case VK_UP:\n    case VK_RIGHT:\n    case VK_DOWN:\n      this._pressedKeys[event.keyCode] = (event.type === 'keydown');\n      event.preventDefault();\n      event.stopPropagation();\n      break;\n    default:\n  }\n};\n\nObjectControls.prototype.getKeyBindObject = function () {\n  return window.top;\n};\n\n\nObjectControls.prototype.dispose = function () {\n  for (let i = 0; i < this._listeners.length; i++) {\n    const l = this._listeners[i];\n    l.obj.removeEventListener(l.type, l.handler);\n  }\n};\n\nObjectControls.prototype.translatePivotByMouse = (function () {\n  const delta = new THREE.Vector2();\n  return function () {\n    delta.subVectors(this._mouseCurPos, this._mousePrevPos);\n    this.translatePivotInWorld(settings.now.translationSpeed * delta.x, settings.now.translationSpeed * delta.y, 0);\n  };\n}());\n\n// Translate in WorldCS, translation is scaled with root scale matrix\nObjectControls.prototype.translatePivotInWorld = function (x, y, z) {\n  const pos = this.objectPivot.position;\n  pos.applyMatrix4(this.object.matrixWorld);\n  pos.setX(pos.x + x);\n  pos.setY(pos.y + y);\n  pos.setZ(pos.z + z);\n  pos.applyMatrix4(matrix4.getInverse(this.object.matrixWorld));\n\n  this.dispatchEvent({ type: 'change', action: 'translatePivot' });\n};\n\n// Translate in ModelCS, x, y, z are Ang\nObjectControls.prototype.translatePivot = function (x, y, z) {\n  const pos = this.objectPivot.position;\n  pos.setX(pos.x + x);\n  pos.setY(pos.y + y);\n  pos.setZ(pos.z + z);\n\n  this.dispatchEvent({ type: 'change', action: 'translatePivot' });\n};\n\n// Set pivot\nObjectControls.prototype.setPivot = function (newPivot) {\n  this.objectPivot.position.copy(newPivot);\n\n  this.dispatchEvent({ type: 'change', action: 'translatePivot' });\n};\n\nexport default ObjectControls;\n","import * as THREE from 'three';\nimport settings from '../settings';\nimport Timer from '../Timer';\nimport EventDispatcher from '../utils/EventDispatcher';\n\nfunction Picker(gfxObj, camera, domElement) {\n  EventDispatcher.call(this);\n  const self = this;\n\n  this.gfxObj = gfxObj;\n  this.camera = camera;\n  this.domElement = (typeof domElement !== 'undefined') ? domElement : document;\n  this.screen = {\n    left: 0, top: 0, width: 0, height: 0,\n  };\n  this._lastMousePos = new THREE.Vector2(0, 0);\n  this._mouseTotalDist = 0.0;\n  this._lastClickBeginTime = -1000.0;\n  this._lastClickPos = new THREE.Vector2(0, 0);\n  this._clickBeginTime = 0.0;\n\n  this._clock = new Timer();\n  this._clock.start();\n\n  this._listeners = [\n    {\n      obj: self.domElement,\n      type: 'mousedown',\n      handler(e) {\n        self.mousedown(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'mouseup',\n      handler(e) {\n        self.mouseup(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'mousemove',\n      handler(e) {\n        self.mousemove(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'touchstart',\n      handler(e) {\n        self.touchstart(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'touchend',\n      handler(e) {\n        self.touchend(e);\n      },\n    },\n    {\n      obj: window,\n      type: 'resize',\n      handler() {\n        self.handleResize();\n      },\n    }];\n\n  for (let i = 0; i < this._listeners.length; i++) {\n    const l = this._listeners[i];\n    l.obj.addEventListener(l.type, l.handler);\n  }\n\n  this.handleResize();\n}\n\nPicker.prototype = Object.create(EventDispatcher.prototype);\nPicker.prototype.constructor = Picker;\n\nPicker.prototype.reset = function () {\n  this.picked = {};\n  this.dispatchEvent({ type: 'newpick', obj: {} });\n};\n\nPicker.prototype.handleResize = function () {\n  if (this.domElement === document) {\n    this.screen.left = 0;\n    this.screen.top = 0;\n    this.screen.width = window.innerWidth;\n    this.screen.height = window.innerHeight;\n  } else {\n    const box = this.domElement.getBoundingClientRect();\n    // adjustments come from similar code in the jquery offset() function\n    const d = this.domElement.ownerDocument.documentElement;\n    this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n    this.screen.top = box.top + window.pageYOffset - d.clientTop;\n    this.screen.width = box.width;\n    this.screen.height = box.height;\n  }\n};\n\nPicker.prototype.pickObject = function (screenPos) {\n  if (!this.gfxObj) {\n    this.picked = {};\n    this.dispatchEvent({ type: 'newpick', obj: {} });\n    return;\n  }\n\n  const { gfxObj } = this;\n  const rayCaster = new THREE.Raycaster();\n  rayCaster.ray.origin.setFromMatrixPosition(this.camera.matrixWorld);\n  rayCaster.ray.direction.set(screenPos.x, screenPos.y, 0.5).unproject(this.camera).sub(rayCaster.ray.origin).normalize();\n\n  const clipPlane = (settings.now.draft.clipPlane && this.clipPlaneValue) ? this.clipPlaneValue : Infinity;\n  const fogFarPlane = (settings.now.fog && this.fogFarValue) ? this.fogFarValue : Infinity;\n  const point = rayCaster.intersectVisibleObject(gfxObj, this.camera, clipPlane, fogFarPlane);\n  if (!point) {\n    this.picked = {};\n    this.dispatchEvent({ type: 'newpick', obj: {} });\n    return;\n  }\n\n  let picked = {};\n  if (point.residue || point.atom) {\n    const residue = point.residue || point.atom.residue;\n    if (settings.now.pick === 'chain') {\n      picked = { chain: residue.getChain() };\n    } else if (settings.now.pick === 'molecule') {\n      picked = { molecule: residue.getMolecule() };\n    } else if (point.residue || settings.now.pick === 'residue') {\n      picked = { residue };\n    } else if (point.atom) {\n      picked = { atom: point.atom };\n    }\n  }\n  this.picked = picked;\n  this.dispatchEvent({ type: 'newpick', obj: picked });\n};\n\nPicker.prototype.getMouseInViewport = function (pageX, pageY) {\n  return new THREE.Vector2(\n    (pageX - this.screen.left) / this.screen.width * 2 - 1,\n    -(pageY - this.screen.top) / this.screen.height * 2 + 1,\n  );\n};\n\nPicker.prototype.mousedown = function (event) {\n  event.preventDefault();\n  event.stopPropagation();\n\n  if (event.button === 0) {\n    this._lastMousePos = this.getMouseInViewport(event.pageX, event.pageY);\n    this._mouseTotalDist = 0.0;\n    this._clickBeginTime = this._clock.getElapsedTime();\n  }\n};\n\nPicker.prototype.mousemove = function (event) {\n  event.preventDefault();\n  event.stopPropagation();\n\n  const pos = this.getMouseInViewport(event.pageX, event.pageY);\n  this._mouseTotalDist += pos.sub(this._lastMousePos).length();\n};\n\nPicker.prototype.mouseup = function (event) {\n  const self = this;\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  if (event.button === 0) {\n    if (this._mouseTotalDist < 0.01) {\n      const curTime = this._clock.getElapsedTime();\n      const curPos = this.getMouseInViewport(event.pageX, event.pageY);\n\n      const timeSinceLastClickBegin = curTime - this._lastClickBeginTime;\n      if (timeSinceLastClickBegin < 0.7) {\n        const clickDist = new THREE.Vector2().subVectors(curPos, this._lastClickPos);\n        if (clickDist.length() < 0.01) {\n          // it's a double click\n          this.dispatchEvent({ type: 'dblclick', obj: this.picked });\n\n          this._lastClickPos = curPos;\n          this._lastClickBeginTime = -1000; // this click cannot serve as first click in double-click\n          return;\n        }\n      }\n\n      setTimeout(() => {\n        self.pickObject(curPos);\n      }, 0);\n\n      this._lastClickPos = curPos;\n      this._lastClickBeginTime = this._clickBeginTime;\n    }\n  }\n};\n\nPicker.prototype.touchstart = function (event) {\n  event.preventDefault();\n  event.stopPropagation();\n\n  if (event.touches.length === 1) {\n    this._lastTouchdownPos = this.getMouseInViewport(event.touches[0].pageX, event.touches[0].pageY);\n  }\n};\n\nPicker.prototype.touchend = function (event) {\n  const self = this;\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  if (event.touches.length === 0\n        && event.changedTouches.length === 1) {\n    const pos = this.getMouseInViewport(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n    const dist = pos.sub(this._lastTouchdownPos).length();\n    if (dist < 0.01) {\n      setTimeout(() => {\n        self.pickObject(self._lastTouchdownPos);\n      }, 0);\n    }\n  }\n};\n\nPicker.prototype.dispose = function () {\n  for (let i = 0; i < this._listeners.length; i++) {\n    const l = this._listeners[i];\n    l.obj.removeEventListener(l.type, l.handler);\n  }\n};\n\nexport default Picker;\n","import * as THREE from 'three';\n\nclass Axes {\n  constructor(target, targetCamera) {\n    this._target = target;\n    this._targetCamera = targetCamera;\n    this._camera = new THREE.PerspectiveCamera(targetCamera.fov, targetCamera.aspect, 1, 100);\n    this._object = new THREE.AxesHelper(1);\n    this._scene = new THREE.Scene();\n    this._scene.add(this._object);\n    this._full = new THREE.Vector2();\n\n    this._update();\n  }\n\n  _update() {\n    const { fov } = this._targetCamera;\n    const camera = this._camera;\n    camera.aspect = this._targetCamera.aspect;\n    camera.setMinimalFov(fov);\n    camera.setDistanceToFit(1.0, fov);\n    camera.updateProjectionMatrix();\n\n    this._object.quaternion.copy(this._target.quaternion);\n  }\n\n  render(renderer) {\n    this._update();\n\n    renderer.getSize(this._full);\n    const width = this._full.width * 0.25;\n    const height = this._full.height * 0.25;\n\n    const { autoClear } = renderer;\n    renderer.autoClear = false;\n    renderer.setViewport(0.0, 0.0, width, height);\n    renderer.clear(false, true, false);\n    renderer.render(this._scene, this._camera);\n    renderer.setViewport(0, 0, this._full.width, this._full.height);\n    renderer.autoClear = autoClear;\n  }\n}\nexport default Axes;\n","import * as THREE from 'three';\nimport SecondaryStructureColorer from './colorers/SecondaryStructureColorer';\n\nconst cDataOffset = 12;\nconst cFirstMask = 0x0FFFFF00;\nconst cFirstShift = 8;\nconst cSecMask1 = 0x000000FF;\nconst cSecShift1 = 12;\nconst cSecMask2 = 0xFFF00000;\nconst cSecShift2 = 20;\nconst cThirdMask = 0x000FFFFF;\nconst cStrMask = 0xF0000000;\nconst cStrShift = 28;\nconst c219 = 1 << 19;\nconst c220 = 1 << 20;\n\nconst cHelixIdx = 1;\nconst cSheetIdx = 2;\nconst secTypes = ['helix', 'strand'];\nconst cSecNames = ['fs', 'ps', 'ns', 'us'];\n\nfunction _createSecondary(strArray, complex) {\n  const residues = complex._residues;\n  const nRes = residues.length;\n  const resid = new Uint8Array(nRes);\n\n  const atoms = complex._atoms;\n  for (let i = 0, n = strArray.length; i < n; ++i) {\n    const atom = atoms[i];\n    resid[atom.residue._index] = strArray[i];\n  }\n\n  const secondary = [];\n  let rIdx = 0;\n  while (rIdx < nRes) {\n    if (resid[rIdx] !== 0) {\n      const start = rIdx;\n      const val = resid[rIdx];\n      while (rIdx < nRes - 1 && resid[rIdx + 1] === val\n      && residues[rIdx].isConnected(residues[rIdx + 1])) {\n        ++rIdx;\n      }\n      secondary.push({ start, end: rIdx, type: secTypes[val - 1] });\n    }\n    ++rIdx;\n  }\n  return secondary;\n}\n\nfunction fromUInt20ToInt20(uint20) {\n  return uint20 >= c219 ? uint20 - c220 : uint20;\n}\n\nclass FrameInfo {\n  constructor(complex, payload, callbacks) {\n    this._complex = complex;\n    this._secondary = null;\n    this.isLoading = false;\n    this._framesRange = {\n      start: 0,\n      end: -1,\n    };\n    this.frameIsReady = false;\n    this._buffer = null;\n    this._frameRequest = null;\n    this._callbacks = callbacks;\n    if (typeof payload === 'function') {\n      this._framesRequestLength = 1;\n      this._downloadDataFn = payload;\n    } else {\n      this.parseBinaryData(payload, true);\n    }\n    this.reset();\n    this.setFrame(0);\n  }\n\n  _prepareBuffer(framesStart, framesEnd) {\n    if (framesStart === undefined || framesStart === null) {\n      framesStart = 0;\n    }\n    if (framesEnd === undefined || framesEnd === null) {\n      framesEnd = framesStart + this._framesRequestLength;\n    }\n    if (this._framesCount !== undefined) {\n      framesEnd = Math.min(this._framesCount - 1, framesEnd);\n    }\n    if (this._downloadDataFn) {\n      const self = this;\n      const onDone = function (data) {\n        self.isLoading = false;\n        if (self._callbacks && typeof self._callbacks.onLoadStatusChanged === 'function') {\n          self._callbacks.onLoadStatusChanged();\n        }\n        self._buffer = {\n          data,\n          state: 'ready',\n          start: framesStart,\n          end: framesEnd,\n        };\n        if (self._frameRequest !== null) {\n          const idx = self._frameRequest;\n          self._frameRequest = null;\n          self.setFrame(idx);\n        }\n      };\n      const onFail = function () {\n        self.isLoading = false;\n        if (self._callbacks && typeof self._callbacks.onError === 'function') {\n          self._callbacks.onError('Streaming failed');\n        }\n      };\n      if (!this._buffer) {\n        this._buffer = {};\n      }\n      this._buffer.state = 'downloading';\n      this.isLoading = true;\n      if (self._callbacks && typeof self._callbacks.onLoadStatusChanged === 'function') {\n        self._callbacks.onLoadStatusChanged();\n      }\n      this._downloadDataFn({ start: framesStart, end: framesEnd + 1 }, onDone, onFail);\n    }\n  }\n\n  _parseBuffer() {\n    if (this._buffer && this._buffer.state === 'ready') {\n      this._framesRange = {\n        start: this._buffer.start,\n        end: this._buffer.end,\n      };\n      this.parseBinaryData(this._buffer.data, false);\n      let _bufferRequestStart = (this._buffer.end + 1) % this._framesCount;\n      if (_bufferRequestStart >= this._framesCount) {\n        _bufferRequestStart = 0;\n      }\n      this._buffer = {\n        state: 'none',\n      };\n      this._prepareBuffer(_bufferRequestStart, _bufferRequestStart + this._framesRequestLength);\n      if (this._frameRequest !== null) {\n        const idx = this._frameRequest;\n        this._frameRequest = null;\n        this.setFrame(idx);\n      }\n    }\n  }\n\n  parseBinaryData(arrayBuffer) {\n    const dataView = new DataView(arrayBuffer);\n    let offset = 0;\n    const atomsCount = dataView.getUint32(offset, true);\n    offset += 4;\n    const framesCount = dataView.getUint32(offset, true);\n    this._framesCount = framesCount;\n    this._framesRange.end = this._framesRange.end > 0\n      ? Math.min(this._framesRange.end, framesCount - 1) : framesCount - 1;\n    offset += 4;\n    this._atomsCount = atomsCount;\n    const maxSize = 1024 * 1024; // 1 MB\n    this._framesRequestLength = Math.ceil(maxSize / (atomsCount * 8));\n    const chunkedFramesCount = this._framesRange.end - this._framesRange.start + 1;\n    if (atomsCount !== this._complex._atoms.length\n      || arrayBuffer.byteLength !== cDataOffset + chunkedFramesCount * atomsCount * 8) {\n      throw new Error();\n    }\n    const complex = this._complex;\n    let timeStep = dataView.getUint32(offset, true);\n    let iName = 0;\n    while (timeStep > 1000 && iName < cSecNames.length - 1) {\n      timeStep /= 1000;\n      ++iName;\n    }\n\n    this._timeStep = `${timeStep.toString()} ${cSecNames[iName]}`;\n    offset += 4;\n    const secondary = [];\n    const posData = new Float32Array(chunkedFramesCount * atomsCount * 3);\n    let coordIdx = 0;\n    const secondaryArr = new Int8Array(atomsCount);\n    for (let j = 0; j < chunkedFramesCount; ++j) {\n      for (let i = 0; i < atomsCount; ++i) {\n        const hiWord = dataView.getUint32(offset, true);\n        offset += 4;\n        const loWord = dataView.getUint32(offset, true);\n        offset += 4;\n        const str = (loWord & cStrMask) >>> cStrShift;\n        const x = fromUInt20ToInt20(((loWord & cFirstMask) >>> cFirstShift) >> 0);\n        const y = fromUInt20ToInt20((((loWord & cSecMask1) << cSecShift1)\n          | ((hiWord & cSecMask2) >>> cSecShift2)) >> 0);\n        const z = fromUInt20ToInt20((hiWord & cThirdMask) >> 0);\n        secondaryArr[i] = 0;\n        if (str > 0 && str < 4) {\n          secondaryArr[i] = cHelixIdx;\n        } else if (str === 4) {\n          secondaryArr[i] = cSheetIdx;\n        }\n        posData[coordIdx++] = x / 100;\n        posData[coordIdx++] = y / 100;\n        posData[coordIdx++] = z / 100;\n      }\n      secondary.push(_createSecondary(secondaryArr, complex));\n    }\n    this._secondaryData = secondary;\n    this._data = posData;\n  }\n\n  nextFrame() {\n    this.setFrame((this._currFrame + 1) % this._framesCount);\n  }\n\n  needsColorUpdate(colorer) {\n    return colorer instanceof SecondaryStructureColorer;\n  }\n\n  getAtomColor(colorer, atom) {\n    return colorer.getResidueColor(this._residues[atom.residue._index], this._complex);\n  }\n\n  getResidueColor(colorer, residue) {\n    return colorer.getResidueColor(this._residues[residue._index], this._complex);\n  }\n\n  _updateSecondary() {\n    let i;\n    const myResidues = this._residues;\n    let n = myResidues.length;\n    for (i = 0; i < n; ++i) {\n      myResidues[i]._secondary = null;\n    }\n    const sec = this._secondaryData[this._currFrame - this._framesRange.start];\n    for (i = 0, n = sec.length; i < n; ++i) {\n      const oldSec = sec[i];\n      const { start, end } = oldSec;\n      const nSec = {\n        _start: myResidues[start],\n        _end: myResidues[end],\n        type: oldSec.type,\n        generic: oldSec.generic,\n      };\n      for (let j = start; j <= end; ++j) {\n        myResidues[j]._secondary = nSec;\n      }\n    }\n  }\n\n  reset() {\n    const compRes = this._complex._residues;\n    const n = compRes.length;\n    this._residues = new Array(n);\n    const myResidues = this._residues;\n    const getSec = function () {\n      return this._secondary;\n    };\n    for (let i = 0; i < n; ++i) {\n      myResidues[i] = {\n        _type: compRes[i]._type,\n        _isValid: compRes[i]._isValid,\n        _controlPoint: null,\n        _wingVector: null,\n        _secondary: null,\n        getSecondary: getSec,\n      };\n    }\n  }\n\n  setFrame(frameIdx) {\n    this.frameIsReady = false;\n    if (frameIdx >= this._framesRange.start && frameIdx <= this._framesRange.end) {\n      this._currFrame = frameIdx;\n      this._cachedResidues = false;\n      this._updateSecondary();\n      this.frameIsReady = true;\n    } else {\n      this._frameRequest = frameIdx;\n      if (!this._buffer) {\n        this._prepareBuffer(frameIdx);\n      } else {\n        const self = this;\n        switch (this._buffer.state) {\n          case 'none':\n            this._prepareBuffer(frameIdx);\n            break;\n          case 'ready':\n            self._parseBuffer();\n            break;\n          default:\n            break;\n        }\n      }\n    }\n  }\n\n  disableEvents() {\n    this._callbacks = null;\n  }\n\n  /**\n   * Returns link to atom pos vector, clone it if needed\n   */\n\n  static _vec = new THREE.Vector3();\n\n  getAtomPos(atomIdx) {\n    const vec = FrameInfo._vec;\n    const self = this;\n    const data = self._data;\n    const idx = (self._atomsCount * (self._currFrame - self._framesRange.start) + atomIdx) * 3;\n    vec.set(data[idx], data[idx + 1], data[idx + 2]);\n    return vec;\n  }\n\n\n  getResidues() {\n    if (this._cachedResidues) {\n      return this._residues;\n    }\n    this._complex.updateToFrame(this);\n    return this._residues;\n  }\n}\nexport default FrameInfo;\n","import _ from 'lodash';\nimport settings from '../../settings';\nimport utils from '../../utils';\nimport gfxutils from '../gfxutils';\n\n/**\n * Create new scene object.\n *\n * @param {array=} params - Object required params.\n * @param {object=} opts - Options to override defaults with.\n *\n *   These options are copied locally and not kept by reference, so the created instance will not reflect further\n *   changes to the `opts` object. However, changes in defaults **will** affect the colorer after its creation.\n *\n * @exports SceneObject\n * @this SceneObject\n * @abstract\n * @constructor\n * @classdesc Basic class for all scene objects that are not reps.\n */\nclass SceneObject {\n  constructor(params, opts) {\n    if (this.constructor === SceneObject) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    /**\n     * Object's options inherited (prototyped) from defaults.\n     * @type {object}\n     */\n    this.params = params;\n    this.opts = _.merge(utils.deriveDeep(settings.now.objects[this.type], true), opts);\n    this.needsRebuild = false;\n    this._mesh = null;\n    this.id = null;\n  }\n\n  /**\n   * Get object identification, probably with options.\n   *  @returns {Object} field type contains type information, params - object's formal parameters,\n   * opts - changed options\n   * Options are returned if they were changed during or after object creation.\n   */\n  identify() {\n    const result = {\n      type: this.type,\n      params: this.params,\n    };\n    const diff = utils.objectsDiff(this.opts, settings.now.modes[this.id]);\n    if (!_.isEmpty(diff)) {\n      result.opts = diff;\n    }\n    return result;\n  }\n\n  toString() {\n    const paramsStr = `o=${this.type},${this.params.join(',')}`;\n    const optsStr = utils.compareOptionsWithDefaults(this.opts, settings.defaults.objects[this.type]);\n    return paramsStr + optsStr;\n  }\n\n  getGeometry() {\n    return this._mesh;\n  }\n\n  destroy() {\n    if (this._mesh) {\n      gfxutils.destroyObject(this._mesh);\n    }\n  }\n}\n\n/**\n * Scene object identifier.\n * @type {string}\n */\nSceneObject.prototype.type = '__';\n\nexport default SceneObject;\n","import * as THREE from 'three';\nimport SceneObject from './SceneObject';\nimport gfxutils from '../gfxutils';\nimport UberMaterial from '../shaders/UberMaterial';\nimport meshes from '../meshes/meshes';\nimport settings from '../../settings';\n\nclass LinesObj extends SceneObject {\n  constructor(params, opts) {\n    super(params, opts);\n    if (params.length < 2) {\n      throw new Error('Wrong number of argumets on line object creation!');\n    }\n    [this._id1, this._id2] = params;\n  }\n\n  _getAtomFromName(complex, atomId) {\n    const err = ' - Wrong atom format it must be \\'#CHAIN_NAME.#RESIDUE_NUMBER.#ATOM_NAME\\' (e.g. \\'A.38.CO1\\')';\n    const atom1 = complex.getAtomByFullname(atomId);\n    if (!atom1) {\n      throw new Error(atomId + err);\n    }\n    return atom1;\n  }\n\n  build(complex) {\n    const geom = new THREE.Geometry();\n    this._atom1 = this._getAtomFromName(complex, this._id1);\n    this._atom2 = this._getAtomFromName(complex, this._id2);\n\n    geom.vertices[0] = this._atom1.position.clone();\n    geom.vertices[1] = this._atom2.position.clone();\n    geom.dynamic = true;\n    geom.computeBoundingBox();\n\n    this._line = new meshes.Line(geom, new UberMaterial({\n      lights: false,\n      overrideColor: true,\n      dashedLine: true,\n      fogTransparent: settings.now.bg.transparent,\n    }));\n    this._line.computeLineDistances();\n    this._line.material.setUberOptions({\n      fixedColor: new THREE.Color(this.opts.color),\n      dashedLineSize: this.opts.dashSize,\n      dashedLinePeriod: this.opts.dashSize + this.opts.gapSize,\n    });\n    this._line.material.updateUniforms();\n\n    this._line.raycast = function (_raycaster, _intersects) {};\n    this._mesh = this._line;\n    const transforms = complex.getTransforms();\n    if (transforms.length > 0) {\n      this._mesh = new THREE.Group();\n      this._mesh.add(this._line);\n      gfxutils.applyTransformsToMeshes(this._mesh, transforms);\n    }\n  }\n\n  updateToFrame(frameData) {\n    if (!this._atom1 || !this._atom2 || !this._line) {\n      return;\n    }\n\n    const geo = this._line.geometry;\n    geo.vertices[0].copy(frameData.getAtomPos(this._atom1.index));\n    geo.vertices[1].copy(frameData.getAtomPos(this._atom2.index));\n    this._line.computeLineDistances();\n    geo.computeBoundingSphere();\n\n    geo.verticesNeedUpdate = true;\n  }\n}\n\nLinesObj.prototype.constructor = LinesObj;\nLinesObj.prototype.type = 'line';\n\nexport default LinesObj;\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexShader from './ScreenQuad.vert';\nimport fragmentShader from './Outline.frag';\n\nclass OutlineMaterial extends THREE.RawShaderMaterial {\n  constructor(params) {\n    // add depth outline\n    super(params);\n\n    const settings = {\n      uniforms: {\n        srcTex: { type: 't', value: null },\n        srcDepthTex: { type: 't', value: null },\n        srcTexSize: { type: 'v2', value: new THREE.Vector2(512, 512) },\n        color: { type: 'v3', value: null },\n        threshold: { type: 'f', value: null },\n        opacity: { type: 'f', value: 1.0 },\n        thickness: { type: 'v2', value: new THREE.Vector2(1, 1) },\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: true,\n      depthTest: false,\n      depthWrite: false,\n    };\n\n    this.setValues(settings);\n  }\n\n  copy(source) {\n    super.copy(source);\n    this.depth = source.depth;\n  }\n\n  setValues(values) {\n    if (typeof values === 'undefined') {\n      return;\n    }\n\n    // set direct values\n    super.setValues(values);\n    const defines = {};\n\n    if (this.depth) {\n      defines.DEPTH_OUTLINE = 1;\n    }\n\n    // set dependent values\n    this.defines = defines;\n  }\n}\n\nOutlineMaterial.prototype.depth = false;\n\nexport default OutlineMaterial;\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexShader from './ScreenQuad.vert';\nimport fragmentShader from './FXAA.frag';\n\nclass FXAAMaterial extends THREE.RawShaderMaterial {\n  constructor(params) {\n    super(params);\n\n    // set default values\n    this.setValues.call(this, {\n      uniforms: {\n        srcTex: { type: 't', value: null },\n        srcTexelSize: { type: 'v2', value: new THREE.Vector2(1.0 / 512.0, 1.0 / 512.0) },\n        bgColor: { type: 'c', value: new THREE.Color(0xffffff) },\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false,\n    });\n\n    this.setValues(params);\n  }\n\n  copy(source) {\n    super.copy(source);\n    this.depth = source.depth;\n  }\n\n  setValues(values) {\n    if (typeof values === 'undefined') {\n      return;\n    }\n\n    // set direct values\n    super.setValues(values);\n\n    const defines = {};\n\n    if (this.bgTransparent) {\n      defines.BG_TRANSPARENT = 1;\n    }\n    // set dependent values\n    this.defines = defines;\n  }\n}\n\nFXAAMaterial.prototype.bgTransparent = false;\n\nexport default FXAAMaterial;\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexShader from './ScreenQuad.vert';\nimport fragmentShader from './AO.frag';\nimport noise from '../noiseTexture';\n\nconst _samplesKernel = [\n  // hemisphere samples adopted to sphere\n  new THREE.Vector3(0.295184, 0.077723, 0.068429),\n  new THREE.Vector3(-0.271976, -0.365221, 0.838363),\n  new THREE.Vector3(0.547713, 0.467576, 0.488515),\n  new THREE.Vector3(0.662808, -0.031733, 0.584758),\n  new THREE.Vector3(-0.025717, 0.218955, 0.657094),\n  new THREE.Vector3(-0.310153, -0.365223, 0.370701),\n  new THREE.Vector3(-0.101407, -0.006313, 0.747665),\n  new THREE.Vector3(-0.769138, 0.360399, 0.086847),\n  new THREE.Vector3(-0.271988, -0.275140, 0.905353),\n  new THREE.Vector3(0.096740, -0.566901, 0.700151),\n  new THREE.Vector3(0.562872, -0.735136, 0.094647),\n  new THREE.Vector3(0.379877, 0.359278, 0.190061),\n  new THREE.Vector3(0.519064, -0.023055, 0.405068),\n  new THREE.Vector3(-0.301036, 0.114696, 0.088885),\n  new THREE.Vector3(-0.282922, 0.598305, 0.487214),\n  new THREE.Vector3(-0.181859, 0.251670, 0.679702),\n  new THREE.Vector3(-0.191463, -0.635818, 0.512919),\n  new THREE.Vector3(-0.293655, 0.427423, 0.078921),\n  new THREE.Vector3(-0.267983, 0.680534, 0.132880),\n  new THREE.Vector3(0.139611, 0.319637, 0.477439),\n  new THREE.Vector3(-0.352086, 0.311040, 0.653913),\n  new THREE.Vector3(0.321032, 0.805279, 0.487345),\n  new THREE.Vector3(0.073516, 0.820734, 0.414183),\n  new THREE.Vector3(-0.155324, 0.589983, 0.411460),\n  new THREE.Vector3(0.335976, 0.170782, 0.527627),\n  new THREE.Vector3(0.463460, -0.355658, 0.167689),\n  new THREE.Vector3(0.222654, 0.596550, 0.769406),\n  new THREE.Vector3(0.922138, -0.042070, 0.147555),\n  new THREE.Vector3(-0.727050, -0.329192, 0.369826),\n  new THREE.Vector3(-0.090731, 0.533820, 0.463767),\n  new THREE.Vector3(-0.323457, -0.876559, 0.238524),\n  new THREE.Vector3(-0.663277, -0.372384, 0.342856),\n];\n\nclass AOMaterial extends THREE.RawShaderMaterial {\n  constructor() {\n    super();\n\n    // set default values\n    this.setValues.call(this, {\n      uniforms: {\n        noiseTexture: { type: 't', value: noise.noiseTexture },\n        noiseTexelSize: { type: 'v2', value: new THREE.Vector2(1.0 / noise.noiseWidth, 1.0 / noise.noiseHeight) },\n        diffuseTexture: { type: 't', value: null },\n        normalTexture: { type: 't', value: null },\n        depthTexture: { type: 't', value: null },\n        srcTexelSize: { type: 'v2', value: new THREE.Vector2(1.0 / 512.0, 1.0 / 512.0) },\n        camNearFar: { type: 'v2', value: new THREE.Vector2(1.0, 10.0) },\n        projMatrix: { type: 'mat4', value: new THREE.Matrix4() },\n        aspectRatio: { type: 'f', value: 0.0 },\n        tanHalfFOV: { type: 'f', value: 0.0 },\n        samplesKernel: { type: 'v3v', value: _samplesKernel },\n        kernelRadius: { type: 'f', value: 1.0 },\n        depthThreshold: { type: 'f', value: 1.0 },\n        factor: { type: 'f', value: 1.0 },\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false,\n    });\n  }\n}\n\nexport default AOMaterial;\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexShader from './ScreenQuad.vert';\nimport fragmentShader from './AOHorBlur.frag';\n\nconst _kernelOffsets = [-2.0, -1.0, 0.0, 1.0, 2.0];\n\nclass AOHorBlurMaterial extends THREE.RawShaderMaterial {\n  constructor() {\n    super();\n\n    // set default values\n    this.setValues.call(this, {\n      uniforms: {\n        depthTexture: { type: 't', value: null },\n        srcTexelSize: { type: 'v2', value: new THREE.Vector2(1.0 / 512.0, 1.0 / 512.0) },\n        aoMap: { type: 't', value: null },\n        samplesOffsets: { type: 'fv1', value: _kernelOffsets },\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false,\n    });\n  }\n}\n\nexport default AOHorBlurMaterial;\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexShader from './ScreenQuad.vert';\nimport fragmentShader from './AOVertBlurWithBlend.frag';\n\nconst _kernelOffsets = [-2.0, -1.0, 0.0, 1.0, 2.0];\n\nclass AOVertBlurWithBlendMaterial extends THREE.RawShaderMaterial {\n  constructor(params) {\n    super(params);\n\n    // set default values\n    this.setValues.call(this, {\n      uniforms: {\n        diffuseTexture: { type: 't', value: null },\n        depthTexture: { type: 't', value: null },\n        srcTexelSize: { type: 'v2', value: new THREE.Vector2(1.0 / 512.0, 1.0 / 512.0) },\n        aoMap: { type: 't', value: null },\n        samplesOffsets: { type: 'fv1', value: _kernelOffsets },\n        projMatrix: { type: 'mat4', value: new THREE.Matrix4() },\n        aspectRatio: { type: 'f', value: 0.0 },\n        tanHalfFOV: { type: 'f', value: 0.0 },\n        fogNearFar: { type: 'v2', value: new THREE.Vector2(100.0, 100.0) },\n        fogColor: { type: 'v4', value: new THREE.Vector4(0.0, 0.5, 0.0, 1.0) },\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false,\n    });\n\n    this.setValues(params);\n  }\n\n  setValues(values) {\n    if (typeof values === 'undefined') {\n      return;\n    }\n\n    // set direct values\n    super.setValues(values);\n\n    const defines = {};\n\n    if (this.useFog) {\n      defines.USE_FOG = 1;\n    }\n    if (this.fogTransparent) {\n      defines.FOG_TRANSPARENT = 1;\n    }\n    // set dependent values\n    this.defines = defines;\n  }\n}\n\nAOVertBlurWithBlendMaterial.prototype.useFog = true;\nAOVertBlurWithBlendMaterial.prototype.fogTransparent = false;\n\nexport default AOVertBlurWithBlendMaterial;\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexShader from './ScreenQuad.vert';\nimport fragmentShader from './Anaglyph.frag';\n\nclass AnaglyphMaterial extends THREE.RawShaderMaterial {\n  constructor() {\n    super();\n    const settings = {\n      uniforms: {\n        srcL: { type: 't', value: null },\n        srcR: { type: 't', value: null },\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false,\n    };\n    this.setValues(settings);\n  }\n}\n\nexport default AnaglyphMaterial;\n","import * as THREE from 'three';\nimport settings from '../settings';\n\nclass View {\n  constructor() {\n    this.position = new THREE.Vector3(0, 0, 0);\n    this.scale = 1;\n    this.orientation = new THREE.Quaternion(0, 0, 0, 1);\n  }\n\n  set(position, scale, orientation) {\n    this.position = position;\n    this.scale = scale;\n    this.orientation = orientation;\n  }\n}\n\nconst _transitionTime = 1.5; // in seconds\n\nexport default class ViewInterpolator {\n  setup(startView, endView) {\n    this._startTime = undefined;\n    this._endTime = undefined;\n    this._isPaused = false;\n\n    this._srcView = startView;\n    this._dstView = endView;\n    this._isMoving = false;\n  }\n\n  isMoving() {\n    return this._isMoving;\n  }\n\n  wasStarted() {\n    return typeof this._startTime !== 'undefined' && typeof this._endTime !== 'undefined';\n  }\n\n  start() {\n    this._startTime = Date.now();\n    const transTime = settings.now.interpolateViews ? _transitionTime * 1000 : 0;\n    this._endTime = this._startTime + transTime;\n    this._isMoving = true;\n  }\n\n  getCurrentView() {\n    if (typeof this._srcView === 'undefined' || typeof this._dstView === 'undefined'\n      || !this._isMoving || !this.wasStarted()) {\n      return { success: false };\n    }\n\n    let view = this.createView();\n    const time = Date.now();\n    if (time > this._endTime) {\n      view = this._dstView;\n      this.reset();\n      return { success: true, view };\n    }\n\n    const factor = (time - this._startTime) / (this._endTime - this._startTime);\n    view.position.copy(this._srcView.position);\n    view.position.lerp(this._dstView.position, factor);\n    view.scale = (1 - factor) * this._srcView.scale + factor * this._dstView.scale;\n    view.orientation.copy(this._srcView.orientation);\n    view.orientation.slerp(this._dstView.orientation, factor);\n    return { success: true, view };\n  }\n\n  reset() {\n    this._startTime = this._endTime = 0;\n    this._isMoving = false;\n  }\n\n  pause() {\n    if (!this._isPaused) {\n      this.setup(this.getCurrentView().view, this._dstView);\n      this._isPaused = true;\n    }\n  }\n\n  resume() {\n    this._isPaused = false;\n  }\n\n  createView() {\n    return new View();\n  }\n}\n","import _ from 'lodash';\nimport makeContextDependent from './makeContextDependent';\n\nconst MAX_COOKIE_LEN = 4000;\nconst COUNT_SUFFIX = 'Cnt';\n\nfunction _chunkString(string, chunkLen) {\n  const l = string.length;\n  const chunks = [];\n  for (let c = 0, lc = 0; lc < l; c++, lc += chunkLen) {\n    chunks[c] = string.slice(lc, lc + chunkLen);\n  }\n  return chunks;\n}\n\n/**\n * Create new context dependent Cookie holder object.\n * @param context\n * @param {Object} opts - options\n * @param {string} opts.path - cookie path\n * @constructor\n */\nfunction Cookies(context, opts) {\n  this.context = context;\n  this._opts = _.merge({\n    path: '/',\n  }, opts);\n}\n\nmakeContextDependent(Cookies.prototype);\n\n/**\n * Remove cookie by the name.\n * @param key\n */\nCookies.prototype.removeCookie = function (key) {\n  const cntKey = this._toCount(key);\n  let cntVal = this._getSimpleCookie(cntKey);\n  if (!cntVal) {\n    this._removeSimpleCookie(key);\n    return;\n  }\n  this._removeSimpleCookie(cntKey);\n  cntVal = parseInt(cntVal, 10);\n  for (let i = 0; i < cntVal; ++i) {\n    this._removeSimpleCookie(key + i);\n  }\n};\n\n/**\n * Set new cookie value. Automatically splits\n * values that are too large into multiple cookies.\n * @param key\n * @param value\n */\nCookies.prototype.setCookie = function (key, value) {\n  this.removeCookie(key);\n  value = encodeURIComponent(value);\n  const values = _chunkString(value, MAX_COOKIE_LEN - key.length - 1);\n  const cntVal = values.length;\n  if (cntVal === 1) {\n    this._setSimpleCookie(key, value);\n    return;\n  }\n  const cntKey = this._toCount(key);\n  this._setSimpleCookie(cntKey, cntVal.toString());\n  for (let i = 0; i < cntVal; ++i) {\n    this._setSimpleCookie(key + i, values[i]);\n  }\n};\n\n/**\n * Obtain the value of a compound cookie.\n * @param key\n */\nCookies.prototype.getCookie = function (key) {\n  const cntKey = this._toCount(key);\n  let cntVal = this._getSimpleCookie(cntKey);\n  if (!cntVal) {\n    return this._getSimpleCookie(key);\n  }\n  cntVal = parseInt(cntVal, 10);\n  const value = [];\n  for (let i = 0; i < cntVal; ++i) {\n    value[i] = this._getSimpleCookie(key + i);\n  }\n  return value.join('');\n};\n\nCookies.prototype._toCount = function (key) {\n  return key + COUNT_SUFFIX;\n};\n\nCookies.prototype._removeSimpleCookie = function (key) {\n  document.cookie = `${key}=; expires=Thu, 01 Jan 1970 00:00:01 GMT;`;\n};\n\nCookies.prototype._getExpirationDate = function () {\n  const today = new Date();\n  const EXP_PERIOD_YEARS = 10;\n  today.setFullYear(today.getFullYear() + EXP_PERIOD_YEARS);\n  return today;\n};\n\nCookies.prototype._setSimpleCookie = function (key, value) {\n  document.cookie = `${key}=${value\n  };expires=${this._getExpirationDate().toUTCString()\n  };path=${this._opts.path}`;\n};\n\nCookies.prototype._getSimpleCookie = function (key) {\n  const matches = document.cookie.match(new RegExp(`(?:^|; )${key}=([^;]*)`));\n  return matches ? decodeURIComponent(matches[1]) : '';\n};\n\nCookies.prototype._exists = function (key) {\n  return document.cookie.match(new RegExp(`(?:^|; )${key}=([^;]*)`));\n};\n\nexport default Cookies;\n","/*\n * Toggling WebVR is done through button.click because of limitations on calling requestPresent in webVR:\n * VRDisplay::requestPresent should be called from user gesture:\n * https://developer.mozilla.org/en-US/docs/Web/API/VRDisplay/requestPresent\n */\nexport default function (webVRPoC) {\n  function showEnterVR(button) {\n    button.style.display = '';\n    button.style.cursor = 'pointer';\n    button.style.left = 'calc(50% - 50px)';\n    button.style.width = '100px';\n\n    button.textContent = 'ENTER VR';\n\n    let currentSession = null;\n\n    function onSessionEnded(/* event */) {\n      currentSession.removeEventListener('end', onSessionEnded);\n      button.textContent = 'ENTER VR';\n      currentSession = null;\n    }\n\n    function onSessionStarted(session) {\n      session.addEventListener('end', onSessionEnded);\n      webVRPoC._gfx.renderer.xr.setReferenceSpaceType('local');\n      webVRPoC._gfx.renderer.xr.setSession(session);\n      button.textContent = 'EXIT VR';\n      currentSession = session;\n    }\n\n    button.onmouseenter = function () { button.style.opacity = '1.0'; };\n    button.onmouseleave = function () { button.style.opacity = '0.5'; };\n\n    button.onclick = function () {\n      if (currentSession === null) {\n        // WebXR's requestReferenceSpace only works if the corresponding feature\n        // was requested at session creation time. For simplicity, just ask for\n        // the interesting ones as optional features, but be aware that the\n        // requestReferenceSpace call will fail if it turns out to be unavailable.\n        // ('local' is always available for immersive sessions and doesn't need to\n        // be requested separately.)\n\n        const sessionInit = { optionalFeatures: ['local-floor', 'bounded-floor'] };\n        navigator.xr.requestSession('immersive-vr', sessionInit).then(onSessionStarted);\n        webVRPoC.moveSceneBehindHeadset();\n      } else {\n        currentSession.end();\n      }\n    };\n  }\n\n  function showWebXRNotFound(button) {\n    button.style.display = '';\n    button.style.cursor = 'auto';\n    button.style.left = 'calc(50% - 75px)';\n    button.style.width = '150px';\n    button.textContent = 'VR NOT FOUND';\n    button.onmouseenter = null;\n    button.onmouseleave = null;\n    button.onclick = null;\n  }\n\n  function stylizeElement(element) {\n    element.style.position = 'absolute';\n    element.style.bottom = '20px';\n    element.style.padding = '12px 6px';\n    element.style.border = '1px solid #fff';\n    element.style.borderRadius = '4px';\n    element.style.background = 'transparent';\n    element.style.color = '#fff';\n    element.style.font = 'normal 13px sans-serif';\n    element.style.textAlign = 'center';\n    element.style.opacity = '0.5';\n    element.style.outline = 'none';\n    element.style.zIndex = '999';\n  }\n\n  if ('xr' in navigator) {\n    const button = document.createElement('button');\n    button.style.display = 'none';\n    stylizeElement(button);\n    navigator.xr.isSessionSupported('immersive-vr').then((supported) => (\n      supported ? showEnterVR(button) : showWebXRNotFound(button)\n    ));\n    return button;\n  }\n  const message = document.createElement('a');\n  message.href = 'https://webvr.info';\n  message.innerHTML = 'WEBXR NOT SUPPORTED';\n  message.style.left = 'calc(50% - 90px)';\n  message.style.width = '180px';\n  message.style.textDecoration = 'none';\n  stylizeElement(message);\n  return message;\n}\n","import * as THREE from 'three';\nimport createWebVRButton from './createWebVRButton';\nimport gfxutils from '../gfxutils';\nimport logger from '../../utils/logger';\nimport settings from '../../settings';\nimport UberMaterial from '../shaders/UberMaterial';\n\nexport default class WebVRPoC {\n  constructor(onToggle) {\n    this._mainCamera = new THREE.PerspectiveCamera();\n    this._button = null;\n    this._onToggle = onToggle;\n\n    this._molContainer = new gfxutils.RCGroup();\n    this._user = new gfxutils.RCGroup();\n    this._scalingPivot = new THREE.Object3D();\n    this._user.add(this._scalingPivot);\n\n    this._controller1 = null;\n    this._controller2 = null;\n    this._pressedGripsCounter = 0;\n    this._distance = 0;\n\n    this._gfx = null;\n  }\n\n  startScalingByControllers() {\n    // reset scale\n    this._distance = this._controller1.position.distanceTo(this._controller2.position);\n    gfxutils.getMiddlePoint(this._controller1.position, this._controller2.position, this._scalingPivot.position);\n    this._scalingPivot.scale.set(1, 1, 1);\n    this._scalingPivot.updateMatrix();\n    this._scalingPivot.updateMatrixWorld();\n    // link molecule to pivot\n    this._scalingPivot.addSavingWorldTransform(this._molContainer);\n  }\n\n  stopScalingByControllers() {\n    this._gfx.scene.addSavingWorldTransform(this._molContainer);\n  }\n\n  handleGripsDown(event) {\n    this._pressedGripsCounter++;\n    if (this._pressedGripsCounter === 2) {\n      this.startScalingByControllers();\n    } else if (this._pressedGripsCounter === 1) {\n      event.target.addSavingWorldTransform(this._molContainer);\n    }\n  }\n\n  handleGripsUp(event) {\n    this._pressedGripsCounter--;\n    if (this._pressedGripsCounter === 1) {\n      this.stopScalingByControllers();\n      // reattach molecule to other controller\n      const anotherController = event.target === this._controller1 ? this._controller2 : this._controller1;\n      anotherController.addSavingWorldTransform(this._molContainer);\n    } else if (this._pressedGripsCounter === 0) {\n      this._gfx.scene.addSavingWorldTransform(this._molContainer);\n    }\n  }\n\n  enable(gfx) {\n    if (!gfx) {\n      logger.warn('WebVR couldn\\'t be enabled, because gfx is not defined');\n      return;\n    }\n    this._gfx = gfx;\n    const { renderer, camera } = gfx;\n    if (!renderer) {\n      throw new Error('No renderer is available to toggle WebVR');\n    }\n    if (!camera) {\n      throw new Error('No camera is available to toggle WebVR');\n    }\n\n    // enable xr in renderer\n    renderer.xr.enabled = true;\n    // add button for turning vr mode\n    if (!this._button) {\n      this._button = createWebVRButton(this);\n      document.body.appendChild(this._button);\n    } else {\n      this._button.style.display = 'block';\n    }\n    // store fog setting\n    this._mainFog = settings.now.fog;\n    settings.set('fog', false);\n\n    this._plugVRNodesIntoScene(gfx, renderer);\n    this._setControllersListeners();\n\n    // make some Miew job\n    if (this._onToggle) {\n      this._onToggle(true);\n    }\n  }\n\n  _plugVRNodesIntoScene(gfx, renderer) {\n    // store common scene camera\n    this._mainCamera.copy(gfx.camera);\n    // add hierarchical structure for webVR into scene\n    gfx.scene.add(this._user);\n    // turn on webvr transformation\n    gfx.scene.add(this._molContainer);\n    this._molContainer.add(gfx.root);\n\n    this._controller1 = renderer.xr.getController(0);\n    this._controller2 = renderer.xr.getController(1);\n    const mesh = this._createControllerMesh();\n    this._controller1.add(mesh);\n    this._controller2.add(mesh.clone());\n    this._user.add(this._controller1);\n    this._user.add(this._controller2);\n  }\n\n  _setControllersListeners() {\n    this._controller1.addEventListener('selectstart', (event) => {\n      this.handleGripsDown(event);\n    });\n    this._controller1.addEventListener('selectend', (event) => {\n      this.handleGripsUp(event);\n    });\n    this._controller2.addEventListener('selectstart', (event) => {\n      this.handleGripsDown(event);\n    });\n    this._controller2.addEventListener('selectend', (event) => {\n      this.handleGripsUp(event);\n    });\n\n    this._controller1.addEventListener('squeezestart', (event) => {\n      this.handleGripsDown(event);\n    });\n    this._controller1.addEventListener('squeezeend', (event) => {\n      this.handleGripsUp(event);\n    });\n    this._controller2.addEventListener('squeezestart', (event) => {\n      this.handleGripsDown(event);\n    });\n    this._controller2.addEventListener('squeezeend', (event) => {\n      this.handleGripsUp(event);\n    });\n  }\n\n  disable() {\n    if (!this._gfx) {\n      return;\n    }\n    const { renderer, camera } = this._gfx;\n    if (!renderer) {\n      throw new Error('No renderer is available to toggle WebVR');\n    }\n\n    // nullify webxr callback for animation frame\n    renderer.setAnimationLoop(null);\n    const session = renderer.xr.getSession();\n    if (session) {\n      session.end();\n    }\n    renderer.xr.enabled = false;\n    // remove button of VR entering\n    if (this._button) {\n      this._button.style.display = 'none';\n    }\n    // restore fog param\n    settings.set('fog', this._mainFog);\n\n    this._unplugVRNodesFromScene(camera);\n\n    // make some Miew job\n    if (this._onToggle) {\n      this._onToggle(false);\n    }\n  }\n\n  _unplugVRNodesFromScene(camera) {\n    // restore common camera\n    if (this._mainCamera && camera) {\n      camera.copy(this._mainCamera);\n    }\n    // turn off webvr transformation\n    const root = this._molContainer.children[0];\n    if (root) {\n      this._gfx.scene.add(root);\n    }\n    this._molContainer.parent.remove(this._molContainer);\n    if (this._user) {\n      this._gfx.scene.remove(this._user);\n    }\n    // free scene nodes\n    this._molContainer = null;\n    this._user = null;\n    this._scalingPivot = null;\n    this._user = null;\n    this._controller1 = null;\n    this._controller2 = null;\n  }\n\n  _createControllerMesh() {\n    // visualize controllers with cylinders\n    const geometry = new THREE.CylinderGeometry(0.04, 0.04, 0.3);\n    const material = new UberMaterial({ lights: false, overrideColor: true });\n    material.setUberOptions({ fixedColor: new THREE.Color(0x4444ff) });\n    material.updateUniforms();\n    const cylinder = new THREE.Mesh(geometry, material);\n    cylinder.rotateX(-Math.PI / 2);\n    return cylinder;\n  }\n\n  updateMoleculeScale() {\n    if (!this._controller1 || !this._controller2) {\n      return;\n    }\n\n    const self = this;\n    // update molecule scaling by controllers\n    if (self._pressedGripsCounter === 2) {\n      // recalc scaling pivot\n      gfxutils.getMiddlePoint(self._controller1.position, self._controller2.position, self._scalingPivot.position);\n      // recalc scaler\n      const dist = self._controller1.position.distanceTo(self._controller2.position);\n      const scaler = dist / self._distance;\n      self._scalingPivot.scale.multiplyScalar(scaler);\n      // save cur distance for next frame\n      self._distance = dist;\n    }\n  }\n\n  /**\n   * Reposition molecule right before the camera.\n   * @note The proper way is to initiate headset in the place of common Miew's camera.\n   * But threejs limitations on setting new XRReferenceSpace enforce the molecule repositioning\n   * Hope, something will change.\n   */\n  moveSceneBehindHeadset() {\n    const gfx = this._gfx;\n    const { camera } = gfx;\n\n    // set container position in camera space\n    const container = this._molContainer;\n    container.matrix.identity();\n    container.position.set(0, 0, -4.0);\n    container.updateMatrix();\n\n    // update container world matrix\n    container.matrixWorld.multiplyMatrices(camera.matrixWorld, container.matrix);\n    // readd to scene\n    gfx.scene.addSavingWorldTransform(container);\n    if (this._onToggle) {\n      this._onToggle(true);\n    }\n  }\n\n  getCanvas() {\n    const gfx = this._gfx;\n    return (gfx && gfx.renderer) ? gfx.renderer.domElement : null;\n  }\n}\n","/* global PACKAGE_VERSION:false */\nimport _ from 'lodash';\nimport * as THREE from 'three';\nimport { Spinner } from 'spin.js';\nimport Stats from './gfx/Stats';\nimport utils from './utils';\nimport JobHandle from './utils/JobHandle';\nimport options from './options';\nimport settings from './settings';\nimport chem from './chem';\nimport Visual from './Visual';\nimport ComplexVisual from './ComplexVisual';\nimport Complex from './chem/Complex';\nimport VolumeVisual from './VolumeVisual';\nimport GfxProfiler from './gfx/GfxProfiler';\nimport io from './io/io';\nimport modes from './gfx/modes';\nimport colorers from './gfx/colorers';\nimport palettes from './gfx/palettes';\nimport materials from './gfx/materials';\nimport Representation from './gfx/Representation';\nimport CSS2DRenderer from './gfx/CSS2DRenderer';\nimport ObjectControls from './ui/ObjectControls';\nimport Picker from './ui/Picker';\nimport Axes from './gfx/Axes';\nimport gfxutils from './gfx/gfxutils';\nimport FrameInfo from './gfx/FrameInfo';\nimport meshes from './gfx/meshes/meshes';\nimport LinesObject from './gfx/objects/LinesObj';\nimport UberMaterial from './gfx/shaders/UberMaterial';\nimport OutlineMaterial from './gfx/shaders/OutlineMaterial';\nimport FXAAMaterial from './gfx/shaders/FXAAMaterial';\nimport AOMaterial from './gfx/shaders/AOMaterial';\nimport AOHorBlurMaterial from './gfx/shaders/AOHorBlurMaterial';\nimport AOVertBlurWithBlendMaterial from './gfx/shaders/AOVertBlurWithBlendMaterial';\nimport AnaglyphMaterial from './gfx/shaders/AnaglyphMaterial';\nimport VolumeMaterial from './gfx/shaders/VolumeMaterial';\nimport ViewInterpolator from './gfx/ViewInterpolator';\nimport EventDispatcher from './utils/EventDispatcher';\nimport logger from './utils/logger';\nimport Cookies from './utils/Cookies';\nimport capabilities from './gfx/capabilities';\nimport WebVRPoC from './gfx/vr/WebVRPoC';\nimport vertexScreenQuadShader from './gfx/shaders/ScreenQuad.vert';\nimport fragmentScreenQuadFromDistTex from './gfx/shaders/ScreenQuadFromDistortionTex.frag';\n\nconst {\n  selectors,\n  Atom,\n  Residue,\n  Chain,\n  Molecule,\n} = chem;\n\nconst EDIT_MODE = { COMPLEX: 0, COMPONENT: 1, FRAGMENT: 2 };\n\nconst LOADER_NOT_FOUND = 'Could not find suitable loader for this source';\nconst PARSER_NOT_FOUND = 'Could not find suitable parser for this source';\n\nconst { createElement } = utils;\n\nfunction updateFogRange(fog, center, radius) {\n  fog.near = center - radius * settings.now.fogNearFactor;\n  fog.far = center + radius * settings.now.fogFarFactor;\n}\n\nfunction removeExtension(fileName) {\n  const dot = fileName.lastIndexOf('.');\n  if (dot >= 0) {\n    fileName = fileName.substr(0, dot);\n  }\n  return fileName;\n}\n\nfunction hasValidResidues(complex) {\n  let hasValidRes = false;\n  complex.forEachComponent((component) => {\n    component.forEachResidue((residue) => {\n      if (residue._isValid) {\n        hasValidRes = true;\n      }\n    });\n  });\n  return hasValidRes;\n}\n\nfunction reportProgress(log, action, percent) {\n  const TOTAL_PERCENT = 100;\n  if (percent !== undefined) {\n    log.debug(`${action}... ${Math.floor(percent * TOTAL_PERCENT)}%`);\n  } else {\n    log.debug(`${action}...`);\n  }\n}\n\nfunction chooseFogColor() {\n  return settings.now.fogColorEnable ? settings.now.fogColor : settings.now.bg.color;\n}\n\n// ////////////////////////////////////////////////////////////////////////////\n\n/**\n * Main 3D Molecular Viewer class.\n *\n * @param {object} opts - Viewer options.\n * @param {HTMLElement=} opts.container - DOM element that serves as a viewer container.\n * @param {object=} opts.settings - An object with properties to override default settings.\n * @param {string=} opts.settingsCookie='settings' - The name of the cookie to save current settings to.\n * @param {string=} opts.cookiePath='/' - The path option for cookies. Defaults to root.\n *\n * @exports Miew\n * @constructor\n */\nfunction Miew(opts) {\n  EventDispatcher.call(this);\n  this._opts = _.merge({\n    settingsCookie: 'settings',\n    cookiePath: '/',\n  }, opts);\n  /** @type {?object} */\n  this._gfx = null;\n  /** @type {ViewInterpolator} */\n  this._interpolator = new ViewInterpolator();\n  /** @type {HTMLElement} */\n  this._container = (opts && opts.container)\n    || document.getElementById('miew-container')\n    || _.head(document.getElementsByClassName('miew-container'))\n    || document.body;\n  /** @type {HTMLElement} */\n  this._containerRoot = this._container;\n\n  /** @type {boolean} */\n  this._running = false;\n  /** @type {boolean} */\n  this._halting = false;\n  /** @type {boolean} */\n  this._building = false;\n  /** @type {boolean} */\n  this._needRender = true;\n  /** @type {boolean} */\n  this._hotKeysEnabled = true;\n\n  /** @type {Settings} */\n  this.settings = settings;\n  const log = logger;\n  log.console = DEBUG;\n  log.level = DEBUG ? 'debug' : 'info';\n  /**\n   * @type {Logger}\n   * @example\n   * miew.logger.addEventListener('message', function _onLogMessage(evt) {\n   *   console.log(evt.message);\n   * });\n   */\n  this.logger = log;\n\n  this._cookies = new Cookies(this);\n  this.restoreSettings();\n  if (opts && opts.settings) {\n    this.settings.set(opts.settings);\n  }\n\n  /** @type {?Spinner} */\n  this._spinner = null;\n  /** @type {JobHandle[]} */\n  this._loading = [];\n  /** @type {?number}\n   * @deprecated until Animation system refactoring\n   */\n  this._animInterval = null;\n\n  /** @type {object} */\n  this._visuals = {};\n  /** @type {?string} */\n  this._curVisualName = null;\n\n  /** @type {array} */\n  this._objects = [];\n\n  /** @type {object} */\n  this._sourceWindow = null;\n\n  this._resizeEventHandler = null;\n\n  this.reset();\n\n  if (this._repr) {\n    log.debug(`Selected ${this._repr.mode.name} mode with ${this._repr.colorer.name} colorer.`);\n  }\n\n  const self = this;\n  Miew.registeredPlugins.forEach((plugin) => {\n    plugin.call(self);\n  });\n\n  this._initOnSettingsChanged();\n}\n\nMiew.prototype = Object.create(EventDispatcher.prototype);\nMiew.prototype.constructor = Miew;\n\nMiew.prototype.getMaxRepresentationCount = function () {\n  return ComplexVisual.NUM_REPRESENTATION_BITS;\n};\n\n/**\n * Replace viewer container contents with a DOM element.\n * @param {HTMLElement} container - parent container.\n * @param {HTMLElement} element - DOM element to show.\n * @private\n */\nfunction _setContainerContents(container, element) {\n  const parent = container;\n  while (parent.firstChild) {\n    parent.removeChild(parent.firstChild);\n  }\n  parent.appendChild(element);\n}\n\n/**\n * Update Shadow Camera target position and frustum.\n * @private\n */\nMiew.prototype._updateShadowCamera = (function () {\n  const shadowMatrix = new THREE.Matrix4();\n  const direction = new THREE.Vector3();\n  const OBB = { center: new THREE.Vector3(), halfSize: new THREE.Vector3() };\n\n  return function () {\n    this._gfx.scene.updateMatrixWorld();\n    for (let i = 0; i < this._gfx.scene.children.length; i++) {\n      if (this._gfx.scene.children[i].type === 'DirectionalLight') {\n        const light = this._gfx.scene.children[i];\n        shadowMatrix.copy(light.shadow.camera.matrixWorldInverse);\n        this.getOBB(shadowMatrix, OBB);\n\n        direction.subVectors(light.target.position, light.position);\n        light.position.subVectors(OBB.center, direction);\n        light.target.position.copy(OBB.center);\n\n        light.shadow.bias = 0.09;\n        light.shadow.camera.bottom = -OBB.halfSize.y;\n        light.shadow.camera.top = OBB.halfSize.y;\n        light.shadow.camera.right = OBB.halfSize.x;\n        light.shadow.camera.left = -OBB.halfSize.x;\n        light.shadow.camera.near = direction.length() - OBB.halfSize.z;\n        light.shadow.camera.far = direction.length() + OBB.halfSize.z;\n\n        light.shadow.camera.updateProjectionMatrix();\n      }\n    }\n  };\n}());\n\n/**\n * Initialize the viewer.\n * @returns {boolean} true on success.\n * @throws Forwards exception raised during initialization.\n * @see Miew#term\n */\nMiew.prototype.init = function () {\n  const container = this._container;\n  const elem = utils.createElement('div', { class: 'miew-canvas' });\n  _setContainerContents(container, elem);\n  this._container = elem;\n\n  const frag = document.createDocumentFragment();\n  frag.appendChild(this._msgMode = createElement(\n    'div', { class: 'mode-message overlay' },\n    createElement('p', {}, 'COMPONENT EDIT MODE'),\n  ));\n  frag.appendChild(this._msgAtomInfo = createElement(\n    'div', { class: 'atom-info overlay' },\n    createElement('p', {}, ''),\n  ));\n  container.appendChild(frag);\n\n  if (this._gfx !== null) { // block double init\n    return true;\n  }\n\n  const self = this;\n  this._showMessage('Viewer is being initialized...');\n  try {\n    this._initGfx();\n\n    this._initListeners();\n    this._spinner = new Spinner({\n      lines: 13,\n      length: 28,\n      width: 14,\n      radius: 42,\n      color: '#fff',\n      zIndex: 700,\n    });\n\n    window.top.addEventListener('keydown', (event) => {\n      self._onKeyDown(event);\n    });\n\n    window.top.addEventListener('keyup', (event) => {\n      self._onKeyUp(event);\n    });\n\n    this._objectControls = new ObjectControls(\n      this._gfx.root, this._gfx.pivot,\n      this._gfx.camera, this._gfx.renderer.domElement, (() => self._getAltObj()),\n    );\n    this._objectControls.addEventListener('change', (e) => {\n      if (settings.now.shadow.on) {\n        self._updateShadowCamera();\n      }\n      // route rotate, zoom, translate and translatePivot events to the external API\n      switch (e.action) {\n        case 'rotate':\n          self.dispatchEvent({ type: 'rotate', quaternion: e.quaternion });\n          break;\n        case 'zoom':\n          self.dispatchEvent({ type: 'zoom', factor: e.factor });\n          break;\n        default:\n          self.dispatchEvent({ type: e.action });\n      }\n      self.dispatchEvent({ type: 'transform' });\n      self._needRender = true;\n    });\n\n    const gfx = this._gfx;\n    this._picker = new Picker(gfx.root, gfx.camera, gfx.renderer.domElement);\n    this._picker.addEventListener('newpick', (event) => {\n      self._onPick(event);\n    });\n    this._picker.addEventListener('dblclick', (event) => {\n      self.center(event);\n    });\n  } catch (error) {\n    if (error.name === 'TypeError' && error.message === 'Cannot read property \\'getExtension\\' of null') {\n      this._showMessage('Could not create WebGL context.');\n    } else if (error.message.search(/webgl/i) > 1) {\n      this._showMessage(error.message);\n    } else {\n      this._showMessage('Viewer initialization failed.');\n      throw error;\n    }\n    return false;\n  }\n\n  // automatically load default file\n  const file = this._opts && this._opts.load;\n  if (file) {\n    const type = this._opts && this._opts.type;\n    this.load(file, { fileType: type, keepRepsInfo: true });\n  }\n\n  return true;\n};\n\n/**\n * Terminate the viewer completely.\n * @see Miew#init\n */\nMiew.prototype.term = function () {\n  this._showMessage('Viewer has been terminated.');\n  this._removeListeners();\n  this._loading.forEach((job) => {\n    job.cancel();\n  });\n  this._loading.length = 0;\n  this.halt();\n  this._gfx = null;\n};\n\n/**\n * Display message inside the viewer container, hiding WebGL canvas.\n * @param {string} msg - Message to show.\n * @private\n */\nMiew.prototype._showMessage = function (msg) {\n  const element = document.createElement('div');\n  element.setAttribute('class', 'miew-message');\n  element.appendChild(document.createElement('p')).appendChild(document.createTextNode(msg));\n  _setContainerContents(this._container, element);\n};\n\n/**\n * Display WebGL canvas inside the viewer container, hiding any message shown.\n * @private\n */\nMiew.prototype._showCanvas = function () {\n  _setContainerContents(this._container, this._gfx.renderer.domElement);\n};\n\nMiew.prototype._requestAnimationFrame = function (callback) {\n  const { xr } = this._gfx.renderer;\n  if (xr && xr.enabled) {\n    this._gfx.renderer.setAnimationLoop(callback);\n    return;\n  }\n  requestAnimationFrame(callback);\n};\n\nfunction arezSpritesSupported(context) {\n  return context.getExtension('EXT_frag_depth');\n}\n\nfunction isAOSupported(context) {\n  return (context.getExtension('WEBGL_depth_texture')\n  && context.getExtension('WEBGL_draw_buffers'));\n}\n\n/**\n * Initialize WebGL and set 3D scene up.\n * @private\n */\nMiew.prototype._initGfx = function () {\n  const gfx = {\n    width: this._container.clientWidth,\n    height: this._container.clientHeight,\n  };\n\n  const webGLOptions = { preserveDrawingBuffer: true, alpha: true, premultipliedAlpha: false };\n  if (settings.now.antialias) {\n    webGLOptions.antialias = true;\n  }\n\n  gfx.renderer2d = new CSS2DRenderer();\n\n  gfx.renderer = new THREE.WebGLRenderer(webGLOptions);\n  gfx.renderer.shadowMap.enabled = settings.now.shadow.on;\n  gfx.renderer.shadowMap.autoUpdate = false;\n  gfx.renderer.shadowMap.type = THREE.PCFShadowMap;\n  capabilities.init(gfx.renderer);\n\n  // z-sprites and ambient occlusion possibility\n  if (!arezSpritesSupported(gfx.renderer.getContext())) {\n    settings.set('zSprites', false);\n  }\n  if (!isAOSupported(gfx.renderer.getContext())) {\n    settings.set('ao', false);\n  }\n\n  gfx.renderer.autoClear = false;\n  gfx.renderer.setPixelRatio(window.devicePixelRatio);\n  gfx.renderer.setSize(gfx.width, gfx.height);\n  gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n  gfx.renderer.clearColor();\n\n  gfx.renderer2d.setSize(gfx.width, gfx.height);\n\n  gfx.camera = new THREE.PerspectiveCamera(\n    settings.now.camFov, gfx.width / gfx.height,\n    settings.now.camNear, settings.now.camFar,\n  );\n  gfx.camera.setMinimalFov(settings.now.camFov);\n  gfx.camera.position.z = settings.now.camDistance;\n  gfx.camera.updateProjectionMatrix();\n  gfx.camera.layers.set(gfxutils.LAYERS.DEFAULT);\n  gfx.camera.layers.enable(gfxutils.LAYERS.VOLUME);\n  gfx.camera.layers.enable(gfxutils.LAYERS.VOLUME_BFPLANE);\n\n  gfx.stereoCam = new THREE.StereoCamera();\n\n  gfx.scene = new THREE.Scene();\n\n  const color = chooseFogColor();\n  gfx.scene.fog = new THREE.Fog(color, settings.now.camNear, settings.now.camFar);\n\n  gfx.root = new gfxutils.RCGroup();\n  gfx.scene.add(gfx.root);\n\n  gfx.pivot = new gfxutils.RCGroup();\n  gfx.root.add(gfx.pivot);\n\n  gfx.selectionScene = new THREE.Scene();\n  gfx.selectionRoot = new THREE.Group();\n  gfx.selectionRoot.matrixAutoUpdate = false;\n  gfx.selectionScene.add(gfx.selectionRoot);\n\n  gfx.selectionPivot = new THREE.Group();\n  gfx.selectionPivot.matrixAutoUpdate = false;\n  gfx.selectionRoot.add(gfx.selectionPivot);\n\n  const light12 = new THREE.DirectionalLight(0xffffff, 0.45);\n  light12.position.set(0, 0.414, 1);\n  light12.layers.enable(gfxutils.LAYERS.TRANSPARENT);\n  light12.castShadow = true;\n  light12.shadow = new THREE.DirectionalLightShadow();\n  light12.shadow.bias = 0.09;\n  light12.shadow.radius = settings.now.shadow.radius;\n  light12.shadow.camera.layers.set(gfxutils.LAYERS.SHADOWMAP);\n\n  const pixelRatio = gfx.renderer.getPixelRatio();\n  const shadowMapSize = Math.max(gfx.width, gfx.height) * pixelRatio;\n  light12.shadow.mapSize.width = shadowMapSize;\n  light12.shadow.mapSize.height = shadowMapSize;\n  light12.target.position.set(0.0, 0.0, 0.0);\n  gfx.scene.add(light12);\n  gfx.scene.add(light12.target);\n\n  const light3 = new THREE.AmbientLight(0x666666);\n  light3.layers.enable(gfxutils.LAYERS.TRANSPARENT);\n  gfx.scene.add(light3);\n\n  // add axes\n  gfx.axes = new Axes(gfx.root, gfx.camera);\n  const deviceWidth = gfx.width * pixelRatio;\n  const deviceHeight = gfx.height * pixelRatio;\n\n  gfx.offscreenBuf = new THREE.WebGLRenderTarget(\n    deviceWidth,\n    deviceHeight,\n    {\n      minFilter: THREE.LinearFilter, magFilter: THREE.NearestFilter, format: THREE.RGBAFormat, depthBuffer: true,\n    },\n  );\n\n  if (gfx.renderer.getContext().getExtension('WEBGL_depth_texture')) {\n    gfx.offscreenBuf.depthTexture = new THREE.DepthTexture();\n    gfx.offscreenBuf.depthTexture.type = THREE.UnsignedShortType;\n  }\n\n  gfx.offscreenBuf2 = new THREE.WebGLRenderTarget(\n    deviceWidth,\n    deviceHeight,\n    {\n      minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBAFormat, depthBuffer: false,\n    },\n  );\n\n  gfx.offscreenBuf3 = new THREE.WebGLRenderTarget(\n    deviceWidth,\n    deviceHeight,\n    {\n      minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBAFormat, depthBuffer: false,\n    },\n  );\n\n  gfx.offscreenBuf4 = new THREE.WebGLRenderTarget(\n    deviceWidth,\n    deviceHeight,\n    {\n      minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBAFormat, depthBuffer: false,\n    },\n  );\n\n  gfx.volBFTex = gfx.offscreenBuf3;\n  gfx.volFFTex = gfx.offscreenBuf4;\n  gfx.volWFFTex = gfx.offscreenBuf;\n\n  // use float textures for volume rendering if possible\n  if (gfx.renderer.getContext().getExtension('OES_texture_float')) {\n    gfx.offscreenBuf5 = new THREE.WebGLRenderTarget(\n      deviceWidth,\n      deviceHeight,\n      {\n        minFilter: THREE.LinearFilter,\n        magFilter: THREE.LinearFilter,\n        format: THREE.RGBAFormat,\n        type: THREE.FloatType,\n        depthBuffer: false,\n      },\n    );\n\n    gfx.offscreenBuf6 = new THREE.WebGLRenderTarget(\n      deviceWidth,\n      deviceHeight,\n      {\n        minFilter: THREE.LinearFilter,\n        magFilter: THREE.LinearFilter,\n        format: THREE.RGBAFormat,\n        type: THREE.FloatType,\n        depthBuffer: false,\n      },\n    );\n\n    gfx.offscreenBuf7 = new THREE.WebGLRenderTarget(\n      deviceWidth,\n      deviceHeight,\n      {\n        minFilter: THREE.LinearFilter,\n        magFilter: THREE.LinearFilter,\n        format: THREE.RGBAFormat,\n        type: THREE.FloatType,\n        depthBuffer: true,\n      },\n    );\n\n    gfx.volBFTex = gfx.offscreenBuf5;\n    gfx.volFFTex = gfx.offscreenBuf6;\n    gfx.volWFFTex = gfx.offscreenBuf7;\n  } else {\n    this.logger.warn('Device doesn\\'t support OES_texture_float extension');\n  }\n\n  gfx.stereoBufL = new THREE.WebGLRenderTarget(\n    deviceWidth,\n    deviceHeight,\n    {\n      minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBAFormat, depthBuffer: false,\n    },\n  );\n\n  gfx.stereoBufR = new THREE.WebGLRenderTarget(\n    deviceWidth,\n    deviceHeight,\n    {\n      minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBAFormat, depthBuffer: false,\n    },\n  );\n\n  this._gfx = gfx;\n  this._showCanvas();\n\n  this._embedWebXR(settings.now.stereo === 'WEBVR');\n\n  this._container.appendChild(gfx.renderer2d.getElement());\n\n  // add FPS counter\n  const stats = new Stats();\n  stats.domElement.style.position = 'absolute';\n  stats.domElement.style.right = '0';\n  stats.domElement.style.bottom = '0';\n  this._container.appendChild(stats.domElement);\n  this._fps = stats;\n  this._fps.show(settings.now.fps);\n};\n\n/**\n * Setup event listeners.\n * @private\n */\nMiew.prototype._initListeners = function () {\n  const self = this;\n  this._resizeEventHandler = () => {\n    self._onResize();\n  };\n  window.addEventListener('resize', this._resizeEventHandler);\n};\n\n/**\n * Remove event listeners.\n * @private\n */\nMiew.prototype._removeListeners = function () {\n  window.removeEventListener('resize', this._resizeEventHandler);\n};\n\n/**\n * Try to add numbers to the base name to make it unique among visuals\n * @private\n */\nMiew.prototype._makeUniqueVisualName = function (baseName) {\n  if (!baseName) {\n    return Math.random().toString();\n  }\n\n  let name = baseName;\n  let suffix = 1;\n  while (this._visuals.hasOwnProperty(name)) {\n    name = `${baseName} (${suffix.toString()})`;\n    suffix++;\n  }\n\n  return name;\n};\n\n/**\n * Add visual to the viewer\n * @private\n */\nMiew.prototype._addVisual = function (visual) {\n  if (!visual) {\n    return null;\n  }\n\n  // change visual name in order to make it unique\n  const name = this._makeUniqueVisualName(visual.name);\n  visual.name = name;\n\n  this._visuals[name] = visual;\n  this._gfx.pivot.add(visual);\n  if (visual.getSelectionGeo) {\n    this._gfx.selectionPivot.add(visual.getSelectionGeo());\n  }\n\n  return name;\n};\n\n/**\n * Remove visual from the viewer\n * @private\n */\nMiew.prototype._removeVisual = function (visual) {\n  let name = '';\n  let obj = null;\n  if (visual instanceof Visual) {\n    ({ name } = visual);\n    obj = visual;\n  } else if (typeof visual === 'string') {\n    name = visual;\n    obj = this._visuals[name];\n  }\n\n  if (!obj || !this._visuals.hasOwnProperty(name) || this._visuals[name] !== obj) {\n    return;\n  }\n\n  if (name === this._curVisualName) {\n    this._curVisualName = undefined;\n  }\n\n  delete this._visuals[name];\n  obj.release(); // removes nodes from scene\n\n  this._needRender = true;\n};\n\n/**\n * Call specified function for each Visual\n * @private\n */\nMiew.prototype._forEachVisual = function (callback) {\n  for (const name in this._visuals) {\n    if (this._visuals.hasOwnProperty(name)) {\n      callback(this._visuals[name]);\n    }\n  }\n};\n\n/**\n * Release (destroy) all visuals in the scene\n * @private\n */\nMiew.prototype._releaseAllVisuals = function () {\n  if (!this._gfx || !this._gfx.pivot) {\n    return;\n  }\n\n  for (const name in this._visuals) {\n    if (this._visuals.hasOwnProperty(name)) {\n      this._visuals[name].release();\n    }\n  }\n\n  this._visuals = {};\n};\n\n/**\n * Call specified function for each ComplexVisual\n * @private\n */\nMiew.prototype._forEachComplexVisual = function (callback) {\n  if (!this._gfx || !this._gfx.pivot) {\n    return;\n  }\n\n  for (const name in this._visuals) {\n    if (this._visuals.hasOwnProperty(name)\n          && this._visuals[name] instanceof ComplexVisual) {\n      callback(this._visuals[name]);\n    }\n  }\n};\n\n/**\n * Returns ComplexVisual with specified name, or current (if not found), or any, or null\n * @private\n */\nMiew.prototype._getComplexVisual = function (name) {\n  name = name || this._curVisualName;\n  let any = null;\n  let named = null;\n  this._forEachComplexVisual((visual) => {\n    any = visual;\n    if (visual.name === name) {\n      named = visual;\n    }\n  });\n  return named || any;\n};\n\n/**\n * Returns first found VolumeVisual (no more than one should be present actually)\n * @private\n */\nMiew.prototype._getVolumeVisual = function () {\n  let any = null;\n  this._forEachVisual((visual) => {\n    if (visual instanceof VolumeVisual) {\n      any = visual;\n    }\n  });\n  return any;\n};\n\n/**\n * Returns ComplexVisual corresponding to specified complex\n * @private\n */\nMiew.prototype._getVisualForComplex = function (complex) {\n  if (!complex) {\n    return null;\n  }\n\n  let found = null;\n  this._forEachComplexVisual((visual) => {\n    if (visual.getComplex() === complex) {\n      found = visual;\n    }\n  });\n  return found;\n};\n\n/*\n   * Get a list of names of visuals currently shown by the viewer\n   */\nMiew.prototype.getVisuals = function () {\n  return Object.keys(this._visuals);\n};\n\n/*\n   * Get complex visuals count\n   */\nMiew.prototype.getComplexVisualsCount = function () {\n  let count = 0;\n  this._forEachComplexVisual(() => count++);\n  return count;\n};\n\n/*\n   * Get current visual\n   */\nMiew.prototype.getCurrentVisual = function () {\n  return this._curVisualName;\n};\n\n/*\n   * Set current visual.\n   * All further operations will be performed on this visual (complex) if not stated otherwise.\n   */\nMiew.prototype.setCurrentVisual = function (name) {\n  if (!this._visuals[name]) {\n    return;\n  }\n\n  this._curVisualName = name;\n};\n\n/**\n * Run the viewer, start processing update/render frames periodically.\n * Has no effect if already running.\n * @see Miew#halt\n */\nMiew.prototype.run = function () {\n  if (!this._running) {\n    this._running = true;\n    if (this._halting) {\n      this._halting = false;\n      return;\n    }\n\n    this._objectControls.enable(true);\n    this._interpolator.resume();\n\n    this._requestAnimationFrame(() => this._onTick());\n  }\n};\n\n/**\n * Request the viewer to stop.\n * Will be processed during the next frame.\n * @see Miew#run\n */\nMiew.prototype.halt = function () {\n  if (this._running) {\n    this._discardComponentEdit();\n    this._discardFragmentEdit();\n    this._objectControls.enable(false);\n    this._interpolator.pause();\n    this._halting = true;\n  }\n};\n\n/**\n * Request the viewer to start / stop responsing\n * on hot keys.\n * @param enabled - start (true) or stop (false) response on hot keys.\n */\nMiew.prototype.enableHotKeys = function (enabled) {\n  this._hotKeysEnabled = enabled;\n  this._objectControls.enableHotkeys(enabled);\n};\n\n/**\n * Callback which processes window resize.\n * @private\n */\nMiew.prototype._onResize = function () {\n  this._needRender = true;\n\n  const gfx = this._gfx;\n  gfx.width = this._container.clientWidth;\n  gfx.height = this._container.clientHeight;\n\n  gfx.camera.aspect = gfx.width / gfx.height;\n  gfx.camera.setMinimalFov(settings.now.camFov);\n  gfx.camera.updateProjectionMatrix();\n\n  gfx.renderer.setSize(gfx.width, gfx.height);\n  gfx.renderer2d.setSize(gfx.width, gfx.height);\n\n  this.dispatchEvent({ type: 'resize' });\n};\n\nMiew.prototype._resizeOffscreenBuffers = function (width, height, stereo) {\n  const gfx = this._gfx;\n  stereo = stereo || 'NONE';\n  const isAnaglyph = (stereo === 'NONE' || stereo === 'ANAGLYPH');\n  const multi = isAnaglyph ? 1 : 0.5;\n  gfx.offscreenBuf.setSize(multi * width, height);\n  gfx.offscreenBuf2.setSize(multi * width, height);\n  gfx.offscreenBuf3.setSize(multi * width, height);\n  gfx.offscreenBuf4.setSize(multi * width, height);\n  if (gfx.offscreenBuf5) {\n    gfx.offscreenBuf5.setSize(multi * width, height);\n  }\n  if (gfx.offscreenBuf6) {\n    gfx.offscreenBuf6.setSize(multi * width, height);\n  }\n  if (gfx.offscreenBuf7) {\n    gfx.offscreenBuf7.setSize(multi * width, height);\n  }\n  if (isAnaglyph) {\n    gfx.stereoBufL.setSize(width, height);\n    gfx.stereoBufR.setSize(width, height);\n  }\n};\n\n/**\n * Callback which processes update/render frames.\n * @private\n */\nMiew.prototype._onTick = function () {\n  if (this._halting) {\n    this._running = false;\n    this._halting = false;\n    return;\n  }\n\n  this._fps.update();\n\n  this._requestAnimationFrame(() => this._onTick());\n\n  this._onUpdate();\n  if (this._needRender) {\n    this._onRender();\n    this._needRender = !settings.now.suspendRender || settings.now.stereo === 'WEBVR';\n  }\n};\n\nMiew.prototype._getBSphereRadius = function () {\n  // calculate radius that would include all visuals\n  let radius = 0;\n  this._forEachVisual((visual) => {\n    radius = Math.max(radius, visual.getBoundaries().boundingSphere.radius);\n  });\n  return radius * this._objectControls.getScale();\n};\n\n/**\n * Calculate bounding box that would include all visuals and being axis aligned in world defined by\n * transformation matrix: matrix\n * @param {Matrix4} matrix - transformation matrix.\n * @param {object}  OBB           - calculating bounding box.\n * @param {Vector3} OBB.center    - OBB center.\n * @param {Vector3} OBB.halfSize  - half magnitude of OBB sizes.\n */\nMiew.prototype.getOBB = (function () {\n  const _bSphereForOneVisual = new THREE.Sphere();\n  const _bBoxForOneVisual = new THREE.Box3();\n  const _bBox = new THREE.Box3();\n\n  const _invMatrix = new THREE.Matrix4();\n\n  const _points = [\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n  ];\n\n  return function (matrix, OBB) {\n    _bBox.makeEmpty();\n\n    this._forEachVisual((visual) => {\n      _bSphereForOneVisual.copy(visual.getBoundaries().boundingSphere);\n      _bSphereForOneVisual.applyMatrix4(visual.matrixWorld).applyMatrix4(matrix);\n      _bSphereForOneVisual.getBoundingBox(_bBoxForOneVisual);\n      _bBox.union(_bBoxForOneVisual);\n    });\n    _bBox.getCenter(OBB.center);\n\n    _invMatrix.getInverse(matrix);\n    OBB.center.applyMatrix4(_invMatrix);\n\n    const { min } = _bBox;\n    const { max } = _bBox;\n    _points[0].set(min.x, min.y, min.z); // 000\n    _points[1].set(max.x, min.y, min.z); // 100\n    _points[2].set(min.x, max.y, min.z); // 010\n    _points[3].set(min.x, min.y, max.z); // 001\n    for (let i = 0, l = _points.length; i < l; i++) {\n      _points[i].applyMatrix4(_invMatrix);\n    }\n\n    OBB.halfSize.set(\n      Math.abs(_points[0].x - _points[1].x),\n      Math.abs(_points[0].y - _points[2].y),\n      Math.abs(_points[0].z - _points[3].z),\n    ).multiplyScalar(0.5);\n  };\n}());\n\nMiew.prototype._updateFog = function () {\n  const gfx = this._gfx;\n\n  if (settings.now.fog) {\n    if (typeof gfx.scene.fog === 'undefined' || gfx.scene.fog === null) {\n      const color = chooseFogColor();\n      gfx.scene.fog = new THREE.Fog(color);\n      this._setUberMaterialValues({ fog: settings.now.fog });\n    }\n    updateFogRange(gfx.scene.fog, gfx.camera.position.z, this._getBSphereRadius());\n  } else if (gfx.scene.fog) {\n    gfx.scene.fog = undefined;\n    this._setUberMaterialValues({ fog: settings.now.fog });\n  }\n};\n\nMiew.prototype._onUpdate = function () {\n  if (this.isScriptingCommandAvailable !== undefined && this.isScriptingCommandAvailable() && !this._building) {\n    this.callNextCmd();\n  }\n\n  this._objectControls.update();\n\n  this._forEachComplexVisual((visual) => {\n    visual.getComplex().update();\n  });\n\n  if (settings.now.autobuild && !this._loading.length && !this._building && this._needRebuild()) {\n    this.rebuild();\n  }\n\n  if (!this._loading.length && !this._building && !this._needRebuild()) {\n    this._updateView();\n  }\n\n  this._updateFog();\n\n  if (this._gfx.renderer.xr.enabled) {\n    this.webVR.updateMoleculeScale();\n  }\n};\n\nMiew.prototype._onRender = function () {\n  const gfx = this._gfx;\n\n  // update all matrices\n  gfx.scene.updateMatrixWorld();\n  gfx.camera.updateMatrixWorld();\n\n  this._clipPlaneUpdateValue(this._getBSphereRadius());\n  this._fogFarUpdateValue();\n\n  gfx.renderer.setRenderTarget(null);\n  gfx.renderer.clear();\n\n  this._renderFrame(settings.now.stereo);\n};\n\nMiew.prototype._renderFrame = (function () {\n  const _anaglyphMat = new AnaglyphMaterial();\n  const _size = new THREE.Vector2();\n\n  return function (stereo) {\n    const gfx = this._gfx;\n    const { renderer } = gfx;\n\n    renderer.getSize(_size);\n\n    if (stereo !== 'NONE') {\n      gfx.camera.focus = gfx.camera.position.z; // set focus to the center of the object\n      gfx.stereoCam.aspect = 1.0;\n\n      // in anaglyph mode we render full-size image for each eye\n      // while in other stereo modes only half-size (two images on the screen)\n      if (stereo === 'ANAGLYPH') {\n        gfx.stereoCam.update(gfx.camera);\n      } else {\n        gfx.stereoCam.updateHalfSized(gfx.camera, settings.now.camFov);\n      }\n    }\n\n    // resize offscreen buffers to match the target\n    const pixelRatio = gfx.renderer.getPixelRatio();\n    this._resizeOffscreenBuffers(_size.width * pixelRatio, _size.height * pixelRatio, stereo);\n\n    this._renderShadowMap();\n\n    switch (stereo) {\n      case 'WEBVR':\n      case 'NONE':\n        this._renderScene(gfx.camera, false);\n        break;\n      case 'SIMPLE':\n      case 'DISTORTED':\n        renderer.setScissorTest(true);\n\n        renderer.setScissor(0, 0, _size.width / 2, _size.height);\n        renderer.setViewport(0, 0, _size.width / 2, _size.height);\n        this._renderScene(this._gfx.stereoCam.cameraL, stereo === 'DISTORTED');\n\n        renderer.setScissor(_size.width / 2, 0, _size.width / 2, _size.height);\n        renderer.setViewport(_size.width / 2, 0, _size.width / 2, _size.height);\n        this._renderScene(this._gfx.stereoCam.cameraR, stereo === 'DISTORTED');\n\n        renderer.setScissorTest(false);\n        break;\n      case 'ANAGLYPH':\n        this._renderScene(this._gfx.stereoCam.cameraL, false, gfx.stereoBufL);\n        this._renderScene(this._gfx.stereoCam.cameraR, false, gfx.stereoBufR);\n        renderer.setRenderTarget(null);\n        _anaglyphMat.uniforms.srcL.value = gfx.stereoBufL.texture;\n        _anaglyphMat.uniforms.srcR.value = gfx.stereoBufR.texture;\n        gfx.renderer.renderScreenQuad(_anaglyphMat);\n        break;\n      default:\n    }\n\n    gfx.renderer2d.render(gfx.scene, gfx.camera);\n\n    if (settings.now.axes && gfx.axes && !gfx.renderer.xr.enabled) {\n      gfx.axes.render(renderer);\n    }\n  };\n}());\n\nMiew.prototype._onBgColorChanged = function () {\n  const gfx = this._gfx;\n  const color = chooseFogColor();\n  if (gfx) {\n    if (gfx.scene.fog) {\n      gfx.scene.fog.color.set(color);\n    }\n    gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n  }\n  this._needRender = true;\n};\n\nMiew.prototype._onFogColorChanged = function () {\n  const gfx = this._gfx;\n  const color = chooseFogColor();\n  if (gfx && gfx.scene.fog) {\n    gfx.scene.fog.color.set(color);\n  }\n  this._needRender = true;\n};\n\nMiew.prototype._setUberMaterialValues = function (values) {\n  this._gfx.root.traverse((obj) => {\n    if ((obj instanceof THREE.Mesh || obj instanceof THREE.LineSegments || obj instanceof THREE.Line)\n        && obj.material instanceof UberMaterial) {\n      obj.material.setValues(values);\n      obj.material.needsUpdate = true;\n    }\n  });\n};\n\nMiew.prototype._enableMRT = function (on, renderBuffer, textureBuffer) {\n  const gfx = this._gfx;\n  const gl = gfx.renderer.getContext();\n  const ext = gl.getExtension('WEBGL_draw_buffers');\n  const { properties } = gfx.renderer;\n\n  if (!on) {\n    ext.drawBuffersWEBGL([gl.COLOR_ATTACHMENT0, null]);\n    return;\n  }\n\n  // take extra texture from Texture Buffer\n  gfx.renderer.setRenderTarget(textureBuffer);\n  const tx8 = properties.get(textureBuffer.texture).__webglTexture;\n  gl.bindTexture(gl.TEXTURE_2D, tx8);\n\n  // take texture and framebuffer from renderbuffer\n  gfx.renderer.setRenderTarget(renderBuffer);\n  const fb = properties.get(renderBuffer).__webglFramebuffer;\n  const tx = properties.get(renderBuffer.texture).__webglTexture;\n\n  // set framebuffer\n  gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n  fb.width = renderBuffer.width;\n  fb.height = renderBuffer.height;\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, tx, 0);\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, ext.COLOR_ATTACHMENT1_WEBGL, gl.TEXTURE_2D, tx8, 0);\n\n  // mapping textures\n  ext.drawBuffersWEBGL([gl.COLOR_ATTACHMENT0, ext.COLOR_ATTACHMENT1_WEBGL]);\n};\n\nMiew.prototype._renderScene = (function () {\n  return function (camera, distortion, target) {\n    distortion = distortion || false;\n    target = target || null;\n\n    const gfx = this._gfx;\n\n    // render to offscreen buffer\n    gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n    gfx.renderer.setRenderTarget(target);\n    gfx.renderer.clear();\n    if (gfx.renderer.xr.enabled) {\n      gfx.renderer.render(gfx.scene, camera);\n      return;\n    }\n\n    // clean buffer for normals texture\n    gfx.renderer.setClearColor(0x000000, 0.0);\n    gfx.renderer.setRenderTarget(gfx.offscreenBuf4);\n    gfx.renderer.clearColor();\n\n    gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n    gfx.renderer.setRenderTarget(gfx.offscreenBuf);\n    gfx.renderer.clear();\n\n    const bHaveComplexes = (this._getComplexVisual() !== null);\n    const volumeVisual = this._getVolumeVisual();\n    const ssao = bHaveComplexes && settings.now.ao;\n\n    if (ssao) {\n      this._enableMRT(true, gfx.offscreenBuf, gfx.offscreenBuf4);\n    }\n\n    if (settings.now.transparency === 'prepass') {\n      this._renderWithPrepassTransparency(camera, gfx.offscreenBuf);\n    } else if (settings.now.transparency === 'standard') {\n      gfx.renderer.setRenderTarget(gfx.offscreenBuf);\n      gfx.renderer.render(gfx.scene, camera);\n    }\n\n    if (ssao) {\n      this._enableMRT(false, null, null);\n    }\n\n    // when fxaa we should get resulting image in temp off-screen buff2 for further postprocessing with fxaa filter\n    // otherwise we render to canvas\n    const outline = bHaveComplexes && settings.now.outline.on;\n    const fxaa = bHaveComplexes && settings.now.fxaa;\n    const volume = (volumeVisual !== null) && (volumeVisual.getMesh().material != null);\n    let dstBuffer = (ssao || outline || volume || fxaa || distortion) ? gfx.offscreenBuf2 : target;\n    let srcBuffer = gfx.offscreenBuf;\n\n    if (ssao) {\n      this._performAO(\n        srcBuffer,\n        gfx.offscreenBuf4,\n        gfx.offscreenBuf.depthTexture,\n        dstBuffer,\n        gfx.offscreenBuf3,\n        gfx.offscreenBuf2,\n      );\n      if (!fxaa && !distortion && !volume && !outline) {\n        srcBuffer = dstBuffer;\n        dstBuffer = target;\n        gfx.renderer.setRenderTarget(dstBuffer);\n        gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 1.0);\n      }\n    } else {\n      // just copy color buffer to dst buffer\n      gfx.renderer.setRenderTarget(dstBuffer);\n      gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 1.0);\n    }\n\n    // outline\n    if (outline) {\n      srcBuffer = dstBuffer;\n      dstBuffer = (volume || fxaa || distortion) ? gfx.offscreenBuf3 : target;\n      if (srcBuffer != null) {\n        this._renderOutline(camera, gfx.offscreenBuf, srcBuffer, dstBuffer);\n      }\n    }\n\n    // render selected part with outline material\n    this._renderSelection(camera, gfx.offscreenBuf, dstBuffer);\n\n    if (volume) {\n      // copy current picture to the buffer that retains depth-data of the original molecule render\n      // so that volume renderer could use depth-test\n      gfx.renderer.setRenderTarget(gfx.offscreenBuf);\n      gfx.renderer.renderScreenQuadFromTex(dstBuffer.texture, 1.0);\n      dstBuffer = gfx.offscreenBuf;\n      this._renderVolume(volumeVisual, camera, dstBuffer, gfx.volBFTex, gfx.volFFTex, gfx.volWFFTex);\n\n      // if this is the last stage -- copy image to target\n      if (!fxaa && !distortion) {\n        gfx.renderer.setRenderTarget(target);\n        gfx.renderer.renderScreenQuadFromTex(dstBuffer.texture, 1.0);\n      }\n    }\n\n    srcBuffer = dstBuffer;\n\n    if (fxaa) {\n      dstBuffer = distortion ? gfx.offscreenBuf4 : target;\n      this._performFXAA(srcBuffer, dstBuffer);\n      srcBuffer = dstBuffer;\n    }\n\n    if (distortion) {\n      dstBuffer = target;\n      this._performDistortion(srcBuffer, dstBuffer, true);\n    }\n  };\n}());\n\nMiew.prototype._performDistortion = (function () {\n  const _scene = new THREE.Scene();\n  const _camera = new THREE.OrthographicCamera(-1.0, 1.0, 1.0, -1.0, -500, 1000);\n\n  const _material = new THREE.RawShaderMaterial({\n    uniforms: {\n      srcTex: { type: 't', value: null },\n      aberration: { type: 'fv3', value: new THREE.Vector3(1.0) },\n    },\n    vertexShader: vertexScreenQuadShader,\n    fragmentShader: fragmentScreenQuadFromDistTex,\n    transparent: false,\n    depthTest: false,\n    depthWrite: false,\n  });\n\n  const _geo = gfxutils.buildDistorionMesh(10, 10, settings.now.debug.stereoBarrel);\n  _scene.add(new meshes.Mesh(_geo, _material));\n\n  return function (srcBuffer, targetBuffer, mesh) {\n    this._gfx.renderer.setRenderTarget(targetBuffer);\n    this._gfx.renderer.clear();\n\n    if (mesh) {\n      _material.uniforms.srcTex.value = srcBuffer.texture;\n      _material.uniforms.aberration.value.set(0.995, 1.0, 1.01);\n      this._gfx.renderer.render(_scene, _camera);\n    } else {\n      this._gfx.renderer.renderScreenQuadFromTexWithDistortion(srcBuffer, settings.now.debug.stereoBarrel);\n    }\n  };\n}());\n\nMiew.prototype._renderOutline = (function () {\n  const _outlineMaterial = new OutlineMaterial({ depth: true });\n\n  return function (camera, srcDepthBuffer, srcColorBuffer, targetBuffer) {\n    const self = this;\n    const gfx = self._gfx;\n\n    // apply Sobel filter -- draw outline\n    _outlineMaterial.uniforms.srcTex.value = srcColorBuffer.texture;\n    _outlineMaterial.uniforms.srcDepthTex.value = srcDepthBuffer.depthTexture;\n    _outlineMaterial.uniforms.srcTexSize.value.set(srcDepthBuffer.width, srcDepthBuffer.height);\n    _outlineMaterial.uniforms.color.value = new THREE.Color(settings.now.outline.color);\n    _outlineMaterial.uniforms.threshold.value = settings.now.outline.threshold;\n    _outlineMaterial.uniforms.thickness.value = new THREE.Vector2(\n      settings.now.outline.thickness,\n      settings.now.outline.thickness,\n    );\n\n    gfx.renderer.setRenderTarget(targetBuffer);\n    gfx.renderer.renderScreenQuad(_outlineMaterial);\n  };\n}());\n\nMiew.prototype._renderShadowMap = (function () {\n  const pars = { minFilter: THREE.NearestFilter, magFilter: THREE.NearestFilter, format: THREE.RGBAFormat };\n\n  return function () {\n    if (!settings.now.shadow.on) {\n      return;\n    }\n\n    const gfx = this._gfx;\n    const currentRenderTarget = gfx.renderer.getRenderTarget();\n    const activeCubeFace = gfx.renderer.getActiveCubeFace();\n    const activeMipmapLevel = gfx.renderer.getActiveMipmapLevel();\n\n    const _state = gfx.renderer.state;\n\n    // Set GL state for depth map.\n    _state.setBlending(THREE.NoBlending);\n    _state.buffers.color.setClear(1, 1, 1, 1);\n    _state.buffers.depth.setTest(true);\n    _state.setScissorTest(false);\n\n    for (let i = 0; i < gfx.scene.children.length; i++) {\n      if (gfx.scene.children[i].type === 'DirectionalLight') {\n        const light = gfx.scene.children[i];\n\n        if (light.shadow.map == null) {\n          light.shadow.map = new THREE.WebGLRenderTarget(light.shadow.mapSize.width, light.shadow.mapSize.height, pars);\n          light.shadow.camera.updateProjectionMatrix();\n        }\n        light.shadow.updateMatrices(light);\n\n        gfx.renderer.setRenderTarget(light.shadow.map);\n        gfx.renderer.clear();\n\n        gfx.renderer.render(gfx.scene, light.shadow.camera);\n      }\n    }\n    gfx.renderer.setRenderTarget(currentRenderTarget, activeCubeFace, activeMipmapLevel);\n  };\n}());\n\n/**\n * Check if there is selection which must be rendered or not.\n * @private\n * @returns {boolean} true on existing selection to render\n */\nMiew.prototype._hasSelectionToRender = function () {\n  const selPivot = this._gfx.selectionPivot;\n\n  for (let i = 0; i < selPivot.children.length; i++) {\n    const selPivotChild = selPivot.children[i];\n    if (selPivotChild.children.length > 0) {\n      return true;\n    }\n  }\n  return false;\n};\n\nMiew.prototype._renderSelection = (function () {\n  const _outlineMaterial = new OutlineMaterial();\n\n  return function (camera, srcBuffer, targetBuffer) {\n    const self = this;\n    const gfx = self._gfx;\n\n    // clear offscreen buffer (leave z-buffer intact)\n    gfx.renderer.setClearColor('black', 0);\n\n    // render selection to offscreen buffer\n    gfx.renderer.setRenderTarget(srcBuffer);\n    gfx.renderer.clear(true, false, false);\n    if (self._hasSelectionToRender()) {\n      gfx.selectionRoot.matrix = gfx.root.matrix;\n      gfx.selectionPivot.matrix = gfx.pivot.matrix;\n      gfx.renderer.render(gfx.selectionScene, camera);\n    } else {\n      // just render something to force \"target clear\" operation to finish\n      gfx.renderer.renderDummyQuad();\n    }\n\n    // overlay to screen\n    gfx.renderer.setRenderTarget(targetBuffer);\n    gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 0.6);\n\n    // apply Sobel filter -- draw outline\n    _outlineMaterial.uniforms.srcTex.value = srcBuffer.texture;\n    _outlineMaterial.uniforms.srcTexSize.value.set(srcBuffer.width, srcBuffer.height);\n    gfx.renderer.renderScreenQuad(_outlineMaterial);\n  };\n}());\n\nMiew.prototype._checkVolumeRenderingSupport = function (renderTarget) {\n  if (!renderTarget) {\n    return false;\n  }\n  const gfx = this._gfx;\n  const oldRT = gfx.renderer.getRenderTarget();\n\n  gfx.renderer.setRenderTarget(renderTarget);\n  const context = gfx.renderer.getContext();\n  const result = context.checkFramebufferStatus(context.FRAMEBUFFER);\n  gfx.renderer.setRenderTarget(oldRT);\n  if (result !== context.FRAMEBUFFER_COMPLETE) {\n    // floatFrameBufferWarning = ;\n    this.logger.warn('Device doesn\\'t support electron density rendering');\n    return false;\n  }\n  return true;\n};\n\nMiew.prototype._renderVolume = (function () {\n  const volumeBFMat = new VolumeMaterial.BackFacePosMaterial();\n  const volumeFFMat = new VolumeMaterial.FrontFacePosMaterial();\n  const cubeOffsetMat = new THREE.Matrix4().makeTranslation(0.5, 0.5, 0.5);\n  const world2colorMat = new THREE.Matrix4();\n\n  let volumeRenderingSupported;\n\n  return function (volumeVisual, camera, dstBuf, tmpBuf1, tmpBuf2, tmpBuf3) {\n    const gfx = this._gfx;\n\n    if (typeof volumeRenderingSupported === 'undefined') {\n      volumeRenderingSupported = this._checkVolumeRenderingSupport(tmpBuf1);\n    }\n\n    if (!volumeRenderingSupported) {\n      return;\n    }\n\n    const mesh = volumeVisual.getMesh();\n\n    mesh.rebuild(gfx.camera);\n\n    // use main camera to prepare special textures to be used by volumetric rendering\n    // these textures have the size of the window and are stored in offscreen buffers\n    gfx.renderer.setClearColor('black', 0);\n    gfx.renderer.setRenderTarget(tmpBuf1);\n    gfx.renderer.clear();\n    gfx.renderer.setRenderTarget(tmpBuf2);\n    gfx.renderer.clear();\n    gfx.renderer.setRenderTarget(tmpBuf3);\n    gfx.renderer.clear();\n\n    gfx.renderer.setRenderTarget(tmpBuf1);\n    // draw plane with its own material, because it differs slightly from volumeBFMat\n    camera.layers.set(gfxutils.LAYERS.VOLUME_BFPLANE);\n    gfx.renderer.render(gfx.scene, camera);\n\n    camera.layers.set(gfxutils.LAYERS.VOLUME);\n    gfx.scene.overrideMaterial = volumeBFMat;\n    gfx.renderer.render(gfx.scene, camera);\n\n    gfx.renderer.setRenderTarget(tmpBuf2);\n    camera.layers.set(gfxutils.LAYERS.VOLUME);\n    gfx.scene.overrideMaterial = volumeFFMat;\n    gfx.renderer.render(gfx.scene, camera);\n\n    gfx.scene.overrideMaterial = null;\n    camera.layers.set(gfxutils.LAYERS.DEFAULT);\n\n    // prepare texture that contains molecule positions\n    world2colorMat.getInverse(mesh.matrixWorld);\n    UberMaterial.prototype.uberOptions.world2colorMatrix.multiplyMatrices(cubeOffsetMat, world2colorMat);\n    camera.layers.set(gfxutils.LAYERS.COLOR_FROM_POSITION);\n    gfx.renderer.setRenderTarget(tmpBuf3);\n    gfx.renderer.render(gfx.scene, camera);\n\n    // render volume\n    const vm = mesh.material;\n    vm.uniforms._BFRight.value = tmpBuf1.texture;\n    vm.uniforms._FFRight.value = tmpBuf2.texture;\n    vm.uniforms._WFFRight.value = tmpBuf3.texture;\n    camera.layers.set(gfxutils.LAYERS.VOLUME);\n    gfx.renderer.setRenderTarget(dstBuf);\n    gfx.renderer.render(gfx.scene, camera);\n    camera.layers.set(gfxutils.LAYERS.DEFAULT);\n  };\n}());\n\n/*  Render scene with 'ZPrepass transparency Effect'\n   * Idea: transparent objects are rendered in two passes. The first one writes result only into depth buffer.\n   * The second pass reads depth buffer and writes only to color buffer. The method results in\n   * correct image of front part of the semi-transparent objects, but we can see only front transparent objects\n   * and opaque objects inside, there is no transparent objects inside.\n   * Notes: 1. Opaque objects should be rendered strictly before semi-transparent ones.\n   * 2. Realization doesn't use camera layers because scene traversing is used for material changes and\n   * we can use it to select needed meshes and don't complicate meshes builders with layers\n  */\nMiew.prototype._renderWithPrepassTransparency = (function () {\n  return function (camera, targetBuffer) {\n    const gfx = this._gfx;\n    gfx.renderer.setRenderTarget(targetBuffer);\n\n    // opaque objects\n    camera.layers.set(gfxutils.LAYERS.DEFAULT);\n    gfx.renderer.render(gfx.scene, camera);\n\n    // transparent objects z prepass\n    camera.layers.set(gfxutils.LAYERS.PREPASS_TRANSPARENT);\n    gfx.renderer.getContext().colorMask(false, false, false, false); // don't update color buffer\n    gfx.renderer.render(gfx.scene, camera);\n    gfx.renderer.getContext().colorMask(true, true, true, true); // update color buffer\n\n    // transparent objects color pass\n    camera.layers.set(gfxutils.LAYERS.TRANSPARENT);\n    gfx.renderer.render(gfx.scene, camera);\n\n    // restore default layer\n    camera.layers.set(gfxutils.LAYERS.DEFAULT);\n  };\n}());\n\nMiew.prototype._performFXAA = (function () {\n  const _fxaaMaterial = new FXAAMaterial();\n\n  return function (srcBuffer, targetBuffer) {\n    if (typeof srcBuffer === 'undefined' || typeof targetBuffer === 'undefined') {\n      return;\n    }\n\n    const gfx = this._gfx;\n\n    // clear canvas\n    gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n    gfx.renderer.setRenderTarget(targetBuffer);\n    gfx.renderer.clear();\n\n    // do fxaa processing of offscreen buff2\n    _fxaaMaterial.uniforms.srcTex.value = srcBuffer.texture;\n    _fxaaMaterial.uniforms.srcTexelSize.value.set(1.0 / srcBuffer.width, 1.0 / srcBuffer.height);\n    _fxaaMaterial.uniforms.bgColor.value.set(settings.now.bg.color);\n\n    if (_fxaaMaterial.bgTransparent !== settings.now.bg.transparent) {\n      _fxaaMaterial.setValues({ bgTransparent: settings.now.bg.transparent });\n      _fxaaMaterial.needsUpdate = true;\n    }\n    gfx.renderer.renderScreenQuad(_fxaaMaterial);\n  };\n}());\n\nMiew.prototype._performAO = (function () {\n  const _aoMaterial = new AOMaterial();\n  const _horBlurMaterial = new AOHorBlurMaterial();\n  const _vertBlurMaterial = new AOVertBlurWithBlendMaterial();\n\n  const _scale = new THREE.Vector3();\n  return function (srcColorBuffer, normalBuffer, srcDepthTexture, targetBuffer, tempBuffer, tempBuffer1) {\n    if (!srcColorBuffer || !normalBuffer || !srcDepthTexture || !targetBuffer || !tempBuffer || !tempBuffer1) {\n      return;\n    }\n    const gfx = this._gfx;\n    const tanHalfFOV = Math.tan(THREE.Math.DEG2RAD * 0.5 * gfx.camera.fov);\n\n    _aoMaterial.uniforms.diffuseTexture.value = srcColorBuffer.texture;\n    _aoMaterial.uniforms.depthTexture.value = srcDepthTexture;\n    _aoMaterial.uniforms.normalTexture.value = normalBuffer.texture;\n    _aoMaterial.uniforms.srcTexelSize.value.set(1.0 / srcColorBuffer.width, 1.0 / srcColorBuffer.height);\n    _aoMaterial.uniforms.camNearFar.value.set(gfx.camera.near, gfx.camera.far);\n    _aoMaterial.uniforms.projMatrix.value = gfx.camera.projectionMatrix;\n    _aoMaterial.uniforms.aspectRatio.value = gfx.camera.aspect;\n    _aoMaterial.uniforms.tanHalfFOV.value = tanHalfFOV;\n    gfx.root.matrix.extractScale(_scale);\n    _aoMaterial.uniforms.kernelRadius.value = settings.now.debug.ssaoKernelRadius * _scale.x;\n    _aoMaterial.uniforms.depthThreshold.value = 2.0 * this._getBSphereRadius(); // diameter\n    _aoMaterial.uniforms.factor.value = settings.now.debug.ssaoFactor;\n    // N: should be tempBuffer1 for proper use of buffers (see buffers using outside the function)\n    gfx.renderer.setRenderTarget(tempBuffer1);\n    gfx.renderer.renderScreenQuad(_aoMaterial);\n\n    _horBlurMaterial.uniforms.aoMap.value = tempBuffer1.texture;\n    _horBlurMaterial.uniforms.srcTexelSize.value.set(1.0 / tempBuffer1.width, 1.0 / tempBuffer1.height);\n    _horBlurMaterial.uniforms.depthTexture.value = srcDepthTexture;\n    gfx.renderer.setRenderTarget(tempBuffer);\n    gfx.renderer.renderScreenQuad(_horBlurMaterial);\n\n    _vertBlurMaterial.uniforms.aoMap.value = tempBuffer.texture;\n    _vertBlurMaterial.uniforms.diffuseTexture.value = srcColorBuffer.texture;\n    _vertBlurMaterial.uniforms.srcTexelSize.value.set(1.0 / tempBuffer.width, 1.0 / tempBuffer.height);\n    _vertBlurMaterial.uniforms.depthTexture.value = srcDepthTexture;\n    _vertBlurMaterial.uniforms.projMatrix.value = gfx.camera.projectionMatrix;\n    _vertBlurMaterial.uniforms.aspectRatio.value = gfx.camera.aspect;\n    _vertBlurMaterial.uniforms.tanHalfFOV.value = tanHalfFOV;\n    const { fog } = gfx.scene;\n    if (fog) {\n      _vertBlurMaterial.uniforms.fogNearFar.value.set(fog.near, fog.far);\n      _vertBlurMaterial.uniforms.fogColor.value.set(fog.color.r, fog.color.g, fog.color.b, settings.now.fogAlpha);\n    }\n    if ((_vertBlurMaterial.useFog !== settings.now.fog)\n      || (_vertBlurMaterial.fogTransparent !== settings.now.bg.transparent)) {\n      _vertBlurMaterial.setValues({ useFog: settings.now.fog, fogTransparent: settings.now.bg.transparent });\n      _vertBlurMaterial.needsUpdate = true;\n    }\n    gfx.renderer.setRenderTarget(targetBuffer);\n    gfx.renderer.renderScreenQuad(_vertBlurMaterial);\n  };\n}());\n\n/**\n * Reset the viewer, unload molecules.\n * @param {boolean=} keepReps - Keep representations while resetting viewer state.\n */\nMiew.prototype.reset = function (/* keepReps */) {\n  if (this._picker) {\n    this._picker.reset();\n  }\n  this._lastPick = null;\n\n  this._releaseAllVisuals();\n\n  this._setEditMode(EDIT_MODE.COMPLEX);\n\n  this._resetObjects();\n\n  if (this._gfx) {\n    gfxutils.clearTree(this._gfx.pivot);\n    this._gfx.renderer2d.reset();\n  }\n\n  this.setNeedRender();\n};\n\nMiew.prototype._resetScene = function () {\n  this._objectControls.reset();\n  this._objectControls.allowTranslation(true);\n  this._objectControls.allowAltObjFreeRotation(true);\n  this.resetReps();\n  this.resetPivot();\n  this.rebuildAll();\n};\n\nMiew.prototype.resetView = function () {\n  // reset controls\n  if (this._picker) {\n    this._picker.reset();\n  }\n  this._setEditMode(EDIT_MODE.COMPLEX);\n  this._resetScene();\n\n  // reset selection\n  this._forEachComplexVisual((visual) => {\n    visual.updateSelectionMask({});\n    visual.rebuildSelectionGeometry();\n  });\n};\n\nMiew.prototype._export = function (format) {\n  const TheExporter = _.head(io.exporters.find({ format }));\n  if (!TheExporter) {\n    this.logger.error('Could not find suitable exporter for this source');\n    return Promise.reject(new Error('Could not find suitable exporter for this source'));\n  }\n  this.dispatchEvent({ type: 'exporting' });\n\n  if (this._visuals[this._curVisualName] instanceof ComplexVisual) {\n    let dataSource = null;\n    if (TheExporter.SourceClass === ComplexVisual) {\n      dataSource = this._visuals[this._curVisualName];\n    } else if (TheExporter.SourceClass === Complex) {\n      dataSource = this._visuals[this._curVisualName]._complex;\n    }\n    const exporter = new TheExporter(dataSource, { miewVersion: Miew.VERSION });\n    return exporter.export().then((data) => data);\n  }\n  if (this._visuals[this._curVisualName] instanceof VolumeVisual) {\n    return Promise.reject(new Error('Sorry, exporter for volume data not implemented yet'));\n  }\n  return Promise.reject(new Error('Unexpected format of data'));\n};\n\nconst rePdbId = /^(?:(pdb|cif|mmtf|ccp4|dsn6):\\s*)?(\\d[a-z\\d]{3})$/i;\nconst rePubchem = /^(?:pc|pubchem):\\s*([a-z]+)$/i;\nconst reUrlScheme = /^([a-z][a-z\\d\\-+.]*):/i;\n\nfunction resolveSourceShortcut(source, opts) {\n  if (!_.isString(source)) {\n    return source;\n  }\n\n  // e.g. \"mmtf:1CRN\"\n  const matchesPdbId = rePdbId.exec(source);\n  if (matchesPdbId) {\n    let [, format = 'pdb', id] = matchesPdbId;\n\n    format = format.toLowerCase();\n    id = id.toUpperCase();\n\n    switch (format) {\n      case 'pdb':\n        source = `https://files.rcsb.org/download/${id}.pdb`;\n        break;\n      case 'cif':\n        source = `https://files.rcsb.org/download/${id}.cif`;\n        break;\n      case 'mmtf':\n        source = `https://mmtf.rcsb.org/v1.0/full/${id}`;\n        break;\n      case 'ccp4':\n        source = `https://www.ebi.ac.uk/pdbe/coordinates/files/${id.toLowerCase()}.ccp4`;\n        break;\n      case 'dsn6':\n        source = `https://edmaps.rcsb.org/maps/${id.toLowerCase()}_2fofc.dsn6`;\n        break;\n      default:\n        throw new Error('Unexpected data format shortcut');\n    }\n\n    opts.fileType = format;\n    opts.fileName = `${id}.${format}`;\n    opts.sourceType = 'url';\n    return source;\n  }\n\n  // e.g. \"pc:aspirin\"\n  const matchesPubchem = rePubchem.exec(source);\n  if (matchesPubchem) {\n    const compound = matchesPubchem[1].toLowerCase();\n    source = `https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/name/${compound}/JSON?record_type=3d`;\n    opts.fileType = 'pubchem';\n    opts.fileName = `${compound}.json`;\n    opts.sourceType = 'url';\n    return source;\n  }\n\n  // otherwise is should be an URL\n  if (opts.sourceType === 'url' || opts.sourceType === undefined) {\n    opts.sourceType = 'url';\n\n    // e.g. \"./data/1CRN.pdb\"\n    if (!reUrlScheme.test(source)) {\n      source = utils.resolveURL(source);\n    }\n  }\n\n  return source;\n}\n\nfunction updateBinaryMode(opts) {\n  let { binary } = opts;\n\n  // detect by format\n  if (opts.fileType !== undefined) {\n    const TheParser = _.head(io.parsers.find({ format: opts.fileType }));\n    if (TheParser) {\n      binary = TheParser.binary || false;\n    } else {\n      throw new Error('Could not find suitable parser for this format');\n    }\n  }\n\n  // detect by file extension\n  if (binary === undefined && opts.fileExt !== undefined) {\n    const TheParser = _.head(io.parsers.find({ ext: opts.fileExt }));\n    if (TheParser) {\n      binary = TheParser.binary || false;\n    }\n  }\n\n  // temporary workaround for animation\n  if (opts.fileExt !== undefined && opts.fileExt.toLowerCase() === '.man') {\n    opts.binary = true;\n    opts.animation = true; // who cares?\n  }\n\n  // update if detected\n  if (binary !== undefined) {\n    if (opts.binary !== undefined && opts.binary !== binary) {\n      opts.context.logger.warn('Overriding incorrect binary mode');\n    }\n  }\n\n  opts.binary = binary || false;\n}\n\nfunction _fetchData(source, opts, job) {\n  return new Promise(((resolve) => {\n    if (job.shouldCancel()) {\n      throw new Error('Operation cancelled');\n    }\n    job.notify({ type: 'fetching' });\n\n    // allow for source shortcuts\n    source = resolveSourceShortcut(source, opts);\n\n    // detect a proper loader\n    const TheLoader = _.head(io.loaders.find({ type: opts.sourceType, source }));\n    if (!TheLoader) {\n      throw new Error(LOADER_NOT_FOUND);\n    }\n\n    // split file name\n    const fileName = opts.fileName || TheLoader.extractName(source);\n    if (fileName) {\n      const [name, fileExt] = utils.splitFileName(fileName);\n      _.defaults(opts, { name, fileExt, fileName });\n    }\n\n    // should it be text or binary?\n    updateBinaryMode(opts);\n\n    // FIXME: All new settings retrieved from server are applied after the loading is complete. However, we need some\n    // flags to alter the loading process itself. Here we apply them in advance. Dirty hack. Kill the server, remove\n    // all hacks and everybody's happy.\n    let newOptions = _.get(opts, 'preset.expression');\n    if (!_.isUndefined(newOptions)) {\n      newOptions = JSON.parse(newOptions);\n      if (newOptions && newOptions.settings) {\n        const keys = ['singleUnit'];\n        for (let keyIndex = 0, keyCount = keys.length; keyIndex < keyCount; ++keyIndex) {\n          const key = keys[keyIndex];\n          const value = _.get(newOptions.settings, key);\n          if (!_.isUndefined(value)) {\n            settings.set(key, value);\n          }\n        }\n      }\n    }\n\n    // create a loader\n    const loader = new TheLoader(source, opts);\n    loader.context = opts.context;\n    job.addEventListener('cancel', () => loader.abort());\n\n    loader.addEventListener('progress', (event) => {\n      if (event.lengthComputable && event.total > 0) {\n        reportProgress(loader.logger, 'Fetching', event.loaded / event.total);\n      } else {\n        reportProgress(loader.logger, 'Fetching');\n      }\n    });\n\n    console.time('fetch');\n    const promise = loader.load()\n      .then((data) => {\n        console.timeEnd('fetch');\n        opts.context.logger.info('Fetching finished');\n        // deprecated event since version 0.8.6\n        job.notify({ type: 'fetchingFinished', data });\n        job.notify({ type: 'fetchingDone', data });\n        return data;\n      })\n      .catch((error) => {\n        console.timeEnd('fetch');\n        opts.context.logger.debug(error.message);\n        if (error.stack) {\n          opts.context.logger.debug(error.stack);\n        }\n        opts.context.logger.error('Fetching failed');\n        // deprecated event since version 0.8.6\n        job.notify({ type: 'fetchingFinished', error });\n        job.notify({ type: 'fetchingDone', error });\n        throw error;\n      });\n    resolve(promise);\n  }));\n}\n\nfunction _parseData(data, opts, job) {\n  if (job.shouldCancel()) {\n    return Promise.reject(new Error('Operation cancelled'));\n  }\n  // deprecated event since version 0.8.6\n  job.notify({ type: 'parse' });\n\n  job.notify({ type: 'parsing' });\n\n  const TheParser = _.head(io.parsers.find({ format: opts.fileType, ext: opts.fileExt, data }));\n  if (!TheParser) {\n    return Promise.reject(new Error('Could not find suitable parser'));\n  }\n\n  const parser = new TheParser(data, opts);\n  parser.context = opts.context;\n  job.addEventListener('cancel', () => parser.abort());\n\n  console.time('parse');\n  return parser.parse()\n    .then((dataSet) => {\n      console.timeEnd('parse');\n      // deprecated event since version 0.8.6\n      job.notify({ type: 'parsingFinished', data: dataSet });\n      job.notify({ type: 'parsingDone', data: dataSet });\n      return dataSet;\n    })\n    .catch((error) => {\n      console.timeEnd('parse');\n      opts.error = error;\n      opts.context.logger.debug(error.message);\n      if (error.stack) {\n        opts.context.logger.debug(error.stack);\n      }\n      opts.context.logger.error('Parsing failed');\n      // deprecated event since version 0.8.6\n      job.notify({ type: 'parsingFinished', error });\n      job.notify({ type: 'parsingDone', error });\n      throw error;\n    });\n}\n\n/**\n * Load molecule asynchronously.\n * @param {string|File} source - Molecule source to load (e.g. PDB ID, URL or File object).\n * @param {object=} opts - Options.\n * @param {string=} opts.sourceType - Data source type (e.g. 'url', 'file').\n * @param {string=} opts.fileType - Data contents type (e.g. 'pdb', 'cml').\n * @param {string=} opts.mdFile - .nc file path.\n * @param {boolean=} opts.keepRepsInfo - prevent reset of object and reps information.\n * @returns {Promise} name of the visual that was added to the viewer\n */\nMiew.prototype.load = function (source, opts) {\n  opts = _.merge({}, opts, {\n    context: this,\n  });\n\n  // for a single-file scenario\n  if (!this.settings.now.use.multiFile) {\n    // abort all loaders in progress\n    if (this._loading.length) {\n      this._loading.forEach((job) => {\n        job.cancel();\n      });\n      this._loading.length = 0;\n    }\n\n    // reset\n    if (!opts.animation) { // FIXME: sometimes it is set AFTERWARDS!\n      this.reset(true);\n    }\n  }\n\n  this._interpolator.reset();\n\n  // deprecated event since version 0.8.6\n  this.dispatchEvent({ type: 'load', options: opts, source });\n\n  this.dispatchEvent({ type: 'loading', options: opts, source });\n\n  const job = new JobHandle();\n  this._loading.push(job);\n  job.addEventListener('notification', (e) => {\n    this.dispatchEvent(e.slaveEvent);\n  });\n\n  if (this.settings.now.spinner) {\n    this._spinner.spin(this._container);\n  }\n\n  const onLoadEnd = (anything) => {\n    const jobIndex = this._loading.indexOf(job);\n    if (jobIndex !== -1) {\n      this._loading.splice(jobIndex, 1);\n    }\n    this._spinner.stop();\n    this._refreshTitle();\n    job.notify({ type: 'loadingDone', anything });\n    return anything;\n  };\n\n  return _fetchData(source, opts, job)\n    .then((data) => _parseData(data, opts, job))\n    .then((object) => {\n      const name = this._onLoad(object, opts);\n      return onLoadEnd(name);\n    })\n    .catch((err) => {\n      this.logger.error('Could not load data');\n      this.logger.debug(err);\n      throw onLoadEnd(err);\n    });\n};\n\n/**\n * Unload molecule (delete corresponding visual).\n * @param {string=} name - name of the visual\n */\nMiew.prototype.unload = function (name) {\n  this._removeVisual(name || this.getCurrentVisual());\n  this.resetPivot();\n  if (settings.now.shadow.on) {\n    this._updateShadowCamera();\n  }\n};\n\n/**\n * Start new animation. Now is broken.\n * @param fileData - new data to animate\n * @private\n * @deprecated until animation system refactoring.\n */\nMiew.prototype._startAnimation = function (fileData) {\n  this._stopAnimation();\n  const self = this;\n  const visual = this._getComplexVisual();\n  if (visual === null) {\n    this.logger.error('Unable to start animation - no molecule is loaded.');\n    return;\n  }\n  try {\n    this._frameInfo = new FrameInfo(\n      visual.getComplex(), fileData,\n      {\n        onLoadStatusChanged() {\n          self.dispatchEvent({\n            type: 'mdPlayerStateChanged',\n            state: {\n              isPlaying: self._isAnimating,\n              isLoading: self._frameInfo ? self._frameInfo.isLoading : true,\n            },\n          });\n        },\n        onError(message) {\n          self._stopAnimation();\n          self.logger.error(message);\n        },\n      },\n    );\n  } catch (e) {\n    this.logger.error('Animation file does not fit to current complex!');\n    return;\n  }\n  this._continueAnimation();\n};\n\n/**\n * Pause current animation. Now is broken.\n * @private\n * @deprecated until animation system refactoring.\n */\nMiew.prototype._pauseAnimation = function () {\n  if (this._animInterval === null) {\n    return;\n  }\n  this._isAnimating = false;\n  clearInterval(this._animInterval);\n  this._animInterval = null;\n  if (this._frameInfo) {\n    this.dispatchEvent({\n      type: 'mdPlayerStateChanged',\n      state: {\n        isPlaying: this._isAnimating,\n        isLoading: this._frameInfo.isLoading,\n      },\n    });\n  }\n};\n\n/**\n * Continue current animation after pausing. Now is broken.\n * @private\n * @deprecated until animation system refactoring.\n */\nMiew.prototype._continueAnimation = function () {\n  this._isAnimating = true;\n  let minFrameTime = 1000 / settings.now.maxfps;\n  minFrameTime = Number.isNaN(minFrameTime) ? 0 : minFrameTime;\n  const self = this;\n  const { pivot } = self._gfx;\n  const visual = this._getComplexVisual();\n  if (visual) {\n    visual.resetSelectionMask();\n    visual.rebuildSelectionGeometry();\n    this._msgAtomInfo.style.opacity = 0.0;\n  }\n  this._animInterval = setInterval(() => {\n    self.dispatchEvent({\n      type: 'mdPlayerStateChanged',\n      state: {\n        isPlaying: self._isAnimating,\n        isLoading: self._frameInfo.isLoading,\n      },\n    });\n    if (self._frameInfo.frameIsReady) {\n      pivot.updateToFrame(self._frameInfo);\n      self._updateObjsToFrame(self._frameInfo);\n      self._refreshTitle(` Frame ${self._frameInfo._currFrame} of ${self._frameInfo._framesCount\n      } time interval - ${self._frameInfo._timeStep}`);\n      try {\n        self._frameInfo.nextFrame();\n      } catch (e) {\n        self.logger.error('Error during animation');\n        self._stopAnimation();\n        return;\n      }\n      self._needRender = true;\n    }\n  }, minFrameTime);\n};\n\n/**\n * Stop current animation. Now is broken.\n * @private\n * @deprecated until animation system refactoring.\n */\nMiew.prototype._stopAnimation = function () {\n  if (this._animInterval === null) {\n    return;\n  }\n  clearInterval(this._animInterval);\n  this._frameInfo.disableEvents();\n  this._frameInfo = null;\n  this._animInterval = null;\n  this.dispatchEvent({\n    type: 'mdPlayerStateChanged',\n    state: null,\n  });\n};\n\n/**\n * Invoked upon successful loading of some data source\n * @param {DataSource} dataSource - Data source for visualization (molecular complex or other)\n * @param {object} opts - Options.\n * @private\n */\nMiew.prototype._onLoad = function (dataSource, opts) {\n  const gfx = this._gfx;\n  let visualName = null;\n\n  if (opts.animation) {\n    this._refreshTitle();\n    this._startAnimation(dataSource);\n    return null;\n  }\n  this._stopAnimation();\n  if (!opts || !opts.keepRepsInfo) {\n    this._opts.reps = null;\n    this._opts._objects = null;\n  }\n\n\n  if (dataSource.id === 'Complex') {\n    const complex = dataSource;\n\n    // update title\n    if (opts.fileName) {\n      complex.name = complex.name || removeExtension(opts.fileName).toUpperCase();\n    } else if (opts.amberFileName) {\n      complex.name = complex.name || removeExtension(opts.amberFileName).toUpperCase();\n    } else {\n      complex.name = `Dynamic ${opts.fileType} molecule`;\n    }\n\n    visualName = this._addVisual(new ComplexVisual(complex.name, complex));\n    this._curVisualName = visualName;\n\n    const desc = this.info();\n    this.logger.info(`Parsed ${opts.fileName} (${\n      desc.atoms} atoms, ${\n      desc.bonds} bonds, ${\n      desc.residues} residues, ${\n      desc.chains} chains).`);\n\n    if (_.isNumber(this._opts.unit)) {\n      complex.setCurrentUnit(this._opts.unit);\n    }\n\n    if (opts.preset) {\n      // ...removed server access...\n    } else if (settings.now.autoPreset) {\n      switch (opts.fileType) {\n        case 'cml':\n          this.resetReps('small');\n          break;\n        case 'pdb':\n        case 'mmtf':\n        case 'cif':\n          if (hasValidResidues(complex)) {\n            this.resetReps('macro');\n          } else {\n            this.resetReps('small');\n          }\n          break;\n        default:\n          this.resetReps('default');\n          break;\n      }\n    } else {\n      this.resetReps('default');\n    }\n  } else if (dataSource.id === 'Volume') {\n    this.resetEd();\n    visualName = this._onLoadEd(dataSource);\n  }\n\n  gfx.camera.updateProjectionMatrix();\n  this._updateFog();\n\n  // reset global transform\n  gfx.root.resetTransform();\n  this.resetPivot();\n\n  // set scale to fit everything on the screen\n  this._objectControls.setScale(settings.now.radiusToFit / this._getBSphereRadius());\n\n  this._resetObjects();\n\n  if (settings.now.autoResolution) {\n    this._tweakResolution();\n  }\n\n  if (settings.now.shadow.on) {\n    this._updateShadowCamera();\n  }\n\n  if (this._opts.view) {\n    this.view(this._opts.view);\n    delete this._opts.view;\n  }\n\n  if (opts.error) {\n    // deprecated event since version 0.8.6\n    this.dispatchEvent({ type: 'onParseError', error: opts.error });\n  } else {\n    // deprecated event since version 0.8.6\n    this.dispatchEvent({ type: 'onParseDone' });\n  }\n\n  this._refreshTitle();\n\n  return visualName;\n};\n\nMiew.prototype.resetEd = function () {\n  if (this._edLoader) {\n    this._edLoader.abort();\n    this._edLoader = null;\n  }\n\n  // free all resources\n  this._removeVisual(this._getVolumeVisual());\n\n  this._needRender = true;\n};\n\nMiew.prototype.loadEd = function (source) {\n  this.resetEd();\n\n  const TheLoader = _.head(io.loaders.find({ source }));\n  if (!TheLoader) {\n    this.logger.error(LOADER_NOT_FOUND);\n    return Promise.reject(new Error(LOADER_NOT_FOUND));\n  }\n\n  const loader = this._edLoader = new TheLoader(source, { binary: true });\n  loader.context = this;\n  return loader.load().then((data) => {\n    const TheParser = _.head(io.parsers.find({ format: 'ccp4' }));\n    if (!TheParser) {\n      throw new Error(PARSER_NOT_FOUND);\n    }\n    const parser = new TheParser(data);\n    parser.context = this;\n    return parser.parse().then((dataSource) => {\n      this._onLoadEd(dataSource);\n    });\n  }).catch((error) => {\n    this.logger.error('Could not load ED data');\n    this.logger.debug(error);\n  });\n};\n\nMiew.prototype._onLoadEd = function (dataSource) {\n  dataSource.normalize();\n\n  const volumeVisual = new VolumeVisual('volume', dataSource);\n  volumeVisual.getMesh().layers.set(gfxutils.LAYERS.VOLUME); // volume mesh is not visible to common render\n  const visualName = this._addVisual(volumeVisual);\n\n  this._needRender = true;\n  return visualName;\n};\n\nMiew.prototype._needRebuild = function () {\n  let needsRebuild = false;\n  this._forEachComplexVisual((visual) => {\n    needsRebuild = needsRebuild || visual.needsRebuild();\n  });\n  return needsRebuild;\n};\n\nMiew.prototype._rebuildObjects = function () {\n  const self = this;\n  const gfx = this._gfx;\n  let i;\n  let n;\n\n  // remove old object geometry\n  const toRemove = [];\n  for (i = 0; i < gfx.pivot.children.length; ++i) {\n    const child = gfx.pivot.children[i];\n    if (!(child instanceof Visual)) {\n      toRemove.push(child);\n    }\n  }\n  for (i = 0; i < toRemove.length; ++i) {\n    toRemove[i].parent.remove(toRemove[i]);\n  }\n\n  setTimeout(() => {\n    const objList = self._objects;\n    for (i = 0, n = objList.length; i < n; ++i) {\n      const obj = objList[i];\n      if (obj.needsRebuild) {\n        obj.build();\n      }\n      if (obj.getGeometry()) {\n        gfx.pivot.add(obj.getGeometry());\n      }\n    }\n  }, 10);\n};\n\nMiew.prototype.changeUnit = function (unitIdx, name) {\n  const visual = this._getComplexVisual(name);\n  if (!visual) {\n    throw new Error('There is no complex to change!');\n  }\n\n  function currentUnitInfo() {\n    const unit = visual ? visual.getComplex().getCurrentUnit() : 0;\n    const type = unit > 0 ? (`Bio molecule ${unit}`) : 'Asymmetric unit';\n    return `Current unit: ${unit} (${type})`;\n  }\n\n  if (unitIdx === undefined) {\n    return currentUnitInfo();\n  }\n  if (_.isString(unitIdx)) {\n    unitIdx = Math.max(parseInt(unitIdx, 10), 0);\n  }\n  if (visual.getComplex().setCurrentUnit(unitIdx)) {\n    this._resetScene();\n    this._updateInfoPanel();\n  }\n  return currentUnitInfo();\n};\n\n/**\n * Start to rebuild geometry asynchronously.\n */\nMiew.prototype.rebuild = function () {\n  if (this._building) {\n    this.logger.warn('Miew.rebuild(): already building!');\n    return;\n  }\n  this._building = true;\n\n  // deprecated event since version 0.8.6\n  this.dispatchEvent({ type: 'rebuild' });\n\n  this.dispatchEvent({ type: 'rebuilding' });\n\n  this._rebuildObjects();\n\n  this._gfx.renderer2d.reset();\n\n  const rebuildActions = [];\n  this._forEachComplexVisual((visual) => {\n    if (visual.needsRebuild()) {\n      rebuildActions.push(visual.rebuild().then(() => new Promise(((resolve) => {\n        visual.rebuildSelectionGeometry();\n        resolve();\n      }))));\n    }\n  });\n\n  // Start asynchronous rebuild\n  const self = this;\n  if (this.settings.now.spinner) {\n    this._spinner.spin(this._container);\n  }\n  Promise.all(rebuildActions).then(() => {\n    self._spinner.stop();\n\n\n    self._needRender = true;\n\n    self._refreshTitle();\n    this.dispatchEvent({ type: 'buildingDone' });\n    self._building = false;\n    this.dispatchEvent({ type: 'onBuildDone' });\n  });\n};\n\n/** Mark all representations for rebuilding */\nMiew.prototype.rebuildAll = function () {\n  this._forEachComplexVisual((visual) => {\n    visual.setNeedsRebuild();\n  });\n};\n\nMiew.prototype._refreshTitle = function (appendix) {\n  let title;\n  appendix = appendix === undefined ? '' : appendix;\n  const visual = this._getComplexVisual();\n  if (visual) {\n    title = visual.getComplex().name;\n    const rep = visual.repGet(visual.repCurrent());\n    title += (rep ? ` – ${rep.mode.name} Mode` : '');\n  } else {\n    title = Object.keys(this._visuals).length > 0 ? 'Unknown' : 'No Data';\n  }\n  title += appendix;\n\n  this.dispatchEvent({ type: 'titleChanged', data: title });\n};\n\nMiew.prototype.setNeedRender = function () {\n  this._needRender = true;\n};\n\nMiew.prototype._extractRepresentation = function () {\n  const changed = [];\n\n  this._forEachComplexVisual((visual) => {\n    if (visual.getSelectionCount() === 0) {\n      return;\n    }\n\n    const selector = visual.buildSelectorFromMask(1 << visual.getSelectionBit());\n    const defPreset = settings.now.presets.default;\n    const res = visual.repAdd({\n      selector,\n      mode: defPreset[0].mode.id,\n      colorer: defPreset[0].colorer.id,\n      material: defPreset[0].material.id,\n    });\n    if (!res) {\n      if (visual.repCount() === ComplexVisual.NUM_REPRESENTATION_BITS) {\n        this.logger.warn(`Number of representations is limited to ${ComplexVisual.NUM_REPRESENTATION_BITS}`);\n      }\n      return;\n    }\n\n    this.dispatchEvent({ type: 'repAdded', index: res.index, name: visual.name });\n    visual.repCurrent(res.index);\n\n    changed.push(visual.name);\n  });\n\n  if (changed.length > 0) {\n    this.logger.report(`New representation from selection for complexes: ${changed.join(', ')}`);\n    // deprecated event since 0.8.6\n    // Use repAdded event instead it. Make attention there are some differences\n    this.dispatchEvent({ type: 'repAdd' });\n  }\n};\n\n/**\n * Change current representation list.\n * @param {array} reps - Representation list.\n */\nMiew.prototype._setReps = function (reps) {\n  reps = reps || (this._opts && this._opts.reps) || [];\n  this._forEachComplexVisual((visual) => visual.resetReps(reps));\n};\n\n/**\n * Apply existing preset to current scene.\n * @param preset\n */\nMiew.prototype.applyPreset = function (preset) {\n  const { presets } = settings.now;\n  const presList = [\n    preset || settings.defaults.preset,\n    settings.defaults.preset,\n    Object.keys(presets)[0],\n  ];\n  let reps = null;\n  for (let i = 0; !reps && i < presList.length; ++i) {\n    settings.set('preset', presList[i]);\n    reps = presets[settings.now.preset];\n    if (!reps) {\n      this.logger.warn(`Unknown preset \"${settings.now.preset}\"`);\n    }\n  }\n  this._setReps(reps);\n};\n\n/**\n * Reset current representation list to initial values.\n * @param {string} [preset] - The source preset in case of uninitialized representation list.\n */\nMiew.prototype.resetReps = function (preset) {\n  const reps = this._opts && this._opts.reps;\n  if (reps) {\n    this._setReps(reps);\n  } else {\n    this.applyPreset(preset);\n  }\n};\n\n/**\n * Get number of representations created so far.\n * @returns {number} Number of reps.\n */\nMiew.prototype.repCount = function (name) {\n  const visual = this._getComplexVisual(name);\n  return visual ? visual.repCount() : 0;\n};\n\n/**\n * Get or set the current representation index.\n * @param {number=} index - Zero-based index, up to {@link Miew#repCount()}. Defaults to the current one.\n * @param {string=} [name] - Complex name. Defaults to the current one.\n * @returns {number} The current index.\n */\nMiew.prototype.repCurrent = function (index, name) {\n  const visual = this._getComplexVisual(name);\n  const newIdx = visual ? visual.repCurrent(index) : -1;\n  if (index && newIdx !== index) {\n    this.logger.warn(`Representation ${index} was not found. Current rep remains unchanged.`);\n  }\n  return newIdx;\n};\n\n/**\n * Get or set representation by index.\n * @param {number=} index - Zero-based index, up to {@link Miew#repCount}(). Defaults to the current one.\n * @param {object=} rep - Optional representation description.\n * @param {string=} rep.selector - Selector string.\n * @param {string=} rep.mode - Mode id.\n * @param {string=} rep.colorer - Colorer id.\n * @param {string=} rep.material - Material id.\n * @returns {?object} Representation description.\n */\nMiew.prototype.rep = function (index, rep) {\n  const visual = this._getComplexVisual('');\n  if (!visual) {\n    return null;\n  }\n  const res = visual.rep(index, rep);\n  if (res.status === 'created') {\n    this.dispatchEvent({ type: 'repAdded', index: res.index, name: visual.name });\n  } else if (res.status === 'changed') {\n    this.dispatchEvent({ type: 'repChanged', index: res.index, name: visual.name });\n  }\n  return res.desc;\n};\n\n/**\n * Get representation (not just description) by index.\n * @param {number=} index - Zero-based index, up to {@link Miew#repCount}(). Defaults to the current one.\n * @returns {?object} Representation.\n */\nMiew.prototype.repGet = function (index, name) {\n  const visual = this._getComplexVisual(name);\n  return visual ? visual.repGet(index) : null;\n};\n\n/**\n * Add new representation.\n * @param {object=} rep - Representation description.\n * @returns {number} Index of the new representation.\n */\nMiew.prototype.repAdd = function (rep, name) {\n  const visual = this._getComplexVisual(name);\n  if (!visual) {\n    return -1;\n  }\n\n  const res = visual.repAdd(rep);\n  if (res) {\n    this.dispatchEvent({ type: 'repAdded', index: res.index, name });\n    return res.index;\n  }\n  return -1;\n};\n\n/**\n * Remove representation.\n * @param {number=} index - Zero-based representation index.\n */\nMiew.prototype.repRemove = function (index, name) {\n  const visual = this._getComplexVisual(name);\n  if (!visual) {\n    return;\n  }\n\n  visual.repRemove(index);\n  this.dispatchEvent({ type: 'repRemoved', index, name });\n};\n\n/**\n * Hide representation.\n * @param {number} index - Zero-based representation index.\n * @param {boolean=} hide - Specify false to make rep visible, true to hide (by default).\n */\nMiew.prototype.repHide = function (index, hide, name) {\n  this._needRender = true;\n  const visual = this._getComplexVisual(name);\n  return visual ? visual.repHide(index, hide) : null;\n};\n\nMiew.prototype._setEditMode = function (mode) {\n  this._editMode = mode;\n\n  const elem = this._msgMode;\n  if (elem) {\n    elem.style.opacity = (mode === EDIT_MODE.COMPLEX) ? 0.0 : 1.0;\n\n    if (mode !== EDIT_MODE.COMPLEX) {\n      const t = elem.getElementsByTagName('p')[0];\n      t.innerHTML = (mode === EDIT_MODE.COMPONENT) ? 'COMPONENT EDIT MODE' : 'FRAGMENT EDIT MODE';\n    }\n  }\n\n  this.dispatchEvent({ type: 'editModeChanged', data: mode === EDIT_MODE.COMPLEX });\n};\n\nMiew.prototype._enterComponentEditMode = function () {\n  if (this._editMode !== EDIT_MODE.COMPLEX) {\n    return;\n  }\n\n  const editors = [];\n  this._forEachComplexVisual((visual) => {\n    const editor = visual.beginComponentEdit();\n    if (editor) {\n      editors.push(editor);\n    }\n  });\n\n  if (editors === []) {\n    return;\n  }\n\n  this._editors = editors;\n\n  this.logger.info('COMPONENT EDIT MODE -- ON');\n  this._setEditMode(EDIT_MODE.COMPONENT);\n  this._objectControls.keysTranslateObj(true);\n};\n\nMiew.prototype._applyComponentEdit = function () {\n  if (this._editMode !== EDIT_MODE.COMPONENT) {\n    return;\n  }\n\n  this._objectControls.stop();\n  this._objectControls.keysTranslateObj(false);\n\n  for (let i = 0; i < this._editors.length; ++i) {\n    this._editors[i].apply();\n  }\n  this._editors = [];\n\n  this.logger.info('COMPONENT EDIT MODE -- OFF (applied)');\n  this._setEditMode(EDIT_MODE.COMPLEX);\n\n  this.rebuildAll();\n};\n\nMiew.prototype._discardComponentEdit = function () {\n  if (this._editMode !== EDIT_MODE.COMPONENT) {\n    return;\n  }\n\n  this._objectControls.stop();\n  this._objectControls.keysTranslateObj(false);\n\n  for (let i = 0; i < this._editors.length; ++i) {\n    this._editors[i].discard();\n  }\n  this._editors = [];\n\n  this.logger.info('COMPONENT EDIT MODE -- OFF (discarded)');\n  this._setEditMode(EDIT_MODE.COMPLEX);\n\n  this._needRender = true;\n  this.rebuildAll();\n};\n\nMiew.prototype._enterFragmentEditMode = function () {\n  if (this._editMode !== EDIT_MODE.COMPLEX) {\n    return;\n  }\n\n  const selectedVisuals = [];\n  this._forEachComplexVisual((visual) => {\n    if (visual instanceof ComplexVisual\n          && visual.getSelectionCount() > 0) {\n      selectedVisuals.push(visual);\n    }\n  });\n\n  if (selectedVisuals.length !== 1) {\n    // either we have no selection or\n    // we have selected atoms in two or more visuals -- not supported\n    return;\n  }\n\n  const editor = selectedVisuals[0].beginFragmentEdit();\n  if (!editor) {\n    return;\n  }\n  this._editors = [editor];\n\n  this.logger.info('FRAGMENT EDIT MODE -- ON (single bond)');\n  this._setEditMode(EDIT_MODE.FRAGMENT);\n  this._objectControls.allowTranslation(false);\n  this._objectControls.allowAltObjFreeRotation(editor.isFreeRotationAllowed());\n\n  this._needRender = true;\n};\n\nMiew.prototype._applyFragmentEdit = function () {\n  if (this._editMode !== EDIT_MODE.FRAGMENT) {\n    return;\n  }\n\n  this._objectControls.stop();\n\n  for (let i = 0; i < this._editors.length; ++i) {\n    this._editors[i].apply();\n  }\n  this._editors = [];\n\n  this.logger.info('FRAGMENT EDIT MODE -- OFF (applied)');\n  this._setEditMode(EDIT_MODE.COMPLEX);\n  this._objectControls.allowTranslation(true);\n  this._objectControls.allowAltObjFreeRotation(true);\n\n  this.rebuildAll();\n};\n\nMiew.prototype._discardFragmentEdit = function () {\n  if (this._editMode !== EDIT_MODE.FRAGMENT) {\n    return;\n  }\n\n  this._objectControls.stop();\n\n  for (let i = 0; i < this._editors.length; ++i) {\n    this._editors[i].discard();\n  }\n  this._editors = [];\n\n  this.logger.info('FRAGMENT EDIT MODE -- OFF (discarded)');\n  this._setEditMode(EDIT_MODE.COMPLEX);\n  this._objectControls.allowTranslation(true);\n  this._objectControls.allowAltObjFreeRotation(true);\n\n  this._needRender = true;\n};\n\nMiew.prototype._onPick = function (event) {\n  if (!settings.now.picking) {\n    // picking is disabled\n    return;\n  }\n\n  if (this._animInterval !== null) {\n    // animation playback is on\n    return;\n  }\n\n  if (this._editMode === EDIT_MODE.FRAGMENT) {\n    // prevent picking in fragment edit mode\n    return;\n  }\n\n  if (this._objectControls.isEditingAltObj()) {\n    // prevent picking during component rotation\n    return;\n  }\n\n  // update last pick & find complex\n  let complex = null;\n  if (event.obj.atom) {\n    complex = event.obj.atom.residue.getChain().getComplex();\n    this._lastPick = event.obj.atom;\n  } else if (event.obj.residue) {\n    complex = event.obj.residue.getChain().getComplex();\n    this._lastPick = event.obj.residue;\n  } else if (event.obj.chain) {\n    complex = event.obj.chain.getComplex();\n    this._lastPick = event.obj.chain;\n  } else if (event.obj.molecule) {\n    complex = event.obj.molecule.complex;\n    this._lastPick = event.obj.molecule;\n  } else {\n    this._lastPick = null;\n  }\n\n  function _updateSelection(visual) {\n    visual.updateSelectionMask(event.obj);\n    visual.rebuildSelectionGeometry();\n  }\n\n  // update visual\n  if (complex) {\n    const visual = this._getVisualForComplex(complex);\n    if (visual) {\n      _updateSelection(visual);\n      this._needRender = true;\n    }\n  } else {\n    this._forEachComplexVisual(_updateSelection);\n    this._needRender = true;\n  }\n\n  this._updateInfoPanel();\n  this.dispatchEvent(event);\n};\n\nMiew.prototype._onKeyDown = function (event) {\n  if (!this._running || !this._hotKeysEnabled) {\n    return;\n  }\n\n  switch (event.keyCode) {\n    case 'C'.charCodeAt(0):\n      if (settings.now.editing) {\n        this._enterComponentEditMode();\n      }\n      break;\n    case 'F'.charCodeAt(0):\n      if (settings.now.editing) {\n        this._enterFragmentEditMode();\n      }\n      break;\n    case 'A'.charCodeAt(0):\n      switch (this._editMode) {\n        case EDIT_MODE.COMPONENT:\n          this._applyComponentEdit();\n          break;\n        case EDIT_MODE.FRAGMENT:\n          this._applyFragmentEdit();\n          break;\n        default: break;\n      }\n      break;\n    case 'D'.charCodeAt(0):\n      switch (this._editMode) {\n        case EDIT_MODE.COMPONENT:\n          this._discardComponentEdit();\n          break;\n        case EDIT_MODE.FRAGMENT:\n          this._discardFragmentEdit();\n          break;\n        default: break;\n      }\n      break;\n    case 'S'.charCodeAt(0):\n      event.preventDefault();\n      event.stopPropagation();\n      settings.set('ao', !settings.now.ao);\n      this._needRender = true;\n      break;\n    case 107:\n      event.preventDefault();\n      event.stopPropagation();\n      this._forEachComplexVisual((visual) => {\n        visual.expandSelection();\n        visual.rebuildSelectionGeometry();\n      });\n      this._updateInfoPanel();\n      this._needRender = true;\n      break;\n    case 109:\n      event.preventDefault();\n      event.stopPropagation();\n      this._forEachComplexVisual((visual) => {\n        visual.shrinkSelection();\n        visual.rebuildSelectionGeometry();\n      });\n      this._updateInfoPanel();\n      this._needRender = true;\n      break;\n    default:\n  }\n};\n\nMiew.prototype._onKeyUp = function (event) {\n  if (!this._running || !this._hotKeysEnabled) {\n    return;\n  }\n\n  if (event.keyCode === 'X'.charCodeAt(0)) {\n    this._extractRepresentation();\n  }\n};\n\nMiew.prototype._updateInfoPanel = function () {\n  const info = this._msgAtomInfo.getElementsByTagName('p')[0];\n  let atom;\n  let residue;\n\n  let count = 0;\n  this._forEachComplexVisual((visual) => {\n    count += visual.getSelectionCount();\n  });\n\n  while (info.firstChild) {\n    info.removeChild(info.firstChild);\n  }\n\n  if (count === 0) {\n    this._msgAtomInfo.style.opacity = 0.0;\n    return;\n  }\n\n  let firstLine = `${String(count)} atom${count !== 1 ? 's' : ''} selected`;\n  if (this._lastPick !== null) {\n    firstLine += ', the last pick:';\n  }\n  let secondLine = '';\n  let aName = '';\n  let coordLine = '';\n\n  if (this._lastPick instanceof Atom) {\n    atom = this._lastPick;\n    residue = atom.residue;\n\n    aName = atom.name;\n    const location = (atom.location !== 32) ? String.fromCharCode(atom.location) : ''; // 32 is code of white-space\n    secondLine = `${atom.element.fullName} #${atom.serial}${location}: \\\n      ${residue._chain._name}.${residue._type._name}${residue._sequence}${residue._icode.trim()}.`;\n    secondLine += aName;\n\n    coordLine = `Coord: (${atom.position.x.toFixed(2).toString()},\\\n     ${atom.position.y.toFixed(2).toString()},\\\n     ${atom.position.z.toFixed(2).toString()})`;\n  } else if (this._lastPick instanceof Residue) {\n    residue = this._lastPick;\n\n    secondLine = `${residue._type._fullName}: \\\n      ${residue._chain._name}.${residue._type._name}${residue._sequence}${residue._icode.trim()}`;\n  } else if (this._lastPick instanceof Chain) {\n    secondLine = `chain ${this._lastPick._name}`;\n  } else if (this._lastPick instanceof Molecule) {\n    secondLine = `molecule ${this._lastPick._name}`;\n  }\n\n  info.appendChild(document.createTextNode(firstLine));\n\n  if (secondLine !== '') {\n    info.appendChild(document.createElement('br'));\n    info.appendChild(document.createTextNode(secondLine));\n  }\n\n  if (coordLine !== '') {\n    info.appendChild(document.createElement('br'));\n    info.appendChild(document.createTextNode(coordLine));\n  }\n\n  this._msgAtomInfo.style.opacity = 1.0;\n};\n\nMiew.prototype._getAltObj = function () {\n  if (this._editors) {\n    let altObj = null;\n    for (let i = 0; i < this._editors.length; ++i) {\n      const nextAltObj = this._editors[i].getAltObj();\n      if (nextAltObj.objects.length > 0) {\n        if (altObj) {\n          // we have selected atoms in two or more visuals -- not supported\n          altObj = null;\n          break;\n        }\n        altObj = nextAltObj;\n      }\n    }\n    if (altObj) {\n      return altObj;\n    }\n  }\n\n  return {\n    objects: [],\n    pivot: new THREE.Vector3(0, 0, 0),\n  };\n};\n\nMiew.prototype.resetPivot = (function () {\n  const boundingBox = new THREE.Box3();\n  const center = new THREE.Vector3();\n\n  return function () {\n    boundingBox.makeEmpty();\n    this._forEachVisual((visual) => {\n      boundingBox.union(visual.getBoundaries().boundingBox);\n    });\n\n    boundingBox.getCenter(center);\n    this._objectControls.setPivot(center.negate());\n    this.dispatchEvent({ type: 'transform' });\n  };\n}());\n\nMiew.prototype.setPivotResidue = (function () {\n  const center = new THREE.Vector3();\n\n  return function (residue) {\n    const visual = this._getVisualForComplex(residue.getChain().getComplex());\n    if (!visual) {\n      return;\n    }\n\n    if (residue._controlPoint) {\n      center.copy(residue._controlPoint);\n    } else {\n      let x = 0;\n      let y = 0;\n      let z = 0;\n      const amount = residue._atoms.length;\n      for (let i = 0; i < amount; ++i) {\n        const p = residue._atoms[i].position;\n        x += p.x / amount;\n        y += p.y / amount;\n        z += p.z / amount;\n      }\n      center.set(x, y, z);\n    }\n    center.applyMatrix4(visual.matrix).negate();\n    this._objectControls.setPivot(center);\n    this.dispatchEvent({ type: 'transform' });\n  };\n}());\n\nMiew.prototype.setPivotAtom = (function () {\n  const center = new THREE.Vector3();\n\n  return function (atom) {\n    const visual = this._getVisualForComplex(atom.residue.getChain().getComplex());\n    if (!visual) {\n      return;\n    }\n\n    center.copy(atom.position);\n    center.applyMatrix4(visual.matrix).negate();\n    this._objectControls.setPivot(center);\n    this.dispatchEvent({ type: 'transform' });\n  };\n}());\n\nMiew.prototype.getSelectionCenter = (function () {\n  const _centerInVisual = new THREE.Vector3(0.0, 0.0, 0.0);\n\n  return function (center, includesAtom, selector) {\n    center.set(0.0, 0.0, 0.0);\n    let count = 0;\n\n    this._forEachComplexVisual((visual) => {\n      if (visual.getSelectionCenter(_centerInVisual, includesAtom, selector || visual.getSelectionBit())) {\n        center.add(_centerInVisual);\n        count++;\n      }\n    });\n    if (count === 0) {\n      return false;\n    }\n    center.divideScalar(count);\n    center.negate();\n    return true;\n  };\n}());\n\nMiew.prototype.setPivotSubset = (function () {\n  const _center = new THREE.Vector3(0.0, 0.0, 0.0);\n\n  function _includesInCurSelection(atom, selectionBit) {\n    return atom.mask & (1 << selectionBit);\n  }\n\n  function _includesInSelector(atom, selector) {\n    return selector.selector.includesAtom(atom);\n  }\n\n  return function (selector) {\n    const includesAtom = (selector) ? _includesInSelector : _includesInCurSelection;\n\n    if (this.getSelectionCenter(_center, includesAtom, selector)) {\n      this._objectControls.setPivot(_center);\n      this.dispatchEvent({ type: 'transform' });\n    } else {\n      this.logger.warn('selection is empty. Center operation not performed');\n    }\n  };\n}());\n\n/**\n * Starts profiling tool\n * @deprecated since 0.8.6. There are plans to make it a separate tool outside Miew\n */\nMiew.prototype.benchmarkGfx = function (force) {\n  const self = this;\n  const prof = new GfxProfiler(this._gfx.renderer);\n\n  return new Promise(((resolve) => {\n    if (!force && !settings.now.autoResolution) {\n      resolve();\n      return;\n    }\n\n    // deprecated event since 0.8.6\n    self.dispatchEvent({ type: 'profile' });\n\n    if (this.settings.now.spinner) {\n      this._spinner.spin(this._container);\n    }\n    prof.runOnTicks(50, 1000, 2000).then((numResults) => {\n      self._gfxScore = 0.0;\n      if (numResults >= 5) {\n        self._gfxScore = 1000.0 / prof.mean();\n      }\n      if (numResults > 0) {\n        self._gfxScore = 0.5 * numResults;\n      }\n\n      self._spinner.stop();\n      resolve();\n    });\n  }));\n};\n\n/**\n * Makes a screenshot.\n * @param {number} [width] - Width of an image. Defaults to the canvas width.\n * @param {number} [height] - Height of an image. Defaults to the width (square) or canvas height,\n *        if width is omitted too.\n * @returns {string} Data URL representing the image contents.\n */\nMiew.prototype.screenshot = function (width, height) {\n  const gfx = this._gfx;\n  const deviceWidth = gfx.renderer.domElement.width;\n  const deviceHeight = gfx.renderer.domElement.height;\n\n  function fov2Tan(fov) {\n    return Math.tan(THREE.Math.degToRad(0.5 * fov));\n  }\n\n  function tan2Fov(tan) {\n    return THREE.Math.radToDeg(Math.atan(tan)) * 2.0;\n  }\n\n  function getDataURL() {\n    let dataURL;\n    const currBrowser = utils.getBrowser();\n\n    if (currBrowser === utils.browserType.SAFARI) {\n      const canvas = document.createElement('canvas');\n      const canvasContext = canvas.getContext('2d');\n\n      canvas.width = width === undefined ? deviceWidth : width;\n      canvas.height = height === undefined ? deviceHeight : height;\n\n      canvasContext.drawImage(gfx.renderer.domElement, 0, 0, canvas.width, canvas.height);\n      dataURL = canvas.toDataURL('image/png');\n    } else {\n      // Copy current canvas to screenshot\n      dataURL = gfx.renderer.domElement.toDataURL('image/png');\n    }\n    return dataURL;\n  }\n  height = height || width;\n\n  let screenshotURI;\n  if ((width === undefined && height === undefined)\n    || (width === deviceWidth && height === deviceHeight)) {\n    // renderer.domElement.toDataURL('image/png') returns flipped image in Safari\n    // It hasn't been resolved yet, but getScreenshotSafari()\n    // fixes it using an extra canvas.\n    screenshotURI = getDataURL();\n  } else {\n    const originalAspect = gfx.camera.aspect;\n    const originalFov = gfx.camera.fov;\n    const originalTanFov2 = fov2Tan(gfx.camera.fov);\n\n    // screenshot should contain the principal area of interest (a centered square touching screen sides)\n    const areaOfInterestSize = Math.min(gfx.width, gfx.height);\n    const areaOfInterestTanFov2 = originalTanFov2 * areaOfInterestSize / gfx.height;\n\n    // set appropriate camera aspect & FOV\n    const shotAspect = width / height;\n    gfx.renderer.setPixelRatio(1);\n    gfx.camera.aspect = shotAspect;\n    gfx.camera.fov = tan2Fov(areaOfInterestTanFov2 / Math.min(shotAspect, 1.0));\n    gfx.camera.updateProjectionMatrix();\n\n    // resize canvas to the required size of screenshot\n    gfx.renderer.setDrawingBufferSize(width, height, 1);\n\n    // make screenshot\n    this._renderFrame(settings.now.stereo);\n    screenshotURI = getDataURL();\n\n    // restore original camera & canvas proportions\n    gfx.renderer.setPixelRatio(window.devicePixelRatio);\n    gfx.camera.aspect = originalAspect;\n    gfx.camera.fov = originalFov;\n    gfx.camera.updateProjectionMatrix();\n    gfx.renderer.setDrawingBufferSize(gfx.width, gfx.height, window.devicePixelRatio);\n    this._needRender = true;\n  }\n\n  return screenshotURI;\n};\n\n/**\n * Makes screenshot and initiates a download.\n * @param {string} [filename] - Name of a file. Default to a 'screenshot-XXXXX.png', where XXXXX is a current\n *        date/time in seconds.\n * @param {number} [width] - Width of an image. Defaults to the canvas width.\n * @param {number} [height] - Height of an image. Defaults to the width (square) or canvas height,\n *        if width is omitted too.\n */\nMiew.prototype.screenshotSave = function (filename, width, height) {\n  const uri = this.screenshot(width, height);\n  utils.shotDownload(uri, filename);\n};\n\nMiew.prototype.save = function (opts) {\n  this._export(opts.fileType).then((dataString) => {\n    const filename = this._visuals[this._curVisualName]._complex.name;\n    utils.download(dataString, filename, opts.fileType);\n    this._refreshTitle();\n    this.dispatchEvent({ type: 'exportingDone' });\n  }).catch((error) => {\n    this.logger.error('Could not export data');\n    this.logger.debug(error);\n    this._refreshTitle();\n    this.dispatchEvent({ type: 'exportingDone', error });\n  });\n};\n\nMiew.prototype._tweakResolution = function () {\n  const maxPerf = [\n    ['poor', 100],\n    ['low', 500],\n    ['medium', 1000],\n    ['high', 5000],\n    ['ultra', Number.MAX_VALUE],\n  ];\n\n  let atomCount = 0;\n  this._forEachComplexVisual((visual) => {\n    atomCount += visual.getComplex().getAtomCount();\n  });\n\n  if (atomCount > 0) {\n    const performance = this._gfxScore * 10e5 / atomCount;\n    // set resolution based on estimated performance\n    for (let i = 0; i < maxPerf.length; ++i) {\n      if (performance < maxPerf[i][1]) {\n        this._autoChangeResolution(maxPerf[i][0]);\n        break;\n      }\n    }\n  }\n};\n\nMiew.prototype._autoChangeResolution = function (resolution) {\n  if (resolution !== settings.now.resolution) {\n    this.logger.report(`Your rendering resolution was changed to \"${resolution}\" for best performance.`);\n  }\n  settings.now.resolution = resolution;\n};\n\n/**\n * Save current settings to cookies.\n */\nMiew.prototype.saveSettings = function () {\n  this._cookies.setCookie(this._opts.settingsCookie, JSON.stringify(this.settings.getDiffs(true)));\n};\n\n/**\n * Load settings from cookies.\n */\nMiew.prototype.restoreSettings = function () {\n  try {\n    const cookie = this._cookies.getCookie(this._opts.settingsCookie);\n    const diffs = cookie ? JSON.parse(cookie) : {};\n    this.settings.applyDiffs(diffs, true);\n  } catch (e) {\n    this.logger.error(`Cookies parse error: ${e.message}`);\n  }\n};\n\n/**\n * Reset current settings to the defaults.\n */\nMiew.prototype.resetSettings = function () {\n  this.settings.reset();\n};\n\n/*\n   * DANGEROUS and TEMPORARY. The method should change or disappear in future versions.\n   * @param {string|object} opts - See {@link Miew} constructor.\n   * @see {@link Miew#set}, {@link Miew#repAdd}, {@link Miew#rep}.\n   */\nMiew.prototype.setOptions = function (opts) {\n  if (typeof opts === 'string') {\n    opts = Miew.options.fromAttr(opts);\n  }\n  if (opts.reps) {\n    this._opts.reps = null;\n  }\n  _.merge(this._opts, opts);\n  if (opts.settings) {\n    this.set(opts.settings);\n  }\n\n  this._opts._objects = opts._objects;\n  this._resetObjects();\n\n  if (opts.load) {\n    this.load(opts.load, { fileType: opts.type });\n  }\n\n  if (opts.preset) {\n    settings.now.preset = opts.preset;\n  }\n\n  if (opts.reps) {\n    this.resetReps(opts.preset);\n  }\n\n  if (this._opts.view) {\n    this.view(this._opts.view);\n    delete this._opts.view;\n  }\n\n  const visual = this._getComplexVisual();\n  if (visual) {\n    visual.getComplex().resetCurrentUnit();\n    if (_.isNumber(opts.unit)) {\n      visual.getComplex().setCurrentUnit(opts.unit);\n    }\n    this.resetView();\n    this.rebuildAll();\n  }\n};\n\nMiew.prototype.info = function (name) {\n  const visual = this._getComplexVisual(name);\n  if (!visual) {\n    return {};\n  }\n  const complex = visual.getComplex();\n  const { metadata } = complex;\n  return {\n    id: metadata.id || complex.name || 'UNKNOWN',\n    title: (metadata.title && metadata.title.join(' ')) || 'UNKNOWN DATA',\n    atoms: complex.getAtomCount(),\n    bonds: complex.getBondCount(),\n    residues: complex.getResidueCount(),\n    chains: complex.getChainCount(),\n  };\n};\n\n/*\n   * OBJECTS SEGMENT\n   */\n\nMiew.prototype.addObject = function (objData, bThrow) {\n  let Ctor = null;\n\n  if (objData.type === LinesObject.prototype.type) {\n    Ctor = LinesObject;\n  }\n\n  if (Ctor === null) {\n    throw new Error(`Unknown scene object type - ${objData.type}`);\n  }\n\n  try {\n    const newObj = new Ctor(objData.params, objData.opts);\n    this._addSceneObject(newObj);\n  } catch (error) {\n    if (!bThrow) {\n      this.logger.debug(`Error during scene object creation: ${error.message}`);\n    } else {\n      throw error;\n    }\n  }\n  this._needRender = true;\n};\n\nMiew.prototype._addSceneObject = function (sceneObject) {\n  const visual = this._getComplexVisual();\n  if (sceneObject.build && visual) {\n    sceneObject.build(visual.getComplex());\n    this._gfx.pivot.add(sceneObject.getGeometry());\n  }\n  const objects = this._objects;\n  objects[objects.length] = sceneObject;\n};\n\nMiew.prototype._updateObjsToFrame = function (frameData) {\n  const objs = this._objects;\n  for (let i = 0, n = objs.length; i < n; ++i) {\n    if (objs[i].updateToFrame) {\n      objs[i].updateToFrame(frameData);\n    }\n  }\n};\n\nMiew.prototype._resetObjects = function () {\n  const objs = this._opts._objects;\n\n  this._objects = [];\n  if (objs) {\n    for (let i = 0, n = objs.length; i < n; ++i) {\n      this.addObject(objs[i], false);\n    }\n  }\n};\n\nMiew.prototype.removeObject = function (index) {\n  const obj = this._objects[index];\n  if (!obj) {\n    throw new Error(`Scene object with index ${index} does not exist`);\n  }\n  obj.destroy();\n  this._objects.splice(index, 1);\n  this._needRender = true;\n};\n\n/**\n * Get a string with a URL to reproduce the current scene.\n *\n * @param {boolean} [opts.compact=true] - set this flag to false if you want to include full\n * preset information regardless of the differences with settings\n * @param {boolean} [opts.settings=false] - when this flag is true, changes in settings are included\n * @param {boolean} [opts.view=false] - when this flag is true, a view information is included\n * @returns {string} URL\n */\nMiew.prototype.getURL = function (opts) {\n  return options.toURL(this.getState(_.defaults(opts, {\n    compact: true,\n    settings: false,\n    view: false,\n  })));\n};\n\n/**\n * Get a string with a script to reproduce the current scene.\n *\n * @param {boolean} [opts.compact=true] - set this flag to false if you want to include full\n * preset information regardless of the differences with settings\n * @param {boolean} [opts.settings=true] - when this flag is true, changes in settings are included\n * @param {boolean} [opts.view=true] - when this flag is true, a view information is included\n * @returns {string} script\n */\nMiew.prototype.getScript = function (opts) {\n  return options.toScript(this.getState(_.defaults(opts, {\n    compact: true,\n    settings: true,\n    view: true,\n  })));\n};\n\n/*\n   * Generates object that represents the current state of representations list\n   * @param {boolean} compareWithDefaults - when this flag is true, reps list is compared (if possible)\n   * to preset's defaults and only diffs are generated\n   */\nMiew.prototype._compareReps = function (complexVisual, compareWithDefaults) {\n  const ans = {};\n  let repCount = 0;\n\n  if (complexVisual) {\n    repCount = complexVisual.repCount();\n  }\n\n  const currPreset = settings.defaults.presets[settings.now.preset];\n  let compare = compareWithDefaults;\n  if (currPreset === undefined || currPreset.length > repCount) {\n    compare = false;\n    ans.preset = 'empty';\n  } else if (settings.now.preset !== settings.defaults.preset) {\n    ans.preset = settings.now.preset;\n  }\n\n  const repsDiff = [];\n  let emptyReps = true;\n  for (let i = 0, n = repCount; i < n; ++i) {\n    repsDiff[i] = complexVisual.repGet(i).compare(compare ? currPreset[i] : null);\n    if (!_.isEmpty(repsDiff[i])) {\n      emptyReps = false;\n    }\n  }\n  if (!emptyReps) {\n    ans.reps = repsDiff;\n  }\n  return ans;\n};\n\n/*\n   * Obtain object that represents current state of miew (might be used as options in constructor).\n   * @param {boolean} [opts.compact=true] - set this flag to false if you want to include full\n   * preset information regardless of the differences with settings\n   * @param {boolean} [opts.settings=false] - when this flag is true, changes in settings are included\n   * @param {boolean} [opts.view=false] - when this flag is true, a view information is included\n   * @returns {Object} State object.\n   */\nMiew.prototype.getState = function (opts) {\n  const state = {};\n\n  opts = _.defaults(opts, {\n    compact: true,\n    settings: false,\n    view: false,\n  });\n\n  // load\n  const visual = this._getComplexVisual();\n  if (visual !== null) {\n    const complex = visual.getComplex();\n    const { metadata } = complex;\n    if (metadata.id) {\n      const format = metadata.format ? `${metadata.format}:` : '';\n      state.load = format + metadata.id;\n    }\n    const unit = complex.getCurrentUnit();\n    if (unit !== 1) {\n      state.unit = unit;\n    }\n  }\n\n  // representations\n  const repsInfo = this._compareReps(visual, opts.compact);\n  if (repsInfo.preset) {\n    state.preset = repsInfo.preset;\n  }\n\n  if (repsInfo.reps) {\n    state.reps = repsInfo.reps;\n  }\n\n  // objects\n  const objects = this._objects;\n  const objectsState = [];\n  for (let i = 0, n = objects.length; i < n; ++i) {\n    objectsState[i] = objects[i].identify();\n  }\n  if (objects.length > 0) {\n    state._objects = objectsState;\n  }\n\n  // view\n  if (opts.view) {\n    state.view = this.view();\n  }\n\n  // settings\n  if (opts.settings) {\n    const diff = this.settings.getDiffs(false);\n    if (!_.isEmpty(diff)) {\n      state.settings = diff;\n    }\n  }\n\n  return state;\n};\n\n/**\n * Get parameter value.\n * @param {string} param - Parameter name or path (e.g. 'modes.BS.atom').\n * @param {*=} value - Default value.\n * @returns {*} Parameter value.\n */\nMiew.prototype.get = function (param, value) {\n  return settings.get(param, value);\n};\n\nMiew.prototype._clipPlaneUpdateValue = function (radius) {\n  const clipPlaneValue = Math.max(\n    this._gfx.camera.position.z - radius * settings.now.draft.clipPlaneFactor,\n    settings.now.camNear,\n  );\n\n  const opts = { clipPlaneValue };\n  this._forEachComplexVisual((visual) => {\n    visual.setUberOptions(opts);\n  });\n  for (let i = 0, n = this._objects.length; i < n; ++i) {\n    const obj = this._objects[i];\n    if (obj._line) {\n      obj._line.material.setUberOptions(opts);\n    }\n  }\n  if (this._picker !== null) {\n    this._picker.clipPlaneValue = clipPlaneValue;\n  }\n};\n\nMiew.prototype._fogFarUpdateValue = function () {\n  if (this._picker !== null) {\n    if (this._gfx.scene.fog) {\n      this._picker.fogFarValue = this._gfx.scene.fog.far;\n    } else {\n      this._picker.fogFarValue = undefined;\n    }\n  }\n};\n\nMiew.prototype._updateShadowmapMeshes = function (process) {\n  this._forEachComplexVisual((visual) => {\n    const reprList = visual._reprList;\n    for (let i = 0, n = reprList.length; i < n; ++i) {\n      const repr = reprList[i];\n      process(repr.geo, repr.material);\n    }\n  });\n};\n\nMiew.prototype._updateMaterials = function (values, needTraverse = false, process = undefined) {\n  this._forEachComplexVisual((visual) => visual.setMaterialValues(values, needTraverse, process));\n  for (let i = 0, n = this._objects.length; i < n; ++i) {\n    const obj = this._objects[i];\n    if (obj._line) {\n      obj._line.material.setValues(values);\n      obj._line.material.needsUpdate = true;\n    }\n  }\n};\n\nMiew.prototype._fogAlphaChanged = function () {\n  this._forEachComplexVisual((visual) => {\n    visual.setUberOptions({\n      fogAlpha: settings.now.fogAlpha,\n    });\n  });\n};\n\nMiew.prototype._embedWebXR = function () {\n  // switch off\n  if (settings.now.stereo !== 'WEBVR') {\n    if (this.webVR) {\n      this.webVR.disable();\n    }\n    this.webVR = null;\n    return;\n  }\n  // switch on\n  if (!this.webVR) {\n    this.webVR = new WebVRPoC(() => {\n      this._requestAnimationFrame(() => this._onTick());\n      this._needRender = true;\n      this._onResize();\n    });\n  }\n  this.webVR.enable(this._gfx);\n};\n\nMiew.prototype._initOnSettingsChanged = function () {\n  const on = (props, func) => {\n    props = _.isArray(props) ? props : [props];\n    props.forEach((prop) => {\n      this.settings.addEventListener(`change:${prop}`, func);\n    });\n  };\n\n  on('modes.VD.frame', () => {\n    const volume = this._getVolumeVisual();\n    if (volume === null) return;\n\n    volume.showFrame(settings.now.modes.VD.frame);\n    this._needRender = true;\n  });\n\n  on('modes.VD.isoMode', () => {\n    const volume = this._getVolumeVisual();\n    if (volume === null) return;\n\n    volume.getMesh().material.updateDefines();\n    this._needRender = true;\n  });\n\n  on('bg.color', () => {\n    this._onBgColorChanged();\n  });\n\n  on('ao', () => {\n    if (settings.now.ao && !isAOSupported(this._gfx.renderer.getContext())) {\n      this.logger.warn('Your device or browser does not support ao');\n      settings.set('ao', false);\n    } else {\n      const values = { normalsToGBuffer: settings.now.ao };\n      this._setUberMaterialValues(values);\n    }\n  });\n\n  on('zSprites', () => {\n    if (settings.now.zSprites && !arezSpritesSupported(this._gfx.renderer.getContext())) {\n      this.logger.warn('Your device or browser does not support zSprites');\n      settings.set('zSprites', false);\n    }\n  });\n\n  on('fogColor', () => {\n    this._onFogColorChanged();\n  });\n\n  on('fogColorEnable', () => {\n    this._onFogColorChanged();\n  });\n\n  on('bg.transparent', (evt) => {\n    const gfx = this._gfx;\n    if (gfx) {\n      gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n    }\n    // update materials\n    this._updateMaterials({ fogTransparent: evt.value });\n    this.rebuildAll();\n  });\n\n  on('draft.clipPlane', (evt) => {\n    // update materials\n    this._updateMaterials({ clipPlane: evt.value });\n    this.rebuildAll();\n  });\n\n  on('shadow.on', (evt) => {\n    // update materials\n    const values = { shadowmap: evt.value, shadowmapType: settings.now.shadow.type };\n    const gfx = this._gfx;\n    if (gfx) {\n      gfx.renderer.shadowMap.enabled = Boolean(values.shadowmap);\n    }\n    this._updateMaterials(values, true);\n    if (values.shadowmap) {\n      this._updateShadowCamera();\n      this._updateShadowmapMeshes(gfxutils.createShadowmapMaterial);\n    } else {\n      this._updateShadowmapMeshes(gfxutils.removeShadowmapMaterial);\n    }\n    this._needRender = true;\n  });\n\n  on('shadow.type', (evt) => {\n    // update materials if shadowmap is enable\n    if (settings.now.shadow.on) {\n      this._updateMaterials({ shadowmapType: evt.value }, true);\n      this._needRender = true;\n    }\n  });\n\n  on('shadow.radius', (evt) => {\n    for (let i = 0; i < this._gfx.scene.children.length; i++) {\n      if (this._gfx.scene.children[i].shadow !== undefined) {\n        const light = this._gfx.scene.children[i];\n        light.shadow.radius = evt.value;\n        this._needRender = true;\n      }\n    }\n  });\n\n  on('fps', () => {\n    this._fps.show(settings.now.fps);\n  });\n\n  on(['fog', 'fogNearFactor', 'fogFarFactor'], () => {\n    this._updateFog();\n    this._needRender = true;\n  });\n\n  on('fogAlpha', () => {\n    const { fogAlpha } = settings.now;\n    if (fogAlpha < 0 || fogAlpha > 1) {\n      this.logger.warn('fogAlpha must belong range [0,1]');\n    }\n    this._fogAlphaChanged();\n    this._needRender = true;\n  });\n\n  on('autoResolution', (evt) => {\n    if (evt.value && !this._gfxScore) {\n      this.logger.warn('Benchmarks are missed, autoresolution will not work! '\n        + 'Autoresolution should be set during miew startup.');\n    }\n  });\n\n  on('stereo', () => {\n    this._embedWebXR(settings.now.stereo === 'WEBVR');\n    this._needRender = true;\n  });\n\n  on(['transparency', 'palette'], () => {\n    this.rebuildAll();\n  });\n\n  on('resolution', () => {\n    // update complex visuals\n    this.rebuildAll();\n\n    // update volume visual\n    const volume = this._getVolumeVisual();\n    if (volume) {\n      volume.getMesh().material.updateDefines();\n      this._needRender = true;\n    }\n  });\n\n  on(['axes', 'fxaa', 'ao',\n    'outline.on', 'outline.color', 'outline.threshold', 'outline.thickness'], () => {\n    this._needRender = true;\n  });\n};\n\n/**\n * Set parameter value.\n * @param {string|object} params - Parameter name or path (e.g. 'modes.BS.atom') or even settings object.\n * @param {*=} value - Value.\n */\nMiew.prototype.set = function (params, value) {\n  settings.set(params, value);\n};\n\n/**\n * Select atoms with selection string.\n * @param {string} expression - string expression of selection\n * @param {boolean=} append - true to append selection atoms to current selection, false to rewrite selection\n */\nMiew.prototype.select = function (expression, append) {\n  const visual = this._getComplexVisual();\n  if (!visual) {\n    return;\n  }\n\n  let sel = expression;\n  if (_.isString(expression)) {\n    sel = selectors.parse(expression).selector;\n  }\n\n  visual.select(sel, append);\n  this._lastPick = null;\n\n  this._updateInfoPanel();\n  this._needRender = true;\n};\n\nconst VIEW_VERSION = '1';\n\n/**\n * Get or set view info packed into string.\n *\n * **Note:** view is stored for *left-handed* cs, euler angles are stored in radians and *ZXY-order*,\n *\n * @param {string=} expression - Optional string encoded the view\n */\nMiew.prototype.view = function (expression) {\n  const self = this;\n  const { pivot } = this._gfx;\n  let transform = [];\n  const eulerOrder = 'ZXY';\n\n  function encode() {\n    const pos = pivot.position;\n    const scale = self._objectControls.getScale() / settings.now.radiusToFit;\n    const euler = new THREE.Euler();\n    euler.setFromQuaternion(self._objectControls.getOrientation(), eulerOrder);\n    transform = [\n      pos.x, pos.y, pos.z,\n      scale,\n      euler.x, euler.y, euler.z,\n    ];\n    return VIEW_VERSION + utils.arrayToBase64(transform, Float32Array);\n  }\n\n  function decode() {\n    // backwards compatible: old non-versioned view is the 0th version\n    if (expression.length === 40) {\n      expression = `0${expression}`;\n    }\n\n    const version = expression[0];\n    transform = utils.arrayFromBase64(expression.substr(1), Float32Array);\n\n    // apply adapter for old versions\n    if (version !== VIEW_VERSION) {\n      if (version === '0') {\n        // cancel radiusToFit included in old views\n        transform[3] /= 8.0;\n      } else {\n        // do nothing\n        self.logger.warn(`Encoded view version mismatch, stored as ${version} vs ${VIEW_VERSION} expected`);\n        return;\n      }\n    }\n\n    const interpolator = self._interpolator;\n    const srcView = interpolator.createView();\n    srcView.position.copy(pivot.position);\n    srcView.scale = self._objectControls.getScale();\n    srcView.orientation.copy(self._objectControls.getOrientation());\n\n    const dstView = interpolator.createView();\n    dstView.position.set(transform[0], transform[1], transform[2]);\n\n    // hack to make preset views work after we moved centering offset to visual nodes\n    // FIXME should only store main pivot offset in preset\n    if (self._getComplexVisual()) {\n      dstView.position.sub(self._getComplexVisual().position);\n    }\n\n    dstView.scale = transform[3]; // eslint-disable-line prefer-destructuring\n    dstView.orientation.setFromEuler(new THREE.Euler(transform[4], transform[5], transform[6], eulerOrder));\n\n    interpolator.setup(srcView, dstView);\n  }\n\n  if (typeof expression === 'undefined') {\n    return encode();\n  }\n  decode();\n\n  return expression;\n};\n\n/*\n   * Update current view due to viewinterpolator state\n   */\nMiew.prototype._updateView = function () {\n  const self = this;\n  const { pivot } = this._gfx;\n\n  const interpolator = this._interpolator;\n  if (!interpolator.wasStarted()) {\n    interpolator.start();\n  }\n\n  if (!interpolator.isMoving()) {\n    return;\n  }\n\n  const res = interpolator.getCurrentView();\n  if (res.success) {\n    const curr = res.view;\n    pivot.position.copy(curr.position);\n    self._objectControls.setScale(curr.scale * settings.now.radiusToFit);\n    self._objectControls.setOrientation(curr.orientation);\n    this.dispatchEvent({ type: 'transform' });\n    self._needRender = true;\n  }\n};\n\n/**\n * Translate object by vector\n * @param {number} x - translation value (Ang) along model's X axis\n * @param {number} y - translation value (Ang) along model's Y axis\n * @param {number} z - translation value (Ang) along model's Z axis\n */\nMiew.prototype.translate = function (x, y, z) {\n  this._objectControls.translatePivot(x, y, z);\n  this.dispatchEvent({ type: 'transform' });\n  this._needRender = true;\n};\n\n/**\n * Rotate object by Euler angles\n * @param {number} x - rotation angle around X axis in radians\n * @param {number} y - rotation angle around Y axis in radians\n * @param {number} z - rotation angle around Z axis in radians\n */\nMiew.prototype.rotate = function (x, y, z) {\n  this._objectControls.rotate(new THREE.Quaternion().setFromEuler(new THREE.Euler(x, y, z, 'XYZ')));\n  this.dispatchEvent({ type: 'transform' });\n  this._needRender = true;\n};\n\n/**\n * Scale object by factor\n * @param {number} factor - scale multiplier, should greater than zero\n */\nMiew.prototype.scale = function (factor) {\n  if (factor <= 0) {\n    throw new RangeError('Scale should be greater than zero');\n  }\n  this._objectControls.scale(factor);\n  this.dispatchEvent({ type: 'transform' });\n  this._needRender = true;\n};\n\n/**\n * Center view on selection\n * @param {empty | subset | string} selector - defines part of molecule which must be centered (\n * empty - center on current selection;\n * subset - center on picked atom/residue/molecule;\n * string - center on atoms correspond to selection string)\n */\nMiew.prototype.center = function (selector) {\n  // no arguments - center on current selection;\n  if (selector === undefined) {\n    this.setPivotSubset();\n    this._needRender = true;\n    return;\n  }\n  // subset with atom or residue - center on picked atom/residue;\n  if (selector.obj !== undefined && ('atom' in selector.obj || 'residue' in selector.obj)) { // from event with selection\n    if ('atom' in selector.obj) {\n      this.setPivotAtom(selector.obj.atom);\n    } else {\n      this.setPivotResidue(selector.obj.residue);\n    }\n    this._needRender = true;\n    return;\n  }\n  // string - center on atoms correspond to selection string\n  if (selector.obj === undefined && selector !== '') {\n    const sel = selectors.parse(selector);\n    if (sel.error === undefined) {\n      this.setPivotSubset(sel);\n      this._needRender = true;\n      return;\n    }\n  }\n  // empty subset or incorrect/empty string - center on all molecule;\n  this.resetPivot();\n  this._needRender = true;\n};\n\n/**\n * Build selector that contains all atoms within given distance from group of atoms\n * @param {Selector} selector - selector describing source group of atoms\n * @param {number} radius - distance\n * @returns {Selector} selector describing result group of atoms\n */\nMiew.prototype.within = function (selector, radius) {\n  const visual = this._getComplexVisual();\n  if (!visual) {\n    return selectors.None();\n  }\n\n  if (selector instanceof String) {\n    selector = selectors.parse(selector);\n  }\n\n  const res = visual.within(selector, radius);\n  if (res) {\n    visual.rebuildSelectionGeometry();\n    this._needRender = true;\n  }\n  return res;\n};\n\n/**\n * Get atom position in 2D canvas coords\n * @param {string} fullAtomName - full atom name, like A.38.CG\n * @returns {Object} {x, y} or false if atom not found\n */\nMiew.prototype.projected = function (fullAtomName, complexName) {\n  const visual = this._getComplexVisual(complexName);\n  if (!visual) {\n    return false;\n  }\n\n  const atom = visual.getComplex().getAtomByFullname(fullAtomName);\n  if (atom === null) {\n    return false;\n  }\n\n  const pos = atom.position.clone();\n  // we consider atom position to be affected only by common complex transform\n  // ignoring any transformations that may add during editing\n  this._gfx.pivot.updateMatrixWorldRecursive();\n  this._gfx.camera.updateMatrixWorldRecursive();\n  this._gfx.pivot.localToWorld(pos);\n  pos.project(this._gfx.camera);\n\n  return {\n    x: (pos.x + 1.0) * 0.5 * this._gfx.width,\n    y: (1.0 - pos.y) * 0.5 * this._gfx.height,\n  };\n};\n\n/**\n * Replace secondary structure with calculated one.\n *\n * DSSP algorithm implementation is used.\n *\n * Kabsch W, Sander C. 1983. Dictionary of protein secondary structure: pattern recognition of hydrogen-bonded and\n * geometrical features. Biopolymers. 22(12):2577-2637. doi:10.1002/bip.360221211.\n *\n * @param {string=} complexName - complex name\n */\nMiew.prototype.dssp = function (complexName) {\n  const visual = this._getComplexVisual(complexName);\n  if (!visual) {\n    return;\n  }\n  visual.getComplex().dssp();\n\n  // rebuild dependent representations (cartoon or ss-colored)\n  visual._reprList.forEach((rep) => {\n    if (rep.mode.id === 'CA' || rep.colorer.id === 'SS') {\n      rep.needsRebuild = true;\n    }\n  });\n};\n\nMiew.prototype.exportCML = function () {\n  const self = this;\n\n  function extractRotation(m) {\n    const xAxis = new THREE.Vector3();\n    const yAxis = new THREE.Vector3();\n    const zAxis = new THREE.Vector3();\n    m.extractBasis(xAxis, yAxis, zAxis);\n    xAxis.normalize();\n    yAxis.normalize();\n    zAxis.normalize();\n    const retMat = new THREE.Matrix4();\n    retMat.identity();\n    retMat.makeBasis(xAxis, yAxis, zAxis);\n    return retMat;\n  }\n\n  function updateCMLData(complex) {\n    const { root } = self._gfx;\n    const mat = extractRotation(root.matrixWorld);\n    const v4 = new THREE.Vector4(0, 0, 0, 0);\n    const vCenter = new THREE.Vector4(0, 0, 0, 0);\n    let xml = null;\n    let ap = null;\n\n    // update atoms in cml\n    complex.forEachAtom((atom) => {\n      if (atom.xmlNodeRef && atom.xmlNodeRef.xmlNode) {\n        xml = atom.xmlNodeRef.xmlNode;\n        ap = atom.position;\n        v4.set(ap.x, ap.y, ap.z, 1.0);\n        v4.applyMatrix4(mat);\n        xml.setAttribute('x3', v4.x.toString());\n        xml.setAttribute('y3', v4.y.toString());\n        xml.setAttribute('z3', v4.z.toString());\n        xml.removeAttribute('x2');\n        xml.removeAttribute('y2');\n      }\n    });\n    // update stereo groups in cml\n    complex.forEachSGroup((sGroup) => {\n      if (sGroup.xmlNodeRef && sGroup.xmlNodeRef.xmlNode) {\n        xml = sGroup.xmlNodeRef.xmlNode;\n        ap = sGroup.getPosition();\n        v4.set(ap.x, ap.y, ap.z, 1.0);\n        const cp = sGroup.getCentralPoint();\n        if (cp === null) {\n          v4.applyMatrix4(mat);\n        } else {\n          vCenter.set(cp.x, cp.y, cp.z, 0.0);\n          v4.add(vCenter);\n          v4.applyMatrix4(mat); // pos in global space\n          vCenter.set(cp.x, cp.y, cp.z, 1.0);\n          vCenter.applyMatrix4(mat);\n          v4.sub(vCenter);\n        }\n        xml.setAttribute('x', v4.x.toString());\n        xml.setAttribute('y', v4.y.toString());\n        xml.setAttribute('z', v4.z.toString());\n      }\n    });\n  }\n\n  const visual = self._getComplexVisual();\n  const complex = visual ? visual.getComplex() : null;\n  if (complex && complex.originalCML) {\n    updateCMLData(complex);\n\n    // serialize xml structure to string\n    const oSerializer = new XMLSerializer();\n    return oSerializer.serializeToString(complex.originalCML);\n  }\n\n  return null;\n};\n\n/**\n * Reproduce the RCSB PDB Molecule of the Month style by David S. Goodsell\n *\n * @see http://pdb101.rcsb.org/motm/motm-about\n */\nMiew.prototype.motm = function () {\n  settings.set({\n    fogColorEnable: true,\n    fogColor: 0x000000,\n    outline: { on: true, threshold: 0.01 },\n    bg: { color: 0xffffff },\n  });\n\n  this._forEachComplexVisual((visual) => {\n    const rep = [];\n    const complex = visual.getComplex();\n    const palette = palettes.get(settings.now.palette);\n    for (let i = 0; i < complex.getChainCount(); i++) {\n      const curChainName = complex._chains[i]._name;\n      const curChainColor = palette.getChainColor(curChainName);\n      rep[i] = {\n        selector: `chain ${curChainName}`,\n        mode: 'VW',\n        colorer: ['CB', { color: curChainColor, factor: 0.9 }],\n        material: 'FL',\n      };\n    }\n    visual.resetReps(rep);\n  });\n};\n\nMiew.prototype.getMaterials = function () {\n  return materials;\n};\n\nMiew.prototype.getPalettes = function () {\n  return palettes;\n};\n\nMiew.prototype.VERSION = (typeof PACKAGE_VERSION !== 'undefined' && PACKAGE_VERSION) || '0.0.0-dev';\n\n// Uncomment this to get debug trace:\n// Miew.prototype.debugTracer = new utils.DebugTracer(Miew.prototype);\n\n_.assign(Miew, /** @lends Miew */ {\n  VERSION: Miew.prototype.VERSION,\n\n  registeredPlugins: [],\n\n  // export namespaces // TODO: WIP: refactoring external interface\n  chem,\n  io,\n  modes,\n  colorers,\n  materials,\n  palettes,\n  options,\n  settings,\n  utils,\n  gfx: {\n    Representation,\n  },\n\n  /**\n   * Third-party libraries packaged together with Miew.\n   *\n   * @property {object} lodash - [Lodash](https://lodash.com/), a modern JavaScript utility library delivering\n   *   modularity, performance & extras.\n   * @property {object} three - [three.js](https://threejs.org/), JavaScript 3D library.\n   *\n   * @example\n   * var _ = Miew.thirdParty.lodash;\n   * var opts = _.merge({ ... }, Miew.options.fromURL(window.location.search));\n   * var miew = new Miew(opts);\n   */\n  thirdParty: {\n    lodash: _,\n    three: THREE,\n  },\n});\n\nexport default Miew;\n","/* eslint-disable */\n// DO NOT EDIT! Automatically generated from .jison\n/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,60],$V1=[1,62],$V2=[1,63],$V3=[1,65],$V4=[1,66],$V5=[1,67],$V6=[1,68],$V7=[1,69],$V8=[1,80],$V9=[1,72],$Va=[1,73],$Vb=[1,74],$Vc=[1,75],$Vd=[1,99],$Ve=[1,76],$Vf=[1,100],$Vg=[1,79],$Vh=[1,51],$Vi=[1,81],$Vj=[1,82],$Vk=[1,84],$Vl=[1,83],$Vm=[1,85],$Vn=[1,96],$Vo=[1,97],$Vp=[1,98],$Vq=[1,86],$Vr=[1,87],$Vs=[1,64],$Vt=[1,70],$Vu=[1,71],$Vv=[1,77],$Vw=[1,78],$Vx=[1,53],$Vy=[1,54],$Vz=[1,55],$VA=[1,61],$VB=[1,88],$VC=[1,89],$VD=[1,90],$VE=[1,91],$VF=[1,92],$VG=[1,93],$VH=[1,94],$VI=[1,95],$VJ=[1,101],$VK=[1,102],$VL=[1,103],$VM=[1,104],$VN=[1,105],$VO=[1,56],$VP=[1,57],$VQ=[1,58],$VR=[1,59],$VS=[1,115],$VT=[1,111],$VU=[1,114],$VV=[1,112],$VW=[1,113],$VX=[1,118],$VY=[1,117],$VZ=[1,134],$V_=[1,149],$V$=[1,150],$V01=[1,157],$V11=[5,6,7,9,13,14,15,17,18,19,20,23,25,26,27,30,33,34,35,37,38,41,43,45,46,49,52,54,55,56,58,59,62,64,65,66,70,72,74,77,78,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,101],$V21=[5,6,7,9,13,14,15,17,18,19,20,23,25,26,27,30,33,34,35,37,38,41,43,45,46,49,52,54,55,56,58,59,62,64,65,66,70,71,72,74,77,78,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,101],$V31=[5,6,7,9,13,15,17,18,19,20,23,25,26,27,30,33,34,37,38,41,43,45,46,49,52,54,55,56,58,59,62,64,65,66,70,72,82,83,84,85,86,87,88,89,90,91,92,93,94,95],$V41=[5,70,72],$V51=[5,74],$V61=[71,101];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"Program\":3,\"Command\":4,\"EOF\":5,\"RESET\":6,\"BUILD\":7,\"ALL\":8,\"HELP\":9,\"Path\":10,\"MOTM\":11,\"OneArgCommand\":12,\"GET\":13,\"STRING\":14,\"SET\":15,\"Value\":16,\"SET_SAVE\":17,\"SET_RESTORE\":18,\"SET_RESET\":19,\"PRESET\":20,\"AddRepresentation\":21,\"EditRepresentation\":22,\"REMOVE\":23,\"RepresentationReference\":24,\"HIDE\":25,\"SHOW\":26,\"LIST\":27,\"EXPAND_KEY\":28,\"SELECTOR_KEY\":29,\"SELECT\":30,\"AS\":31,\"WordAll\":32,\"SELECTOR\":33,\"WITHIN\":34,\"NUMBER\":35,\"OF\":36,\"MATERIAL\":37,\"IDENTIFIER\":38,\"ModeCMD\":39,\"ColorCMD\":40,\"VIEW\":41,\"BASE_64\":42,\"UNIT\":43,\"DSSP\":44,\"SCALE\":45,\"ROTATE\":46,\"AxesList\":47,\"TRANSLATE\":48,\"CENTER\":49,\"GetURLBranch\":50,\"Screenshot\":51,\"LINE\":52,\"ArgList\":53,\"LISTOBJ\":54,\"REMOVEOBJ\":55,\"URL\":56,\"VIEW_KEY\":57,\"SCREENSHOT\":58,\"LOAD\":59,\"Url\":60,\"FILE_KEY\":61,\"ADD\":62,\"Description\":63,\"REP\":64,\"MODE\":65,\"COLOR\":66,\"Descriptor\":67,\"RepresentationOwnProperty\":68,\"RepresentationOwnPropertyOpts\":69,\"DESC_KEY\":70,\"=\":71,\"DESC_KEY_OPTS\":72,\"AxesArg\":73,\"DESC_KEY_AXES\":74,\"Arg\":75,\"PathWoDescKey\":76,\"HEX\":77,\"BOOL\":78,\"Word\":79,\"CommandSetWoDESC_KEY\":80,\"DescKeys\":81,\"CLEAR\":82,\"FILE_LIST\":83,\"FILE_REGISTER\":84,\"FILE_DELETE\":85,\"PRESET_ADD\":86,\"PRESET_DELETE\":87,\"PRESET_UPDATE\":88,\"PRESET_RENAME\":89,\"PRESET_OPEN\":90,\"CREATE_SCENARIO\":91,\"RESET_SCENARIO\":92,\"DELETE_SCENARIO\":93,\"ADD_SCENARIO_ITEM\":94,\"LIST_SCENARIO\":95,\"PDB_KEY\":96,\"DELAY_KEY\":97,\"PRST_KEY\":98,\"DESCRIPTION_KEY\":99,\"CommandSet\":100,\".\":101,\"PresetPath\":102,\"/\":103,\"HexOrNumber\":104,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",5:\"EOF\",6:\"RESET\",7:\"BUILD\",8:\"ALL\",9:\"HELP\",11:\"MOTM\",13:\"GET\",14:\"STRING\",15:\"SET\",17:\"SET_SAVE\",18:\"SET_RESTORE\",19:\"SET_RESET\",20:\"PRESET\",23:\"REMOVE\",25:\"HIDE\",26:\"SHOW\",27:\"LIST\",28:\"EXPAND_KEY\",29:\"SELECTOR_KEY\",30:\"SELECT\",31:\"AS\",33:\"SELECTOR\",34:\"WITHIN\",35:\"NUMBER\",36:\"OF\",37:\"MATERIAL\",38:\"IDENTIFIER\",41:\"VIEW\",42:\"BASE_64\",43:\"UNIT\",44:\"DSSP\",45:\"SCALE\",46:\"ROTATE\",48:\"TRANSLATE\",49:\"CENTER\",52:\"LINE\",54:\"LISTOBJ\",55:\"REMOVEOBJ\",56:\"URL\",57:\"VIEW_KEY\",58:\"SCREENSHOT\",59:\"LOAD\",61:\"FILE_KEY\",62:\"ADD\",64:\"REP\",65:\"MODE\",66:\"COLOR\",70:\"DESC_KEY\",71:\"=\",72:\"DESC_KEY_OPTS\",74:\"DESC_KEY_AXES\",77:\"HEX\",78:\"BOOL\",82:\"CLEAR\",83:\"FILE_LIST\",84:\"FILE_REGISTER\",85:\"FILE_DELETE\",86:\"PRESET_ADD\",87:\"PRESET_DELETE\",88:\"PRESET_UPDATE\",89:\"PRESET_RENAME\",90:\"PRESET_OPEN\",91:\"CREATE_SCENARIO\",92:\"RESET_SCENARIO\",93:\"DELETE_SCENARIO\",94:\"ADD_SCENARIO_ITEM\",95:\"LIST_SCENARIO\",96:\"PDB_KEY\",97:\"DELAY_KEY\",98:\"PRST_KEY\",99:\"DESCRIPTION_KEY\",101:\".\",103:\"/\"},\nproductions_: [0,[3,2],[3,1],[4,1],[4,1],[4,2],[4,1],[4,2],[4,1],[4,1],[4,2],[4,2],[4,3],[4,3],[4,1],[4,1],[4,1],[4,1],[4,2],[4,1],[4,1],[4,2],[4,2],[4,2],[4,2],[4,1],[4,2],[4,2],[4,2],[4,4],[4,2],[4,6],[4,2],[4,1],[4,1],[4,1],[4,2],[4,2],[4,1],[4,2],[4,1],[4,2],[4,2],[4,2],[4,1],[4,2],[4,1],[4,1],[4,3],[4,3],[4,4],[4,4],[4,1],[4,2],[50,1],[50,2],[50,2],[50,3],[50,3],[51,1],[51,2],[51,3],[12,2],[12,2],[12,2],[21,1],[21,2],[21,2],[21,3],[22,2],[22,3],[39,2],[39,3],[40,2],[40,3],[24,1],[24,1],[63,1],[63,2],[63,3],[63,4],[67,1],[67,1],[67,2],[68,3],[69,3],[47,1],[47,2],[73,2],[53,1],[53,2],[75,3],[16,1],[16,1],[16,1],[16,1],[16,1],[79,1],[79,1],[32,1],[32,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[81,1],[81,1],[81,1],[81,1],[81,1],[81,1],[81,1],[100,1],[100,1],[76,1],[76,3],[76,3],[10,1],[10,1],[10,3],[10,3],[10,3],[60,1],[102,1],[102,3],[104,1],[104,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\n return $$[$0-1]; \nbreak;\ncase 3:\nthis.$ = yy.miew.reset(false); yy.ClearContext(); yy.miew.resetReps(\"empty\");\nbreak;\ncase 4:\nthis.$ = yy.miew.rebuild();\nbreak;\ncase 5:\nthis.$ = yy.miew.rebuildAll(); yy.miew.rebuild();\nbreak;\ncase 6:\nthis.$ = yy.echo(yy.utils.help().toString());\nbreak;\ncase 7:\nthis.$ = yy.echo(yy.utils.help($$[$0]).toString());\nbreak;\ncase 8:\nthis.$ = yy.miew.motm();\nbreak;\ncase 10: case 11:\nthis.$ = yy.utils.propagateProp($$[$0]); yy.echo(yy.miew.get($$[$0]).toString());\nbreak;\ncase 12: case 13:\nthis.$ = yy.miew.set($$[$0-1], yy.utils.propagateProp($$[$0-1], $$[$0]));;\nbreak;\ncase 14:\nthis.$ = yy.miew.saveSettings();;\nbreak;\ncase 15:\nthis.$ = yy.miew.restoreSettings();;\nbreak;\ncase 16:\nthis.$ = yy.miew.resetSettings();;\nbreak;\ncase 17:\nthis.$ = yy.miew.resetReps();\nbreak;\ncase 18:\nthis.$ = yy.miew.applyPreset($$[$0]);\nbreak;\ncase 21:\nthis.$ = yy.miew.repRemove($$[$0]); yy.representations.remove($$[$0]);\nbreak;\ncase 22:\nthis.$ = yy.miew.repHide($$[$0]);\nbreak;\ncase 23:\nthis.$ = yy.miew.repHide($$[$0], false);\nbreak;\ncase 24:\nthis.$ = yy.echo(yy.utils.listRep(yy.miew, yy.representations, $$[$0], '-e'));\nbreak;\ncase 25:\nthis.$ = yy.echo(yy.utils.list(yy.miew, yy.representations));\nbreak;\ncase 26:\nthis.$ = yy.echo(yy.utils.list(yy.miew, yy.representations, $$[$0]));\nbreak;\ncase 27:\nthis.$ = yy.echo(yy.utils.listSelector(yy.miew, yy.Context));\nbreak;\ncase 28:\nthis.$ = yy.miew.select(yy.utils.checkArg($$[$0-1].toLowerCase(), $$[$0], true));\nbreak;\ncase 29:\nthis.$ = yy.Context[$$[$0].toLowerCase()] = yy.utils.checkArg($$[$0-3].toLowerCase(), $$[$0-2], true); yy.miew.select(yy.Context[$$[$0].toLowerCase()]);\nbreak;\ncase 30:\nthis.$ = yy.miew.rep(yy.miew.repCurrent(), {selector : yy.utils.checkArg($$[$0-1].toLowerCase(), $$[$0])});\nbreak;\ncase 31:\nthis.$ = yy.Context[$$[$0].toLowerCase()] = yy.miew.within(yy.utils.checkArg(\"select\", $$[$0-2], true), Number($$[$0-4]));\nbreak;\ncase 32:\nthis.$ = yy.miew.rep(yy.miew.repCurrent(), {material : yy.utils.checkArg($$[$0-1].toLowerCase(), $$[$0].toUpperCase())});\nbreak;\ncase 35:\nthis.$ = yy.echo(yy.miew.view());\nbreak;\ncase 36: case 37:\nthis.$ = yy.miew.view($$[$0]);\nbreak;\ncase 38:\nthis.$ = yy.echo(yy.miew.changeUnit());\nbreak;\ncase 39:\nthis.$ = yy.echo(yy.miew.changeUnit($$[$0]));\nbreak;\ncase 40:\nthis.$ = yy.miew.dssp();\nbreak;\ncase 41:\nthis.$ = yy.miew.scale($$[$0]);\nbreak;\ncase 42:\n for (var i = 0, n = $$[$0].length; i < n; i++) {yy.miew.rotate($$[$0][i]['x'] * Math.PI / 180.0, $$[$0][i]['y'] * Math.PI / 180.0, $$[$0][i]['z'] * Math.PI / 180.0)} \nbreak;\ncase 43:\n for (var i = 0, n = $$[$0].length; i < n; i++) {yy.miew.translate($$[$0][i]['x'] || 0, $$[$0][i]['y'] || 0, $$[$0][i]['z'] || 0)} \nbreak;\ncase 44:\nthis.$ = yy.miew.center();\nbreak;\ncase 45:\nthis.$ = yy.miew.center($$[$0]);\nbreak;\ncase 48: case 49:\nthis.$ = yy.miew.addObject({type: 'line', params: [$$[$0-1], $$[$0]]}, true);\nbreak;\ncase 50: case 51:\nthis.$ = yy.miew.addObject({type: 'line', params: [$$[$0-2], $$[$0-1]], opts:$$[$0].toJSO(yy.utils, 'objects', 'line')}, true);\nbreak;\ncase 52:\nthis.$ = yy.echo(yy.utils.listObjs(yy.miew));\nbreak;\ncase 53:\nthis.$ = yy.miew.removeObject($$[$0]);\nbreak;\ncase 54:\nthis.$ = yy.echo(yy.miew.getURL({view: false, settings: false}));\nbreak;\ncase 55:\nthis.$ = yy.echo(yy.miew.getURL({view: false, settings: true}));\nbreak;\ncase 56:\nthis.$ = yy.echo(yy.miew.getURL({view: true,  settings: false}));\nbreak;\ncase 57: case 58:\nthis.$ = yy.echo(yy.miew.getURL({view: true,  settings: true}));\nbreak;\ncase 59:\nthis.$ = yy.miew.screenshotSave();\nbreak;\ncase 60:\nthis.$ = yy.miew.screenshotSave('', Number($$[$0]));\nbreak;\ncase 61:\nthis.$ = yy.miew.screenshotSave('', Number($$[$0-1]), Number($$[$0]));\nbreak;\ncase 62: case 63: case 64:\nthis.$ = yy.utils.load(yy.miew, $$[$0]); yy.representations.clear();\nbreak;\ncase 65:\nthis.$ = yy.echo(yy.representations.add(yy.miew.repAdd()));\nbreak;\ncase 66:\nthis.$ = yy.echo(yy.representations.add($$[$0], yy.miew.repAdd()));\nbreak;\ncase 67:\nthis.$ = yy.echo(yy.representations.add(yy.miew.repAdd($$[$0])));\nbreak;\ncase 68:\nthis.$ = yy.echo(yy.representations.add($$[$0-1], yy.miew.repAdd($$[$0])));\nbreak;\ncase 69:\nthis.$ = yy.miew.rep($$[$0]); yy.miew.repCurrent($$[$0]);\nbreak;\ncase 70:\nthis.$ = yy.miew.rep($$[$0-1], $$[$0]); yy.miew.repCurrent($$[$0-1]);\nbreak;\ncase 71:\nthis.$ = yy.miew.rep(yy.miew.repCurrent(), {mode : yy.utils.checkArg($$[$0-1].toLowerCase(), $$[$0].toUpperCase())});\nbreak;\ncase 72:\nthis.$ = yy.miew.rep(yy.miew.repCurrent(), {mode : new Array(yy.utils.checkArg($$[$0-2].toLowerCase(), $$[$0-1].toUpperCase()), $$[$0].toJSO(yy.utils, $$[$0-2], $$[$0-1].toUpperCase()))});\nbreak;\ncase 73:\nthis.$ = yy.miew.rep(yy.miew.repCurrent(), {colorer : yy.utils.checkArg($$[$0-1].toLowerCase(), $$[$0].toUpperCase())});\nbreak;\ncase 74:\nthis.$ = yy.miew.rep(yy.miew.repCurrent(), {colorer : new Array(yy.utils.checkArg($$[$0-2].toLowerCase(), $$[$0-1].toUpperCase()), $$[$0].toJSO(yy.utils, $$[$0-2], $$[$0-1].toUpperCase()))});\nbreak;\ncase 75:\nthis.$ = Number(yy.representations.get($$[$0]));\nbreak;\ncase 76: case 92:\nthis.$ = Number($$[$0]);\nbreak;\ncase 77:\nthis.$ = $$[$0];\nbreak;\ncase 78:\nthis.$ = yy._.assign($$[$0-1], $$[$0]);\nbreak;\ncase 79:\nthis.$ = yy._.assign($$[$0-2], $$[$0-1], $$[$0]);\nbreak;\ncase 80:\nthis.$ = yy._.assign($$[$0-3], $$[$0-2], $$[$0-1], $$[$0]);\nbreak;\ncase 81: case 82:\nthis.$ = yy.CreateObjectPair($$[$0].key, $$[$0].val);\nbreak;\ncase 83:\nthis.$ = yy.CreateObjectPair($$[$0-1].key, new Array($$[$0-1].val, $$[$0].toJSO(yy.utils, $$[$0-1].key, $$[$0-1].val)));\nbreak;\ncase 84: case 85:\nthis.$ = Object.create({'key': yy.keyRemap($$[$0-2]), 'val': yy.utils.checkArg($$[$0-2], $$[$0])});\nbreak;\ncase 86:\nthis.$ = [$$[$0]];\nbreak;\ncase 87:\nthis.$ = $$[$0-1].concat($$[$0]);\nbreak;\ncase 88:\nthis.$ = yy.CreateObjectPair($$[$0-1].toLowerCase(), Number($$[$0]));\nbreak;\ncase 89:\nthis.$ = new yy.ArgList($$[$0]);\nbreak;\ncase 90:\nthis.$ = $$[$0-1].append($$[$0]);\nbreak;\ncase 91:\nthis.$ = new yy.Arg($$[$0-2], $$[$0]);\nbreak;\ncase 93:\nthis.$ = parseInt($$[$0]);\nbreak;\ncase 94:\nthis.$ = JSON.parse($$[$0]);\nbreak;\ncase 95: case 96:\nthis.$ = String($$[$0]);\nbreak;\ncase 157: case 158: case 161: case 162: case 163:\nthis.$ = $$[$0-2] + $$[$0-1] + $$[$0] //cause of could be color word in path;\nbreak;\ncase 166:\nthis.$ = $$[$0-2] = $$[$0-2] + $$[$0-1] + $$[$0];\nbreak;\n}\n},\ntable: [{3:1,4:2,5:[1,3],6:[1,4],7:[1,5],9:[1,6],11:[1,7],12:8,13:[1,9],15:[1,10],17:[1,11],18:[1,12],19:[1,13],20:[1,14],21:15,22:16,23:[1,17],25:[1,18],26:[1,19],27:[1,20],30:[1,21],33:[1,22],34:[1,23],37:[1,24],39:25,40:26,41:[1,27],43:[1,28],44:[1,29],45:[1,30],46:[1,31],48:[1,32],49:[1,33],50:34,51:35,52:[1,36],54:[1,37],55:[1,38],56:[1,44],58:[1,45],59:[1,39],62:[1,40],64:[1,41],65:[1,42],66:[1,43]},{1:[3]},{5:[1,46]},{1:[2,2]},{5:[2,3]},{5:[2,4],8:[1,47]},{5:[2,6],6:$V0,7:$V1,9:$V2,10:48,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:49,80:52,81:50,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR},{5:[2,8]},{5:[2,9]},{6:$V0,7:$V1,9:$V2,10:106,13:$V3,14:[1,107],15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:49,80:52,81:50,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR},{6:$V0,7:$V1,9:$V2,10:108,13:$V3,14:[1,109],15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:49,80:52,81:50,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR},{5:[2,14]},{5:[2,15]},{5:[2,16]},{5:[2,17],14:$VS,16:110,35:$VT,38:$VU,77:$VV,78:$VW},{5:[2,19]},{5:[2,20]},{24:116,35:$VX,38:$VY},{24:119,35:$VX,38:$VY},{24:120,35:$VX,38:$VY},{5:[2,25],24:121,28:[1,122],29:[1,123],35:$VX,38:$VY},{14:[1,124]},{14:[1,125]},{35:[1,126]},{38:[1,127]},{5:[2,33]},{5:[2,34]},{5:[2,35],14:[1,128],42:[1,129]},{5:[2,38],35:[1,130]},{5:[2,40]},{35:[1,131]},{47:132,73:133,74:$VZ},{47:135,73:133,74:$VZ},{5:[2,44],14:[1,136]},{5:[2,46]},{5:[2,47]},{6:$V0,7:$V1,9:$V2,10:138,13:$V3,14:[1,137],15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:49,80:52,81:50,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR},{5:[2,52]},{35:[1,139]},{14:[1,143],38:[1,141],60:140,61:[1,142]},{5:[2,65],38:[1,144],63:145,67:146,68:147,69:148,70:$V_,72:$V$},{24:151,35:$VX,38:$VY},{38:[1,152]},{38:[1,153]},{5:[2,54],29:[1,154],57:[1,155]},{5:[2,59],35:[1,156]},{1:[2,1]},{5:[2,5]},{5:[2,7],101:$V01},o($V11,[2,159]),o($V11,[2,160]),o($V21,[2,97]),o($V21,[2,98]),o($V11,[2,147]),o($V11,[2,148]),o($V11,[2,149]),o($V11,[2,150]),o($V11,[2,151]),o($V11,[2,152]),o($V11,[2,153]),o($V21,[2,101]),o($V21,[2,102]),o($V21,[2,103]),o($V21,[2,104]),o($V21,[2,105]),o($V21,[2,106]),o($V21,[2,107]),o($V21,[2,108]),o($V21,[2,109]),o($V21,[2,110]),o($V21,[2,111]),o($V21,[2,112]),o($V21,[2,113]),o($V21,[2,114]),o($V21,[2,115]),o($V21,[2,116]),o($V21,[2,117]),o($V21,[2,118]),o($V21,[2,119]),o($V21,[2,120]),o($V21,[2,121]),o($V21,[2,122]),o($V21,[2,123]),o($V21,[2,124]),o($V21,[2,125]),o($V21,[2,126]),o($V21,[2,127]),o($V21,[2,128]),o($V21,[2,129]),o($V21,[2,130]),o($V21,[2,131]),o($V21,[2,132]),o($V21,[2,133]),o($V21,[2,134]),o($V21,[2,135]),o($V21,[2,136]),o($V21,[2,137]),o($V21,[2,138]),o($V21,[2,139]),o($V21,[2,140]),o($V21,[2,141]),o($V21,[2,142]),o($V21,[2,143]),o($V21,[2,144]),o($V21,[2,145]),o($V21,[2,146]),{5:[2,10],101:$V01},{5:[2,11]},{14:$VS,16:158,35:$VT,38:$VU,77:$VV,78:$VW,101:$V01},{14:$VS,16:159,35:$VT,38:$VU,77:$VV,78:$VW},{5:[2,18]},o($V31,[2,92]),o($V31,[2,93]),o($V31,[2,94]),o($V31,[2,95]),o($V31,[2,96]),{5:[2,21]},o($V41,[2,75]),o($V41,[2,76]),{5:[2,22]},{5:[2,23]},{5:[2,24]},{5:[2,26]},{5:[2,27]},{5:[2,28],31:[1,160]},{5:[2,30]},{36:[1,161]},{5:[2,32]},{5:[2,36]},{5:[2,37]},{5:[2,39]},{5:[2,41]},{5:[2,42],73:162,74:$VZ},o($V51,[2,86]),{35:[1,163]},{5:[2,43],73:162,74:$VZ},{5:[2,45]},{14:[1,164]},{6:$V0,7:$V1,9:$V2,10:165,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:49,80:52,81:50,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR,101:$V01},{5:[2,53]},{5:[2,62]},{5:[2,63]},{5:[2,64]},{5:[2,164]},{5:[2,66],63:166,67:146,68:147,69:148,70:$V_,72:$V$},{5:[2,67]},{5:[2,77],67:167,68:147,69:148,70:$V_,72:$V$},o($V41,[2,81]),o($V41,[2,82],{80:52,53:168,75:169,76:170,79:171,6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN}),{71:[1,172]},{71:[1,173]},{5:[2,69],63:174,67:146,68:147,69:148,70:$V_,72:$V$},{5:[2,71],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,53:175,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:169,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},{5:[2,73],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,53:176,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:169,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},{5:[2,55],57:[1,177]},{5:[2,56],29:[1,178]},{5:[2,60],35:[1,179]},{6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,35:[1,181],37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:180,80:52,81:182,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR},{5:[2,12]},{5:[2,13]},{6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,32:183,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:184,80:52,81:185,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR},{14:[1,186]},o($V51,[2,87]),o($V51,[2,88]),{5:[2,48],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,53:187,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:169,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},{5:[2,49],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,53:188,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:169,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,101:$V01},{5:[2,68]},{5:[2,78],67:189,68:147,69:148,70:$V_,72:$V$},o($V41,[2,83],{80:52,76:170,79:171,75:190,6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN}),o($V31,[2,89]),{71:[1,191],101:[1,192]},o($V61,[2,156]),{14:$VS,16:193,35:$VT,38:$VU,77:$VV,78:$VW},{14:$VS,16:194,35:$VT,38:$VU,77:$VV,78:$VW},{5:[2,70]},{5:[2,72],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:190,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},{5:[2,74],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:190,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},{5:[2,57]},{5:[2,58]},{5:[2,61]},o($V11,[2,161]),o($V11,[2,162]),o($V11,[2,163]),{5:[2,29]},{5:[2,99]},{5:[2,100]},{31:[1,195]},{5:[2,50],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:190,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},{5:[2,51],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:190,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},{5:[2,79],67:196,68:147,69:148,70:$V_,72:$V$},o($V31,[2,90]),{14:$VS,16:197,35:$VT,38:$VU,77:$VV,78:$VW},{6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,35:[1,199],37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,79:198,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},o($V41,[2,84]),o($V31,[2,85]),{6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,32:200,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:184,80:52,81:185,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR},{5:[2,80]},o($V31,[2,91]),o($V61,[2,157]),o($V61,[2,158]),{5:[2,31]}],\ndefaultActions: {3:[2,2],4:[2,3],7:[2,8],8:[2,9],11:[2,14],12:[2,15],13:[2,16],15:[2,19],16:[2,20],25:[2,33],26:[2,34],29:[2,40],34:[2,46],35:[2,47],37:[2,52],46:[2,1],47:[2,5],107:[2,11],110:[2,18],116:[2,21],119:[2,22],120:[2,23],121:[2,24],122:[2,26],123:[2,27],125:[2,30],127:[2,32],128:[2,36],129:[2,37],130:[2,39],131:[2,41],136:[2,45],139:[2,53],140:[2,62],141:[2,63],142:[2,64],143:[2,164],145:[2,67],158:[2,12],159:[2,13],166:[2,68],174:[2,70],177:[2,57],178:[2,58],179:[2,61],183:[2,29],184:[2,99],185:[2,100],196:[2,80],200:[2,31]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\n\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0:/* ignore whitespace */\nbreak;\ncase 1:return '';\nbreak;\ncase 2:return '';\nbreak;\ncase 3:return 42;\nbreak;\ncase 4:return 35;\nbreak;\ncase 5:return 77;\nbreak;\ncase 6:return 78;\nbreak;\ncase 7:return 78;\nbreak;\ncase 8:return 8;\nbreak;\ncase 9:return 6;\nbreak;\ncase 10:return 82;\nbreak;\ncase 11:return 7;\nbreak;\ncase 12:return 9;\nbreak;\ncase 13:return 59;\nbreak;\ncase 14:return 13\nbreak;\ncase 15:return 15\nbreak;\ncase 16:return 17\nbreak;\ncase 17:return 18\nbreak;\ncase 18:return 19\nbreak;\ncase 19:return 20\nbreak;\ncase 20:return 11\nbreak;\ncase 21:return 62\nbreak;\ncase 22:return 64\nbreak;\ncase 23:return 23\nbreak;\ncase 24:return 25\nbreak;\ncase 25:return 26\nbreak;\ncase 26:return 27\nbreak;\ncase 27:return 30\nbreak;\ncase 28:return 34\nbreak;\ncase 29:return 33\nbreak;\ncase 30:return 65\nbreak;\ncase 31:return 66\nbreak;\ncase 32:return 37\nbreak;\ncase 33:return 41\nbreak;\ncase 34:return 43\nbreak;\ncase 35:return 52\nbreak;\ncase 36:return 54\nbreak;\ncase 37:return 55\nbreak;\ncase 38:return 46\nbreak;\ncase 39:return 48\nbreak;\ncase 40:return 45\nbreak;\ncase 41:return 49\nbreak;\ncase 42:return 56\nbreak;\ncase 43:return 58;\nbreak;\ncase 44:return 44\nbreak;\ncase 45:return 83\nbreak;\ncase 46:return 84\nbreak;\ncase 47:return 85\nbreak;\ncase 48:return 86\nbreak;\ncase 49:return 87\nbreak;\ncase 50:return 88\nbreak;\ncase 51:return 89\nbreak;\ncase 52:return 90\nbreak;\ncase 53:return 91\nbreak;\ncase 54:return 92\nbreak;\ncase 55:return 93\nbreak;\ncase 56:return 94\nbreak;\ncase 57:return 95\nbreak;\ncase 58:return 70\nbreak;\ncase 59:return 70\nbreak;\ncase 60:return 72\nbreak;\ncase 61:return 72\nbreak;\ncase 62:return 74\nbreak;\ncase 63:return 74\nbreak;\ncase 64:return 74\nbreak;\ncase 65:return 31\nbreak;\ncase 66:return 36\nbreak;\ncase 67:return 96\nbreak;\ncase 68:return 97\nbreak;\ncase 69:return 98\nbreak;\ncase 70:return 99\nbreak;\ncase 71:yy_.yytext = yy.utils.unquoteString(yy_.yytext); return 14;\nbreak;\ncase 72:return 38;\nbreak;\ncase 73:return 5;\nbreak;\ncase 74:return 101;\nbreak;\ncase 75:return 103;\nbreak;\ncase 76:return '\\\\';\nbreak;\ncase 77:return 28\nbreak;\ncase 78:return 61\nbreak;\ncase 79:return 29\nbreak;\ncase 80:return 57\nbreak;\ncase 81:return 71\nbreak;\n}\n},\nrules: [/^(?:\\s+)/i,/^(?:[#].*)/i,/^(?:\\/\\/.*)/i,/^(?:([_A-Z0-9\\/\\+]+==))/i,/^(?:-?[0-9]+(\\.[0-9]+)?\\b)/i,/^(?:0[xX][0-9A-F]+\\b)/i,/^(?:false\\b)/i,/^(?:true\\b)/i,/^(?:all\\b)/i,/^(?:reset\\b)/i,/^(?:clear\\b)/i,/^(?:build\\b)/i,/^(?:help\\b)/i,/^(?:load\\b)/i,/^(?:get\\b)/i,/^(?:set\\b)/i,/^(?:set_save\\b)/i,/^(?:set_restore\\b)/i,/^(?:set_reset\\b)/i,/^(?:preset\\b)/i,/^(?:motm\\b)/i,/^(?:add\\b)/i,/^(?:rep\\b)/i,/^(?:remove\\b)/i,/^(?:hide\\b)/i,/^(?:show\\b)/i,/^(?:list\\b)/i,/^(?:select\\b)/i,/^(?:within\\b)/i,/^(?:selector\\b)/i,/^(?:mode\\b)/i,/^(?:color\\b)/i,/^(?:material\\b)/i,/^(?:view\\b)/i,/^(?:unit\\b)/i,/^(?:line\\b)/i,/^(?:listobj\\b)/i,/^(?:removeobj\\b)/i,/^(?:rotate\\b)/i,/^(?:translate\\b)/i,/^(?:scale\\b)/i,/^(?:center\\b)/i,/^(?:url\\b)/i,/^(?:screenshot\\b)/i,/^(?:dssp\\b)/i,/^(?:file_list\\b)/i,/^(?:file_register\\b)/i,/^(?:file_delete\\b)/i,/^(?:preset_add\\b)/i,/^(?:preset_delete\\b)/i,/^(?:preset_update\\b)/i,/^(?:preset_rename\\b)/i,/^(?:preset_open\\b)/i,/^(?:create_scenario\\b)/i,/^(?:reset_scenario\\b)/i,/^(?:delete_scenario\\b)/i,/^(?:add_scenario_item\\b)/i,/^(?:list_scenario\\b)/i,/^(?:s\\b)/i,/^(?:mt\\b)/i,/^(?:m\\b)/i,/^(?:c\\b)/i,/^(?:x\\b)/i,/^(?:y\\b)/i,/^(?:z\\b)/i,/^(?:as\\b)/i,/^(?:of\\b)/i,/^(?:pdb\\b)/i,/^(?:delay\\b)/i,/^(?:prst\\b)/i,/^(?:desc\\b)/i,/^(?:((?:\"(?:\\\\.|[^\\\\\"])*\"|'(?:\\\\.|[^\\\\'])*')))/i,/^(?:([_A-Z0-9]+))/i,/^(?:$)/i,/^(?:\\.)/i,/^(?:\\/)/i,/^(?:\\\\)/i,/^(?:-e\\b)/i,/^(?:-f\\b)/i,/^(?:-s\\b)/i,/^(?:-v\\b)/i,/^(?:=)/i],\nconditions: {\"INITIAL\":{\"rules\":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\nmodule.exports = {parser: parser};\n","import palettes from '../gfx/palettes';\nimport settings from '../settings';\n\nconst modeIdDesc = {\n  $help: [\n    'Rendering mode shortcut',\n    '    BS - balls and sticks mode',\n    '    LN - lines mode',\n    '    LC - licorice mode',\n    '    VW - van der waals mode',\n    '    TR - trace mode',\n    '    TU - tube mode',\n    '    CA - cartoon mode',\n    '    SA - isosurface mode',\n    '    QS - quick surface mode',\n    '    SE - solvent excluded mode',\n    '    TX - text mode',\n  ],\n  BS: {\n    $help: [\n      '   Balls and sticks',\n      '      aromrad = <number> #aromatic radius',\n      '      atom = <number>    #atom radius',\n      '      bond = <number>    #bond radius',\n      '      multibond = <bool> #use multibond',\n      '      showarom = <bool>  #show aromatic',\n      '      space = <number>   #space value\\n',\n    ],\n  },\n  CA: {\n    $help: [\n      '   Cartoon',\n      '      arrow = <number>   #arrow size',\n      '      depth = <number>   #depth of surface',\n      '      heightSegmentsRatio = <number>',\n      '      radius = <number>  #tube radius',\n      '      tension = <number> #',\n      '      width = <number>  #secondary width\\n',\n    ],\n  },\n  LN: {\n    $help: [\n      '   Lines',\n      '      atom = <number>    #atom radius',\n      '      chunkarom = <number>',\n      '      multibond = <bool> #use multibond',\n      '      showarom = <bool>  #show aromatic',\n      '      offsarom = <number>\\n',\n    ],\n  },\n  LC: {\n    $help: [\n      '   Licorice',\n      '      aromrad = <number> #aromatic radius',\n      '      bond = <number>    #bond radius',\n      '      multibond = <bool> #use multibond',\n      '      showarom = <bool>  #show aromatic',\n      '      space = <number>   #space value\\n',\n    ],\n  },\n  VW: {\n    $help: [\n      '   Van der Waals',\n      '      nothing\\n',\n    ],\n  },\n  TR: {\n    $help: [\n      '   Trace',\n      '      radius = <number>  #tube radius\\n',\n    ],\n  },\n  TU: {\n    $help: [\n      '   Tube',\n      '      heightSegmentsRatio = <number>',\n      '      radius = <number>  #tube radius',\n      '      tension = <number> \\n',\n    ],\n  },\n  SA: {\n    $help: [\n      '   Surface',\n      '      zClip = <bool> #clip z plane\\n',\n    ],\n  },\n  QS: {\n    $help: [\n      '   Quick surface',\n      '      isoValue = <number>',\n      '      scale = <number>',\n      '      wireframe = <bool>',\n      '      zClip = <bool> #clip z plane\\n',\n    ],\n  },\n  SE: {\n    $help: [\n      '   Solvent excluded surface',\n      '      zClip = <bool> #clip z plane\\n',\n    ],\n  },\n  TX: {\n    $help: [\n      '   Text mode',\n      '      template = <format string> string that can include \"{{ id }}\"',\n      '          it will be replaced by value, id can be one of next:',\n      '          serial, name, type, sequence, residue, chain, hetatm, water\\n',\n      '      horizontalAlign = <string> {\"left\", \"right\", \"center\"}',\n      '      verticalAlign = <string> {\"top\", \"bottom\", \"middle\"}',\n      '      dx = <number> #offset along x',\n      '      dy = <number> #offset along y',\n      '      dz = <number> #offset along z',\n      '      fg = <string> #text color modificator',\n      '           could be keyword, named color or hex',\n      '      fg = <string> #back color modificator',\n      '           could be keyword, named color or hex',\n      '      showBg = <bool> #if set show background',\n      '           plate under text',\n    ],\n  },\n};\n\nconst colorDesc = {\n  $help: [\n    'Coloring mode shortcut',\n    '    EL - color by element',\n    '    CH - color by chain',\n    '    SQ - color by sequence',\n    '    RT - color by residue type',\n    '    SS - color by secondary structure',\n    '    UN - uniform',\n  ],\n  UN: {\n    $help: [\n      'Parameters of coloring modes customization',\n      '   Uniform',\n      '      color = <number|color> #RGB->HEX->dec\\n',\n    ],\n    color: {\n      $help: Object.keys(palettes.get(settings.now.palette).namedColors).sort().join('\\n'),\n    },\n  },\n};\n\nconst materialDesc = {\n  $help: [\n    'Material shortcut',\n    '    DF - diffuse',\n    '    TR - transparent',\n    '    SF - soft plastic',\n    '    PL - glossy plastic',\n    '    ME - metal',\n    '    GL - glass',\n  ],\n};\n\nconst addRepDesc = {\n  $help: [\n    'Short (packed) representation description as a set of variables',\n    '    s=<EXPRESSION>',\n    '        selector property',\n    '    m=<MODE_ID>[!<PARAMETER>:<VALUE>[,...]]',\n    '        render mode property',\n    '    c=<COLORER_ID>[!<PARAMETER>:<VALUE>[,...]]',\n    '        color mode property',\n    '    mt=<MATERIAL_ID>',\n    '        material property',\n  ],\n  s: {\n    $help: 'Selection expression string as it is in menu->representations->selection',\n  },\n  m: modeIdDesc,\n  c: colorDesc,\n  mt: materialDesc,\n};\n\nconst setGetParameterDesc = {\n  $help: [\n    'Parameters of rendering modes customization: modes',\n    'Parameters of colorer customization: colorers',\n    'Autobuild: autobuild = (<number>|<bool>)',\n  ],\n  modes: modeIdDesc,\n  colorers: colorDesc,\n};\n\nconst help = {\n  $help: [\n    'help (<cmd name>| <path to property>)',\n    'You can get detailed information about command options',\n    '   using \"help cmd.opt.opt.[...]\"\\n',\n    '   you can use one line comments',\n    '   everything started from (#|//) will be skipped',\n    '   Example: >build //some comment\\n',\n    'List of available commands:',\n  ],\n  reset: {\n    $help: [\n      'Reload current object, delete all representations',\n      '    Nothing will work until load new object',\n    ],\n  },\n  load: {\n    $help: [\n      'load (<PDBID>|<URL>|-f [<*.NC FILE URL STRING>])',\n      '    Load new pdb object from selected source',\n    ],\n    PDBID: {\n      $help: 'pdb id in remote molecule database',\n    },\n    URL: {\n      $help: 'url to source file',\n    },\n    f: {\n      $help: [\n        'open file system dialog to fetch local file',\n        'optionally you can determine trajectory file',\n        'via URL for *.top model',\n      ],\n    },\n  },\n  clear: {\n    $help: 'No args. Clear terminal',\n  },\n  add: {\n    $help: [\n      'add [<REP_NAME>] [<DESCRIPTION>]',\n      '    Add new item to representation set with',\n      '    default or <DESCRIPTION> params',\n    ],\n    REP_NAME: {\n      $help: 'Identifier string [_,a-z,A-Z,0-9] can not start from digit',\n    },\n    DESCRIPTION: addRepDesc,\n  },\n  rep: {\n    $help: [\n      'rep [<REP_NAME>|<REP_INDEX>] [<DESCRIPTION>]',\n      '    set current representation by name or index',\n      '    edit current representation by <DESCRIPTION>',\n    ],\n    REP_NAME: {\n      $help: [\n        'Identifier string [_,a-z,A-Z,0-9] can not start from digit',\n        'Must be declared before',\n      ],\n    },\n    REP_INDEX: {\n      $help: 'Index of available representation',\n    },\n    DESCRIPTION: addRepDesc,\n  },\n  remove: {\n    $help: [\n      'remove (<REP_NAME>|<REP_INDEX>)',\n      'Remove representation by name or index',\n    ],\n    REP_NAME: {\n      $help: [\n        'Identifier string [_,a-z,A-Z,0-9] can not start from digit',\n        'Must be declared before',\n      ],\n    },\n    REP_INDEX: {\n      $help: 'Index of available representation',\n    },\n  },\n  selector: {\n    $help: [\n      'selector <EXPRESSION>',\n      '   set selector from EXPRESSION to current representation',\n    ],\n    EXPRESSION: {\n      $help: 'Selection expression string as it is in menu->representations->selection',\n    },\n  },\n  mode: {\n    $help: [\n      'mode <MODE_ID> [<PARAMETER>=<VALUE>...]',\n      '   set rendering mode and apply parameters to current representation',\n    ],\n    MODE_ID: modeIdDesc,\n  },\n  color: {\n    $help: [\n      'color <COLORER_ID> [<PARAMETER>=<VALUE>...]',\n      '   set colorer and apply parameters to current representation',\n    ],\n    COLORER_ID: colorDesc,\n  },\n  material: {\n    $help: [\n      'material <MATERIAL_ID>',\n      '   set material to current representation',\n    ],\n    MATERIAL_ID: materialDesc,\n  },\n  build: {\n    $help: 'build help str',\n    add: {\n      $help: 'build.add',\n      new: {\n        $help: [\n          'add.new',\n          'add.new new line 1',\n          'add.new new line 2',\n          'add.new new line 3',\n        ],\n      },\n    },\n    del: {\n      $help: 'build.del',\n    },\n  },\n  list: {\n    $help: [\n      'list [-e|-s|<REP_NAME>|<REP_INDEX>]',\n      'Print representations if no args print list of representations',\n      '    -e expand list and show all representations',\n      '    -s show all user-registered selectors',\n      '    <REP_NAME>|<REP_INDEX> show only current representation',\n    ],\n  },\n  hide: {\n    $help: [\n      'hide (<REP_NAME>|<REP_INDEX>)',\n      'Hide representation referenced in args',\n    ],\n  },\n  show: {\n    $help: [\n      'show (<REP_NAME>|<REP_INDEX>)',\n      'Show representation referenced in args',\n    ],\n  },\n  get: {\n    $help: [\n      'get <PARAMETER>',\n      'Print <PARAMETER> value',\n      '    <PARAMETER> - path to option use get.PARAMETER to get more info',\n    ],\n    PARAMETER: setGetParameterDesc,\n  },\n  set: {\n    $help: [\n      'set <PARAMETER> <VALUE>',\n      'Set <PARAMETER> with <VALUE>',\n      '    <PARAMETER> - path to option use set.PARAMETER to get more info',\n    ],\n    PARAMETER: setGetParameterDesc,\n  },\n  set_save: {\n    $help: [\n      'set_save',\n      'Save current settings to cookie',\n    ],\n  },\n  set_restore: {\n    $help: [\n      'set_restore',\n      'Load and apply settings from cookie',\n    ],\n  },\n  set_reset: {\n    $help: [\n      'set_reset',\n      'Reset current settings to the defaults',\n    ],\n  },\n  preset: {\n    $help: [\n      'preset [<PRESET>]',\n      'Reset current representation or set preset to <PRESET>',\n    ],\n    PRESET: {\n      $help: [\n        'default',\n        'wire',\n        'small',\n        'macro',\n      ],\n    },\n  },\n  unit: {\n    $help: [\n      'unit [<unit_id>]',\n      'Change current biological structure view. Zero <unit_id> value means asymmetric unit,',\n      'positive values set an assembly with corresponding number.',\n      'Being called with no parameters command prints current unit information.',\n    ],\n  },\n  view: {\n    $help: [\n      'view [<ENCODED_VIEW>]',\n      'Get current encoded view or set if ENCODED_VIEW placed as argument',\n    ],\n    ENCODED_VIEW: {\n      $help: [\n        'encoded view matrix string (binary code)',\n      ],\n    },\n  },\n  rotate: {\n    $help: [\n      'rotate (x|y|z) [<DEGREES>] [(x|y|z) [<DEGREES>]]...',\n      'Rotate scene',\n    ],\n  },\n  scale: {\n    $help: [\n      'scale <SCALE>',\n      'Scale scene',\n    ],\n  },\n  select: {\n    $help: [\n      'select <SELECTOR_STRING> [as <SELECTOR_NAME>]',\n      'Select atoms using selector defined in SELECTOR_STRING',\n      '    and if SELECTOR_NAME is defined register it in viewer',\n      '    you can use it later as a complex selector',\n    ],\n  },\n  within: {\n    $help: [\n      'within <DISTANCE> of <SELECTOR_STRING> as <SELECTOR_NAME>',\n      'Build within named selector',\n      '    DISTANCE        <number>',\n      '    SELECTOR_STRING <string(selection language)>',\n      '    SELECTOR_NAME   <identifier>',\n    ],\n  },\n  url: {\n    $help: [\n      'url [-s] [-v]',\n      'Report URL encoded scene',\n      '    if -s set that include settings in the URL',\n      '    if -v set that include view in the URL',\n    ],\n  },\n  screenshot: {\n    $help: [\n      'screenshot [<WIDTH> [<HEIGHT>]]',\n      'Make a screenshot of the scene',\n      '    WIDTH  <number> in pixels',\n      '    HEIGHT <number> in pixels, equal to WIDTH by default',\n    ],\n  },\n  line: {\n    $help: [\n      'line <first_atom_path> <second_atom_path> [<PARAMETER>=<VALUE>]',\n      'Draw dashed line between two specified atoms',\n    ],\n  },\n  removeobj: {\n    $help: [\n      'removeobj <id>',\n      'Remove scene object by its index. Indices could be obtained by <listobj> command',\n    ],\n  },\n  listobj: {\n    $help: [\n      'listobj',\n      'Display the list of all existing scene objects',\n    ],\n  },\n};\n\nexport default help;\n","import _ from 'lodash';\nimport Miew from './Miew';\nimport { parser as parsercli } from './utils/MiewCLIParser';\nimport clihelp from './utils/MiewCLIHelp';\nimport logger from './utils/logger';\nimport utils from './utils';\n\nconst {\n  chem: { selectors },\n  modes,\n  colorers,\n  materials,\n  palettes,\n  options,\n  settings,\n} = Miew;\n\nfunction None() {\n}\n\nconst NULL = (function () {\n  const obj = new None();\n  return function () {\n    return obj;\n  };\n}());\n\nclass RepresentationMap {\n  constructor() {\n    this.representationMap = {};\n    this.representationID = {};\n  }\n\n  get(strId) {\n    return this.representationMap[strId] || this.representationID[strId] || '<no name>';\n  }\n\n  add(strId, index) {\n    if (strId === -1) {\n      return 'Can not create representation: there is no data';\n    }\n\n    if (index !== undefined) {\n      if (!this.representationMap.hasOwnProperty(strId)) {\n        this.representationMap[strId.toString()] = index;\n        this.representationID[index] = strId.toString();\n      } else {\n        return 'This name has already existed, registered without name';\n      }\n    }\n    return `Representation ${strId} successfully added`;\n  }\n\n  remove(index) {\n    if (index && this.representationID.hasOwnProperty(index)) {\n      delete this.representationMap[this.representationID[index]];\n      delete this.representationID[index];\n    }\n\n    const sortedKeys = Object.keys(this.representationID).sort();\n    for (const i in sortedKeys) {\n      if (sortedKeys.hasOwnProperty(i)) {\n        const id = sortedKeys[i];\n        if (id > index) {\n          this.representationID[id - 1] = this.representationID[id];\n          this.representationMap[this.representationID[id]] -= 1;\n          delete this.representationID[id];\n        }\n      }\n    }\n  }\n\n  clear() {\n    this.representationMap = {};\n    this.representationID = {};\n  }\n}\n\n\nconst representationsStorage = new RepresentationMap();\n\nfunction keyRemap(key) {\n  const keys = {\n    s: 'selector',\n    m: 'mode',\n    c: 'colorer',\n    mt: 'material',\n    mode: 'modes',\n    color: 'colorers',\n    colorer: 'colorers',\n    select: 'selector',\n    material: 'materials',\n    selector: 'selector',\n  };\n  const ans = keys[key];\n  return ans === undefined ? key : ans;\n}\n\nclass CLIUtils {\n  list(miew, repMap, key) {\n    let ret = '';\n    if (miew && repMap !== undefined) {\n      if (key === undefined || key === '-e') {\n        const count = miew.repCount();\n\n        for (let i = 0; i < count; i++) {\n          ret += this.listRep(miew, repMap, i, key);\n        }\n      }\n    }\n    return ret;\n  }\n\n  listRep(miew, repMap, repIndex, key) {\n    let ret = '';\n    const rep = miew.repGet(repIndex);\n    if (!rep) {\n      logger.warn(`Rep ${repIndex} does not exist!`);\n      return ret;\n    }\n    const index = repIndex;\n    const repName = repMap.get(index);\n\n    const { mode, colorer } = rep;\n    const selectionStr = rep.selectorString;\n    const material = rep.materialPreset;\n\n    ret += `#${index} : ${mode.name}${repName === '<no name>' ? '' : `, ${repName}`}\\n`;\n\n    if (key !== undefined) {\n      ret += `    selection : \"${selectionStr}\"\\n`;\n      ret += `    mode      : (${mode.id}), ${mode.name}\\n`;\n      ret += `    colorer   : (${colorer.id}), ${colorer.name}\\n`;\n      ret += `    material  : (${material.id}), ${material.name}\\n`;\n    }\n\n    return ret;\n  }\n\n  listSelector(miew, context) {\n    let ret = '';\n\n    for (const k in context) {\n      if (context.hasOwnProperty(k)) {\n        ret += `${k} : \"${context[k]}\"\\n`;\n      }\n    }\n\n    return ret;\n  }\n\n  listObjs(miew) {\n    const objs = miew._objects;\n\n    if (!objs || !Array.isArray(objs) || objs.length === 0) {\n      return 'There are no objects on the scene';\n    }\n\n    const strList = [];\n    for (let i = 0, n = objs.length; i < n; ++i) {\n      strList[i] = `${i}: ${objs[i].toString()}`;\n    }\n\n    return strList.join('\\n');\n  }\n\n  joinHelpStr(helpData) {\n    if (helpData instanceof Array) {\n      return helpData.join('\\n');\n    }\n    return helpData;\n  }\n\n  help(path) {\n    if (_.isUndefined(path)) {\n      return `${this.joinHelpStr(clihelp.$help)}\\n${_.slice(_.sortBy(_.keys(clihelp)), 1).join(', ')}\\n`;\n    }\n\n    const helpItem = _.get(clihelp, path);\n    return _.isUndefined(helpItem) ? this.help() : `${this.joinHelpStr(helpItem.$help)}\\n`;\n  }\n\n  load(miew, arg) {\n    if (miew === undefined || arg === undefined || arg === '-f') {\n      return;\n    }\n    miew.awaitWhileCMDisInProcess();\n    const finish = () => miew.finishAwaitingCMDInProcess();\n    miew.load(arg).then(finish, finish);\n  }\n\n  checkArg(key, arg, modificate) {\n    if (key !== undefined && arg !== undefined) {\n      if (keyRemap(key) === 'selector') {\n        const res = selectors.parse(arg);\n\n        if (res.error !== undefined) {\n          const selExc = { message: res.error };\n          throw selExc;\n        }\n\n        if (modificate !== undefined && modificate) {\n          return res.selector;\n        }\n        return arg;\n      }\n\n      const modificators = {\n        colorers,\n        modes,\n        materials,\n      };\n\n      let modificator = key;\n      let temp;\n      while (modificator !== temp) {\n        temp = modificator;\n        modificator = keyRemap(temp);\n      }\n\n      if (modificators[modificator].get(arg) === undefined) {\n        const exc = { message: `${arg} is not existed in ${modificator}` };\n        throw exc;\n      }\n      return arg;\n    }\n    return NULL;\n  }\n\n  propagateProp(path, arg) {\n    if (path !== undefined) {\n      let argExc = {};\n      const adapter = options.adapters[typeof _.get(settings.defaults, path)];\n      if (adapter === undefined) {\n        const pathExc = { message: `${path} is not existed` };\n        throw pathExc;\n      }\n\n      if ((path.endsWith('.color') || path.endsWith('.baseColor')\n        || path.endsWith('.EL.carbon')) && typeof arg !== 'number') {\n        arg = palettes.get(settings.now.palette).getNamedColor(arg);\n      }\n\n      if (path.endsWith('.fg') || path.endsWith('.bg')) {\n        if (typeof arg !== 'number') {\n          const val = palettes.get(settings.now.palette).getNamedColor(arg, true);\n          if (val !== undefined) {\n            arg = `0x${val.toString(16)}`;\n          }\n        } else {\n          arg = `0x${arg.toString(16)}`;\n        }\n      }\n\n      if (path.endsWith('.template')) {\n        arg = arg.replace(/\\\\n/g, '\\n');// NOSONAR\n      }\n\n      if (arg !== undefined && adapter(arg) !== arg && adapter(arg) !== (arg > 0)) {\n        argExc = { message: `${path} must be a \"${typeof _.get(settings.defaults, path)}\"` };\n        throw argExc;\n      }\n    }\n    return arg;\n  }\n\n  unquoteString(value) {\n    return utils.unquoteString(value);\n  }\n}\n// repIndexOrRepMap could be RepresentationMap or index\n\n\nconst utilFunctions = new CLIUtils();\n\nfunction CreateObjectPair(a, b) {\n  const obj = {};\n  obj[a] = b;\n  return obj;\n}\n\nfunction ArgList(arg) {\n  if (arg instanceof this.constructor) {\n    return arg;\n  }\n  if (arg instanceof Array) {\n    this._values = arg.slice(0);\n  } else if (arg) {\n    this._values = [arg];\n  } else {\n    this._values = [];\n  }\n}\n\nArgList.prototype.append = function (value) {\n  const values = this._values;\n  values[values.length] = value;\n  return this;\n};\n\nArgList.prototype.remove = function (value) {\n  const values = this._values;\n  const index = values.indexOf(value);\n  if (index >= 0) {\n    values.splice(index, 1);\n  }\n  return this;\n};\n\nArgList.prototype.toJSO = function (cliUtils, cmd, arg) {\n  const res = {};\n\n  const list = this._values;\n  for (let i = 0, n = list.length; i < n; ++i) {\n    _.set(res, list[i].id, cliUtils.propagateProp(`${keyRemap(cmd)}.${arg}.${list[i].id}`, list[i].val));\n  }\n\n  return res;\n};\n\nfunction Arg(_id, _val) {\n  this.id = _id;\n  this.val = _val;\n}\n\nconst cliutils = Object.create({});\n\ncliutils.Arg = Arg;\ncliutils.ArgList = ArgList;\n\ncliutils.miew = null;\ncliutils.echo = null;\ncliutils.representations = representationsStorage;\ncliutils.utils = utilFunctions;\n\ncliutils._ = _;\ncliutils.CreateObjectPair = CreateObjectPair;\ncliutils.keyRemap = keyRemap;\ncliutils.Context = selectors.Context;\ncliutils.ClearContext = selectors.ClearContext;\n\ncliutils.NULL = NULL;\n\ncliutils.notimplemented = function () {\n  return this.NULL;\n};\n\nMiew.prototype.script = function (script, _printCallback, _errorCallback) {\n  parsercli.yy.miew = this;\n  parsercli.yy.echo = _printCallback;\n  parsercli.yy.error = _errorCallback;\n  if (this.cmdQueue === undefined) {\n    this.cmdQueue = [];\n  }\n\n  if (this.commandInAction === undefined) {\n    this.commandInAction = false;\n  }\n\n  this.cmdQueue = this.cmdQueue.concat(script.split('\\n'));\n};\n\nMiew.prototype.awaitWhileCMDisInProcess = function () {\n  this.commandInAction = true;\n};\n\nMiew.prototype.finishAwaitingCMDInProcess = function () {\n  this.commandInAction = false;\n};\n\nMiew.prototype.isScriptingCommandAvailable = function () {\n  return this.commandInAction !== undefined\n         && !this.commandInAction\n         && this.cmdQueue !== undefined\n         && this.cmdQueue.length > 0;\n};\n\nMiew.prototype.callNextCmd = function () {\n  if (this.isScriptingCommandAvailable()) {\n    const cmd = this.cmdQueue.shift();\n\n    const res = {};\n    res.success = false;\n    try {\n      parsercli.parse(cmd);\n      res.success = true;\n    } catch (e) {\n      res.error = e.message;\n      parsercli.yy.error(res.error);\n      this.finishAwaitingCMDInProcess();\n    }\n    return res;\n  }\n  return '';\n};\n\nparsercli.yy = cliutils;\n// workaround for incorrect JISON parser generator for AMD module\nparsercli.yy.parseError = parsercli.parseError;\n"],"names":["this","Timer","startTime","oldTime","elapsedTime","running","now","getElapsedTime","update","delta","newTime","p","window","performance","bind","Date","createElement","tag","id","css","element","document","style","cssText","Stats","domElement","_text","appendChild","_startTime","_prevTime","_deltas","Array","_index","_total","_count","time","length","ms","fps","textContent","toPrecision","end","on","undefined","display","_typeof","isUndefOrEqual","param","value","EventDispatcher","_handlers","prototype","addEventListener","type","callback","context","handlers","params","_checkPar","par","_","find","push","removeEventListener","self","forEach","handler","ev","remove","values","omitBy","dispatchEvent","event","apply","priorities","debug","info","report","warn","error","Logger","call","console","_priority","Object","create","constructor","instantiate","verify","number","isNumber","Error","defineProperty","get","findKey","set","level","levels","keys","message","priority","_message","String","output","log","browserType","DEFAULT","SAFARI","encodeQueryComponent","text","excludeExp","encode","code","fromCharCode","parseInt","substr","encodeURIComponent","replace","decodeQueryComponent","decodeURIComponent","getUrlParameters","url","location","search","query","substring","indexOf","result","match","exec","getUrlParametersAsDict","a","i","key","resolveURL","str","URL","href","anchor","generateRegExp","symbolStr","symbolList","n","charCodeAt","toString","listStr","join","RegExp","attrs","content","setAttribute","child","createTextNode","HTMLElement","deriveClass","cls","base","members","statics","assign","deriveDeep","obj","needZeroOwnProperties","res","copy","hexColor","color","hex","DebugTracer","namespace","enabled","enable","indent","methods","wrap","method_","name_","spaces","logger","args","name","method","Function","OutOfMemoryError","allocateTyped","TypedArrayName","size","e","RangeError","bytesToBase64","buffer","bytes","Uint8Array","binary","byteLength","btoa","bytesFromBase64","atob","arrayToBase64","array","TypedArrayClass","arrayFromBase64","slice","compareOptionsWithDefaults","opts","defOpts","optsStr","isAlmostPlainObject","o","isPlainObject","proto","getPrototypeOf","hasOwnProperty","objectsDiff","src","dst","diff","forIn","srcValue","dstValue","deepDiff","isEmpty","isEqual","forInRecursive","object","iterateThrough","prefix","newPref","enquoteString","isString","unquoteString","SyntaxError","getFileExtension","fileName","Math","max","lastIndexOf","Infinity","splitFileName","ext","dataUrlToBlob","parts","split","partsCount","Blob","getBrowser","navigator","vendor","userAgent","shotOpen","open","write","shotDownload","dataUrl","filename","msSaveBlob","link","download","innerHTML","createObjectURL","body","click","removeChild","data","blobData","copySubArrays","indices","itemSize","j","shallowCloneNode","node","newNode","cloneNode","worldPos","unquotedStringRE","enquoteHelper","correctSelectorIdentifier","test","concatTypedArraysUnsafe","first","second","mergeTypedArraysUnsafe","reduce","acc","cur","start","count","JobHandle","_shouldCancel","slaveEvent","VERSION","defaults","modes","BS","atom","bond","space","multibond","aromrad","showarom","polyComplexity","poor","low","medium","high","ultra","VW","LN","offsarom","chunkarom","lineWidth","LC","SA","zClip","probeRadius","subset","wireframe","SE","QS","isoValue","gaussLim","scale","gridSpacing","CS","probePositions","TR","radius","TU","heightSegmentsRatio","tension","CA","depth","ss","helix","width","arrow","strand","TX","template","horizontalAlign","verticalAlign","dx","dy","dz","fg","bg","showBg","VD","kSigma","kSigmaMed","kSigmaMax","frame","isoMode","colorers","EL","carbon","UN","CO","baseColor","CB","factor","SQ","gradient","TM","min","OC","HY","MO","antialias","camFov","camNear","camFar","camDistance","radiusToFit","fogNearFactor","fogFarFactor","fogAlpha","fogColor","fogColorEnable","palette","resolution","autoResolution","autoPreset","preset","presets","mode","colorer","selector","material","empty","wire","small","macro","objects","line","dashSize","gapSize","transparent","draft","clipPlane","clipPlaneFactor","clipPlaneSpeed","plugins","axes","fog","zSprites","isoSurfaceFakeOpacity","suspendRender","nowater","autobuild","fxaa","outline","threshold","thickness","ao","shadow","autoRotation","maxfps","fbxprec","autoRotationAxisFixed","zooming","picking","pick","editing","aromatic","singleUnit","stereo","interpolateViews","transparency","translationSpeed","spinner","example","good","ssaoKernelRadius","ssaoFactor","stereoBarrel","use","multiFile","Settings","old","_changed","reset","utils","path","oldValue","_notifyChange","merge","_notifyChanges","defaultValue","cloneDeep","checkpoint","deepValue","deepPath","changed","filter","applyDiffs","diffs","getDiffs","versioned","setPluginOpts","plugin","repIndex","asBoolean","toLowerCase","adapters","string","Number","cL1Ass","cOptsSep","cL2Ass","cLSep","cCommonIgnoreSymbols","getLevel1ExcludedExpr","cLevel1Ignores","getLevel2ExcludedExpr","cLevel2Ignores","cL1ExclExpr","encodeQueryComponentL1","cL2ExclExpr","encodeQueryComponentL2","ensureRepList","reps","settings","ensureRepAssign","prop","rep","addObject","options","_objects","newOpts","newObj","parseParams","sep","extractArgs","input","defaultsDict","bang","inputVal","arg","pair","adapter","actions","l","load","t","v","view","u","unit","menu","isArray","r","s","select","m","c","mt","materials","dup","ar","_fromArray","entries","entry","action","isFunction","fromAttr","attr","fromURL","_processOptsForURL","_processArgsForURL","_processObjForURL","objOpts","toURL","stringList","idx","checkAndAdd","addReps","repList","addObjects","objList","protocol","host","pathname","_processOptsForScript","_processArgsForScript","_processObjForScript","map","_processRepsForScript","index","repString","strIdx","localAdd","toScript","commandsList","command","saveQuotes","quote","trim","Atom","residue","position","role","het","serial","occupancy","temperature","charge","mask","hydrogenCount","radicalCount","valence","bonds","flags","Flags","HYDROGEN","CARBON","process","_chain","getName","_sequence","NONPOLARH","Element","fullName","weight","radiusBonding","hValency","hydrogenValency","U1","Lead","U2","Wing","U18","N","Constants","C","O","SG","D","T","byAtomicNumber","ByAtomicNumber","byName","ByName","getByName","cBondTypes","UNKNOWN","COVALENT","AROMATIC","getAtomPos","Bond","left","right","order","fixed","_left","_right","_fixed","_order","_type","distanceTo","currAtom","_forEachNeighbour","l2Atom","refPoint","currDir","posGetter","rightCount","leftCount","tmpVec","clone","checkDir","sub","dotProd","dot","checkCarbon","stages","forEachLevelOne","forEachLevelTwo","stageId","multiplyScalar","third","maxNeibs","another","secondPos","firstV","secondV","crossVectors","lengthSq","normalize","_fixDir","BondType","cNucleicControlNames","cNucleicWing1Names","cNucleicWing2Names","cCylinderSource","cCylinderTarget","types","atoms","Residue","chain","sequence","icode","_component","_icode","_mask","_atoms","_secondary","_firstAtom","_leadAtom","_wingAtom","_lastAtom","_controlPoint","_midPoint","_wingVector","_cylinders","_isValid","_het","_molecule","xyz","altLoc","tempFactor","complex","getComplex","addAtom","forEachAtom","names","_findAtomByName","_name","next","getAtomPosition","leadAtom","_findFirstAtomInList","wingStart","wingEnd","cylSource","targetList","getCylinderTargetList","cylTarget","prevLeadPos","currLeadPos","prevWingPos","prevWing","vectorA","vectorB","needToNegate","abs","angleTo","PI","negate","prevRes","prev","nextRes","chainAsNucleic","bFirstInChain","lp","THREE","x","y","z","_detectLeadWing","lerp","calcWing","asNucleic","_innerFinalize","anotherResidue","tempCount","occupCount","ResidueType","letterCode","_fullName","ALA","ARG","ASN","ASP","CYS","GLN","GLU","GLY","HIS","ILE","LEU","LYS","MET","PHE","PRO","PYL","SEC","SER","THR","TRP","TYR","VAL","A","G","I","U","DA","DC","DG","DI","DT","DU","WAT","H2O","HOH","DOD","UNK","UNL","PROTEIN","BASIC","ACIDIC","POLAR","NONPOLAR","NUCLEIC","PURINE","PYRIMIDINE","DNA","RNA","WATER","_addFlag","flag","list","StandardTypes","hydro","_addParam","ChainType","Chain","_complex","_residues","minSequence","POSITIVE_INFINITY","maxSequence","NEGATIVE_INFINITY","residues","seqNum","iCode","_determineType","curr","_finalize2","frameData","prevData","frameRes","currData","getResidueType","addResidueType","addResidue","StructuralElement","init","term","generic","genericByType","serialAtomMap","residueHash","splitUnifiedSerial","chainId","serialId","hashCode","getUnifiedSerial","Type","STRAND","BRIDGE","HELIX_310","HELIX_ALPHA","HELIX_PI","HELIX","TURN_310","TURN_ALPHA","TURN_PI","TURN","BEND","COIL","Generic","LOOP","StructuralElementType","StructuralElementGeneric","typeByPDBHelixClass","Helix","helixClass","comment","Strand","sheet","sense","atomCur","atomPrev","as","isNaN","Sheet","_width","_strands","_finalize","SGroup","saveNode","_id","_position","_charge","_repeat","_center","xmlNodeRef","nLimon","bLow","bHight","aPos","addVectors","parser","k","$V0","$V1","$V2","$V3","$V4","$V5","$V6","$V7","$V8","$V9","$Va","$Vb","$Vc","$Vd","trace","yy","symbols_","terminals_","productions_","performAction","anonymous","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","keyword","GetSelector","RangeList","append","Range","ValueList","table","defaultActions","parseError","hash","recoverable","parse","stack","tstack","vstack","lstack","TERROR","EOF","arguments","lexer","sharedState","setInput","yylloc","yyloc","ranges","lex","token","pop","symbol","state","yyval","len","newState","expected","errStr","showPosition","loc","first_line","last_line","first_column","last_column","range","concat","_input","_more","_backtrack","done","matched","conditionStack","offset","ch","lines","unput","oldLines","more","reject","backtrack_lexer","less","pastInput","past","upcomingInput","pre","test_match","indexed_rule","backup","matches","tempMatch","rules","_currentRules","flex","begin","condition","popState","conditions","topState","pushState","stateStackSize","yy_","$avoiding_name_collisions","YY_START","Parser","List","_values","splice","toJSON","includes","valuesArray","upperOnly","toUpperCase","_validate","Selector","ListSelector","RangeListSelector","ValueListSelector","caseSensitive","NoneSelector","_atom","AllSelector","none","PrefixOperator","rhs","InfixOperator","lhs","keywords","defineSelector","SelectorClass","factory","NULL_SELECTOR","defineOperator","OperatorClass","includesAtom","byResidueTypeFlag","selectors","Context","exc","ClearContext","BiologicalUnit","_selector","_boundaries","boundingBox","boundingSphere","makeEmpty","expandByPoint","bbc","getCenter","setFromCenterAndSize","radiusSquared","center","pos","lengthSquared","distanceToSquared","sqrt","Assembly","chains","matrices","oldCenter","oldRad","applyMatrix4","newRad","addScalar","subScalar","matrix","Component","_residueIndices","_cycles","_subDivs","_residueCount","resIdc","idIdc","idCount","last","subDivs","resCnt","_bonds","forEachCycle","cycle","forEachResidue","cycles","subs","currRes","endRes","_forEachSubChain","_subIdx","currIdx","lastSubIdx","subIdx","arr","boundaries","cMaxPairsForHashCode","cHashTableSize","cNumbersPerPair","cMaxNeighbours","cInvalidVal","cBigPrime","AtomPairs","maxPairsEstimate","numPairs","numMaxPairs","intBuffer","Int32Array","hashBuffer","indexA","indexB","ia","ib","codeToAdd","apI","cEstBondsMultiplier","cSpaceCode","cBondTolerance","cEpsilon","_getBondingRadius","_isAtomEligible","isHet","AutoBond","_maxRad","bBox","getDefaultBoundaries","_vBoxMin","_vBoxMax","_pairCollection","getAtoms","numAtoms","aInd","collection","numBondsForAtom","bInd","indTo","addPair","vw","getVoxelWorld","atomsNum","rA","isHydrogenA","posA","locationA","atomA","processAtom","atomB","isHydrogen","locationB","dist2","rB","maxAcceptable","forEachAtomWithinRadius","iA","iB","_addPair","bondsA","numBonds","newBond","addBond","_buildInner","_calcBoundingBox","_addExistingPairs","_findPairs","_addPairs","nAtoms","maxRad","destroy","cCrossThresh","cAromaticType","cAromaticAtoms","_coDirVectors","v1Tmp","v2Tmp","cp","v1","v2","_insertAscending","val","_anotherAtom","_cosBetween","theta","clamp","_markAromatic","Cycle","atomsList","nA","add","nextAtom","checkBond","forEachBond","_isAromatic","_isPossibleAromatic","rightIdx","leftIdx","_checkCycleSimple","_checkCycleComplex","assert","AromaticLoopsMarker","bondsData","bondMarks","_bondsData","_bondMarks","_resetCycles","_currIdx","bond1","bond2","arr1","arr2","n1","n2","i1","i2","prevBond","currRight","bondsOrder","currLeft","currVec","startAtomRef","_currStart","checkAromatic","_checkBond","_haveSameCycle","anotherAtom","anotherVec","newDir","cross","dir","newRight","_tryBond","checkCycle","forEachComponent","component","_startCycle","newCycle","addCycle","_findLoops","_getSphereSliceRadiusRange","zMin","zMax","dzMin","dzMax","rzMin","rzMax","rMin","rMax","_getCircleSliceRadiusRange","yMin","yMax","dyMin","dyMax","ryMin","ryMax","VoxelWorld","box","vCellSizeHint","_box","getSize","divide","floor","_last","_cellSize","_cellInnerR","_cellOuterR","numVoxels","_voxels","getAtomCount","voxelIdx","_findVoxel","point","zero","_zero","voxel","_voxel","xRange","_xRange","yRange","_yRange","zRange","_zRange","_forEachVoxelWithinRadiusSimple","rRangeXY","rRangeX","xVal","yVal","zVal","isInsideX","isInsideY","isInsideZ","divideScalar","clampScalar","vCenter","_vCenter","distTouch2","distInside2","d2","r2","_forEachVoxelWithinRadius","isInside","_forEachAtomInVoxel","dist","_forEachAtomWithinDistFromGroup","atomProc","voxels","processIfWithin","MINIMAL_DISTANCE","MIN_HBOND_ENERGY","MAX_HBOND_ENERGY","COUPLING_CONSTANT","MAX_COUPLING_DISTANCE","MAX_RESIDUES_THRESHOLD","HBondInfo","_hbonds","_buildVW","_build","from","to","acceptor","acc0","acc1","energy","ri","getType","preri","rj","prerj","_calcHBondEnergy","pairs","PairCollection","_residueGetCAlpha","_residueGetCO","h","predonor","donor","_residueGetNH","distanceHO","distanceHC","distanceNC","distanceNO","round","donorInfo","accInfo","BridgeType","freeze","NO_BRIDGE","PARALLEL","ANTI_PARALLEL","HelixFlag","START","MIDDLE","END","START_AND_END","StructureType","SecondaryStructureMap","_ss","_sheet","_betaPartners","_bend","getResidues","_helixFlags","_chainLengths","_chains","_buildBetaSheets","_buildAlphaHelices","inResidues","chainLength","inPreferPiHelices","stride","isBond","kappa","_kappa","_isHelixStart","isTurn","p1","p2","p3","p4","v12","v34","prevPrev","nextNext","curCA","ppCA","nnCA","ckap","_cosinusAngle","skap","atan2","bridges","lenA","chainA","b","lenB","chainB","_testBridge","found","bridge","unshift","chainI","getChain","chainJ","sort","ibi","iei","jbi","jei","ibj","iej","jbj","jej","_hasChainBreak","bulge","ladderset","Set","ladder","sheetset","toMove","_areBridgesLinked","betai","betaj","parallel","d","f","ai","aj","has","VOXEL_SIZE","helixClassMap","loopMap","Complex","_components","_helices","_sheets","structures","_residueTypes","_sgroups","_molecules","_maskNeedsUpdate","metadata","symmetry","units","_currentUnit","forEachChain","updateToFrame","resName","rt","chainName","resId","atomName","localeCompare","molecules","groups","components","maxSerial","chainShift","uniSerial","remnant","insCode","ser","addComp","comp","resCount","currStart","isConnected","setSubDivs","currSubDivs","enableEditing","_fillCmpEdit","_fillCmpNoedit","getBoundaries","getTransforms","getSelector","setCurrentUnit","newUnit","computeBoundaries","_computeBounds","_finalizeBonds","forEachSGroup","_rebuildSGroupOnAtomChange","updateStructuresMask","getBonds","finalize","getSequence","getICode","helices","sheets","needAutoBonding","autoConnector","build","other","_fillComponents","marker","markCycles","detectAromaticLoops","detectCycles","_finalizeMolecules","molecule","updater","structure","collectMask","forEachMolecule","setMask","clearMask","totalSelector","reseter","_atomNames","dict","_elements","_residueNames","_chainNames","_altlocNames","_voxelWorld","addAtoms","srcArray","dstArray","functor","elem","complexes","atomBias","bondBias","residueBias","chainBias","componentBias","bias","processBond","processResidue","processChain","processComponent","doNothing","addElement","ssMap","getSheet","item","lastCode","lastSheetIndex","lastHelixIndex","curStructure","curCode","curResidue","curSheetIndex","loopType","curSheet","addStrand","pow2ceil","Volume","dimensions","vecSize","volumeInfo","_dimVec","_volumeInfo","_dimX","_dimY","_dimZ","_rowElements","_planeElements","_totalElements","_data","getValue","setValue","addValue","boxSize","Float32Array","vl","getCellSize","vs","xSize","ySize","zSize","volMap","_voxelValue","zi","zm","zp","yi","ym","yp","xi","xm","xp","tilesX","ceil","tilesY","height","tileRow","row","texture","needsUpdate","Molecule","CSS2DObject","_element","parentNode","transp","el","getElement","op","top","op100","opacity","RCGroup","raycaster","intersects","visible","children","raycast","innerOnly","enableSubset","disableSubset","totalSubset","getSubset","precision","renderer","capabilities","getMaxPrecision","noiseWidth","noiseHeight","_noiseData","_noiseWrapS","_noiseWrapT","_noiseMinFilter","_noiseMagFilter","_noiseMapping","noiseTexture","_samplesKernel","defaultUniforms","lights","diffuse","specular","shininess","fixedColor","zOffset","zClipValue","clipPlaneValue","invModelViewMatrix","world2colorMatrix","dashedLineSize","dashedLinePeriod","projMatrixInv","viewport","samplesKernel","noiseTex","noiseTexelSize","srcTexelSize","toonBorder","toonRange","uberOptionNames","UberMaterial","instancedPos","instancedMatrix","attrColor","attrColor2","attrAlphaColor","overrideColor","sphereSprite","cylinderSprite","fakeOpacity","prepassTransparancy","colorFromPos","shadowmap","shadowmapType","colorFromDepth","dashedLine","thickLine","fogTransparent","normalsToGBuffer","toonShading","uberOptions","setValues","uniforms","vertexShader","precisionString","fragmentShader","side","zClipCoef","noise","source","defines","extensions","createInstance","inst","USE_FOG","INSTANCED_POS","INSTANCED_MATRIX","ATTR_COLOR","ATTR_COLOR2","ATTR_ALPHA_COLOR","OVERRIDE_COLOR","SPHERE_SPRITE","fragDepth","CYLINDER_SPRITE","ZCLIP","CLIP_PLANE","FAKE_OPACITY","USE_LIGHTS","COLOR_FROM_POS","SHADOWMAP","SHADOWMAP_PCF_SHARP","SHADOWMAP_PCF_RAND","SHADOWMAP_BASIC","COLOR_FROM_DEPTH","PREPASS_TRANSP","DASHED_LINE","THICK_LINE","FOG_TRANSPARENT","drawBuffers","NORMALS_TO_G_BUFFER","TOON_SHADING","setUberOptions","shallow","updateUniforms","LAYERS","VOLUME","TRANSPARENT","PREPASS_TRANSPARENT","VOLUME_BFPLANE","COLOR_FROM_POSITION","SELECTION_LAYERS","resetTransform","quaternion","updateMatrixWorldRecursive","parent","updateMatrixWorld","addSavingWorldTransform","_worldMatrixInverse","getInverse","matrixWorld","multiply","decompose","renderDummyQuad","_material","depthWrite","_scene","_quad","_camera","render","renderScreenQuad","isIdentity","identity","equals","applyToPointsArray","w","elements","persp","ScreenQuadMaterial","srcTex","vertexScreenQuadShader","depthTest","renderScreenQuadFromTex","fragmentScreenQuadFromTex","renderScreenQuadFromTexWithDistortion","coef","fragmentScreenQuadFromTexWithDistortion","setMinimalFov","angle","aspect","fov","radToDeg","atan","tan","degToRad","updateHalfSized","camera","originalAspect","originalFov","updateProjectionMatrix","setDistanceToFit","sin","intersectVisibleObject","gfxObj","fogFarPlane","intersectObject","nearPlane","near","matrixWorldInverse","farPlane","far","extractScale","_v","te","det","determinant","_calcCylinderMatrix","posBegin","posEnd","posCenter","matScale","makeScale","matRotHalf","makeRotationX","matRotLook","vUp","lookAt","setPosition","_calcChunkMatrix","eye","target","up","rad","_forEachMeshInGroup","group","processObj","_countMeshTriangles","mesh","geom","geometry","attribs","attributes","property","currAttr","indexSize","faces","_countTriangles","totalCount","_groupHasGeometryToRender","hasGeoms","traverse","_buildDistorionMesh","widthSegments","heightSegements","calcInverseBarrel","epsilon","prevR2","curR2","dr","geo","getAttribute","setXY","copyAtList","attribute","indexList","fillArray","startIndex","endIndex","removeChildren","clearTree","dispose","destroyObject","belongToSelectLayers","layers","_getMeshesArr","root","meshTypes","meshes","applyTransformsToMeshes","mtc","mtcCount","applyMatrix","newMesh","processTransparentMaterial","prepassMat","prepassMesh","processColFromPosMaterial","colFromPosMat","colFromPosMesh","createShadowmapMaterial","receiveShadow","castShadow","shadowmapMat","shadowmapMesh","isShadowmapMesh","removeShadowmapMaterial","processObjRenderOrder","idMaterial","renderOrder","isGroup","makeVisibleMeshes","checker","applySelectionMaterial","depthFunc","getMiddlePoint","point1","point2","optionalTarget","addScaledVector","calcCylinderMatrix","calcChunkMatrix","forEachMeshInGroup","countTriangles","groupHasGeometryToRender","buildDistorionMesh","_defaultBoundaries","Visual","dataSource","gfxutils","_dataSource","release","getDataSource","_ensureArray","EntityList","entities","_list","_dict","_indices","entity","register","registerInList","registerInDict","unregisterFromList","unregisterFromDict","makeContextDependent","defineProperties","CollisionSphere","_radius","sphere","_sphere","ray","intersectSphere","distance","origin","SphereCollisionGeo","inters","chunkIdx","computeBoundingBox","tmpColor","OFFSET_SIZE","COLOR_SIZE","setArrayXYZ","setArrayXYZW","InstancedSpheresGeometry","spheresCount","sphereComplexity","useZSprites","_sphGeometry","_init","itemIdx","itemPos","itemRad","_offsets","setSphere","colorVal","_colors","g","finishUpdate","computeBoundingSphere","chunkIndices","alphaArr","_alpha","instanceCount","sphereGeo","alpha","fill","RaycastableBufferGeometry","uv1","uv2","uv3","barycoord","_barycoord","barycoordFromPoint","pA","pB","pC","intersect","intersectTriangle","uv","vA","_vA","vB","_vB","vC","_vC","intersectionPoint","_intersectionPoint","fromBufferAttribute","intersection","checkIntersection","uvA","_uvA","uvB","_uvB","uvC","_uvC","uvIntersection","normal","getNormal","face","faceIndex","intersectsSphere","intersectsBox","getX","checkBufferGeometryIntersection","MAX_IDC_16BIT","VEC_SIZE","ChunkedObjectsGeometry","chunkGeo","chunksCount","_chunkGeo","colors","chunkSize","_chunkSize","facesPerChunk","srcPos","_positions","srcNorm","_normals","srcColor","dstPos","dstNorm","dstColor","dstPtOffset","ptIdxBegin","ptIdxEnd","subarray","chunkIndex","chunkIndexSize","pointsCount","use32bitIndex","Uint32Array","Uint16Array","posOffset","setIndex","SimpleSpheresGeometry","sphGeometry","normals","geoNormals","_chunkPos","_tmpPositions","tmpPos","geoPos","centerPos","tmpVector","normMtx","Simple2CCylindersGeometry","cylGeometry","_chunkNorms","_tmpVector","botPos","topPos","firstOffset","secondOffset","tmpArray","geoNorm","lerpVectors","mtx1","getNormalMatrix","fromArray","toArray","applyMatrix3","colorVal1","colorVal2","MAX_POINTS_COUNT_16BIT","PTS_PER_TRIANGLE","CylinderBufferGeometry","radiusTop","radiusBottom","radialSegments","heightSegments","openEnded","thetaStart","thetaLength","parameters","hasTop","hasBottom","vertexCount","facesCount","heightHalf","positions","uvs","currVtxIdx","currFaceIdx","tanTheta","v3","v4","setXYZ","vx","vy","vz","cos","startTIdx","lastIdx","fTIdx","currSrcIdx","getY","getZ","nextTVtx","startBIdx","lastBIdx","fBIdx","currSrcBIdx","nextBVtx","invMatrix","sortNumber","_prepareCylinderInfo","chunksIdx","cylinderInfo","even","newPar","_assignOpacity","color1","color2","Instanced2CCylindersGeometry","_useZSprites","_cylGeometry","_collisionGeo","me","mtxOffset","setItem","_matVector1","_matVector2","_matVector3","_invmatVector1","_invmatVector2","_invmatVector3","colorIdx","_color1","_color2","cylinderIndices","cylinderGeo","TRI_SIZE","tmpPrev","tmpNext","tmpRes","simpleNormal","normalOnCut","nearRingPt","_createExtrudedChunkGeometry","shape","ringsCount","ptsCount","totalPts","ExtrudedObjectsGeometry","_ringsCount","tmpShape","_tmpShape","hasSlope","hasCut","chunkStartIdx","_setPoints","_setSlopeNormals","_setBaseNormals","_addCut","vtxIdx","mtx","nPtsInRing","_countNormalsInRing","isSlope","shiftToExtraPt","subVectors","VERTEX_PER_SEGMENT","POS_SIZE","DIR_SIZE","COL_SIZE","direction","startSegmentIdx","segmentsCount","elemSize","ThickLinesGeometry","_initVertices","segmentIdx","pos1","pos2","directions","_directions","dirIdx","startSegIdx","endSegIdx","startPos","startDir","_buffersSize","indexOffset","pointOffset","LinesGeometry","posSize","getPositionSize","BaseLinesGeometry","CylinderCollisionGeo","itemOffset","COLLISION_RAD","ChunkedLinesGeometry","enableCollision","collisionGeo","segCount","segIdx","setSegments","getSubsetSegments","setColors","getSubsetColors","TwoColorLinesGeometry","segmentIndices","_segCounts","vectors","vecCount","tempPos1","tempPos2","CrossGeometry","setSegment","POS_RAD_SIZE","IsoSurfaceGeometry","_opts","_posRad","posRad","IsoSurfaceMarchCube","pointsValuesLinear","hasIntersection","bitsInside","numCellsPerSide","vx7000000","n3","striIndicesMarchCube","edgeTable","_voxelGradientFast","grad","GridCell","_arrSize","cubeIndex","Triangle","createArray","arrSize","IsoSurface","_numTriangles","_numVertices","_volumetricData","_xAxis","_yAxis","_zAxis","_xDir","_yDir","_zDir","volData","cellSize","xAxis","yAxis","zAxis","xDir","yDir","zDir","tmp","notZero","axe","EPSILON","isoLevel","grid","ind1","ind2","vertex","valP1","valP2","isoDiffP1","diffValP2P1","mu","triangles","firstIndices","_firstIndices","secondIndices","_secondIndices","vertexList","_vertexList","normalList","_normalList","_vertexInterp","triCount","triTblIdx","triTable","_triTable","step","appendSimple","vol","getData","dim","getDimensions","stepX","getStrideX","stepY","getStrideY","stepZ","getStrideZ","gc","gcVal","gcValSize","additions","tmpTriCount","appendVertex","axis","triVertex","_origin","posMtx","globTriCount","getDirectIdx","_gradient","_polygonize","computeGradient","_doGridPosNorms","_prepareAxesAndDirs","vertexMap","idcCount","newIndices","vertices","newPositions","newNormals","norm","faceVer","oldVerCount","vMap","newVer","matchedIndex","_remapIndices","_remapVertices","colorMap","atomMap","atomWeightMap","visibilitySelector","numVerts","xs","ys","zs","colorData","strideX","strideY","strideZ","atomWeightData","atomStrideX","atomStrideY","atomStrideZ","xInv","yInv","zInv","atomLookup","atomWeights","interp","idx1","idx2","collectWeight","coefX","coefY","coefZ","newVerCount","ind","mux","muy","muz","maxWeight","dominantIdx","atomIdx","c0","c1","c2","c3","cz0","cz1","numTriangles","newTriCount","i0","VolumeSurfaceGeometry","_visibilitySelector","_calcSurface","posRadArray","itemsCount","maxPosRad","minPosRad","tmpVal","minMaxValues","_findMinMax","minCoordRad","maxCoordRad","gridPadding","radScale","padRad","bbox","surface","isoSurf","compute","vertexFusion","setColorVolTex","volTexMap","packedArrays","_findNumVoxels","_computeSurface","_makeSurface","chem","QuickSurfGeometry","_shiftByOrigin","gaussdensity","atomicNum","invIsoValue","invGridSpacing","maxVoxelX","maxVoxelY","maxVoxelZ","volTexData","texStrideX","scaledRad","atomicNumFactor","radInv","radLim","radLim2","xMin","xMax","dy2dz2","addr","texAddr","expVal","density","exp","colInd","originX","originY","originZ","AVHash","maxDistance","minX","minY","minZ","maxX","maxY","maxZ","hashFunc","minW","iDim","jDim","kDim","nCells","jkDim","cellID","preHash","cid","iIdx","cellOffsets","cellLengths","maxCellLength","subArray","cellLength","neighbourListLength","withinRadii","rExtra","out","outIdx","nearI","nearJ","nearK","loI","loJ","loK","hiI","hiJ","hiK","iOffset","jOffset","cellStart","cellEnd","dataIndex","atomIndex","baseIndex","rSum","ContactSurface","_indexList","maxRadius","scaleFactor","lastClip","volTex","weights","weightsMap","gridx","gridy","gridz","sinTable","cosTable","neighbours","mid","ngTorus","uniformArray","TypeName","innI","fillGridDim","initializeGrid","gridSize","initializeAngleTables","initializeHash","rExt","singleAtomObscures","innX","innY","innZ","innCI","ra2","obscured","ni","projectPoints","sigma","sigma2Inv","ax","ay","az","ar2","ng","iax","iay","iaz","minx","miny","minz","maxx","maxy","maxz","colIdx","cr","cg","cb","iz","iy","dzy2","zyOffset","ix","cIdx","ap","spx","spy","spz","dd","normalToLine","projectTorus","aIdx","bIdx","xa","ya","za","r1","innR2","cosA","dmp","rInt","cost","sint","px","py","pz","current","projectTorii","innIdx","fixNegatives","innInnI","getVolume","timeEnd","ContactSurfaceGeometry","contactSurface","IsoSurfaceAtomColored","radiusAt","coord","colorX","colorY","colorZ","atomType","srcAtom","IsosurfaceBuildNormals","vBoxMin","vBoxMax","_numAtoms","_probeRadius","_atomsList","_voxelList","numAtomsRefs","ATOM_VOXEL_REF_SCALE","aveRad","numCells","_numCells","_aveRad","side2","side3","xScale","_xScale","yScale","_yScale","zScale","_zScale","maxAtomsRefs","xNumVoxMult","yNumVoxMult","zNumVoxMult","radAffect","diaAffect","numVoxX","numVoxY","numVoxZ","xIndMin","yIndMin","zIndMin","xIndMax","yIndMax","zIndMax","indVoxel","indexNext","_vertices","xInd","yInd","zInd","ref","indexAtom","closest","minDist2","MAX_VALUE","forEachRelatedAtom","numVertices","numCloseAtoms","vNormalX","vNormalY","vNormalZ","koef","r25","r01","maxRadAffect","maxRadAffect2","expScale","gatherNormals","radiusColorSmoothness","KOEF_ADD","colorsClose","weightsSum","gatherColors","weightNormalized","IsoSurfaceGeo","maxNumVertices","maxNumTriangles","needVertexColors","_maxNumVertices","_maxNumTriangles","HASH_SIZE","SSIsosurfaceGeometry","_innerBuild","geoOut","getGeo","_fromGeo","numTri3","atomsColored","nm","hashLines","hashEntries","bigNum","probeRadius2","atomRadiusScale","radMax","num","numPoints","vOut","invNP","tx","ty","tz","sign","cube","indexPointValue","cTwentyFour","xb","yb","zb","v0","a0","voxelWorld","getClosestAtom","a1","a2","isTriangleVisible","indInGeo0","addVertexToGeo","indInGeo1","indInGeo2","itr","meshRes","corners","vCellStep","cNumVerts","vaEdges","vCorner","indCell","indY","indZ","getCornerCoord","indPointValues","indValues","buildEdgePoint","offs","numTri","indTri","addTriangle","numIntersectedCells","cubeValuesIndex","indCorner","letter","atomT","probeRad","vDif","aLot","fx","fy","fz","indXMin","indYMin","indZMin","indXMax","indYMax","indZMax","distToSphere","numHashEtriesAllocated","numHashEntryIndex","vAdd","oneHynberes","n815851","n37633","n2453543","r106","hashResolution","marCubeResoultion","iHash","hLineIndex","dot2","iVertAdd","getNewHashEntry","entryFirst","probeSphereRadius","distToBorder","r11","innerBlockWorkAround","probeSpRad2","sideInv","radEst","xCorner","yCorner","zCorner","ok","expandFactor","meshResolution","colorMode","useVertexColors","excludeProbe","convertToAtomsColored","getBoundingBox","rProbeRadius","calculateGridCorners","numIntersectedCellsEstim","getNumIntersectedCells","createVertexHash","probeRadForNormalsColors","createVoxels","buildGeoFromCorners","modifyExcludedFromGeo","buildNormals","buildColors","destroyVoxels","createLabel","fieldTxt","className","spanText","fontSize","strings","spanNodeP","spanNodeText","LabelsGeometry","items","xTranslation","yTranslation","deltaPos","userData","translation","textAlign","fColor","bColor","background","SuperClass","NewObjectType","rest","onBeforeRender","scene","_onBeforeRender","_update","Mesh","UberObject","ZSpriteMesh","_geometry","_group","modelViewMatrix","multiplyMatrices","uniformsNeedUpdate","ZClippedMesh","modelView","_modelView","mvLength","_mvLength","setFromMatrixColumn","localToWorld","TextMesh","initialized","srcItem","label","visibility","SimpleMesh","_viewport","ThickLineMesh","projectionMatrix","InstancedMesh","ZClipped","ZSprite","Text","Line","LineSegments","Instanced","setMatParams","_createInstancedCylinders","Geometry","geometries","initMaterial","_createLineSegmentsGeoTriplet","renderParams","thickLines","_createSimpleGeoTriplet","geoClass","_createIsoSurfaceGeoTriplet","caps","surfaceOpts","MeshCreator","_caps","_settings","TransformGroup","geoParams","transforms","_geoParams","mat","_transforms","_createMeshes","_ray","inverseMatrix","_inverseMatrix","childIntersects","ciCount","geos","meshCnt","wrapper","Name","ChemGroup","selection","_selection","_mode","_colorer","_chunksIdc","chunks","_polyComplexity","_geo","_makeGeoArgs","_mesh","chunksList","_calcChunksList","setOpacity","_changeSubsetOpacity","AtomsGroup","atomsIdc","AtomsSphereGroup","calcAtomRadius","setColor","getAtomColor","updateColor","needsColorUpdate","AtomsSurfaceGroup","selectedAtoms","getSurfaceOpts","AtomsSASSESGroupStub","adjustColor","inverseColor","getAtomText","getNode","getVisualName","colorMappings","adjust","inverse","propagateColor","rule","startsWith","templateMappings","hetatm","water","parseTemplate","AtomsTextGroup","getLabelOpts","fgColor","bgColor","_slerp","omega","oSin","AromaticGroup","radOffset","addChunk","chunksToIdx","prevVector","currVector","segmentsHeight","_segmentsHeight","leprStep","currAtomIdx","cCount","cycAtoms","chunkPoints","tmpDir","cycleRad","prevPos","currPos","upDir","currAngle","_createShape","pts","AromaticTorusGroup","torusRad","getAromRadius","radiusV","calcStickRadius","lookAtVector","points","currPoint","AromaticLinesGroup","getAromaticOffset","prevPt","getAromaticArcChunks","ResiduesGroup","chunksIdc","resIdx","NucleicItemGroup","stickRad","getResidueColor","_processItem","NucleicCylindersGroup","cyl1","cyl2","NucleicSpheresGroup","calcMatrix","_buildStructureInterpolator","Smooth","METHOD_CUBIC","clip","CLIP_CLAMP","cubicTension","scaleTo","argTrans","transformT","tt","newt","ans","_addPoints","centerPoints","topPoints","tp","_addPointsForLoneResidue","nucleic","nameFrom","nameTo","posFrom","posTo","shift","wing","cpPrev","tpPrev","cpNext","tpNext","_calcPoints","firstIdx","_prevIdx","_nextIdx","arrIdx","_extrapolate2","otherIdx","prevIdx","nextIdx","CartoonHelper","startIdx","endIdx","pointsArrays","_topInterp","_centerInterp","_shift","_valueStep","_segmentsCount","firstRad","secondRad","outMtc","currRad","topInterp","cenInterp","currentValue","mtxIdx","lerpVal","currTop","currCenter","nextCenter","_loopThrough","subDiv","subDivI","subDivN","idc","matrixHelper","prevLast","prevSecondRad","getResidueRadius","prepareMatrices","ResiduesSubseqGroup","cmpMultiplier","getHeightSegmentsRatio","getTension","chunkIdc","subdivs","ResiduesTraceGroup","chunk","getCylinderCount","bondOrder","BondsGroup","drawMultiple","drawMultiorderBonds","showAromatic","showAromaticLoops","bondsIdc","bondsCount","getBondOrder","bondIdx","BondsCylinderGroup","emptyOffset","calcSpaceFraction","normDir","leftPos","rightPos","currBondIdx","atom1","atom2","a1Pos","a2Pos","calcNormalDir","minRad","currStickRad","STEP_SIZE","BondsLinesGroup","bondDir","a1Hangs","a2Hangs","AtomsProcessor","atomCount","_checkAtom","atomsGroup","meshIdx","chSubset","subsetEl","OrphanAtomsProcessor","ResiduesProcessor","ResidueGroup","_checkResidue","residuesGroup","NucleicProcessor","ResidueProcessor","SubseqsProcessor","getMaskedSubdivSequences","jEnd","BondsProcessor","bondsGroup","AromaticProcessor","cycleIdx","perCycle","Atoms","OrphanAtoms","Residues","Nucleic","Subseqs","Bonds","Aromatic","_bakeGroup","triplet","Processor","Group","GroupsFactory","gfxTriplet","createSpheres","processors","createCrosses","create2CCylinders","create2CLines","createExtrudedChains","create2CClosedCylinders","createChunkedLines","createQuickSurface","createContactSurface","createSASSES","createLabels","Mode","groupList","depGroups","groupCount","currGroup","newGroup","getRenderParams","LinesMode","shortName","LicoriceMode","BallsAndSticksMode","VanDerWaalsMode","TraceMode","TubeMode","_residue","TUBE_RADIUS","buildGeometry","CartoonMode","secCache","getSecondary","secOpts","ARROW_END","startRad","getResidueStartRadius","endRad","getResidueEndRadius","_res","tubeRad","secHeight","secData","SurfaceMode","surfaces","surfaceNames","isSurface","QuickSurfaceMode","useBeads","getVisibilitySelector","IsoSurfaceMode","_excludeProbe","_radScale","IsoSurfaceSASMode","IsoSurfaceSESMode","ContactSurfaceMode","TextMode","lerpColor","beta","g1","b1","g2","b2","Palette","asIs","elementColors","defaultElementColor","residueColors","defaultResidueColor","chainColors","secondaryColors","defaultSecondaryColor","gradientName","gradients","defaultNamedColor","namedColors","minRangeColor","midRangeColor","maxRangeColor","defaultGradientColor","namedColorsArray","rainbow","temp","hot","cold","reds","blues","H","F","P","S","CL","FE","NI","CU","BR","HE","LI","BE","B","NE","NA","MG","AL","SI","AR","K","SC","TI","V","CR","MN","ZN","GA","GE","AS","KR","RB","SR","Y","ZR","NB","TC","RU","RH","PD","AG","CD","IN","SN","SB","TE","XE","BA","LA","CE","PR","ND","PM","SM","EU","GD","TB","DY","HO","ER","YB","LU","HF","TA","W","RE","OS","IR","PT","AU","HG","TL","PB","BI","PO","AT","RN","FR","RA","AC","TH","PA","NP","PU","AM","CM","BK","CF","ES","FM","MD","NO","LR","RF","DB","BH","HS","MT","palettes","cpkPalette","jmolPalette","vmdPalette","Colorer","ElementColorer","getElementColor","ResidueTypeColorer","SequenceColorer","getGradientColor","ChainColorer","getChainColor","SecondaryStructureColorer","getSecondaryColor","secondary","UniformColorer","ConditionalColorer","parsed","_subsetCached","ConformationColorer","TemperatureColorer","OccupancyColorer","HydrophobicityColorer","hydrophobicity","MoleculeColorer","getMoleculeCount","scaleColor","CarbonColorer","colorCarbon","colorNotCarbon","neutralColor","intensity","materialList","Representation","startMaterialValues","selectorString","materialPreset","needsRebuild","setMode","markAtoms","clearAtomBits","selectionGeo","sg","matrixAutoUpdate","repSettings","selStr","valueOf","modeDiff","identify","colorerDiff","newSelectorObject","newSelector","newMode","newColorer","newMaterial","setMaterialPreset","_traverseComponentGroups","ComplexEditor","ComplexComponentEditor","complexVisual","_complexVisual","_inProgress","_componentTransforms","_bakeComponentTransform","onAtomPositionChanged","_resetComponentTransform","finalizeEdit","pivot","visual","getSelectedComponent","getSelectionGeo","selectionMask","getSelectionBit","reprNode","bbmin","bbmax","updateMatrix","ComplexFragmentEditor","_getSelectionBorderAtoms","_fragmentBoundAtoms","pivotPos","_fragmentGeo","_fragmentSelectionGeo","vg","smeshes","sm","selectionBit","makeTranslation","_bakeAtomTransform","boundAtoms","transformDirection","atomHash","ComponentEditor","FragmentEditor","lookupAndCreate","entityList","specs","Entity","ComplexVisual","_reprList","_repr","_reprListChanged","_selectionBit","_reprUsedBits","_selectionCount","_selectionGeometry","_editor","repCurrent","repAdd","desc","status","change","bits","NUM_REPRESENTATION_BITS","newSelectionBit","_getFreeReprIdx","originalSelection","buildSelectorFromMask","def","unmarkAtoms","hide","show","markAtomsAdditionally","rebuildSelectionGeometry","pickedObj","otherObj","getMolecule","resetSelectionMask","tmpMask","deselectionMask","multiple","selRule","reprList","repr","Promise","resolve","errorOccured","setTimeout","hasGeometry","buildSelectionGeometry","optimizeList","NaN","expression","all","or","and","residx","_buildSelectorFromSortedLists","editor","ComplexVisualEdit","needTraverse","forEachAtomWithinDistFromMasked","countAtomsByMask","volumeUniforms","volumeDim","tileTex","tileTexSize","tileStride","boxAngles","_isoLevel0","_flipV","_BFLeft","_BFRight","_FFLeft","_FFRight","_WFFLeft","_WFFRight","overrideUniforms","defUniforms","facesPosMaterialParams","sideType","vertexVolumeFaces","fragmentVolumeFaces","BackFacePosMaterial","backFaceParams","ShaderParams","BackFacePosMaterialFarPlane","matUniforms","aspectRatio","farZ","tanHalfFOV","matWorld2Volume","shaderParams","vertexFarPlane","fragmentFarPlane","FrontFacePosMaterial","frontFaceParams","VolumeMaterial","vertexVolume","fragmentVolume","updateDefines","ISO_MODE","STEPS_COUNT","VolumeMesh","cullFlag","_corners","edges","_edges","edgeIntersections","_edgeIntersections","constant","vert","cornerMark","edgeMark","curEdge","curEdgeInter","CheckX","CheckY","CheckZ","curEdgeIdx","curEdgeSource","nextVertex","coplanarPoint","faceIdx","_collectVertices","vRight","vDir","rightProj","_sortIndices","numIndices","vm","getTiledTextureStride","buildTiledTexture","getBox","image","getVolumeInfo","volInfo","obtuseAngle","mean","dmean","dmin","span","dmax","sd","nearClipPlaneOffset","_nearClipPlaneOffset","_pos","_norm","norm4D","_norm4D","matrixWorldToLocal","_matrixWorldToLocal","_clipPlane","_updateIsoLevel","getWorldDirection","getWorldPosition","setFromNormalAndCoplanarPoint","_updateVertices","_updateIndices","VolumeBounds","bSize","offsetVert","_getBaseVertices","_lines","projTable","_projectionTable","proj","inv","currDelta","angleValue","XY","XZ","YZ","VolumeFarPlane","volume","planeGeo","_initPlaneGeo","_plane","frustumCulled","doubleSided","matWorldToVolume","_renderer","planeCamPos","normalMatrix","volumeMatrix","DEG2RAD","VolumeVisual","setDataSource","_frame","getMesh","showFrame","_farPlane","getBoundingSphere","needShow","Profiler","_times","rawMean","_robustMean","deviation","_robustDeviation","_robustMin","deltas","GfxProfiler","_prepareTest","getClearColor","plane","_prof","run","setRenderTarget","_target","runOnTicks","maxResults","skipMs","timeLimitMs","onTick","elapsedMs","requestAnimationFrame","LoaderList","someLoaders","SomeLoader","canProbablyLoad","Loader","_source","_options","_abort","_agent","abort","FileLoader","_binary","blob","reader","FileReader","readAsArrayBuffer","readAsText","File","urlStartRegexp","XHRLoader","request","XMLHttpRequest","response","responseType","send","ImmediateLoader","ParserList","someParsers","format","formats","SomeParser","canProbablyParse","parseSync","model","_parseHeader","Remark290","_matrix","_matrixIndex","stream","readString","matrixRow","readCharCode","matrixData","matrixIndex","parseFloat","Remark350","assemblies","_assembly","assembly","addMatrix","addChain","PDBStream","_start","_nextCR","_nextLF","_next","_end","TAG_LENGTH","nameToElement","veryLong","pdbStartRegexp","remarkParsers","PDBParser","_serialAtomMap","_modelId","_compaundFound","_biomoleculeFound","_allowedChainsIDs","_lastMolId","_remarks","_remark","_compndCurrToken","fileType","_fixBondsArray","_fixChains","remark290","isUndefined","remark350","chainDict","chainObj","idChainMap","nj","readInt","readChar","chainID","resSeq","readFloat","Role","serial0","serial1","serial2","serial3","serial4","tokenIdx","chainStr","lastChar","remarkNum","remark","RemarkParser","fields","_parseSTRUCTURE","addHelix","addSheet","pars","adder","startId","endId","codeOfS","serialNumber","structureName","helLength","shWidth","shCur","shPrev","startChainID","endChainID","startSequenceNumber","iCodeStr","startICode","endSequenceNumber","endICode","cs","classification","date","title","func","tagParsers","HEADER","_parseHEADER","_parseTITLE","_parseATOM","HETATM","ENDMDL","_parseENDMDL","CONECT","_parseCONECT","COMPND","_parseCOMPND","REMARK","_parseREMARK","_parseHELIX","_parseSHEET","cOrderCharCodes","cmlStartRegexp","CMLParser","_readOnlyOneMolecule","atomId","countBonds","idxs","atomRefs2","moleculeArr","fieldData","atomRefs","placement","fieldName","_extractSGroup","_createSGroup","firstAtomRef","sgroupRef","mapEntry","cycleFuncInner","cycleFunc","x2","x3","y2","y3","z3","atomsRef","dom","parseNode","xmlNode","nodeName","nodeValue","jsonNode","existing","childNodes","molSet","atomArray","_findSuitableMolecule","DOMParser","doc","parseFromString","traversedData","_traverseData","rawData","prepareComponentCompound","ret","atomLabels","labelsCount","_extractSGroups","localBond","bondArray","_rebuidBondIndexes","addCurrBond","orderAttr","tc","labels","_breadWidthSearch","retStruct","originalCML","cml","retData","filteredData","rd","compId","molId","molID","_packLabel","breadthQueue","componentID","labeledAtoms","startID","_unpackLabel","eAtom","mainAtom","varData","currentLabel","addFunc","complexAtom","reorder","atomCharge","lLabel","atomFullNameStruct","elementType","countRef","currAtomComp","strLabel","JSON","stringify","atomSerial","added","mrvValence","_parseBond","getSGroupCount","sGrp","getSGroups","moleculaSet","_selectComponents","_parseSet","totalAtomsParsed","joinedComplex","joinComplexes","ArrayComparator","original","_original","_sum","candidate","sum","sorted","secStructToType","getFirstByte","buf","MMTFParser","_modelData","chainData","modelIndex","chainIndex","groupData","groupName","groupId","groupIndex","_updateSecStructure","atomData","xCoord","yCoord","zCoord","bFactor","formalCharge","bondData","atomIndex1","atomIndex2","helixClasses","secStruct","_ssType","_ssStruct","_ssStart","struct","mmtfData","chainsInModel0","chainsPerModel","chainIndexList","description","structureId","releaseDate","eventCallbacks","onModel","modelData","_onModel","onChain","_onChain","onGroup","_onGroup","onAtom","_onAtom","onBond","_onBond","MMTF","_updateMolecules","named","bioAssemblyList","baInfo","transformList","chainListCheck","chainNames","allChains","_chainsByName","compare","transpose","transform","primaryChainsArray","primaryChainsHash","primary","decode","_traverse","_linkAtomsToResidues","_markHeteroAtoms","_findSynonymousChains","_parseAssemblyInfo","_joinSynonymousChains","isArrayBuffer","ParsingError","column","captureStackTrace","parseLine","parseColumn","_isWhitespace","_inlineIndexOf","ch0","readCIF","newline","block","keysCount","valuesCount","_parseValue","_storeKey","_storeValue","keyIndex","cRequiredAtomFields","cSecondaryCoding","helx","turn","strn","getTypeFromId","typeId","arrize","arrayLikeObject","AtomDataError","_getOperations","operList","vector","ops","_extractOperations","assemblyGen","opsDict","groupStr","gps","grIdx","grCount","gr","gp","es","cnt","ii","nn","newMtx","CIFParser","asymDict","_toComplex","cifData","complexData","_extractAtoms","_extractSecondary","_extractAssemblies","_extractMolecules","_extractMetadata","struct_keywords","pdbx_keywords","databaserev","database_PDB_rev","date_original","molData","pdbx_description","getMolecules","atom_site","auth_seq_id","Cartn_x","Cartn_y","Cartn_z","label_atom_id","group_PDB","chainIdc","auth_asym_id","chainLabelIdc","label_asym_id","serials","iCodes","pdbx_PDB_ins_code","resNames","label_comp_id","type_symbol","tempFactors","B_iso_or_equiv","occupancies","charges","pdbx_formal_charge","altLocs","label_alt_id","models","pdbx_PDB_model_num","label_entity_id","moleculeIdx","struct_conf","_extractConfs","struct_sheet_range","_extractSheets","sheetData","sheet_id","beg_label_seq_id","end_label_seq_id","beg_label_asym_id","sheetNames","strandNames","starts","beg_auth_seq_id","ends","end_auth_seq_id","stICodes","pdbx_beg_PDB_ins_code","endICodes","pdbx_end_PDB_ins_code","findResidue","helicesData","conf_type_id","comments","details","lengths","pdbx_PDB_helix_length","pdbx_PDB_helix_class","asmGen","pdbx_struct_assembly_gen","asmIdx","assembly_id","asmOper","oper_expression","asmList","asym_id_list","pdbx_struct_oper_list","asm","assemblyOps","valueType","singular","VolumeModel","_header","_boxSize","_boxStart","extent","nstart","crs2xyz","cellDims","angles","isTypedArray","_buff","TypeError","headerFormat","arrays","_parseArray","_parseVector","_buffer","header","gamma","z1","z2","xaxis","yaxis","zaxis","_xyz2crs","shiftX","shiftY","_setOrigins","_getXYZdim","_getXYZbox","_toXYZData","_getVolumeInfo","CCP4Header","ispg","nsymbt","lksflg","customData","machine","nlabel","Ccp4Model","_typedCheck","u32","i32","f32","_fillHeader","xyz2crs","_getAxis","_setAxisIndices","_setBoxParams","xyzData","crsIdx","CCP4Parser","XYZParser","_atomsInf","_fileName","endnAtoms","endComment","startAtomsInf","words","_parseToAtomsInf","_parseAtomsInf","PubChemParser","jsonData","PC_Compounds","aids","aid","fromPairs","zip","coords","conformers","aids1","aid1","aids2","aid2","orders","SDFStream","_strings","_currentStart","_currentStringIndx","numb","curStr","getNextString","getCurrentString","setStart","probablyHaveDataToParse","chargeMap","orderMap","typeMap","sdfAndMolRegexp","sdfRegExp","fileFormat","SDF","MOL","possibleNameTags","possibleIDTags","possibleTitleTags","tagsNames","tags","buildChainID","codes","trunc","reverse","SDFParser","_format","_metadata","_currentMolProps","_compoundIndx","_assemblies","_atomsParsed","_atomsIndexes","getStringFromStart","bondsNum","bondType","countsLine","_parseAtoms","_parseBonds","_parseMOL","findNextDataItem","_parseDataItem","props","_tryToUpdateMoleculeData","tagsList","_searchTag","tagPossibleNames","_tryToFind","properties","_finalizeMetadata","_buildAssemblies","_buildMolecules","defineFormat","_parseCompound","findNextCompoundStart","DSN6Header","div","DSN6Model","i16","Int16Array","byteBuffer","counter","zBlock","yBlock","xBlock","inRange","_pointCalculate","blocks","_blockCalculate","_calculateInfoParams","dispersion","minDensity","maxDensity","DSN6Parser","ArrayBuffer","checkDataTypeOptions","GROReader","GROParser","_time","_residueNumber","_residueName","_atomName","_atomNumber","_atomPosition","_atomVelocity","filetype","readLine","getNext","positionX","positionY","positionZ","_parseTitle","_parseNumberOfAtoms","_parseAtom","un","am","nc","du","resNumberRegex","spacesRegex","splitToFields","MOL2Parser","_currPosIdx","_currStartIdx","MOL2Data","newPosIdx","_toStringFromStart","_toHeaderString","_setStart","_probablyHaveDataToParse","parsedStr","_setResidue","originAtomId","targetAtomId","currMolecule","molResidues","_fixSerialAtoms","_parseMolecule","_toStringFromHeader","_parseRawStrings","_findNextCompoundStart","ExporterList","someExporters","Exporter","exportSync","PDBResult","_resultArray","_currentStr","_tag","_fixedNumeration","_numeration","_tagStrNum","writeString","numeration","isBoolean","maxStrPos","_currentStrLength","newString","curStrLength","finish","repeat","cStr","bondsArrays","_getSubArrays","subArraySize","subArrays","matrixIndx","toFixed","Matrix4","writeMatrix","PDBExporter","_tags","_result","_tagExtractors","_extractHEADER","TITLE","_extractTITLE","_extractATOM","_extractCONECT","_extractCOMPND","_extractREMARK","_extractHELIX","SHEET","_extractSHEET","_stringForRemark350","_stringForRemark290","getResult","newTag","fixedBonds","writeBondsArray","strands","invert","startIndx","_getMoleculeChains","chainsString","writeEntireString","_Remark290","_Remark350","writeMatrices","biomolIndx","getChainName","SourceClass","FBX_POS_SIZE","FBX_NORM_SIZE","FBX_COL_SIZE","copyFbxPoint3","srcIdx","dstIdx","copyFbxPoint4","vector4","copyTransformedPoint3","setSubArray","copyFunctor","functorOpts","arridx","FBXModel","lastPos","lastNorm","lastCol","vertsCount","indsCount","shifted","setIndices","currentCount","getVerticesNumber","setShiftedIndices","setTransformedPositions","setTransformedNormals","FBXGeometry","_info","FBX1CGeometry","cl","FBX2CCylinder","_cutRawStart","_cutRawEnd","_facesPerSlice","addPerCylinder","_extendVertices","_extendIndices","getGeoParams","cutRaw","indicesPerQuad","startToShift","colorSize","part1End","part2End","_setColorRange","capSize","cap1End","cap2End","FBXInfoExtractor","_materials","_models","_extractModelsAndMaterials","_flattenModels","layersOfInterest","checkExportAbility","_collectInstancedGeoInfo","_collectGeoInfo","faceSize","overallVertsCount","combined","_reworkIndices","verticesCount","vertCount","setPositions","setNormals","_collectMaterialInfo","_addToPool","instCount","maxInstancedCount","instMatrix","objMatrix","sphereColor","instanceIndex","_getSphereInstanceMatrix","addInstance","oneCCylinder","splittingInfo","_gatherCylindersColoringInfo","twoCCylinder","needToSplit","additionalVertsCount","colorStart","colorEnd","is2Colored","_getCylinderInstanceMatrix","materialIdx","_checkExistingMaterial","findIndex","differs","_collectSpheresInfo","_collectCylindersInfo","instIdx","matVector1","matVector2","matVector3","idxOffset","defaultDefinitions","defaultProperties","defaultMaterialLayer","defaultLayerBlock","globalSettings","FBXResult","_writeHeader","_writeDefinitions","_writeObjects","_writeRelations","_writeConnections","FBXHeaderVersion","FBXVersion","timeStampVersion","creator","version","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","modelVersion","allModels","_verticesIndices","_normalLayer","_colorLayer","materialVersion","allMaterials","_materialProperties","modelsList","colorArray","layerElementColorNumber","layerElementColorVersion","layerElementColorName","colorsStr","_floatArrayToString","colorIndices","normalArray","layerElementNormalNumber","layerElementNormalVersion","layerElementNormalName","normalsStr","multiLayer","multiTake","shading","culling","geometryVersion","vertStr","FBXExporter","_version","miewVersion","_extractor","loaders","parsers","exporters","tempColor","CSS2DRenderer","_height","_widthHalf","_heightHalf","_vector","_viewMatrix","_projectionMatrix","_domElement","overflow","zIndex","pointerEvents","myNode","firstChild","lerpColorAsHex","setHex","getHexString","colorAsHex","setFromMatrixPosition","localOffset","getMaxScaleOnAxis","fogFactor","smoothstep","WebkitTransform","MozTransform","oTransform","_renderObject","VK_SPACE","VK_LEFT","VK_UP","VK_RIGHT","VK_DOWN","STATE","NONE","ROTATE","TRANSLATE","SCALE","TRANSLATE_PIVOT","FULL_STOP_THRESHOLD","matrix4","ObjectHandler","lastRotation","_rotate","q","quat","zeroPivot","makeRotationFromQuaternion","setObjects","rotate","rot","mousePrevPos","mouseCurPos","aboutAxis","mouse2rotation","setFromAxisAngle","translate","translateOnAxis","timeSinceLastUpdate","timeSinceMove","intertia","dynamicDampingFactor","intertiaThreshold","stop","eyeDirection","cameraUpDirection","cameraSidewaysDirection","moveDirection","mouseDelta","mousePrev","mouseCur","axisRotateFactor","setLength","rotateFactor","ObjectControls","objectPivot","getAltObj","hotkeysEnabled","screen","_state","_mousePrevPos","_mouseCurPos","_mainObj","_altObj","_affectedObj","_isAltObjFreeRotationAllowed","_isTranslationAllowed","_isKeysTranslatingObj","_pressedKeys","_clock","_lastUpdateTime","_listeners","mousedown","mouseup","mousemove","mousewheel","touchstartend","touchmove","getKeyBindObject","keydownup","handleResize","resetKeys","contextmenu","stopPropagation","preventDefault","innerWidth","innerHeight","getBoundingClientRect","ownerDocument","documentElement","pageXOffset","clientLeft","pageYOffset","clientTop","enableHotkeys","allowTranslation","allow","allowAltObjFreeRotation","keysTranslateObj","isEditingAltObj","convertMouseToOnCircle","pageX","pageY","screenSize","convertMouseToViewport","rotateByMouse","aboutZAxis","getOrientation","setOrientation","getScale","setScale","curTime","_lastMouseMoveTime","speedX","speedY","altObj","button","workWithAltObj","altKey","ctrlKey","shiftKey","translatePivotByMouse","wheelDelta","detail","touches","_touchDistanceCur","_touchDistanceStart","_scaleStart","newScale","keyCode","translatePivotInWorld","setX","setY","setZ","translatePivot","setPivot","newPivot","Picker","_lastMousePos","_mouseTotalDist","_lastClickBeginTime","_lastClickPos","_clickBeginTime","touchstart","touchend","picked","pickObject","screenPos","rayCaster","unproject","fogFarValue","getMouseInViewport","curPos","timeSinceLastClickBegin","clickDist","_lastTouchdownPos","changedTouches","Axes","targetCamera","_targetCamera","_object","_full","autoClear","setViewport","clear","cDataOffset","cFirstMask","cFirstShift","cSecMask1","cSecShift1","cSecMask2","cSecShift2","cThirdMask","cStrMask","cStrShift","c219","c220","cHelixIdx","cSheetIdx","secTypes","cSecNames","_createSecondary","strArray","nRes","resid","rIdx","fromUInt20ToInt20","uint20","FrameInfo","payload","callbacks","isLoading","_framesRange","frameIsReady","_frameRequest","_callbacks","_framesRequestLength","_downloadDataFn","parseBinaryData","setFrame","framesStart","framesEnd","_framesCount","onDone","onLoadStatusChanged","onFail","onError","_bufferRequestStart","_prepareBuffer","arrayBuffer","dataView","DataView","atomsCount","getUint32","framesCount","_atomsCount","maxSize","chunkedFramesCount","timeStep","iName","_timeStep","posData","coordIdx","secondaryArr","Int8Array","hiWord","loWord","_secondaryData","_currFrame","myResidues","sec","oldSec","nSec","compRes","getSec","frameIdx","_cachedResidues","_updateSecondary","_parseBuffer","vec","_vec","SceneObject","paramsStr","LinesObj","_id1","_id2","err","getAtomByFullname","_atom1","_getAtomFromName","_atom2","dynamic","_line","computeLineDistances","_raycaster","_intersects","verticesNeedUpdate","OutlineMaterial","srcDepthTex","srcTexSize","DEPTH_OUTLINE","FXAAMaterial","bgTransparent","BG_TRANSPARENT","AOMaterial","diffuseTexture","normalTexture","depthTexture","camNearFar","projMatrix","kernelRadius","depthThreshold","_kernelOffsets","AOHorBlurMaterial","aoMap","samplesOffsets","AOVertBlurWithBlendMaterial","fogNearFar","useFog","AnaglyphMaterial","srcL","srcR","View","orientation","_transitionTime","ViewInterpolator","startView","endView","_endTime","_isPaused","_srcView","_dstView","_isMoving","transTime","wasStarted","success","createView","slerp","setup","getCurrentView","MAX_COOKIE_LEN","COUNT_SUFFIX","_chunkString","chunkLen","lc","Cookies","removeCookie","cntKey","_toCount","cntVal","_getSimpleCookie","_removeSimpleCookie","setCookie","_setSimpleCookie","getCookie","cookie","_getExpirationDate","today","EXP_PERIOD_YEARS","setFullYear","toUTCString","_exists","webVRPoC","showEnterVR","cursor","currentSession","onSessionEnded","onSessionStarted","session","_gfx","xr","setReferenceSpaceType","setSession","onmouseenter","onmouseleave","onclick","sessionInit","optionalFeatures","requestSession","then","moveSceneBehindHeadset","showWebXRNotFound","stylizeElement","bottom","padding","border","borderRadius","font","isSessionSupported","supported","textDecoration","WebVRPoC","onToggle","_mainCamera","_button","_onToggle","_molContainer","_user","_scalingPivot","_controller1","_controller2","_pressedGripsCounter","_distance","startScalingByControllers","stopScalingByControllers","anotherController","gfx","createWebVRButton","_mainFog","_plugVRNodesIntoScene","_setControllersListeners","getController","_createControllerMesh","handleGripsDown","handleGripsUp","setAnimationLoop","getSession","_unplugVRNodesFromScene","cylinder","rotateX","scaler","container","EDIT_MODE","COMPLEX","COMPONENT","FRAGMENT","LOADER_NOT_FOUND","PARSER_NOT_FOUND","updateFogRange","removeExtension","hasValidResidues","hasValidRes","reportProgress","percent","TOTAL_PERCENT","chooseFogColor","Miew","settingsCookie","cookiePath","_interpolator","_container","getElementById","head","getElementsByClassName","_containerRoot","_running","_halting","_building","_needRender","_hotKeysEnabled","_cookies","restoreSettings","_spinner","_loading","_animInterval","_visuals","_curVisualName","_sourceWindow","_resizeEventHandler","registeredPlugins","_initOnSettingsChanged","getMaxRepresentationCount","_setContainerContents","_updateShadowCamera","shadowMatrix","OBB","halfSize","light","getOBB","frag","createDocumentFragment","_msgMode","_msgAtomInfo","_showMessage","_initGfx","_initListeners","Spinner","_onKeyDown","_onKeyUp","_objectControls","_getAltObj","_picker","_onPick","file","keepRepsInfo","_removeListeners","job","cancel","halt","msg","_showCanvas","_requestAnimationFrame","arezSpritesSupported","getExtension","isAOSupported","clientWidth","clientHeight","webGLOptions","preserveDrawingBuffer","premultipliedAlpha","renderer2d","shadowMap","autoUpdate","getContext","setPixelRatio","devicePixelRatio","setSize","setClearColor","clearColor","stereoCam","selectionScene","selectionRoot","selectionPivot","light12","pixelRatio","getPixelRatio","shadowMapSize","mapSize","light3","deviceWidth","deviceHeight","offscreenBuf","minFilter","magFilter","depthBuffer","offscreenBuf2","offscreenBuf3","offscreenBuf4","volBFTex","volFFTex","volWFFTex","offscreenBuf5","offscreenBuf6","offscreenBuf7","stereoBufL","stereoBufR","_embedWebXR","stats","_fps","_onResize","_makeUniqueVisualName","baseName","random","suffix","_addVisual","_removeVisual","_forEachVisual","_releaseAllVisuals","_forEachComplexVisual","_getComplexVisual","any","_getVolumeVisual","_getVisualForComplex","getVisuals","getComplexVisualsCount","getCurrentVisual","setCurrentVisual","resume","_onTick","_discardComponentEdit","_discardFragmentEdit","pause","enableHotKeys","_resizeOffscreenBuffers","isAnaglyph","multi","_onUpdate","_onRender","_getBSphereRadius","_bSphereForOneVisual","_bBoxForOneVisual","_bBox","_invMatrix","_points","union","_updateFog","_setUberMaterialValues","isScriptingCommandAvailable","callNextCmd","_needRebuild","rebuild","_updateView","webVR","updateMoleculeScale","_clipPlaneUpdateValue","_fogFarUpdateValue","_renderFrame","_anaglyphMat","_size","focus","_renderShadowMap","_renderScene","setScissorTest","setScissor","cameraL","cameraR","_onBgColorChanged","_onFogColorChanged","_enableMRT","renderBuffer","textureBuffer","gl","drawBuffersWEBGL","COLOR_ATTACHMENT0","tx8","__webglTexture","bindTexture","TEXTURE_2D","fb","__webglFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT1_WEBGL","distortion","bHaveComplexes","volumeVisual","ssao","_renderWithPrepassTransparency","dstBuffer","srcBuffer","_performAO","_renderOutline","_renderSelection","_renderVolume","_performFXAA","_performDistortion","aberration","fragmentScreenQuadFromDistTex","targetBuffer","_outlineMaterial","srcDepthBuffer","srcColorBuffer","currentRenderTarget","getRenderTarget","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","setBlending","buffers","setClear","setTest","updateMatrices","_hasSelectionToRender","selPivot","selPivotChild","_checkVolumeRenderingSupport","renderTarget","oldRT","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","volumeBFMat","volumeFFMat","cubeOffsetMat","world2colorMat","volumeRenderingSupported","dstBuf","tmpBuf1","tmpBuf2","tmpBuf3","overrideMaterial","colorMask","_fxaaMaterial","_aoMaterial","_horBlurMaterial","_vertBlurMaterial","_scale","normalBuffer","srcDepthTexture","tempBuffer","tempBuffer1","_lastPick","_setEditMode","_resetObjects","setNeedRender","_resetScene","resetReps","resetPivot","rebuildAll","resetView","updateSelectionMask","_export","TheExporter","io","exporter","rePdbId","rePubchem","reUrlScheme","resolveSourceShortcut","matchesPdbId","sourceType","matchesPubchem","compound","updateBinaryMode","TheParser","fileExt","animation","_fetchData","shouldCancel","notify","TheLoader","extractName","newOptions","keyCount","loader","lengthComputable","total","loaded","promise","_parseData","dataSet","spin","onLoadEnd","anything","jobIndex","_refreshTitle","_onLoad","unload","_startAnimation","fileData","_stopAnimation","_frameInfo","isPlaying","_isAnimating","_continueAnimation","_pauseAnimation","clearInterval","minFrameTime","setInterval","_updateObjsToFrame","nextFrame","disableEvents","visualName","amberFileName","resetEd","_onLoadEd","_tweakResolution","_edLoader","loadEd","_rebuildObjects","toRemove","getGeometry","changeUnit","unitIdx","currentUnitInfo","getCurrentUnit","_updateInfoPanel","rebuildActions","setNeedsRebuild","appendix","repGet","_extractRepresentation","getSelectionCount","defPreset","repCount","_setReps","applyPreset","presList","newIdx","repRemove","repHide","_editMode","getElementsByTagName","_enterComponentEditMode","editors","beginComponentEdit","_editors","_applyComponentEdit","discard","_enterFragmentEditMode","selectedVisuals","beginFragmentEdit","isFreeRotationAllowed","_applyFragmentEdit","_updateSelection","expandSelection","shrinkSelection","firstLine","secondLine","aName","coordLine","nextAltObj","setPivotResidue","amount","setPivotAtom","getSelectionCenter","_centerInVisual","setPivotSubset","_includesInCurSelection","_includesInSelector","benchmarkGfx","force","prof","numResults","_gfxScore","screenshot","fov2Tan","tan2Fov","getDataURL","dataURL","currBrowser","canvas","canvasContext","drawImage","toDataURL","screenshotURI","originalTanFov2","areaOfInterestSize","areaOfInterestTanFov2","shotAspect","setDrawingBufferSize","screenshotSave","uri","save","dataString","maxPerf","_autoChangeResolution","saveSettings","resetSettings","setOptions","resetCurrentUnit","getBondCount","getResidueCount","getChainCount","objData","bThrow","Ctor","LinesObject","_addSceneObject","sceneObject","objs","removeObject","getURL","getState","compact","getScript","_compareReps","compareWithDefaults","currPreset","repsDiff","emptyReps","repsInfo","objectsState","_updateShadowmapMeshes","_updateMaterials","setMaterialValues","_fogAlphaChanged","disable","evt","Boolean","sel","VIEW_VERSION","eulerOrder","euler","setFromQuaternion","interpolator","srcView","dstView","setFromEuler","isMoving","within","None","projected","fullAtomName","complexName","project","dssp","exportCML","extractRotation","extractBasis","retMat","makeBasis","updateCMLData","xml","removeAttribute","sGroup","getPosition","getCentralPoint","oSerializer","XMLSerializer","serializeToString","motm","curChainName","curChainColor","getMaterials","getPalettes","thirdParty","lodash","three","modeIdDesc","$help","colorDesc","materialDesc","addRepDesc","setGetParameterDesc","help","PDBID","REP_NAME","DESCRIPTION","REP_INDEX","EXPRESSION","MODE_ID","COLORER_ID","MATERIAL_ID","del","PARAMETER","set_save","set_restore","set_reset","PRESET","ENCODED_VIEW","removeobj","listobj","NULL","RepresentationMap","representationMap","representationID","strId","sortedKeys","representationsStorage","keyRemap","CLIUtils","miew","repMap","listRep","repName","selectionStr","strList","helpData","joinHelpStr","clihelp","sortBy","helpItem","awaitWhileCMDisInProcess","finishAwaitingCMDInProcess","modificate","selExc","modificators","modificator","argExc","pathExc","endsWith","getNamedColor","utilFunctions","CreateObjectPair","ArgList","toJSO","cliUtils","cmd","propagateProp","Arg","_val","cliutils","echo","representations","notimplemented","script","_printCallback","_errorCallback","parsercli","cmdQueue","commandInAction"],"mappings":"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CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,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CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,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,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC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AAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;AAC11C,IAAI,MAAM,GAAG,CAAC,KAAK,EAAE,SAAS,KAAK,IAAI,GAAG;AAC1C,EAAE,EAAE,EAAE;AACN,QAAQ,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,mBAAmB,CAAC,EAAE,CAAC,oBAAoB,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,yBAAyB,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,cAAc,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,cAAc,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,2BAA2B,CAAC,EAAE,CAAC,+BAA+B,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,sBAAsB,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,iBAAiB,CAAC,EAAE,CAAC,gBAAgB,CAAC,EAAE,CAAC,iBAAiB,CAAC,EAAE,CAAC,mBAAmB,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,iBAAiB,CAAC,EAAE,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AACv9C,UAAU,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,cAAc,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,iBAAiB,CAAC,EAAE,CAAC,gBAAgB,CAAC,EAAE,CAAC,iBAAiB,CAAC,EAAE,CAAC,mBAAmB,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,iBAAiB,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;AACx9B,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CA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AAG,EAAE,CAAC,EAAE,CAAC,CAAC;AACjD,MAAM;AACN,CAAC;AACD,CAAC;AACD,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACnqV,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;AAC9hB,UAAU,EAAE,SAAS,UAAU,EAAE,GAAG,EAAE,IAAI,EAAE;AAC5C,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE;AAC1B,QAAQ,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACxB,KAAK,MAAM;AACX,QAAQ,IAAI,KAAK,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC;AACnC,QAAQ,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;AAC1B,QAAQ,MAAM,KAAK,CAAC;AACpB,KAAK;AACL,CAAC;AACD,KAAK,EAAE,SAAS,KAAK,CAAC,KAAK,EAAE;AAC7B,QAAQ,IAAI,GAAG,IAAI,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC,EAAE,MAAM,GAAG,EAAE,EAAE,MAAM,GAAG,CAAC,IAAI,CAAC,EAAE,MAAM,GAAG,EAAE,EAAE,KAAK,GAAG,IAAI,CAAC,KAAK,EAAE,MAAM,GAAG,EAAE,EAAE,QAAQ,GAAG,CAAC,EAAE,MAAM,GAAG,CAAC,EAAkB,MAAM,GAAG,CAAC,EAAE,GAAG,GAAG,EAAE;AAC5K,IAAI,IAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AAC/C,IAAI,IAAI,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC1C,IAAI,IAAI,WAAW,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;AACjC,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE,EAAE;AAC3B,QAAQ,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE;AAC9D,YAAY,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC3C,SAAS;AACT,KAAK;AACL,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,WAAW,CAAC,EAAE,CAAC,CAAC;AAC1C,IAAI,WAAW,CAAC,EAAE,CAAC,KAAK,GAAG,KAAK,CAAC;AACjC,IAAI,WAAW,CAAC,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC;AACjC,IAAI,IAAI,OAAO,KAAK,CAAC,MAAM,IAAI,WAAW,EAAE;AAC5C,QAAQ,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC;AAC1B,KAAK;AACL,IAAI,IAAI,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;AAC7B,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACvB,IAAI,IAAI,MAAM,GAAG,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC;AACvD,IAAI,IAAI,OAAO,WAAW,CAAC,EAAE,CAAC,UAAU,KAAK,UAAU,EAAE;AACzD,QAAQ,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC,EAAE,CAAC,UAAU,CAAC;AACpD,KAAK,MAAM;AACX,QAAQ,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC;AACjE,KAAK;AAML,YAAY,SAAS,GAAG,GAAG;AAC3B,YAAY,IAAI,KAAK,CAAC;AACtB,YAAY,KAAK,GAAG,MAAM,CAAC,GAAG,EAAE,IAAI,KAAK,CAAC,GAAG,EAAE,IAAI,GAAG,CAAC;AACvD,YAAY,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AAC3C,gBAAgB,IAAI,KAAK,YAAY,KAAK,EAAE;AAC5C,oBAAoB,MAAM,GAAG,KAAK,CAAC;AACnC,oBAAoB,KAAK,GAAG,MAAM,CAAC,GAAG,EAAE,CAAC;AACzC,iBAAiB;AACjB,gBAAgB,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC;AACtD,aAAa;AACb,YAAY,OAAO,KAAK,CAAC;AACzB,SAAS;AACT,QAAQ,MAAM,EAAkB,KAAK,EAAE,MAAM,EAAK,CAAC,EAAE,KAAK,GAAG,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,QAAQ,EAAE,SAAS;AAC5F,IAAI,OAAO,IAAI,EAAE;AACjB,QAAQ,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AACxC,QAAQ,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;AACxC,YAAY,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;AAChD,SAAS,MAAM;AACf,YAAY,IAAI,MAAM,KAAK,IAAI,IAAI,OAAO,MAAM,IAAI,WAAW,EAAE;AACjE,gBAAgB,MAAM,GAAG,GAAG,EAAE,CAAC;AAC/B,aAAa;AACb,YAAY,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC;AAC1D,SAAS;AACT,QAAQ,IAAI,OAAO,MAAM,KAAK,WAAW,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;AAC3E,YAAY,IAAI,MAAM,GAAG,EAAE,CAAC;AAC5B,YAAY,QAAQ,GAAG,EAAE,CAAC;AAC1B,YAAY,KAAK,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC,EAAE;AACpC,gBAAgB,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,MAAM,EAAE;AACtD,oBAAoB,QAAQ,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;AACpE,iBAAiB;AACjB,aAAa;AACb,YAAY,IAAI,KAAK,CAAC,YAAY,EAAE;AACpC,gBAAgB,MAAM,GAAG,sBAAsB,IAAI,QAAQ,GAAG,CAAC,CAAC,GAAG,KAAK,GAAG,KAAK,CAAC,YAAY,EAAE,GAAG,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI,CAAC;AACjM,aAAa,MAAM;AACnB,gBAAgB,MAAM,GAAG,sBAAsB,IAAI,QAAQ,GAAG,CAAC,CAAC,GAAG,eAAe,IAAI,MAAM,IAAI,GAAG,GAAG,cAAc,GAAG,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC;AAC1K,aAAa;AACb,YAAY,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;AACpC,gBAAgB,IAAI,EAAE,KAAK,CAAC,KAAK;AACjC,gBAAgB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,MAAM;AACxD,gBAAgB,IAAI,EAAE,KAAK,CAAC,QAAQ;AACpC,gBAAgB,GAAG,EAAE,KAAK;AAC1B,gBAAgB,QAAQ,EAAE,QAAQ;AAClC,aAAa,CAAC,CAAC;AACf,SAAS;AACT,QAAQ,IAAI,MAAM,CAAC,CAAC,CAAC,YAAY,KAAK,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;AAC7D,YAAY,MAAM,IAAI,KAAK,CAAC,mDAAmD,GAAG,KAAK,GAAG,WAAW,GAAG,MAAM,CAAC,CAAC;AAChH,SAAS;AACT,QAAQ,QAAQ,MAAM,CAAC,CAAC,CAAC;AACzB,QAAQ,KAAK,CAAC;AACd,YAAY,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC/B,YAAY,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AACtC,YAAY,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AACtC,YAAY,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAClC,YAAY,MAAM,GAAG,IAAI,CAAC;AAC1B,YAAiC;AACjC,gBAAgB,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;AACtC,gBAAgB,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;AACtC,gBAAgB,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;AAC1C,gBAAgB,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;AAIrC,aAGa;AACb,YAAY,MAAM;AAClB,QAAQ,KAAK,CAAC;AACd,YAAY,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAClD,YAAY,KAAK,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC;AAClD,YAAY,KAAK,CAAC,EAAE,GAAG;AACvB,gBAAgB,UAAU,EAAE,MAAM,CAAC,MAAM,CAAC,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU;AACzE,gBAAgB,SAAS,EAAE,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,SAAS;AAC9D,gBAAgB,YAAY,EAAE,MAAM,CAAC,MAAM,CAAC,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY;AAC7E,gBAAgB,WAAW,EAAE,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,WAAW;AAClE,aAAa,CAAC;AACd,YAAY,IAAI,MAAM,EAAE;AACxB,gBAAgB,KAAK,CAAC,EAAE,CAAC,KAAK,GAAG;AACjC,oBAAoB,MAAM,CAAC,MAAM,CAAC,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAC/D,oBAAoB,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AACtD,iBAAiB,CAAC;AAClB,aAAa;AACb,YAAY,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,EAAE;AAChD,gBAAgB,MAAM;AACtB,gBAAgB,MAAM;AACtB,gBAAgB,QAAQ;AACxB,gBAAgB,WAAW,CAAC,EAAE;AAC9B,gBAAgB,MAAM,CAAC,CAAC,CAAC;AACzB,gBAAgB,MAAM;AACtB,gBAAgB,MAAM;AACtB,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;AAC5B,YAAY,IAAI,OAAO,CAAC,KAAK,WAAW,EAAE;AAC1C,gBAAgB,OAAO,CAAC,CAAC;AACzB,aAAa;AACb,YAAY,IAAI,GAAG,EAAE;AACrB,gBAAgB,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;AACrD,gBAAgB,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;AACnD,gBAAgB,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;AACnD,aAAa;AACb,YAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxD,YAAY,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AACjC,YAAY,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;AAClC,YAAY,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;AAC/E,YAAY,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACjC,YAAY,MAAM;AAClB,QAAQ,KAAK,CAAC;AACd,YAAY,OAAO,IAAI,CAAC;AACxB,SAAS;AACT,KAAK;AACL,IAAI,OAAO,IAAI,CAAC;AAChB,CAAC,CAAC,CAAC;AACH;AACA;AACA;AACA,IAAI,KAAK,GAAG,CAAC,UAAU;AACvB,IAAI,KAAK,IAAI;AACb;AACA,GAAG,CAAC,CAAC;AACL;AACA,UAAU,CAAC,SAAS,UAAU,CAAC,GAAG,EAAE,IAAI,EAAE;AAC1C,QAAQ,IAAI,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE;AAC5B,YAAY,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;AACjD,SAAS,MAAM;AACf,YAAY,MAAM,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC;AACjC,SAAS;AACT,KAAK;AACL;AACA;AACA,QAAQ,CAAC,UAAU,KAAK,EAAE,EAAE,EAAE;AAC9B,QAAQ,IAAI,CAAC,EAAE,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC;AACtC,QAAQ,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;AAC5B,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;AACzD,QAAQ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;AACxC,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;AACrD,QAAQ,IAAI,CAAC,cAAc,GAAG,CAAC,SAAS,CAAC,CAAC;AAC1C,QAAQ,IAAI,CAAC,MAAM,GAAG;AACtB,YAAY,UAAU,EAAE,CAAC;AACzB,YAAY,YAAY,EAAE,CAAC;AAC3B,YAAY,SAAS,EAAE,CAAC;AACxB,YAAY,WAAW,EAAE,CAAC;AAC1B,SAAS,CAAC;AACV,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;AACjC,YAAY,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtC,SAAS;AACT,QAAQ,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;AACxB,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK;AACL;AACA;AACA,KAAK,CAAC,YAAY;AAClB,QAAQ,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAChC,QAAQ,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC;AAC1B,QAAQ,IAAI,CAAC,MAAM,EAAE,CAAC;AACtB,QAAQ,IAAI,CAAC,MAAM,EAAE,CAAC;AACtB,QAAQ,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC;AACzB,QAAQ,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC;AAC3B,QAAQ,IAAI,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;AAChD,QAAQ,IAAI,KAAK,EAAE;AACnB,YAAY,IAAI,CAAC,QAAQ,EAAE,CAAC;AAC5B,YAAY,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;AACpC,SAAS,MAAM;AACf,YAAY,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;AACtC,SAAS;AACT,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;AACjC,YAAY,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC;AACnC,SAAS;AACT;AACA,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAC3C,QAAQ,OAAO,EAAE,CAAC;AAClB,KAAK;AACL;AACA;AACA,KAAK,CAAC,UAAU,EAAE,EAAE;AACpB,QAAQ,IAAI,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC;AAC5B,QAAQ,IAAI,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;AAC9C;AACA,QAAQ,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;AACvC,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC;AACtE;AACA,QAAQ,IAAI,CAAC,MAAM,IAAI,GAAG,CAAC;AAC3B,QAAQ,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;AACzD,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AACjE,QAAQ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AACvE;AACA,QAAQ,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AAC9B,YAAY,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;AAC9C,SAAS;AACT,QAAQ,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;AAClC;AACA,QAAQ,IAAI,CAAC,MAAM,GAAG;AACtB,YAAY,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,UAAU;AAC9C,YAAY,SAAS,EAAE,IAAI,CAAC,QAAQ,GAAG,CAAC;AACxC,YAAY,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY;AAClD,YAAY,WAAW,EAAE,KAAK;AAC9B,gBAAgB,CAAC,KAAK,CAAC,MAAM,KAAK,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,CAAC;AAChF,mBAAmB,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM;AACpF,cAAc,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,GAAG;AAC5C,SAAS,CAAC;AACV;AACA,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;AACjC,YAAY,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC;AACjE,SAAS;AACT,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;AACzC,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK;AACL;AACA;AACA,IAAI,CAAC,YAAY;AACjB,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;AAC1B,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK;AACL;AACA;AACA,MAAM,CAAC,YAAY;AACnB,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;AAC1C,YAAY,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;AACnC,SAAS,MAAM;AACf,YAAY,OAAO,IAAI,CAAC,UAAU,CAAC,wBAAwB,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,GAAG,kIAAkI,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE;AAC9O,gBAAgB,IAAI,EAAE,EAAE;AACxB,gBAAgB,KAAK,EAAE,IAAI;AAC3B,gBAAgB,IAAI,EAAE,IAAI,CAAC,QAAQ;AACnC,aAAa,CAAC,CAAC;AACf;AACA,SAAS;AACT,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK;AACL;AACA;AACA,IAAI,CAAC,UAAU,CAAC,EAAE;AAClB,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACxC,KAAK;AACL;AACA;AACA,SAAS,CAAC,YAAY;AACtB,QAAQ,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AACnF,QAAQ,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,KAAK,CAAC,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;AACnF,KAAK;AACL;AACA;AACA,aAAa,CAAC,YAAY;AAC1B,QAAQ,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;AAC9B,QAAQ,IAAI,IAAI,CAAC,MAAM,GAAG,EAAE,EAAE;AAC9B,YAAY,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC1D,SAAS;AACT,QAAQ,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,KAAK,GAAG,EAAE,CAAC,EAAE,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;AACxF,KAAK;AACL;AACA;AACA,YAAY,CAAC,YAAY;AACzB,QAAQ,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;AACnC,QAAQ,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACpD,QAAQ,OAAO,GAAG,GAAG,IAAI,CAAC,aAAa,EAAE,GAAG,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC;AAC3D,KAAK;AACL;AACA;AACA,UAAU,CAAC,SAAS,KAAK,EAAE,YAAY,EAAE;AACzC,QAAQ,IAAI,KAAK;AACjB,YAAY,KAAK;AACjB,YAAY,MAAM,CAAC;AACnB;AACA,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;AAC1C;AACA,YAAY,MAAM,GAAG;AACrB,gBAAgB,QAAQ,EAAE,IAAI,CAAC,QAAQ;AACvC,gBAAgB,MAAM,EAAE;AACxB,oBAAoB,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,UAAU;AACtD,oBAAoB,SAAS,EAAE,IAAI,CAAC,SAAS;AAC7C,oBAAoB,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY;AAC1D,oBAAoB,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW;AACxD,iBAAiB;AACjB,gBAAgB,MAAM,EAAE,IAAI,CAAC,MAAM;AACnC,gBAAgB,KAAK,EAAE,IAAI,CAAC,KAAK;AACjC,gBAAgB,OAAO,EAAE,IAAI,CAAC,OAAO;AACrC,gBAAgB,OAAO,EAAE,IAAI,CAAC,OAAO;AACrC,gBAAgB,MAAM,EAAE,IAAI,CAAC,MAAM;AACnC,gBAAgB,MAAM,EAAE,IAAI,CAAC,MAAM;AACnC,gBAAgB,KAAK,EAAE,IAAI,CAAC,KAAK;AACjC,gBAAgB,MAAM,EAAE,IAAI,CAAC,MAAM;AACnC,gBAAgB,EAAE,EAAE,IAAI,CAAC,EAAE;AAC3B,gBAAgB,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;AAC5D,gBAAgB,IAAI,EAAE,IAAI,CAAC,IAAI;AAC/B,aAAa,CAAC;AACd,YAAY,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;AACrC,gBAAgB,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AACjE,aAAa;AACb,SAAS;AACT;AACA,QAAQ,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;AAClD,QAAQ,IAAI,KAAK,EAAE;AACnB,YAAY,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,MAAM,CAAC;AAC1C,SAAS;AACT,QAAQ,IAAI,CAAC,MAAM,GAAG;AACtB,YAAY,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS;AAC7C,YAAY,SAAS,EAAE,IAAI,CAAC,QAAQ,GAAG,CAAC;AACxC,YAAY,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW;AACjD,YAAY,WAAW,EAAE,KAAK;AAC9B,yBAAyB,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM;AAC3G,yBAAyB,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM;AAClE,SAAS,CAAC;AACV,QAAQ,IAAI,CAAC,MAAM,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;AAChC,QAAQ,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;AAC/B,QAAQ,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;AAC7B,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;AACzC,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;AACjC,YAAY,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC;AAC1E,SAAS;AACT,QAAQ,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AAC3B,QAAQ,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;AAChC,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;AACzD,QAAQ,IAAI,CAAC,OAAO,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;AACjC,QAAQ,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;AAChI,QAAQ,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;AACtC,YAAY,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;AAC9B,SAAS;AACT,QAAQ,IAAI,KAAK,EAAE;AACnB,YAAY,OAAO,KAAK,CAAC;AACzB,SAAS,MAAM,IAAI,IAAI,CAAC,UAAU,EAAE;AACpC;AACA,YAAY,KAAK,IAAI,CAAC,IAAI,MAAM,EAAE;AAClC,gBAAgB,IAAI,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;AACpC,aAAa;AACb,YAAY,OAAO,KAAK,CAAC;AACzB,SAAS;AACT,QAAQ,OAAO,KAAK,CAAC;AACrB,KAAK;AACL;AACA;AACA,IAAI,CAAC,YAAY;AACjB,QAAQ,IAAI,IAAI,CAAC,IAAI,EAAE;AACvB,YAAY,OAAO,IAAI,CAAC,GAAG,CAAC;AAC5B,SAAS;AACT,QAAQ,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;AAC1B,YAAY,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AAC7B,SAAS;AACT;AACA,QAAQ,IAAI,KAAK;AACjB,YAAY,KAAK;AACjB,YAAY,SAAS;AACrB,YAAY,KAAK,CAAC;AAClB,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;AACzB,YAAY,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;AAC7B,YAAY,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;AAC5B,SAAS;AACT,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;AACzC,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC/C,YAAY,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChE,YAAY,IAAI,SAAS,KAAK,CAAC,KAAK,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE;AAChF,gBAAgB,KAAK,GAAG,SAAS,CAAC;AAClC,gBAAgB,KAAK,GAAG,CAAC,CAAC;AAC1B,gBAAgB,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;AAClD,oBAAoB,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACjE,oBAAoB,IAAI,KAAK,KAAK,KAAK,EAAE;AACzC,wBAAwB,OAAO,KAAK,CAAC;AACrC,qBAAqB,MAAM,IAAI,IAAI,CAAC,UAAU,EAAE;AAChD,wBAAwB,KAAK,GAAG,KAAK,CAAC;AACtC,wBAAwB,SAAS;AACjC,qBAAqB,MAAM;AAC3B;AACA,wBAAwB,OAAO,KAAK,CAAC;AACrC,qBAAqB;AACrB,iBAAiB,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;AAC/C,oBAAoB,MAAM;AAC1B,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,QAAQ,IAAI,KAAK,EAAE;AACnB,YAAY,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;AACzD,YAAY,IAAI,KAAK,KAAK,KAAK,EAAE;AACjC,gBAAgB,OAAO,KAAK,CAAC;AAC7B,aAAa;AACb;AACA,YAAY,OAAO,KAAK,CAAC;AACzB,SAAS;AACT,QAAQ,IAAI,IAAI,CAAC,MAAM,KAAK,EAAE,EAAE;AAChC,YAAY,OAAO,IAAI,CAAC,GAAG,CAAC;AAC5B,SAAS,MAAM;AACf,YAAY,OAAO,IAAI,CAAC,UAAU,CAAC,wBAAwB,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,GAAG,wBAAwB,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE;AACpI,gBAAgB,IAAI,EAAE,EAAE;AACxB,gBAAgB,KAAK,EAAE,IAAI;AAC3B,gBAAgB,IAAI,EAAE,IAAI,CAAC,QAAQ;AACnC,aAAa,CAAC,CAAC;AACf,SAAS;AACT,KAAK;AACL;AACA;AACA,GAAG,CAAC,SAAS,GAAG,IAAI;AACpB,QAAQ,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;AAC5B,QAAQ,IAAI,CAAC,EAAE;AACf,YAAY,OAAO,CAAC,CAAC;AACrB,SAAS,MAAM;AACf,YAAY,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC;AAC9B,SAAS;AACT,KAAK;AACL;AACA;AACA,KAAK,CAAC,SAAS,KAAK,EAAE,SAAS,EAAE;AACjC,QAAQ,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC5C,KAAK;AACL;AACA;AACA,QAAQ,CAAC,SAAS,QAAQ,IAAI;AAC9B,QAAQ,IAAI,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;AAC/C,QAAQ,IAAI,CAAC,GAAG,CAAC,EAAE;AACnB,YAAY,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC;AAC7C,SAAS,MAAM;AACf,YAAY,OAAO,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;AAC1C,SAAS;AACT,KAAK;AACL;AACA;AACA,aAAa,CAAC,SAAS,aAAa,IAAI;AACxC,QAAQ,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE;AAC/F,YAAY,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;AAC9F,SAAS,MAAM;AACf,YAAY,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC;AACpD,SAAS;AACT,KAAK;AACL;AACA;AACA,QAAQ,CAAC,SAAS,QAAQ,EAAE,CAAC,EAAE;AAC/B,QAAQ,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AAC9D,QAAQ,IAAI,CAAC,IAAI,CAAC,EAAE;AACpB,YAAY,OAAO,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;AAC1C,SAAS,MAAM;AACf,YAAY,OAAO,SAAS,CAAC;AAC7B,SAAS;AACT,KAAK;AACL;AACA;AACA,SAAS,CAAC,SAAS,SAAS,EAAE,SAAS,EAAE;AACzC,QAAQ,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;AAC9B,KAAK;AACL;AACA;AACA,cAAc,CAAC,SAAS,cAAc,GAAG;AACzC,QAAQ,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC;AAC1C,KAAK;AACL,OAAO,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC;AAClC,aAAa,EAAE,SAAS,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,yBAAyB,CAAC,QAAQ,EAAE;AAE7E,OAAO,yBAAyB;AAChC,KAAK,CAAC;AACN,MAAM;AACN,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC;AAEjB,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC;AAEjB,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC;AAEjB,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC;AAEjB,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC;AAEjB,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC;AAEjB,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC;AAEjB,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC;AAEhB,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC;AAEhB,KAAK,EAAE,CAAC,OAAO,EAAE,CAAC;AAElB,KAAK,EAAE,CAAC,OAAO,CAAC,CAAC;AAEjB,KAAK,EAAE,CAAC,OAAO,CAAC,CAAC;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE,CAAC;AAElB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE,CAAC;AAElB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,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"}